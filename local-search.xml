<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>关于GitHub网页中头像无法显示的问题</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8EGitHub%E7%BD%91%E9%A1%B5%E4%B8%AD%E5%A4%B4%E5%83%8F%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8EGitHub%E7%BD%91%E9%A1%B5%E4%B8%AD%E5%A4%B4%E5%83%8F%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="解决GitHub打开头像不显示问题"><a href="#解决GitHub打开头像不显示问题" class="headerlink" title="解决GitHub打开头像不显示问题"></a>解决GitHub打开头像不显示问题</h1><p>以前解决完，换个电脑又出现这个问题。<br>百度了一堆，各种修改hosts文件，结果还是没有解决，真的很烦<br><img src="https://img-blog.csdnimg.cn/20210121230200803.png" alt="在这里插入图片描述"></p><h2 id="解决（更新于：2021-x2F-01-x2F-21）"><a href="#解决（更新于：2021-x2F-01-x2F-21）" class="headerlink" title="解决（更新于：2021&#x2F;01&#x2F;21）"></a>解决（更新于：2021&#x2F;01&#x2F;21）</h2><p>Windows10系统hosts文件路径：</p><blockquote><p>C:\Windows\System32\drivers\etc</p></blockquote><p>添加：</p><blockquote><p>199.232.96.133 avatars.githubusercontent.com</p></blockquote><p>关于头像不显示解决就是这行。如果失效了，请按我后面的方法去重新获取IP。<br><img src="https://img-blog.csdnimg.cn/20210121230851347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p>附上我的hosts文件中GitHub的配置（更新于：2021&#x2F;01&#x2F;21）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># GitHub Start</span><br>52.74.223.119 github.com<br><br>52.74.223.119 gist.github.com<br>54.169.195.247 api.github.com<br><br>199.232.96.133 avatars.githubusercontent.com<br>185.199.111.153 assets-cdn.github.com<br>199.232.96.133 raw.githubusercontent.com<br>199.232.96.133 gist.githubusercontent.com<br>199.232.96.133 cloud.githubusercontent.com<br>199.232.96.133 camo.githubusercontent.com<br>199.232.96.133 avatars0.githubusercontent.com<br>199.232.96.133 avatars1.githubusercontent.com<br>199.232.96.133 avatars2.githubusercontent.com<br>199.232.96.133 avatars3.githubusercontent.com<br>199.232.96.133 avatars4.githubusercontent.com<br>199.232.96.133 avatars5.githubusercontent.com<br>199.232.96.133 avatars6.githubusercontent.com<br>199.232.96.133 avatars7.githubusercontent.com<br>199.232.96.133 avatars8.githubusercontent.com<br>199.232.96.133 user-images.githubusercontent.com<br>185.199.109.154 github.githubassets.com<br><span class="hljs-comment"># GitHub End</span><br></code></pre></td></tr></table></figure><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>下面教大家怎么获取最新IP</p><blockquote><p>注：由于这种域名不是经常变，我感觉第1、2步没必要做，直接复制就可以了<br>avatars.githubusercontent.com</p></blockquote><ol><li><p>鼠标在头像上，右键 –&gt; 检查<br> <img src="https://img-blog.csdnimg.cn/20210121231330400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li><li><p>复制这里的网址，只需要avatars.githubusercontent.com这部分就可以了<br> <img src="https://img-blog.csdnimg.cn/20210121231500695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li><li><p>打开IPAddress.com</p></li></ol><blockquote><p><a href="https://www.ipaddress.com/">https://www.ipaddress.com/</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/20210121231915561.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><ol start="4"><li><p>把刚才复制的网址粘贴进去，回车</p></li><li><p>直接往下拖，就可以看到我们想要的ip<br> <img src="https://img-blog.csdnimg.cn/20210121232212333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li><li><p>格式：</p></li></ol><blockquote><p>IP + 空格 + 域名<br>199.232.96.133 avatars.githubusercontent.com</p></blockquote><p>注：由于IP会经常性变化，所以旧的IP有可能失效，就需要重新获取最新的IP地址。</p><h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><ol><li>给大家推荐一个好用的工具<br><a href="https://github.com/oldj/SwitchHosts">SwitchHosts</a></li></ol><blockquote><p><a href="https://github.com/oldj/SwitchHosts">https://github.com/oldj/SwitchHosts</a></p></blockquote><p>GitHub开源项目，可以方便的修改hosts文件，自由切换不同环境下的hosts配置。<br><img src="https://img-blog.csdnimg.cn/20210121232829179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><ol start="2"><li><a href="https://github.com/googlehosts/hosts">GoogleHosts</a><br>这里会更新较全的hosts文件配置，原谅我没有体会到这个项目的妙用 &#x2F;捂脸</li></ol><blockquote><p><a href="https://github.com/googlehosts/hosts">https://github.com/googlehosts/hosts</a></p></blockquote><p>先就这样吧，以后有需要的再补充更新。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>关于sql中substr和substring的区别与用法</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8Esql%E4%B8%ADsubstr%E5%92%8Csubstring%E7%9A%84%E5%8C%BA%E5%88%AB%E4%B8%8E%E7%94%A8%E6%B3%95/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8Esql%E4%B8%ADsubstr%E5%92%8Csubstring%E7%9A%84%E5%8C%BA%E5%88%AB%E4%B8%8E%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="关于sql中的函数substr-和substring-的区别与用法"><a href="#关于sql中的函数substr-和substring-的区别与用法" class="headerlink" title="关于sql中的函数substr()和substring()的区别与用法"></a>关于sql中的函数substr()和substring()的区别与用法</h1><p>前段时间，由于工作需要设计sql中的函数substr的使用，百度一番后，查询结果不甚满意，看得仍一脸懵，故而通过Google以及官方文档总结如下，仅供学习参考。如有疑惑，欢迎在评论区讨论。</p><h2 id="关于substr和substring的区别"><a href="#关于substr和substring的区别" class="headerlink" title="关于substr和substring的区别"></a>关于substr和substring的区别</h2><p>首先申明，substr()是基于Oracle的，substring()是基于SQL Server的，切记不可混用，否则会报错！</p><p>MySQL: SUBSTR( ), SUBSTRING( )<br>Oracle: SUBSTR( )<br>SQL Server: SUBSTRING( ) </p><hr><h3 id="1-Oracle-SUBSTR"><a href="#1-Oracle-SUBSTR" class="headerlink" title="1.Oracle: SUBSTR( )"></a>1.Oracle: SUBSTR( )</h3><p>The syntax for the SUBSTR function in Oracle&#x2F;PLSQL is:</p><blockquote><p>SUBSTR( string, start_position [, length ] )</p></blockquote><p>Parameters or Arguments<br>①string<br>　　The source string.</p><p>②start_position<br>　　The starting position for extraction. The first position in the string is always 1.</p><p>③length<br>　　Optional. It is the number of characters to extract. If this parameter is omitted, the SUBSTR function will return the entire string.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Oracle连接总结</title>
    <link href="/2022/11/08/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle%E8%BF%9E%E6%8E%A5%E6%80%BB%E7%BB%93/"/>
    <url>/2022/11/08/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle%E8%BF%9E%E6%8E%A5%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p>@<a href="%E5%86%85%E8%BF%9E%E6%8E%A5%E3%80%81%E5%A4%96%E8%BF%9E%E6%8E%A5%E3%80%81%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5%EF%BC%8C%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%EF%BC%8C%E8%87%AA%E8%BF%9E%E6%8E%A5">TOC</a></p><p> <em>结构导图</em><br><img src="https://img-blog.csdnimg.cn/20200825230337152.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="一、建表SQL语句"><a href="#一、建表SQL语句" class="headerlink" title="一、建表SQL语句"></a>一、建表SQL语句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> TEST1<br>(<br>  id      VARCHAR2(<span class="hljs-number">8</span>),<br>  name    VARCHAR2(<span class="hljs-number">64</span>),<br>  age     NUMBER,<br>  address VARCHAR2(<span class="hljs-number">256</span>)<br>)<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> TEST2<br>(<br>  id      VARCHAR2(<span class="hljs-number">8</span>),<br>  name    VARCHAR2(<span class="hljs-number">64</span>),<br>  age     NUMBER,<br>  address VARCHAR2(<span class="hljs-number">256</span>)<br>)<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> TEST3<br>(<br>  id      VARCHAR2(<span class="hljs-number">8</span>),<br>  name    VARCHAR2(<span class="hljs-number">64</span>),<br>  age     NUMBER,<br>  address VARCHAR2(<span class="hljs-number">256</span>)<br>)<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test1 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1001&#x27;</span>,<span class="hljs-string">&#x27;xiaoxue&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test1 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1002&#x27;</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test1 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1003&#x27;</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-number">19</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test1 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1005&#x27;</span>,<span class="hljs-string">&#x27;zhaoliu&#x27;</span>,<span class="hljs-number">25</span>,<span class="hljs-keyword">null</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test2 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1001&#x27;</span>,<span class="hljs-string">&#x27;xiaoxue&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test2 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1002&#x27;</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test2 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1004&#x27;</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>,<span class="hljs-number">18</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test2 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1006&#x27;</span>,<span class="hljs-string">&#x27;sakura&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test3 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1001&#x27;</span>,<span class="hljs-string">&#x27;xiaoxue&#x27;</span>,<span class="hljs-number">24</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test3 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1003&#x27;</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-number">19</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test3 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1004&#x27;</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>,<span class="hljs-number">18</span>,<span class="hljs-keyword">null</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test3 <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;1007&#x27;</span>,<span class="hljs-string">&#x27;yuma&#x27;</span>,<span class="hljs-number">28</span>,<span class="hljs-keyword">null</span>);<br></code></pre></td></tr></table></figure><h2 id="二、单表查询"><a href="#二、单表查询" class="headerlink" title="二、单表查询!"></a>二、单表查询!</h2><p>1.查询test1表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test1;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827201256182.png#pic_center" alt="在这里插入图片描述"></p><p>2.查询test2表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test2;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827201428942.png#pic_center" alt="在这里插入图片描述"></p><p>3.查询test3表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test3;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827201515364.png#pic_center" alt="在这里插入图片描述"></p><h2 id="三、两个表联合查询"><a href="#三、两个表联合查询" class="headerlink" title="三、两个表联合查询"></a>三、两个表联合查询</h2><p>1、SQL-92标准方式查询两个表<br>1）笛卡尔积<br>    如果不加查询条件（where），就会产生笛卡尔积<br>        笛卡尔积：全排列,将A表和B表中的数据一一对应一次，得到一个新的结果集表<br>          特点：结果集表中有符合要求的数据也有垃圾数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>, t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1, test2 t2<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827203732574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>2）等值筛选：有筛选条件</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>, t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1, test2 t2<br><span class="hljs-keyword">where</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827203911781.png#pic_center" alt="在这里插入图片描述"><br>3）非等值筛选<br>4）自查询<br>5）外连接查询</p><p>2.多表联合查询(重点)–99方式<br>1）交叉连接(Cross join)<br>        换算两张表的笛卡尔积</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>, t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">cross</span> <span class="hljs-keyword">join</span> test2 t2;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827205125607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>2）自然连接(Natural join)<br>        作用：底层自动的按照联合查询的表的所有相同字段名进行等值筛选<br>          注意:<br>             –按照所有的相同字段名进行筛选，联合查询的表中必须存储相同字段名<br>             –进行的是等值筛选</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">natural</span> <span class="hljs-keyword">join</span> test2 t2;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827205510406.png#pic_center" alt="在这里插入图片描述"><br>3）内连接（Inner Join&#x2F;Join）</p><ul><li><p>using关键字</p><pre><code class="hljs">  语法：select * from 表名 别名 inner join 表名 别名 using(字段名,字段名....)  作用：       --使用指定的相同字段进行联合查询的等值筛选    注意：       --联合的表中必须存在using指定的字段</code></pre></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">using</span>(id);<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020082720591857.png#pic_center" alt="在这里插入图片描述"></p><ul><li>on关键字</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827210106149.png#pic_center" alt="在这里插入图片描述"></p><p>4）自查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> test1 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827210257382.png#pic_center" alt="在这里插入图片描述"></p><p>5）外连接查询(outer join)</p><ul><li>左外连接(left outer join &#x2F; left join)</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span><br>test1 t1<br><span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br><br>等同于（下同）：<br><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span><br>test1 t1<br><span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020082721091031.png#pic_center" alt="在这里插入图片描述"></p><ul><li>右外连接(right outer join &#x2F; right join)</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span> <br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">right</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827211149678.png#pic_center" alt="在这里插入图片描述"></p><ul><li>全外连接(full outer join &#x2F; full join)</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> t1.<span class="hljs-operator">*</span>,t2.<span class="hljs-operator">*</span><br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">full</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827211250382.png#pic_center" alt="在这里插入图片描述"></p><h2 id="四、多表联合查询"><a href="#四、多表联合查询" class="headerlink" title="四、多表联合查询"></a>四、多表联合查询</h2><p>1.三个表内连接查询<br>    只查询出三个表共有的数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> test3 t3<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t3.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827211915970.png#pic_center" alt="在这里插入图片描述"></p><p>2.三个表外连接查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <br><span class="hljs-keyword">from</span> test1 t1<br><span class="hljs-keyword">full</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> test2 t2<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t2.id<br><span class="hljs-keyword">full</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> test3 t3<br><span class="hljs-keyword">on</span> t1.id <span class="hljs-operator">=</span> t3.id;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200827211701944.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>关于A5:SQL Mk-2(A5M2)的安装和使用</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8EA5SQL%20Mk-2(A5M2)%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/%E5%85%B3%E4%BA%8EA5SQL%20Mk-2(A5M2)%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="本文介绍关于A5M2的安装和使用"><a href="#本文介绍关于A5M2的安装和使用" class="headerlink" title="本文介绍关于A5M2的安装和使用"></a>本文介绍关于A5M2的安装和使用</h1><ul><li>A5:SQL Mk-2官网：<a href="https://a5m2.mmatsubara.com/">https://a5m2.mmatsubara.com/</a></li><li>官网下载地址：<a href="https://www.vector.co.jp/soft/dl/winnt/business/se422726.html">https://www.vector.co.jp/soft/dl/winnt/business/se422726.html</a></li><li>其他下载地址：<a href="https://download.cnet.com/developer/a5m2-mmatsubara-com/i-10711590">https://download.cnet.com/developer/a5m2-mmatsubara-com/i-10711590</a></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>进入上面的地址后，可以看到如下内容，根据自己的系统位数选择相应的版本进行下载：</li></ol><p><img src="https://img-blog.csdnimg.cn/20201013203312829.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>  2.解压缩到本地，双击打开A5M2.exe；</p><p><img src="https://img-blog.csdnimg.cn/20201013203640688.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>3.这里会弹出一个窗口，选择默认即可</p><p>4.打开之后是这样的</p><p><img src="https://img-blog.csdnimg.cn/20201013204048758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><p>1.右键database，选择add or delete database<br><img src="https://img-blog.csdnimg.cn/20201013204231768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>2.点击add</p><p><img src="https://img-blog.csdnimg.cn/2020101320433769.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>3.在这个界面中，选择你所要连接的数据库。这里我选择MySQL</p><p><img src="https://img-blog.csdnimg.cn/20201013204503281.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>4.输入对应的hostname, user ID, password<br>如果连接远程的数据库，hostname输入相应的地址，之后可以点击connection test测试连接。<br>连接成功之后，点击ok即可</p><p><img src="https://img-blog.csdnimg.cn/20201013204757861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/202010132054551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>1.打开命令面板：快捷键 Ctrl + N  或者 菜单栏 file –&gt; new</p><p><img src="https://img-blog.csdnimg.cn/20201013212105228.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>2.选择SQL</p><p><img src="https://img-blog.csdnimg.cn/20201013212147959.png#pic_center" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20201013211010289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>3.点击下拉框，选择刚才连接的数据库</p><p><img src="https://img-blog.csdnimg.cn/20201013212459227.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>4.运行，快捷键 F5</p><p><img src="https://img-blog.csdnimg.cn/20201013212643911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>完结撒花！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Windows下maven的配置和使用</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/Windows%E4%B8%8Bmaven%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/Windows%E4%B8%8Bmaven%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="Windows下配置maven环境"><a href="#Windows下配置maven环境" class="headerlink" title="Windows下配置maven环境"></a>Windows下配置maven环境</h1><ol><li>下载地址：</li></ol><blockquote><p><a href="https://maven.apache.org/download.cgi">https://maven.apache.org/download.cgi</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/20210130205011491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><ol start="2"><li>下载并解压到目录<br> <img src="https://img-blog.csdnimg.cn/20210130205232598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>配置<br> 修改Maven的配置文件settings.xml<br>  路径：”D:\Program Files\dev\apache-maven-3.6.3\conf\settings.xml”</li></ol><p>​1）修改本地仓库:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&lt;localRepository&gt;D:/Program Files/dev/maven-resp&lt;/localRepository&gt;<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210130205909863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>    2）修改中央仓库：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>alimaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>aliyun maven<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210130210233405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3）配置jdk：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>jdk-1.8<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jdk</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">jdk</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.compilerVersion</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210130210704493.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>修改完成，保持即可。</p><ol start="4"><li>在idea中使用<br> <img src="https://img-blog.csdnimg.cn/20210130211606869.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://img-blog.csdnimg.cn/20210130211952505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li></ol><p>5.点击 ok, 到这里就可以正常使用了。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>maven ojdbc6和ojdbc8 jar包下载地址</title>
    <link href="/2022/11/08/%E6%95%B0%E6%8D%AE%E5%BA%93/maven%20ojdbc6%E5%92%8Cojdbc8%20jar%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80/"/>
    <url>/2022/11/08/%E6%95%B0%E6%8D%AE%E5%BA%93/maven%20ojdbc6%E5%92%8Cojdbc8%20jar%E5%8C%85%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80/</url>
    
    <content type="html"><![CDATA[<h1 id="maven-ojdbc6和ojdbc8-jar包下载地址"><a href="#maven-ojdbc6和ojdbc8-jar包下载地址" class="headerlink" title="maven ojdbc6和ojdbc8 jar包下载地址"></a>maven ojdbc6和ojdbc8 jar包下载地址</h1><p>查找maven依赖网址：</p><blockquote><p><a href="https://mvnrepository.com/">https://mvnrepository.com/</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/168eeb1484c64da29e4adf4332ab2ac0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>jar文件仓库地址：</p><blockquote><p><a href="https://repo1.maven.org/maven2/">https://repo1.maven.org/maven2/</a></p></blockquote><p>ojdbc6.jar：</p><blockquote><p><a href="https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc6/11.2.0.4/ojdbc6-11.2.0.4.jar">https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc6/11.2.0.4/ojdbc6-11.2.0.4.jar</a></p></blockquote><p>ojdbc8.jar：</p><blockquote><p><a href="https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/">https://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/</a><br><a href="https://repo1.maven.org/maven2/com/oracle/ojdbc/ojdbc8/">https://repo1.maven.org/maven2/com/oracle/ojdbc/ojdbc8/</a></p></blockquote><p>Oracle官网下载地址(只找到ojdbc8和ojdbc14)：</p><blockquote><p><a href="https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html">https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/1df63d782a9f48279f5b2467f93fdea4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/ddcf57142bd94fecb5526333f49a563d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzQzNDkzMg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>浪费我一早上时间，记录一下。。。。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>myeclipse 修改颜色主题</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/myeclipse%20%E4%BF%AE%E6%94%B9%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/myeclipse%20%E4%BF%AE%E6%94%B9%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="myeclipse-修改颜色主题"><a href="#myeclipse-修改颜色主题" class="headerlink" title="myeclipse 修改颜色主题"></a>myeclipse 修改颜色主题</h1><h1 id="1-修改主题"><a href="#1-修改主题" class="headerlink" title="1.修改主题"></a>1.修改主题</h1><p><img src="https://img-blog.csdnimg.cn/3fc58f98f2764b858c3d7c5c76f40022.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5Y-v54ix55qE5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h1 id="2-修改颜色"><a href="#2-修改颜色" class="headerlink" title="2.修改颜色"></a>2.修改颜色</h1><p><img src="https://img-blog.csdnimg.cn/cf6a626115dd4949be1ce3c81aa79d86.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5Y-v54ix55qE5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript计算两个日期相差的年数</title>
    <link href="/2022/11/08/%E5%89%8D%E7%AB%AF/JavaScript%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E7%9B%B8%E5%B7%AE%E7%9A%84%E5%B9%B4%E6%95%B0/"/>
    <url>/2022/11/08/%E5%89%8D%E7%AB%AF/JavaScript%E8%AE%A1%E7%AE%97%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E7%9B%B8%E5%B7%AE%E7%9A%84%E5%B9%B4%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="JavaScript计算两个日期相差的年数"><a href="#JavaScript计算两个日期相差的年数" class="headerlink" title="JavaScript计算两个日期相差的年数"></a>JavaScript计算两个日期相差的年数</h1><p>计算两个日期相差多少年，代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;startDate&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;endDate&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sub&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;计算&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;getDateYearSubNew()&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;result&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// var d = getDateYearSub(&quot;2017-02-22&quot;,&quot;2018-02-22&quot;);</span></span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(d);</span></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getDateYearSubNew</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// debugger;</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> day = <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> startDateStr = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&quot;startDate&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> endDateStr = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&quot;endDate&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> sDate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(startDateStr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/-/g</span>, <span class="hljs-string">&quot;/&quot;</span>)));</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> eDate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">parse</span>(endDateStr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/-/g</span>, <span class="hljs-string">&quot;/&quot;</span>)));</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByName</span>(<span class="hljs-string">&quot;result&quot;</span>)[<span class="hljs-number">0</span>];</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//获得各自的年、月、日</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> sY = sDate.<span class="hljs-title function_">getFullYear</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> sM = sDate.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> sD = sDate.<span class="hljs-title function_">getDate</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> eY = eDate.<span class="hljs-title function_">getFullYear</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> eM = eDate.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> eD = eDate.<span class="hljs-title function_">getDate</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> yL = eY - sY;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> mL = eM - sM;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> dL = eD - sD;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;年相差：&quot;</span> + yL);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;月相差：&quot;</span> + mL);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;日相差：&quot;</span> + dL);</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">if</span> (dL &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">        mL--;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (mL &lt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">        yL--;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    <span class="hljs-keyword">if</span> (yL &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">    result.<span class="hljs-property">value</span> = yL;</span><br><span class="language-javascript">    &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="language-javascript">    result.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>测试结果：<br><img src="https://img-blog.csdnimg.cn/19953eacd4ca4f329e0a8c2f0c794ed8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/821293e9741e49bc851889cc6f12d744.png" alt="在这里插入图片描述"><br>参考：<br><a href="https://github.com/xinyi-jin/Romantic-confession">https://github.com/xinyi-jin/Romantic-confession</a><br>感谢大佬！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>雷云3编辑使用宏鼠标连点</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/%E9%9B%B7%E4%BA%913%E7%BC%96%E8%BE%91%E4%BD%BF%E7%94%A8%E5%AE%8F%E9%BC%A0%E6%A0%87%E8%BF%9E%E7%82%B9/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/%E9%9B%B7%E4%BA%913%E7%BC%96%E8%BE%91%E4%BD%BF%E7%94%A8%E5%AE%8F%E9%BC%A0%E6%A0%87%E8%BF%9E%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="雷云3编辑、使用宏，配置鼠标连点功能宏"><a href="#雷云3编辑、使用宏，配置鼠标连点功能宏" class="headerlink" title="雷云3编辑、使用宏，配置鼠标连点功能宏"></a>雷云3编辑、使用宏，配置鼠标连点功能宏</h1><p>雷云3官网下载地址：</p><blockquote><p><a href="http://cn.razerzone.com/synapse-3">http://cn.razerzone.com/synapse-3</a></p></blockquote><h2 id="一、添加模块"><a href="#一、添加模块" class="headerlink" title="一、添加模块"></a>一、添加模块</h2><p>在模块下面，往下滑，找到 宏 ，点击添加即可<br><img src="https://img-blog.csdnimg.cn/d45a0f520c9f4b8594a3487c0a02ae5b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>之后在控制板就可以看到 宏<br><img src="https://img-blog.csdnimg.cn/d9a9ff4b9cdc43cd85a2d60a709e87f9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h2 id="二、使用宏"><a href="#二、使用宏" class="headerlink" title="二、使用宏"></a>二、使用宏</h2><p>鼠标按键图示：<br><img src="https://img-blog.csdnimg.cn/b5521ff92aae400ca993439e9e6c32b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/3999aca1b962488abf0ace811335eb96.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="1-新建一个宏"><a href="#1-新建一个宏" class="headerlink" title="1.新建一个宏"></a>1.新建一个宏</h3><p>点 + 新建，<br><img src="https://img-blog.csdnimg.cn/f8d40310313a4e41a1b289716f2d0652.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>鼠标移到名称上可以编辑名字，按回车确认。<br><img src="https://img-blog.csdnimg.cn/6d523080f6394a39bc8cdc134768781d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="2-编辑宏"><a href="#2-编辑宏" class="headerlink" title="2.编辑宏"></a>2.编辑宏</h3><p>这里我新建一个定时输出文本的宏<br>先插入一个循环<br><img src="https://img-blog.csdnimg.cn/3c903a614c0e47fbbb9c3dd72526c813.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/7b7e7adb33614f199440de4a601167df.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>继续插入一个文本，输入 123456789<br><img src="https://img-blog.csdnimg.cn/cd168ff448784bdcab1b17914464e75b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>右边延迟设置1秒，表示1秒执行一次输出。文本区输入要输出的内容。<br><img src="https://img-blog.csdnimg.cn/4a08f4350a494eeba52fc85017a8fefe.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>然后设置按键(鼠标按键)<br><img src="https://img-blog.csdnimg.cn/f32fbcba26a045b5b5d256e72fd3df01.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>选择当前鼠标设备<br><img src="https://img-blog.csdnimg.cn/98c77a5b722941babb0b7a64aaf53a27.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>我这里设置按键4为要绑定的键，点击一下就可以选中<br><img src="https://img-blog.csdnimg.cn/be342549ef0d4cf19c80c32036524312.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>设置 播放选项<br><img src="https://img-blog.csdnimg.cn/6831597769e243f2b2ca96a112c1a5d2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>选中单次播放，然后点击保存<br><img src="https://img-blog.csdnimg.cn/cd736bd987474ab48656188ca39ce862.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_11,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>之后点击 一个 开始循环 栏，在右边设置循环次数。<br>设置5次，表示当我按 鼠标按键4 之后，每秒输出一次文本，执行5次之后停止。<br><img src="https://img-blog.csdnimg.cn/518a23b48906401fbab51175baca5eba.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="3-使用"><a href="#3-使用" class="headerlink" title="3.使用"></a>3.使用</h3><p>把鼠标光标放到一个文本框内，按一下 鼠标按键4, 效果如下：<br><img src="https://img-blog.csdnimg.cn/60067706f6dc4ba19606d352fa2c2ce0.png" alt="在这里插入图片描述"></p><h2 id="三、鼠标连点宏"><a href="#三、鼠标连点宏" class="headerlink" title="三、鼠标连点宏"></a>三、鼠标连点宏</h2><p>为了方便了解鼠标点击情况，我在前后输出文本<br>这里选择插入鼠标按键，<br><img src="https://img-blog.csdnimg.cn/8e53e5b4263b4d09a9808eea0b916572.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>按实际情况设置需要的操作<br><img src="https://img-blog.csdnimg.cn/e7e4ccae28354286a44eb5ca173202fd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>参数如下：<br><img src="https://img-blog.csdnimg.cn/6f5896871a6a45d5aca904fd224dd916.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>按键绑定：<br>选择第三项，使用按键控制开始和停止<br><img src="https://img-blog.csdnimg.cn/4ab3946a80c144759fb249393f1cf6af.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>按一下鼠标按键5开始，执行一段时候后，想停止再按一下鼠标按键5即可。<br><img src="https://img-blog.csdnimg.cn/01433369bcda472486b7053e3c034c3e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>MyEclipse配置jdk</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/MyEclipse%E9%85%8D%E7%BD%AEjdk/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/MyEclipse%E9%85%8D%E7%BD%AEjdk/</url>
    
    <content type="html"><![CDATA[<h1 id="MyEclipse导入项目，修改jdk的配置"><a href="#MyEclipse导入项目，修改jdk的配置" class="headerlink" title="MyEclipse导入项目，修改jdk的配置"></a>MyEclipse导入项目，修改jdk的配置</h1><h2 id="1-windows-gt-Preferences"><a href="#1-windows-gt-Preferences" class="headerlink" title="1.windows-&gt;Preferences"></a>1.windows-&gt;Preferences</h2><h3 id="①-引入需要的jdk，Java-–-gt-Installed-JRES"><a href="#①-引入需要的jdk，Java-–-gt-Installed-JRES" class="headerlink" title="① 引入需要的jdk，Java –&gt; Installed JRES"></a>① 引入需要的jdk，Java –&gt; Installed JRES</h3><p><img src="https://img-blog.csdnimg.cn/c9e2b9c267f14ee6a0d88ec4e6d3b5c4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="②-add-–-gt-Standard-VM-–-gt-Next"><a href="#②-add-–-gt-Standard-VM-–-gt-Next" class="headerlink" title="② add –&gt; Standard VM –&gt; Next"></a>② add –&gt; Standard VM –&gt; Next</h3><p><img src="https://img-blog.csdnimg.cn/528e37e7c72e4d56b7c20a8486548536.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="③-选择Directory，找到本地jdk路径"><a href="#③-选择Directory，找到本地jdk路径" class="headerlink" title="③ 选择Directory，找到本地jdk路径"></a>③ 选择Directory，找到本地jdk路径</h3><p>如：D:\Program Files\Java\jdk1.8.0_281<br><img src="https://img-blog.csdnimg.cn/2986a7bdab344be0af62757dfbf36014.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>点击Finish即可。<br><img src="https://img-blog.csdnimg.cn/ce08c7f31cc64ad8a94a2d7333eed83f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h2 id="2-配置项目jdk"><a href="#2-配置项目jdk" class="headerlink" title="2. 配置项目jdk"></a>2. 配置项目jdk</h2><h3 id="①-菜单栏-Project-–-gt-Properties"><a href="#①-菜单栏-Project-–-gt-Properties" class="headerlink" title="① 菜单栏 Project –&gt; Properties"></a>① 菜单栏 Project –&gt; Properties</h3><p><img src="https://img-blog.csdnimg.cn/1f54ec948c8a47478847c39af689982e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_9,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="②-配置Java-Build-Path"><a href="#②-配置Java-Build-Path" class="headerlink" title="② 配置Java Build Path"></a>② 配置Java Build Path</h3><p><img src="https://img-blog.csdnimg.cn/2973a7c520704974a562aa19d86a6003.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h4 id="1-没有的话，点击右侧-Add-Library"><a href="#1-没有的话，点击右侧-Add-Library" class="headerlink" title="1) 没有的话，点击右侧 Add Library"></a>1) 没有的话，点击右侧 Add Library</h4><p><img src="https://img-blog.csdnimg.cn/9a71ae775bbe4d2f9422f217b9653d71.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>选择JRE System Library， 点击Next</p><p><img src="https://img-blog.csdnimg.cn/0f1a636c1d8d4685bf36f11fc7cb76fa.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt=" "></p><p>选择Alternate JRE，选择之前引入的jdk，点击finish<br><img src="https://img-blog.csdnimg.cn/3efbd3be00c14508b88fc3e970a21114.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h4 id="2-如果这里有jdk，但是版本不对，比如是系统自带的jdk-13-等，"><a href="#2-如果这里有jdk，但是版本不对，比如是系统自带的jdk-13-等，" class="headerlink" title="2) 如果这里有jdk，但是版本不对，比如是系统自带的jdk 13 等，"></a>2) 如果这里有jdk，但是版本不对，比如是系统自带的jdk 13 等，</h4><p>选中jdk，点击右侧的edit<br><img src="https://img-blog.csdnimg.cn/649300d370d84c748aa61e807441a349.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>然后像上一步一样选择之前引入的jdk即可。<br><img src="https://img-blog.csdnimg.cn/50ab1dbcff734c1e9008e06a03951ee7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="③-配置Java-Compiler"><a href="#③-配置Java-Compiler" class="headerlink" title="③ 配置Java Compiler"></a>③ 配置Java Compiler</h3><p>点击Java Compiler，右侧下拉选择对应的jdk版本<br><img src="https://img-blog.csdnimg.cn/3100278209934074934cbd5249cdcee7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h3 id="④-配置Project-Facets"><a href="#④-配置Project-Facets" class="headerlink" title="④ 配置Project Facets"></a>④ 配置Project Facets</h3><p>选中Java，下拉选择对应的jdk版本<br><img src="https://img-blog.csdnimg.cn/0248f837c00349dd9740239b159e6e89.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>到这里，项目的jdk就配置完成了，点击Apply and close 关闭即可<br>然后点击菜单栏Project –&gt; Clean，等待项目编译完成就可以正常启动了。<br><img src="https://img-blog.csdnimg.cn/70a177a4a400497689a63d5bc8d30e9e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_8,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/a1ba3287d64c42a7910139542c1ae987.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP5Y-v54ix44Gu5Lmm5YyF,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Markdown如何自定义表格</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/Markdown%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E6%A0%BC/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/Markdown%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A1%A8%E6%A0%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="Markdown如何自定义表格"><a href="#Markdown如何自定义表格" class="headerlink" title="Markdown如何自定义表格"></a>Markdown如何自定义表格</h1><blockquote><p>使用Markdown语法和HTML代码</p></blockquote><h2 id="1-普通表格"><a href="#1-普通表格" class="headerlink" title="1. 普通表格"></a>1. 普通表格</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs md">使用 |文字1|文字2|<br>三个或多个连字符（---）分割开表头<br></code></pre></td></tr></table></figure><p>代码如下：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string"> 模板     </span>|<span class="hljs-string"> 用途     </span>|<span class="hljs-string"> 回退    </span>|<br>|<span class="hljs-string"> -------- </span>|<span class="hljs-string"> -------- </span>|<span class="hljs-string"> ------- </span>|<br>|<span class="hljs-string"> index    </span>|<span class="hljs-string"> 首页     </span>|<span class="hljs-string">         </span>|<br>|<span class="hljs-string"> post     </span>|<span class="hljs-string"> 文章     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> page     </span>|<span class="hljs-string"> 分页     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> archive  </span>|<span class="hljs-string"> 归档     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> category </span>|<span class="hljs-string"> 分类归档 </span>|<span class="hljs-string"> archive </span>|<br>|<span class="hljs-string"> tag      </span>|<span class="hljs-string"> 标签归档 </span>|<span class="hljs-string"> archive </span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th>模板</th><th>用途</th><th>回退</th></tr></thead><tbody><tr><td>index</td><td>首页</td><td></td></tr><tr><td>post</td><td>文章</td><td>index</td></tr><tr><td>page</td><td>分页</td><td>index</td></tr><tr><td>archive</td><td>归档</td><td>index</td></tr><tr><td>category</td><td>分类归档</td><td>archive</td></tr><tr><td>tag</td><td>标签归档</td><td>archive</td></tr></tbody></table><p>也可以直接这样写，处理效果是一样的</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string">表头1</span>|<span class="hljs-string">表头2</span>|<br>|<span class="hljs-string">---</span>|<span class="hljs-string">---</span>|<br>|<span class="hljs-string">内容1</span>|<span class="hljs-string">内容2</span>|<br>|<span class="hljs-string">内容3</span>|<span class="hljs-string">内容4</span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th>表头1</th><th>表头2</th></tr></thead><tbody><tr><td>内容1</td><td>内容2</td></tr><tr><td>内容3</td><td>内容4</td></tr></tbody></table><h2 id="2-多行多列的表格"><a href="#2-多行多列的表格" class="headerlink" title="2.多行多列的表格"></a>2.多行多列的表格</h2><p>采用HTML的代码方式，与正常的HTML代码使用一样：</p><p>其中text-align是为了文本居中（只能左右），vertical-align是垂直居中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>数据类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>长度(位)<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">&quot;4&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>整数类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>byte<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>short<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>int<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>long<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>64<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>浮点类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>float<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>double<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>64<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>字符型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>char<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>布尔型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>boolean<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>~<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果如下：</p><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr>    <tr>        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型</td>        <td>float</td>        <td>32</td>    </tr>    <tr>        <td>double</td>        <td>64</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">字符型</td>        <td>char</td>        <td>16</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">布尔型</td>        <td>boolean</td>        <td>~</td>    </tr></table>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>手机浏览器简单搜索ua标识</title>
    <link href="/2022/11/08/%E6%8A%80%E6%9C%AF/%E6%89%8B%E6%9C%BA%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2ua%E6%A0%87%E8%AF%86/"/>
    <url>/2022/11/08/%E6%8A%80%E6%9C%AF/%E6%89%8B%E6%9C%BA%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2ua%E6%A0%87%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="手机浏览器简单搜索ua标识"><a href="#手机浏览器简单搜索ua标识" class="headerlink" title="手机浏览器简单搜索ua标识"></a>手机浏览器简单搜索ua标识</h1><p>根据自身体验，分享一下基于<strong>简单搜索</strong>的手机浏览器ua标识<br>这里用的浏览器是<a href="https://viayoo.com/zh-cn/"><code>via(https://viayoo.com/zh-cn/)</code></a>，可以自定义ua标识。</p><h2 id="1-设置"><a href="#1-设置" class="headerlink" title="1. 设置"></a>1. 设置</h2><p>打开手机端 Via 浏览器在设置——通用——浏览器标识里选择“自定义：<br><img src="https://img-blog.csdnimg.cn/eeddc0b590b04b08bca7a38d684dafd7.jpeg" alt="请添加图片描述"></p><h2 id="2-代码"><a href="#2-代码" class="headerlink" title="2. 代码"></a>2. 代码</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Mozilla</span>/<span class="hljs-number">5</span>.<span class="hljs-number">0</span> (Linux; Android <span class="hljs-number">12</span>; M2011K2C Build/SKQ1.<span class="hljs-number">211006</span>.<span class="hljs-number">001</span>; wv) AppleWebKit/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> (KHTML, like Gecko) Version/<span class="hljs-number">4</span>.<span class="hljs-number">0</span> Chrome/<span class="hljs-number">102</span>.<span class="hljs-number">0</span>.<span class="hljs-number">5005</span>.<span class="hljs-number">99</span> Mobile Safari/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> T7/<span class="hljs-number">12</span>.<span class="hljs-number">16</span> SearchCraft/<span class="hljs-number">3</span>.<span class="hljs-number">9</span>.<span class="hljs-number">1</span> (Baidu; P1 <span class="hljs-number">11</span>)<br></code></pre></td></tr></table></figure><p>效果如下，简洁，样式也比较好看：<br><img src="https://img-blog.csdnimg.cn/68d1423efc5c44d8b550b4a00996a497.jpeg" alt="请添加图片描述"></p><p>简单解释一下，其实<code>T7/12.16</code>前边的都是系统浏览器版本，我这里获取的是目前较新的， Android 12，Chrome版本也是最新版，真正的简单搜索引擎是<code>T7/12.16</code>及其之后的。</p><p>如果修改为百度的Baiduspider爬虫，搜索结果就和正常的百度网页搜索出来的样式一样了，而且也会有广告，但是一秒就刷新掉了，可能是浏览器屏蔽了</p><p>代码：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Mozilla</span>/<span class="hljs-number">5</span>.<span class="hljs-number">0</span> (Linux; Android <span class="hljs-number">12</span>; M2011K2C Build/SKQ1.<span class="hljs-number">211006</span>.<span class="hljs-number">001</span>; wv) AppleWebKit/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> (KHTML, like Gecko) Version/<span class="hljs-number">5</span>.<span class="hljs-number">1</span> Chrome/<span class="hljs-number">102</span>.<span class="hljs-number">0</span>.<span class="hljs-number">5005</span>.<span class="hljs-number">99</span> Mobile Safari/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> (compatible; Baiduspider/<span class="hljs-number">2</span>.<span class="hljs-number">0</span>; +http://www.baidu.com/search/spider.html)<br></code></pre></td></tr></table></figure><p>2022-11-13更新</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Mozilla</span>/<span class="hljs-number">5</span>.<span class="hljs-number">0</span> (Linux; Android <span class="hljs-number">12</span>; M2011K2C Build/SKQ1.<span class="hljs-number">211006</span>.<span class="hljs-number">001</span>; wv) AppleWebKit/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> (KHTML, like Gecko) Version/<span class="hljs-number">4</span>.<span class="hljs-number">0</span> Chrome/<span class="hljs-number">102</span>.<span class="hljs-number">0</span>.<span class="hljs-number">5005</span>.<span class="hljs-number">99</span> Mobile Safari/<span class="hljs-number">537</span>.<span class="hljs-number">36</span> T7/<span class="hljs-number">12</span>.<span class="hljs-number">16</span> SearchCraft/<span class="hljs-number">3</span>.<span class="hljs-number">9</span>.<span class="hljs-number">1</span> (Baidu; P1 <span class="hljs-number">11</span>)<br></code></pre></td></tr></table></figure><p>效果如下：<br><img src="https://img-blog.csdnimg.cn/2ac5b22940364226b1a75f0ef2f57266.jpeg" alt="请添加图片描述"></p><p><img src="https://img-blog.csdnimg.cn/ca64101dde50450ba015578dcf8cdb40.jpeg" alt="请添加图片描述"></p><p>之前一直找插件屏蔽，突然发现改ua还是挺好的。其他的ua标识大家自行百度查一下，阿里做的夸克也还可以，可以搞一搞。</p><p>当然，不管是简单搜索，还是普通的百度搜索，其实都是百度的，也许人家哪天一高兴，简单搜索也带上广告了。不过现在还能用就行吧哈哈哈</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>文字表情收集</title>
    <link href="/2022/10/23/%E6%8A%80%E6%9C%AF/%E6%96%87%E5%AD%97%E8%A1%A8%E6%83%85%E6%94%B6%E9%9B%86/"/>
    <url>/2022/10/23/%E6%8A%80%E6%9C%AF/%E6%96%87%E5%AD%97%E8%A1%A8%E6%83%85%E6%94%B6%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h1 id="文字表情收集"><a href="#文字表情收集" class="headerlink" title="文字表情收集"></a>文字表情收集</h1><h2 id="1-圣诞"><a href="#1-圣诞" class="headerlink" title="1. 圣诞"></a>1. 圣诞</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs elixir">又是一年圣诞节，圣诞快乐，多保重身体<br>＊　<span class="hljs-string">&#x27;　*　.★　＊　　&#x27;</span>＊　　　*<br>＊　　.　<span class="hljs-string">&#x27;　　+:..:+ 　　　 &#x27;</span> 　＊<br>.　　　＊　　☆☆☆　＊　<span class="hljs-title class_">Merry</span> <span class="hljs-string">&#x27;　　.</span><br><span class="hljs-string">　　*　　&#x27;</span>　+<span class="hljs-symbol">:</span>...+....<span class="hljs-symbol">:+</span>　　<span class="hljs-title class_">Christmas</span><br><span class="hljs-string">&#x27;　　　　&#x27;</span>　☆☆☆☆☆　　　＊　<span class="hljs-string">&#x27;　　</span><br><span class="hljs-string">　＊　＊　+:...:+＠+:...:+ 　　　&#x27;</span>　　*<br>＊　.　　.☆☆☆☆☆☆☆ ＊　<span class="hljs-string">&#x27;　*　.</span><br><span class="hljs-string">　　.　　+:..:+&amp;+:...:+:...:+</span><br><span class="hljs-string">　*　.　☆☆☆☆☆☆☆☆☆　＊　&#x27;</span>　　　*<br><span class="hljs-string">&#x27;　.　　+:...:+♡+:...:+§+:..:+</span><br><span class="hljs-string">.　*　☆☆☆☆☆☆☆☆☆☆☆　　&#x27;</span>　*<br>　　.+<span class="hljs-symbol">:</span>..<span class="hljs-symbol">:+</span>♡+<span class="hljs-symbol">:</span>..<span class="hljs-symbol">:+@+</span><span class="hljs-symbol">:</span>..<span class="hljs-symbol">:+</span>♡+<span class="hljs-symbol">:</span>..<span class="hljs-symbol">:+</span><br>　.　　　　　.　▨ 　 <span class="hljs-string">&#x27;　&#x27;</span> ＊　　<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WallpaperEngine壁纸分享</title>
    <link href="/2022/10/22/%E6%8A%80%E6%9C%AF/WallpaperEngine%E5%A3%81%E7%BA%B8%E5%88%86%E4%BA%AB/"/>
    <url>/2022/10/22/%E6%8A%80%E6%9C%AF/WallpaperEngine%E5%A3%81%E7%BA%B8%E5%88%86%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="WallpaperEngine壁纸分享"><a href="#WallpaperEngine壁纸分享" class="headerlink" title="WallpaperEngine壁纸分享"></a>WallpaperEngine壁纸分享</h1><h2 id="1-《8K-Wlop-Mahina-少女》-athenashiyu"><a href="#1-《8K-Wlop-Mahina-少女》-athenashiyu" class="headerlink" title="1. 《8K Wlop Mahina 少女》 - athenashiyu"></a>1. 《8K Wlop Mahina 少女》 - athenashiyu</h2><p><img src="/images/image-20221022231734093.png" alt="image-20221022231734093"></p><h2 id="2-《wlop-云虫-网瘾少女》-fese"><a href="#2-《wlop-云虫-网瘾少女》-fese" class="headerlink" title="2. 《wlop 云虫  网瘾少女》 - fese"></a>2. 《wlop 云虫  网瘾少女》 - fese</h2><p><img src="/images/image-20221022231930544.png" alt="image-20221022231930544"></p><h2 id="3-《Girl-with-glasses》-Lolita"><a href="#3-《Girl-with-glasses》-Lolita" class="headerlink" title="3. 《Girl with glasses》 - Lolita"></a>3. 《Girl with glasses》 - Lolita</h2><p><img src="/images/image-20221022232105916.png" alt="image-20221022232105916"></p><h2 id="4-《集原美》-Iɴɪᴛɪᴀᴛɪᴠᴇ"><a href="#4-《集原美》-Iɴɪᴛɪᴀᴛɪᴠᴇ" class="headerlink" title="4. 《集原美》 - Iɴɪᴛɪᴀᴛɪᴠᴇ"></a>4. 《集原美》 - Iɴɪᴛɪᴀᴛɪᴠᴇ</h2><p><img src="/images/image-20221022232248971.png" alt="image-20221022232248971"></p><h2 id="5-《本当珍》-将基欧普达娃"><a href="#5-《本当珍》-将基欧普达娃" class="headerlink" title="5. 《本当珍》 - 将基欧普达娃"></a>5. 《本当珍》 - 将基欧普达娃</h2><p><img src="/images/image-20221022232419538.png" alt="image-20221022232419538"></p><h2 id="6-《键盘》-暴走鸡神"><a href="#6-《键盘》-暴走鸡神" class="headerlink" title="6. 《键盘》 - 暴走鸡神"></a>6. 《键盘》 - 暴走鸡神</h2><p><img src="/images/image-20221022232524355.png" alt="image-20221022232524355"></p><h2 id="7-《ᅠ》-☯nesilent"><a href="#7-《ᅠ》-☯nesilent" class="headerlink" title="7. 《ᅠ》 - ☯nesilent"></a>7. 《ᅠ》 - ☯nesilent</h2><p><img src="/images/image-20221022232652308.png" alt="image-20221022232652308"></p><h2 id="8-《Kaltsit-Arknights》"><a href="#8-《Kaltsit-Arknights》" class="headerlink" title="8. 《Kaltsit - Arknights》"></a>8. 《Kaltsit - Arknights》</h2><p><img src="/images/image-20221022232921090.png" alt="image-20221022232921090"></p><h2 id="9-《吉他和她【guitar-and-her】》-SueArashi"><a href="#9-《吉他和她【guitar-and-her】》-SueArashi" class="headerlink" title="9. 《吉他和她【guitar and her】》 - SueArashi"></a>9. 《吉他和她【guitar and her】》 - SueArashi</h2><p><img src="/images/image-20221022233030268.png" alt="image-20221022233030268"></p><h2 id="10-《Girl’s-room》"><a href="#10-《Girl’s-room》" class="headerlink" title="10. 《Girl’s room》"></a>10. 《Girl’s room》</h2><p><img src="/images/image-20221022233116024.png" alt="image-20221022233116024"></p><h2 id="11-《amatista-studio-33-computer》-Hotaro-Oreki"><a href="#11-《amatista-studio-33-computer》-Hotaro-Oreki" class="headerlink" title="11. 《amatista-studio_33-computer》 - Hōtarō Oreki"></a>11. 《amatista-studio_33-computer》 - Hōtarō Oreki</h2><p><img src="/images/image-20221022233220206.png" alt="image-20221022233220206"></p><h2 id="12-《Skadi》-what’-up"><a href="#12-《Skadi》-what’-up" class="headerlink" title="12. 《Skadi》 - what’ up"></a>12. 《Skadi》 - what’ up</h2><p><img src="/images/image-20221022233313973.png" alt="image-20221022233313973"></p><h2 id="13-《允儿》-Donald-Trump"><a href="#13-《允儿》-Donald-Trump" class="headerlink" title="13. 《允儿》 - Donald Trump"></a>13. 《允儿》 - Donald Trump</h2><p><img src="/images/image-20221022233952540.png" alt="image-20221022233952540"></p><h2 id="14-《Aamir033》-Aamir阿米"><a href="#14-《Aamir033》-Aamir阿米" class="headerlink" title="14. 《Aamir033》 - Aamir阿米"></a>14. 《Aamir033》 - Aamir阿米</h2><p><img src="/images/image-20221022234107066.png" alt="image-20221022234107066"></p><h2 id="15-《WLOP-Nap》-Kim"><a href="#15-《WLOP-Nap》-Kim" class="headerlink" title="15. 《WLOP - Nap》 - Kim"></a>15. 《WLOP - Nap》 - Kim</h2><p><img src="/images/image-20221022234230265.png" alt="image-20221022234230265"></p><h2 id="16-《Lazy-Evening-怠惰な夜-in-4K》-HISTA"><a href="#16-《Lazy-Evening-怠惰な夜-in-4K》-HISTA" class="headerlink" title="16. 《Lazy Evening (怠惰な夜) in 4K》 - HISTA"></a>16. 《Lazy Evening (怠惰な夜) in 4K》 - HISTA</h2><p><img src="/images/image-20221022234332333.png" alt="image-20221022234332333"></p><h2 id="17-《Aeolion-WLOP》-Ao-That-Dey"><a href="#17-《Aeolion-WLOP》-Ao-That-Dey" class="headerlink" title="17. 《Aeolion - WLOP》 - Ảo Thật Dey"></a>17. 《Aeolion - WLOP》 - Ảo Thật Dey</h2><p><img src="/images/image-20221022234424657.png" alt="image-20221022234424657"></p><h2 id="18-《Aeolian-by-WLOP》-Eliza"><a href="#18-《Aeolian-by-WLOP》-Eliza" class="headerlink" title="18. 《Aeolian by WLOP》 - Eliza"></a>18. 《Aeolian by WLOP》 - Eliza</h2><p><img src="/images/image-20221022234530269.png" alt="image-20221022234530269"></p><h2 id="19-《2AM-Cyberpunk-High-Rise-Apartment-Skeor-V2-Updated-》-Juseyo"><a href="#19-《2AM-Cyberpunk-High-Rise-Apartment-Skeor-V2-Updated-》-Juseyo" class="headerlink" title="19. 《2AM Cyberpunk High Rise Apartment | Skeor | V2 | Updated!》 - Juseyo"></a>19. 《2AM Cyberpunk High Rise Apartment | Skeor | V2 | Updated!》 - Juseyo</h2><p><img src="/images/image-20221022234650052.png" alt="image-20221022234650052"></p><h2 id="20-《Jinx-with-gemstone-Arcane-》-Swift-Respite"><a href="#20-《Jinx-with-gemstone-Arcane-》-Swift-Respite" class="headerlink" title="20. 《Jinx with gemstone [Arcane]》 - Swift Respite"></a>20. 《Jinx with gemstone [Arcane]》 - Swift Respite</h2><p><img src="/images/image-20221022234812637.png" alt="image-20221022234812637"></p><h2 id="21-《金克丝》"><a href="#21-《金克丝》" class="headerlink" title="21. 《金克丝》"></a>21. 《金克丝》</h2><p><img src="/images/image-20221022234854828.png" alt="image-20221022234854828"></p><h2 id="22-《SciFi-HUD》-Ebenezer-Psygod-Wibli-Wobli"><a href="#22-《SciFi-HUD》-Ebenezer-Psygod-Wibli-Wobli" class="headerlink" title="22. 《SciFi HUD》 - Ebenezer Psygod Wibli Wobli"></a>22. 《SciFi HUD》 - Ebenezer Psygod Wibli Wobli</h2><p><img src="/images/image-20221022235009093.png" alt="image-20221022235009093"></p><h2 id="23-《Green-Road》-Wiserrot"><a href="#23-《Green-Road》-Wiserrot" class="headerlink" title="23. 《Green Road》 - Wiserrot"></a>23. 《Green Road》 - Wiserrot</h2><p><img src="/images/image-20221022235107339.png" alt="image-20221022235107339"></p><h2 id="24-《3d-map》"><a href="#24-《3d-map》" class="headerlink" title="24. 《3d-map》"></a>24. 《3d-map》</h2><p><img src="/images/image-20221022235156858.png" alt="image-20221022235156858"></p><h2 id="25-《Genshin-Impact-Piano》-En-Taro-Zeratul"><a href="#25-《Genshin-Impact-Piano》-En-Taro-Zeratul" class="headerlink" title="25. 《Genshin Impact Piano》 - En Taro Zeratul"></a>25. 《Genshin Impact Piano》 - En Taro Zeratul</h2><p><img src="/images/image-20221022235249110.png" alt="image-20221022235249110"></p><h2 id="26-《Minecraft-redstone-clock》-GERMAN0"><a href="#26-《Minecraft-redstone-clock》-GERMAN0" class="headerlink" title="26. 《Minecraft redstone clock》 - GERMAN0"></a>26. 《Minecraft redstone clock》 - GERMAN0</h2><p><img src="/images/image-20221022235345824.png" alt="image-20221022235345824"></p><h2 id="27-《Windows-4K-dark-theme》-Croc-Chewy"><a href="#27-《Windows-4K-dark-theme》-Croc-Chewy" class="headerlink" title="27. 《Windows 4K dark theme》 - Croc Chewy"></a>27. 《Windows 4K dark theme》 - Croc Chewy</h2><p><img src="/images/image-20221022235446652.png" alt="image-20221022235446652"></p><h2 id="28-《Wake-up》-大污师！"><a href="#28-《Wake-up》-大污师！" class="headerlink" title="28. 《Wake up》 - 大污师！"></a>28. 《Wake up》 - 大污师！</h2><p><img src="/images/image-20221022235609340.png" alt="image-20221022235609340"></p><h2 id="29-《SouredAppleClouds》-El-Buenisimo"><a href="#29-《SouredAppleClouds》-El-Buenisimo" class="headerlink" title="29. 《SouredAppleClouds》 - El Buenísimo"></a>29. 《SouredAppleClouds》 - El Buenísimo</h2><p><img src="/images/image-20221022235718939.png" alt="image-20221022235718939"></p><h2 id="30-《哔哩哔哩音频响应壁纸》-GEEKiDoS"><a href="#30-《哔哩哔哩音频响应壁纸》-GEEKiDoS" class="headerlink" title="30. 《哔哩哔哩音频响应壁纸》 - GEEKiDoS"></a>30. 《哔哩哔哩音频响应壁纸》 - GEEKiDoS</h2><p><img src="/images/image-20221022235826652.png" alt="image-20221022235826652"></p>]]></content>
    
    
    <categories>
      
      <category>壁纸</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>js获取当前时间</title>
    <link href="/2022/10/15/%E5%89%8D%E7%AB%AF/js%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4/"/>
    <url>/2022/10/15/%E5%89%8D%E7%AB%AF/js%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<h1 id="js获取当前时间"><a href="#js获取当前时间" class="headerlink" title="js获取当前时间"></a>js获取当前时间</h1><p>示例代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>tools<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;getNowtime()&quot;</span>&gt;</span>获取当前时间<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;clock&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getNowtime</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// string to date</span></span><br><span class="language-javascript">        <span class="hljs-comment">// new Date(&quot;2022-03-01&quot;).getFullYear()</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// var dateStr = &#x27;&quot;&#x27; + date.getUTCFullYear() + &#x27;-&#x27; +</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     (date.getUTCMonth() + 1).toPaddedString(2) + &#x27;-&#x27; +</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     date.getUTCDate().toPaddedString(2) + &#x27;T&#x27; +</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     date.getUTCHours().toPaddedString(2) + &#x27;:&#x27; +</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     date.getUTCMinutes().toPaddedString(2) + &#x27;:&#x27; +</span></span><br><span class="language-javascript">        <span class="hljs-comment">//     date.getUTCSeconds().toPaddedString(2) + &#x27;Z&quot;&#x27;;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">getUTCFullYear</span>());</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((date.<span class="hljs-title function_">getUTCMonth</span>() + <span class="hljs-number">1</span>).<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>));</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">getUTCDate</span>());</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">getUTCHours</span>());</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">getUTCMinutes</span>());</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(date.<span class="hljs-title function_">getUTCSeconds</span>());</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// var b = a.toLocaleTimeString();</span></span><br><span class="language-javascript">        <span class="hljs-comment">// var c = a.toLocaleDateString();</span></span><br><span class="language-javascript">        <span class="hljs-comment">// document.getElementById(&quot;clock&quot;).innerHTML = c + &quot;&amp;nbsp&quot; + b;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// document.getElementById(&quot;clock&quot;).innerHTML = dateStr;</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title class_">Date</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toJSON</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&quot;&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCFullYear</span>() + <span class="hljs-string">&#x27;-&#x27;</span> +</span><br><span class="language-javascript">            (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCMonth</span>() + <span class="hljs-number">1</span>).<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;-&#x27;</span> +</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCDate</span>().<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;T&#x27;</span> +</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCHours</span>().<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;:&#x27;</span> +</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCMinutes</span>().<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;:&#x27;</span> +</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUTCSeconds</span>().<span class="hljs-title function_">toPaddedString</span>(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;Z&quot;&#x27;</span>;</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">convertFullDateToString</span>(<span class="hljs-params">date</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (date == <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">            date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> strDate = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> year = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> month = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> day = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">        year = date.<span class="hljs-title function_">getFullYear</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>, <span class="hljs-number">10</span>) &lt; <span class="hljs-number">10</span>) &#123;</span><br><span class="language-javascript">            month = <span class="hljs-string">&quot;0&quot;</span> + <span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>, <span class="hljs-number">10</span>)</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">            month = <span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>, <span class="hljs-number">10</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getDate</span>(), <span class="hljs-number">10</span>) &lt; <span class="hljs-number">10</span>) &#123;</span><br><span class="language-javascript">            day = <span class="hljs-string">&quot;0&quot;</span> + <span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getDate</span>(), <span class="hljs-number">10</span>)</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">            day = <span class="hljs-built_in">parseInt</span>(date.<span class="hljs-title function_">getDate</span>(), <span class="hljs-number">10</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        strDate = year + <span class="hljs-variable constant_">DATE_DELIMITER</span> + month + <span class="hljs-variable constant_">DATE_DELIMITER</span> + day;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> strDate;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkFullDate</span>(<span class="hljs-params">field</span>) &#123;</span><br><span class="language-javascript">        field.<span class="hljs-property">value</span> = <span class="hljs-title function_">trim</span>(field.<span class="hljs-property">value</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> strValue = field.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (strValue == <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNumeric</span>(strValue)) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (strValue.<span class="hljs-property">length</span> &gt; <span class="hljs-number">6</span> &amp;&amp; strValue.<span class="hljs-property">length</span> &lt; <span class="hljs-number">9</span>) &#123;</span><br><span class="language-javascript">                strValue = strValue.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>) + <span class="hljs-variable constant_">DATE_DELIMITER</span> + strValue.<span class="hljs-title function_">substring</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>) + <span class="hljs-variable constant_">DATE_DELIMITER</span> + strValue.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>);</span><br><span class="language-javascript">                field.<span class="hljs-property">value</span> = strValue;</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">errorMessage</span>(<span class="hljs-string">&quot;The correct date format is yyyy-MM-dd.&quot;</span>);</span><br><span class="language-javascript">                field.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                field.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                field.<span class="hljs-title function_">select</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isDate</span>(strValue, <span class="hljs-variable constant_">DATE_DELIMITER</span>) &amp;&amp; !<span class="hljs-title function_">isDate</span>(strValue) || strValue.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) == <span class="hljs-string">&quot;0&quot;</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">errorMessage</span>(<span class="hljs-string">&quot;The correct date format is yyyy-MM-dd.&quot;</span>);</span><br><span class="language-javascript">            field.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">            field.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">            field.<span class="hljs-title function_">select</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> splitStrValue = strValue.<span class="hljs-title function_">split</span>(<span class="hljs-variable constant_">DATE_DELIMITER</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (splitStrValue[<span class="hljs-number">1</span>].<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) splitStrValue[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;0&quot;</span> + splitStrValue[<span class="hljs-number">1</span>];</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (splitStrValue[<span class="hljs-number">2</span>].<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) splitStrValue[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;0&quot;</span> + splitStrValue[<span class="hljs-number">2</span>];</span><br><span class="language-javascript">        field.<span class="hljs-property">value</span> = splitStrValue[<span class="hljs-number">0</span>] + <span class="hljs-variable constant_">DATE_DELIMITER</span> + splitStrValue[<span class="hljs-number">1</span>] + <span class="hljs-variable constant_">DATE_DELIMITER</span> + splitStrValue[<span class="hljs-number">2</span>];</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkFullDateTime</span>(<span class="hljs-params">field</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> dateT = field.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (dateT != <span class="hljs-string">&quot;&quot;</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^(\d&#123;1,4&#125;)(-|\/)(\d&#123;1,2&#125;)\2(\d&#123;1,2&#125;) (\d&#123;1,2&#125;):(\d&#123;1,2&#125;):(\d&#123;1,2&#125;)$/</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> r = dateT.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (r == <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">errorMessage</span>(<span class="hljs-string">&quot;The correct date format is yyyy-MM-dd HH:mm:ss.&quot;</span>);</span><br><span class="language-javascript">                field.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                field.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                field.<span class="hljs-title function_">select</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isDateTime</span>(dateT, <span class="hljs-variable constant_">DATE_DELIMITER</span>) &amp;&amp; !<span class="hljs-title function_">isDateTime</span>(dateT) || dateT.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) == <span class="hljs-string">&quot;0&quot;</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">errorMessage</span>(<span class="hljs-string">&quot;The correct date format is yyyy-MM-dd HH:mm:ss.&quot;</span>);</span><br><span class="language-javascript">                field.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">                field.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                field.<span class="hljs-title function_">select</span>();</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateDate</span>(<span class="hljs-params">form</span>) &#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> testResult = <span class="hljs-literal">true</span>; <span class="hljs-comment">//store temp test result</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> isValid = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> focusField = <span class="hljs-literal">null</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> fields = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> oDate = <span class="hljs-built_in">eval</span>(<span class="hljs-string">&quot;new &quot;</span> + <span class="hljs-title function_">jcv_retrieveFormName</span>(form) + <span class="hljs-string">&quot;_date()&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x <span class="hljs-keyword">in</span> oDate) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">jcv_verifyArrayElement</span>(x, oDate[x])) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-comment">//the input maybe an array</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> getVar = oDate[x][<span class="hljs-number">2</span>];</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> isMultiLine = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getVar</span>(<span class="hljs-string">&quot;multiLine&quot;</span>) == <span class="hljs-string">&quot;true&quot;</span>) &#123;</span><br><span class="language-javascript">                isMultiLine = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> loopFields = form[oDate[x][<span class="hljs-number">0</span>]];</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">jcv_isFieldPresent</span>(loopFields)) &#123; <span class="hljs-comment">//input not present</span></span><br><span class="language-javascript">                <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> fieldsCount = loopFields.<span class="hljs-property">length</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (isMultiLine) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (fieldsCount == <span class="hljs-literal">undefined</span>) &#123; <span class="hljs-comment">//is not array</span></span><br><span class="language-javascript">                    fieldsCount = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> tempLoopField = loopFields;</span><br><span class="language-javascript">                    loopFields = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(tempLoopField);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                fieldsCount = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> tempLoopField = loopFields;</span><br><span class="language-javascript">                loopFields = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(tempLoopField);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; fieldsCount; index++) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> field = loopFields[index];</span><br><span class="language-javascript">                <span class="hljs-comment">//must set isValid = true and testResult = false</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (((index == <span class="hljs-number">0</span> &amp;&amp; fieldsCount == <span class="hljs-number">1</span>) || index &gt; <span class="hljs-number">0</span>) &amp;&amp; isValid == <span class="hljs-literal">false</span>) &#123;</span><br><span class="language-javascript">                    isValid = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                    testResult = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">//only check currentCheckField if it&#x27;s not null</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (currentCheckField != <span class="hljs-literal">null</span> &amp;&amp; currentCheckField != field) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-comment">//skip the first input if isMultiLine</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (isMultiLine &amp;&amp; index == <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">jcv_isFieldPresent</span>(field)) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                field.<span class="hljs-property">value</span> = <span class="hljs-title function_">trim</span>(field.<span class="hljs-property">value</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> value = field.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> isStrict = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> datePattern = oDate[x][<span class="hljs-number">2</span>](<span class="hljs-string">&quot;datePatternStrict&quot;</span>);</span><br><span class="language-javascript">                <span class="hljs-comment">// try loose pattern</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                    datePattern = oDate[x][<span class="hljs-number">2</span>](<span class="hljs-string">&quot;datePattern&quot;</span>);</span><br><span class="language-javascript">                    isStrict = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">//continue if has no value or datePattern</span></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> ((value.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>) || (datePattern.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">0</span>)) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM-dd&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">//all number,convert to date</span></span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">regExpTest</span>(value, <span class="hljs-regexp">/\d+/g</span>) == <span class="hljs-literal">true</span> &amp;&amp; <span class="hljs-title function_">getByteLength</span>(value) == <span class="hljs-number">8</span>) &#123;</span><br><span class="language-javascript">                        value = value.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>) + <span class="hljs-variable constant_">DATE_DELIMITER</span> +</span><br><span class="language-javascript">                            value.<span class="hljs-title function_">substring</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>) + <span class="hljs-variable constant_">DATE_DELIMITER</span> +</span><br><span class="language-javascript">                            value.<span class="hljs-title function_">substring</span>(<span class="hljs-number">6</span>);</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>, r[<span class="hljs-number">3</span>], <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == (r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>) &amp;&amp; d.<span class="hljs-title function_">getDate</span>() == r[<span class="hljs-number">3</span>]) &#123;</span><br><span class="language-javascript">                            field.<span class="hljs-property">value</span> = r[<span class="hljs-number">1</span>] + <span class="hljs-variable constant_">DATE_DELIMITER</span> + r[<span class="hljs-number">2</span>] + <span class="hljs-variable constant_">DATE_DELIMITER</span> + r[<span class="hljs-number">3</span>];</span><br><span class="language-javascript">                            value = field.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        r[<span class="hljs-number">2</span>] = r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>], <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == r[<span class="hljs-number">2</span>]) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM-dd HH&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;) (\\d&#123;1,2&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        r[<span class="hljs-number">2</span>] = r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>], r[<span class="hljs-number">3</span>], r[<span class="hljs-number">4</span>], <span class="hljs-number">1</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == r[<span class="hljs-number">2</span>] &amp;&amp; d.<span class="hljs-title function_">getDate</span>() == r[<span class="hljs-number">3</span>] &amp;&amp; d.<span class="hljs-title function_">getHours</span>() == r[<span class="hljs-number">4</span>]) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM-dd HH:mm&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;) (\\d&#123;1,2&#125;):(\\d&#123;1,2&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        r[<span class="hljs-number">2</span>] = r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>], r[<span class="hljs-number">3</span>], r[<span class="hljs-number">4</span>], r[<span class="hljs-number">5</span>], <span class="hljs-number">1</span>); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == r[<span class="hljs-number">2</span>] &amp;&amp; d.<span class="hljs-title function_">getDate</span>() == r[<span class="hljs-number">3</span>] &amp;&amp; d.<span class="hljs-title function_">getHours</span>() == r[<span class="hljs-number">4</span>] &amp;&amp;</span><br><span class="language-javascript">                            d.<span class="hljs-title function_">getMinutes</span>() == r[<span class="hljs-number">5</span>]) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;) (\\d&#123;1,2&#125;):(\\d&#123;1,2&#125;):(\\d&#123;1,2&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        r[<span class="hljs-number">2</span>] = r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>], r[<span class="hljs-number">3</span>], r[<span class="hljs-number">4</span>], r[<span class="hljs-number">5</span>], r[<span class="hljs-number">6</span>]); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == r[<span class="hljs-number">2</span>] &amp;&amp; d.<span class="hljs-title function_">getDate</span>() == r[<span class="hljs-number">3</span>] &amp;&amp; d.<span class="hljs-title function_">getHours</span>() == r[<span class="hljs-number">4</span>] &amp;&amp;</span><br><span class="language-javascript">                            d.<span class="hljs-title function_">getMinutes</span>() == r[<span class="hljs-number">5</span>] &amp;&amp; d.<span class="hljs-title function_">getSeconds</span>() == r[<span class="hljs-number">6</span>]) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (datePattern == <span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^(\\d+)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;)&quot;</span> + <span class="hljs-variable constant_">DATE_DELIMITER</span> + <span class="hljs-string">&quot;(\\d&#123;1,2&#125;) (\\d&#123;1,2&#125;):(\\d&#123;1,2&#125;):(\\d&#123;1,2&#125;).(\\d&#123;1,3&#125;)$&quot;</span>);</span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> r = value.<span class="hljs-title function_">match</span>(reg);</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;</span><br><span class="language-javascript">                        r[<span class="hljs-number">2</span>] = r[<span class="hljs-number">2</span>] - <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(r[<span class="hljs-number">1</span>], r[<span class="hljs-number">2</span>], r[<span class="hljs-number">3</span>], r[<span class="hljs-number">4</span>], r[<span class="hljs-number">5</span>], r[<span class="hljs-number">6</span>]); <span class="hljs-comment">//month start with zero in js</span></span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (d.<span class="hljs-title function_">getFullYear</span>() == r[<span class="hljs-number">1</span>] &amp;&amp; d.<span class="hljs-title function_">getMonth</span>() == r[<span class="hljs-number">2</span>] &amp;&amp; d.<span class="hljs-title function_">getDate</span>() == r[<span class="hljs-number">3</span>] &amp;&amp; d.<span class="hljs-title function_">getHours</span>() == r[<span class="hljs-number">4</span>] &amp;&amp;</span><br><span class="language-javascript">                            d.<span class="hljs-title function_">getMinutes</span>() == r[<span class="hljs-number">5</span>] &amp;&amp; d.<span class="hljs-title function_">getSeconds</span>() == r[<span class="hljs-number">6</span>]) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//if not support then continue;</span></span><br><span class="language-javascript">                    <span class="hljs-keyword">continue</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                    focusField = field;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                fields[i++] = oDate[x][<span class="hljs-number">1</span>];</span><br><span class="language-javascript">                isValid = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                <span class="hljs-title function_">jcv_custom_processFieldAfterValid</span>(isValid, field, fields, i - <span class="hljs-number">1</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (fields.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">jcv_handleErrors</span>(fields, focusField);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (testResult == <span class="hljs-literal">false</span>) &#123;</span><br><span class="language-javascript">            isValid = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> isValid;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Linux常用命令</title>
    <link href="/2022/10/15/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/10/15/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h1 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs gradle">cd <span class="hljs-regexp">/home/</span>test  <br>删缓存  rm -rf cache<span class="hljs-regexp">/ data/</span> logs<span class="hljs-regexp">/ tmp/</span> <br>启动脚本 sh start.sh<br>看日志：tail -<span class="hljs-number">1000</span>f out.log<br><span class="hljs-keyword">grep</span> -C <span class="hljs-number">2000</span> --color <span class="hljs-number">26201901360202000000000049</span> cxcb40_8714.out <br>获取进程端口号：fuser -n tcp <span class="hljs-number">8081</span><br>kill -<span class="hljs-number">9</span> 端口号<br>启动：<br>cd <span class="hljs-regexp">/home/</span>weblogic<span class="hljs-regexp">/Oracle/Mi</span>ddleware<span class="hljs-regexp">/user_projects/</span>domains/test_domain<br>nohup sh startWebLogic.sh  &amp;<br><br>测试环境redis<br>cd <span class="hljs-regexp">/home/</span>tomcat<span class="hljs-regexp">/redis/</span>bin<br>命令 ：   ./redis-server  redis.conf<br><br>./start.sh<br><br>zip -q -r test20200904.zip test/<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Windows脚本</title>
    <link href="/2022/10/15/%E6%8A%80%E6%9C%AF/Windows%E8%84%9A%E6%9C%AC/"/>
    <url>/2022/10/15/%E6%8A%80%E6%9C%AF/Windows%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<h1 id="Windows脚本"><a href="#Windows脚本" class="headerlink" title="Windows脚本"></a>Windows脚本</h1><h2 id="1-Windows-C盘清理脚本"><a href="#1-Windows-C盘清理脚本" class="headerlink" title="1. Windows C盘清理脚本"></a>1. Windows C盘清理脚本</h2><blockquote><p>cclear.bat</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell">@echo off<br> rem https://www.tangshanwei.com/n/29579.html<br> echo 正在清除系统垃圾文件，请稍等……<br> del /f /s /q %systemdrive%\*.tmp<br> del /f /s /q %systemdrive%\*._mp<br> del /f /s /q %systemdrive%\*.log<br> del /f /s /q %systemdrive%\*.gid<br> del /f /s /q %systemdrive%\*.chk<br> del /f /s /q %systemdrive%\*.old<br> del /f /s /q %systemdrive%\recycled\*.*<br> del /f /s /q %windir%\*.bak<br> del /f /s /q %windir%\prefetch\*.*<br> rd /s /q %windir%\temp &amp; md %windir%\temp<br> del /f /q %userprofile%\cookies\*.*<br> del /f /q %userprofile%\recent\*.*<br> del /f /s /q &quot;%userprofile%\Local Settings\Temporary Internet Files\*.*&quot;<br> del /f /s /q &quot;%userprofile%\Local Settings\Temp\*.*&quot;<br> del /f /s /q &quot;%userprofile%\recent\*.*&quot;<br> echo 一键清理系统垃圾完成！<br><br> echo. &amp; pause<br></code></pre></td></tr></table></figure><h2 id="2-cmd脚本示例"><a href="#2-cmd脚本示例" class="headerlink" title="2. cmd脚本示例"></a>2. cmd脚本示例</h2><blockquote><p>test.bat</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell">@echo off<br><br>::需要进行备份的源文件夹<br>set sourceDir=&quot;D:\Program Files\Minecraft\1.18.2\.minecraft\saves\&quot;<br>set outName=单人生存_1_18<br><br>set sourceDir=%sourceDir:~1%<br>echo %sourceDir%<br>set sourceDir=%sourceDir:~0,-1%<br>echo %sourceDir%<br>echo 输出: %sourceDir%%outName%%CURRENT_DATE_TIME_STRING%.zip<br><br>echo 执行完成!<br><br>echo 请选择需要备份文件夹，按3跳过<br>choice /C 123 /T 15 /D 3 /M &quot;1、单人生存_1_18  2、空岛生存  3、跳过(默认)&quot;<br><br>if errorlevel 1 set outName2=单人生存_1_18<br>if errorlevel 2 set outName2=空岛生存<br>if errorlevel 3 set outName2=单人生存_1_18<br><br>echo %outName2%<br><br>set CURRENT_DATE_STRING=%date:~0,4%%date:~5,2%%date:~8,2%<br>::echo CURRENT_DATE_STRING=%CURRENT_DATE_STRING%<br>set &quot;TIME_STRING_FILL_ZREO=%time: =0%&quot;<br>::echo TIME_STRING_FILL_ZREO=%TIME_STRING_FILL_ZREO%<br>set CURRENT_TIME_STRING=%TIME_STRING_FILL_ZREO:~0,2%%TIME_STRING_FILL_ZREO:~3,2%%TIME_STRING_FILL_ZREO:~6,2%<br>::echo CURRENT_TIME_STRING=%CURRENT_TIME_STRING%<br>set CURRENT_DATE_TIME_STRING=%CURRENT_DATE_STRING%%CURRENT_TIME_STRING%<br>::echo CURRENT_DATE_TIME_STRING=%CURRENT_DATE_TIME_STRING%<br><br>echo 输出: %sourceDir%%outName2%%CURRENT_DATE_TIME_STRING%.zip<br><br>pause<br></code></pre></td></tr></table></figure><h2 id="3-备份："><a href="#3-备份：" class="headerlink" title="3. 备份："></a>3. 备份：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs shell">@echo off<br><br>::需要进行备份的源文件夹<br>set sourceDir=&quot;D:\Program Files\Minecraft\1.18.2\.minecraft\saves\&quot;<br>set outName=单人生存_1_18<br><br>echo 请选择需要备份文件夹，按3跳过<br><br>set /p input=请选择一个喜欢的数字：<br><br>@REM choice /C 123 /T 15 /D 3 /M &quot;1、单人生存_1_18  2、空岛生存  3、跳过(默认)&quot;<br><br>@REM if errorlevel 1 set outName2=单人生存_1_18<br>@REM if errorlevel 2 set outName2=空岛生存<br>@REM if errorlevel 3 set outName2=单人生存_1_18<br><br>set outName2=单人生存_1_18<br>if %input%=1(<br>    set outName2=单人生存_1_18<br>) else if %input%=2(<br>    set outName2=空岛生存<br>) else if %input%=3(<br>    set outName2=单人生存_1_18<br>)<br><br>echo %outName2%<br><br>set CURRENT_DATE_STRING=%date:~0,4%%date:~5,2%%date:~8,2%<br>::echo CURRENT_DATE_STRING=%CURRENT_DATE_STRING%<br>set &quot;TIME_STRING_FILL_ZREO=%time: =0%&quot;<br>::echo TIME_STRING_FILL_ZREO=%TIME_STRING_FILL_ZREO%<br>set CURRENT_TIME_STRING=%TIME_STRING_FILL_ZREO:~0,2%%TIME_STRING_FILL_ZREO:~3,2%%TIME_STRING_FILL_ZREO:~6,2%<br>::echo CURRENT_TIME_STRING=%CURRENT_TIME_STRING%<br>set CURRENT_DATE_TIME_STRING=%CURRENT_DATE_STRING%%CURRENT_TIME_STRING%<br>::echo CURRENT_DATE_TIME_STRING=%CURRENT_DATE_TIME_STRING%<br><br>echo 输出: %sourceDir%%outName2%%CURRENT_DATE_TIME_STRING%.zip<br><br>pause<br></code></pre></td></tr></table></figure><h2 id="4-minecraft存档Windows备份脚本"><a href="#4-minecraft存档Windows备份脚本" class="headerlink" title="4. minecraft存档Windows备份脚本"></a>4. minecraft存档Windows备份脚本</h2><blockquote><p>minecraftzip.bat # bat格式</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs shell">@echo off<br>::需要进行备份的源文件夹<br>set sourceDir=&quot;D:\Program Files\Minecraft\1.18.2\.minecraft\saves\&quot;<br><br>echo 请选择需要备份文件夹，按3跳过<br>choice /C 123 /T 15 /D 3 /M &quot;1、单人生存_1_18  2、空岛生存  3、跳过(默认)&quot;<br><br>if errorlevel 1 set outName=单人生存_1_18<br>if errorlevel 2 set outName=空岛生存<br>if errorlevel 3 set outName=单人生存_1_18<br><br>::set outName=单人生存_1_18<br>cd D:\Program Files\Minecraft\1.18.2\.minecraft\saves<br><br>REM 压缩文件夹A 并以当前时间命名<br>set name=%date:0,4%%date:5,2%%date:8,2%%time:0,2%%time:3,2%%time:6,2%<br><br>set CURRENT_DATE_STRING=%date:~0,4%%date:~5,2%%date:~8,2%<br>::echo CURRENT_DATE_STRING=%CURRENT_DATE_STRING%<br>set &quot;TIME_STRING_FILL_ZREO=%time: =0%&quot;<br>::echo TIME_STRING_FILL_ZREO=%TIME_STRING_FILL_ZREO%<br>set CURRENT_TIME_STRING=%TIME_STRING_FILL_ZREO:~0,2%%TIME_STRING_FILL_ZREO:~3,2%%TIME_STRING_FILL_ZREO:~6,2%<br>::echo CURRENT_TIME_STRING=%CURRENT_TIME_STRING%<br>set CURRENT_DATE_TIME_STRING=%CURRENT_DATE_STRING%%CURRENT_TIME_STRING%<br>::echo CURRENT_DATE_TIME_STRING=%CURRENT_DATE_TIME_STRING%<br><br>echo 开始压缩...<br><br>7z a -tzip %sourceDir%%outName%%CURRENT_DATE_TIME_STRING%.zip %sourceDir%%outName%\*<br><br>::@echo 定位到待压缩的文件夹<br>::cd F:\数据压缩测试\0101C  <br>::@echo 使用7z先将1这个目录下的所有文件压缩为tar格式 <br>::&quot;C:\Program Files\7-Zip\7z.exe&quot; a -ttar F:\数据压缩测试\510101C.tar 1\*<br>::@echo 将压缩后的tar格式再压缩为gzip格式，最终得到需要的tar.gz格式 <br>::&quot;C:\Program Files\7-Zip\7z.exe&quot; a -tgzip F:\数据压缩测试\2016_1_510101C.tar.gz F:\数据压缩测试\510101C.tar<br>::@删除中间过程生成的文件<br>::del &quot;F:\数据压缩测试\510101C.tar&quot;<br><br>::在指定目录下删除过期的文件，参数-d后的数字表示要删除多少天以前的文件<br>::forfiles /p &quot;D:\Data\数据备份\Ftp_Back&quot; /m HanpuFtpBack* -d -7 /c &quot;cmd /c del /f ::@path&quot;<br><br>::start &quot;&quot; &quot;%~dp0v2rayB\v2ray.exe&quot;<br><br>set sourceDir=%sourceDir:~1%<br>set sourceDir=%sourceDir:~0,-1%<br>echo 文件压缩路径: %sourceDir%%outName%%CURRENT_DATE_TIME_STRING%.zip<br><br>echo 压缩完成!<br><br>pause<br></code></pre></td></tr></table></figure><h2 id="5-7z"><a href="#5-7z" class="headerlink" title="5. 7z"></a>5. 7z</h2><blockquote><p>参考：<a href="https://www.likecs.com/show-208495.html?sc=3300.302490234375">https://www.likecs.com/show-208495.html?sc=3300.302490234375</a></p><p><a href="https://blog.csdn.net/shadow_2011/article/details/120056749">https://blog.csdn.net/shadow_2011/article/details/120056749</a></p></blockquote><p>7zip也是目前为止使用非常普遍的一种压缩程序，它的压缩、解压缩效率高，而且没有广告，是免费工具。它不是Windows系统自带的，所以要调用它之前得确认是否安装了7zip，如果没有安装则自行下载安装即可。7zip下载地址：<a href="https://sparanoid.com/lab/7z/">https://sparanoid.com/lab/7z/</a></p><p>bat调用7zip压缩实例：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@echo</span> 定位到待压缩的文件夹<br>cd <span class="hljs-attribute">F</span>:\数据压缩测试\<span class="hljs-number">0101</span>C  <br><span class="hljs-variable">@echo</span> 使用<span class="hljs-number">7</span>z先将<span class="hljs-number">1</span>这个目录下的所有文件压缩为tar格式 <br><span class="hljs-string">&quot;C:\Program Files\7-Zip\7z.exe&quot;</span> a -ttar <span class="hljs-attribute">F</span>:\数据压缩测试\<span class="hljs-number">510101</span>C.tar <span class="hljs-number">1</span>\*<br><span class="hljs-variable">@echo</span> 将压缩后的tar格式再压缩为gzip格式，最终得到需要的tar.gz格式 <br><span class="hljs-string">&quot;C:\Program Files\7-Zip\7z.exe&quot;</span> a -tgzip <span class="hljs-attribute">F</span>:\数据压缩测试\<span class="hljs-number">2016</span>_1_510101C.tar.gz <span class="hljs-attribute">F</span>:\数据压缩测试\<span class="hljs-number">510101</span>C.tar<br>@删除中间过程生成的文件<br>del <span class="hljs-string">&quot;F:\数据压缩测试\510101C.tar&quot;</span><br></code></pre></td></tr></table></figure><p>bat调用7zip解压实例一：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs routeros">@echo off<br>setlocal enabledelayedexpansion<br>echo please make sure you are admin！<br>echo 执行此脚本前，请确认已经安装解压缩程序7-Zip<br>:::::::::: 配置参数 ::::::::::<br>::解压程序WinRAR.exe所在目录 32位%ProgramFiles(x86)% 或64位 %ProgramFiles%<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">7ZipDir</span>=%ProgramFiles%\7-Zip<br><br>REM 当前目录下用来测试的压缩包<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">plegodemo</span>=plegodemo.zip<br><br>:: 解压<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">curdir</span>=%~dp0<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">deploydir</span>=E:\mytest<br><span class="hljs-built_in">set</span> <span class="hljs-string">&quot;plegodemodir=!plegodemo:.zip=!&quot;</span><br>:: C:\01_MyApp\7-Zip\7z.exe x newPack.zip -oc:\Doc -aoa<br>start /wait <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;!7ZipDir!\7z.exe&quot;</span> x !curdir!!plegodemo! -o!deploydir!\!plegodemodir!\ -aoa<br><br>:: 压缩<br><span class="hljs-built_in">set</span> <span class="hljs-string">&quot;name=%date:~0,4%%date:~5,2%%date:~8,2%%time:~0,2%%time:~3,2%%time:~6,2%&quot;</span><br>:: C:\01_MyApp\7-Zip\7z.exe a -t7z newPack.7z <span class="hljs-string">&quot;F:\14_newWork\7z\testDoc\*&quot;</span> -r <span class="hljs-attribute">-mx</span>=9 <span class="hljs-attribute">-m0</span>=LZMA2 <span class="hljs-attribute">-ms</span>=10m <span class="hljs-attribute">-mf</span>=on <span class="hljs-attribute">-mhc</span>=on <span class="hljs-attribute">-mmt</span>=on <br>start /wait <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;!7ZipDir!\7z.exe&quot;</span> a -tzip !deploydir!\!plegodemodir!_%name%.zip <span class="hljs-string">&quot;C:\inetpub\*&quot;</span> -r <span class="hljs-attribute">-mx</span>=9 <br></code></pre></td></tr></table></figure><p>用7z来解压.tar.gz</p><p>7 zip软件可以实现文件的压缩和解压缩，如果使用7z.exe对tar.gz文件进行解压缩，需要经过两次解压，第一次解压成tar文件，再解压一次生成源文件，例如test.tar.gz解压一次生成test.tar。再次解压生成test</p><h2 id="6-batch"><a href="#6-batch" class="headerlink" title="6. batch"></a>6. batch</h2><blockquote><p><a href="http://www.dzwebs.net/837.html">http://www.dzwebs.net/837.html</a></p></blockquote><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs gams">http:<span class="hljs-comment">//www.dzwebs.net/837.html</span><br><br>Windows命令行Dos命令截取变量字符串一定长度的详细说明<br><br>@echo off<br><span class="hljs-keyword">set</span> str=123456789<br>echo 第一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,1%</span><br>echo 头两个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,2%</span><br>echo 头<span class="hljs-comment">5</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,5%</span><br>echo 去掉最后一个字符后的字符串为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,-1%</span><br>echo 去掉最后<span class="hljs-comment">3</span>个字符后的字符串为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,-3%</span><br>echo 第<span class="hljs-comment">4</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">3,1%</span><br>echo 第<span class="hljs-comment">4</span>个及其之后的<span class="hljs-comment">3</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">3,4%</span><br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1%</span><br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1,1%</span><br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1,2%</span><br>echo 倒数第<span class="hljs-comment">4</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,1%</span><br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4%</span><br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的<span class="hljs-comment">1</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,2%</span><br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的<span class="hljs-comment">2</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,3%</span><br>pause<br>为了说明这个问题,我在这里把批处理取字符,做下进一步的解释,希望对新手有所启发<br>如下:<br>echo <span class="hljs-comment">%var:</span>~<span class="hljs-comment">n,k%</span><br>我们在这里对每个参数做个说明:<span class="hljs-string">&quot;%var&quot;</span>,即我们要从中要截取字符的字符串.<span class="hljs-string">&quot; ~ &quot;</span>取字<br>符标志符(我是这么理解的),<span class="hljs-string">&quot;n&quot;</span> 我们将其理解为指针,<span class="hljs-string">&quot;k&quot;</span>我们将其理解为偏移地址.(注<br>:指针和偏移地址都是从零开始数的)<br><br>我们还是用namejm版主的例子做下说明:<br>@echo <span class="hljs-comment">off</span><br><span class="hljs-keyword">set</span> <span class="hljs-comment">str=123456789</span><br>rem 定义一个<span class="hljs-comment">str</span>字符串为<span class="hljs-comment">123456789</span><br>echo 第一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,1%</span><br>rem 指针为<span class="hljs-comment">0,</span>偏移地址为<span class="hljs-comment">1,</span>即从第<span class="hljs-comment">0</span>位开始<span class="hljs-comment">,</span>取<span class="hljs-comment">1</span>位<br>echo 头两个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,2%</span><br>rem 指针为<span class="hljs-comment">0,</span>偏移地址为<span class="hljs-comment">2,</span>即从第<span class="hljs-comment">0</span>位开始<span class="hljs-comment">,</span>取<span class="hljs-comment">2</span>位<br>echo 头<span class="hljs-comment">5</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,5%</span><br>rem    指针为<span class="hljs-comment">0,</span>偏移地址为<span class="hljs-comment">5,</span>即从第<span class="hljs-comment">0</span>位开始<span class="hljs-comment">,</span>取<span class="hljs-comment">5</span>位<br>echo 去掉最后一个字符后的字符串为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,-1%</span><br>rem 当<span class="hljs-comment">&quot;k&quot;</span>为负值时<span class="hljs-comment">,</span>我们可以这样理解<span class="hljs-comment">:</span>从指针开始处开始取其后面所有字符<span class="hljs-comment">,</span>然后减去<br>后面<span class="hljs-string">&quot;abs(k)位&quot;</span>..所以这个句字我们可以做如下解释:从第0位开始取其全部字符<br>为:123456789然后从后面减去abs(k)位,所以最后结果为:12345678<br><br>echo 去掉最后<span class="hljs-comment">3</span>个字符后的字符串为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">0,-3%</span><br>rem    该句解释同上↑<br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1%</span><br>rem    参数<span class="hljs-comment">&quot;n,&quot;</span>和<span class="hljs-comment">&quot;k&quot;</span>都可以为缺省<span class="hljs-comment">,</span>缺省<span class="hljs-comment">&quot;n,&quot;</span>时可以理解为<span class="hljs-comment">:</span>从<span class="hljs-comment">abs(k)</span>位开始取其全部<br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4%</span><br>rem    解释同上↑<br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1,1%</span><br>rem    <span class="hljs-comment">n</span>为负值时<span class="hljs-comment">,</span>表示从后面开始截取字符<span class="hljs-comment">,</span>取<span class="hljs-comment">k</span>位<span class="hljs-comment">(</span>此时<span class="hljs-comment">n</span>应从<span class="hljs-comment">1</span>开始数<span class="hljs-comment">)</span><br>echo 最后一个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-1,2%</span><br>rem    解释同上↑<br>echo 倒数第<span class="hljs-comment">4</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,1%</span><br>rem    解释同上↑<br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的<span class="hljs-comment">1</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,2%</span><br>rem    解释同上↑<br>echo 倒数第<span class="hljs-comment">4</span>个及其之后的<span class="hljs-comment">2</span>个字符为：<span class="hljs-comment">%str:</span>~<span class="hljs-comment">-4,3%</span><br>rem 解释同上↑<br><br>pause<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-meta">:: 示例:</span> 压缩文件<br><br></code></pre></td></tr></table></figure><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs dos">:: 示例: 练习截取<br>@<span class="hljs-built_in">echo</span> off<br><br>::需要进行备份的源文件夹<br><span class="hljs-built_in">set</span> sourceDir=&quot;D:\Program Files\Minecraft\<span class="hljs-number">1</span>.<span class="hljs-number">18</span>.<span class="hljs-number">2</span>\.minecraft\saves\&quot;<br><span class="hljs-built_in">set</span> outName=单人生存_1_18<br><span class="hljs-built_in">set</span> CURRENT_DATE_STRING=<span class="hljs-variable">%date:~0,4%</span><span class="hljs-variable">%date:~5,2%</span><span class="hljs-variable">%date:~8,2%</span><br>::<span class="hljs-built_in">echo</span> CURRENT_DATE_STRING=<span class="hljs-variable">%CURRENT_DATE_STRING%</span><br><span class="hljs-built_in">set</span> &quot;TIME_STRING_FILL_ZREO=%<span class="hljs-built_in">time</span>: =<span class="hljs-number">0</span>%&quot;<br>::<span class="hljs-built_in">echo</span> TIME_STRING_FILL_ZREO=<span class="hljs-variable">%TIME_STRING_FILL_ZREO%</span><br><span class="hljs-built_in">set</span> CURRENT_TIME_STRING=<span class="hljs-variable">%TIME_STRING_FILL_ZREO:~0,2%</span><span class="hljs-variable">%TIME_STRING_FILL_ZREO:~3,2%</span><span class="hljs-variable">%TIME_STRING_FILL_ZREO:~6,2%</span><br>::<span class="hljs-built_in">echo</span> CURRENT_TIME_STRING=<span class="hljs-variable">%CURRENT_TIME_STRING%</span><br><span class="hljs-built_in">set</span> CURRENT_DATE_TIME_STRING=<span class="hljs-variable">%CURRENT_DATE_STRING%</span><span class="hljs-variable">%CURRENT_TIME_STRING%</span><br>::<span class="hljs-built_in">echo</span> CURRENT_DATE_TIME_STRING=<span class="hljs-variable">%CURRENT_DATE_TIME_STRING%</span><br><span class="hljs-built_in">echo</span> 输出: <span class="hljs-variable">%sourceDir%</span><span class="hljs-variable">%outName%</span><span class="hljs-variable">%CURRENT_DATE_TIME_STRING%</span>.zip<br><br><span class="hljs-built_in">set</span> sourceDir=<span class="hljs-variable">%sourceDir:~1%</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">%sourceDir%</span><br><span class="hljs-built_in">set</span> sourceDir=<span class="hljs-variable">%sourceDir:~0,-1%</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">%sourceDir%</span><br><span class="hljs-built_in">echo</span> 输出: <span class="hljs-variable">%sourceDir%</span><span class="hljs-variable">%outName%</span><span class="hljs-variable">%CURRENT_DATE_TIME_STRING%</span>.zip<br><br><span class="hljs-built_in">echo</span> 执行完成!<br><br><span class="hljs-built_in">pause</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>下载Youtube视频和字幕</title>
    <link href="/2022/09/27/%E6%8A%80%E6%9C%AF/%E4%B8%8B%E8%BD%BDYoutube%E8%A7%86%E9%A2%91%E5%92%8C%E5%AD%97%E5%B9%95/"/>
    <url>/2022/09/27/%E6%8A%80%E6%9C%AF/%E4%B8%8B%E8%BD%BDYoutube%E8%A7%86%E9%A2%91%E5%92%8C%E5%AD%97%E5%B9%95/</url>
    
    <content type="html"><![CDATA[<blockquote><p>原文:<a href="https://www.ccava.cc/201.html">https://www.ccava.cc/201.html</a></p><p>教程：<a href="https://www.jianshu.com/p/6bae57859325%EF%BC%882021%E5%B9%B42%E6%9C%887%E6%97%A5%EF%BC%89">https://www.jianshu.com/p/6bae57859325（2021年2月7日）</a></p></blockquote><h1 id="一、第三方网站下载"><a href="#一、第三方网站下载" class="headerlink" title="一、第三方网站下载"></a>一、第三方网站下载</h1><p>① <a href="http://www.clipconverter.cc/">www.clipconverter.cc</a></p><p>优点：懒人专用，音频和视频可分开下载，也可以合并再下载，可以直接下载4K视频<br>缺点：下载不方便，需要第三方支持。</p><p>② <a href="http://keepvid.com/">http://keepvid.com</a><br>可下载字幕和最高720P的视频</p><p>③<a href="http://en.savefrom.net/">http://en.savefrom.net</a><br>优点：可以下载其他很多网站的视频 （可下载油猴插件）  缺点：不能下载4K视频。</p><h1 id="二、浏览器内置脚本下载"><a href="#二、浏览器内置脚本下载" class="headerlink" title="二、浏览器内置脚本下载"></a>二、浏览器内置脚本下载</h1><p>优点：方便一键下载<br>缺点：安装需要一定的动手能力</p><p>① 安装 Chrome 浏览器 + Tampermonkey 扩展<br>程序一定要安装到 Tampermonkey 里面，而不是作为 Chrome 扩展安装。<br>“安装到 Tampermonkey 里”的意思是：先安装 Tampermonkey ，然后再点击下面脚本。<br>而不是直接去点脚本链接。<br>Tampermonkey 官网：Tampermonkey</p><p>说明：Firefox + Greasemonkey 扩展 ，Windows, Mac, Linux 均可使用，和操作系统无关。只要用 Chrome 浏览器就行<br>② 搜索脚本，安装即可<br>关于 Tampermonkey的更加强大的玩法请跳转至：</p><p>Chrome浏览器插件推荐：强大的脚本管理器Tampermonkey</p><p>还有一个脚本也不错，但是只能下载视频，点击安装即可：</p><p><a href="https://greasyfork.org/scripts/1317-download-youtube-videos-as-mp4/code/Download%20YouTube%20Videos%20as%20MP4.user.js">https://greasyfork.org/scripts/1317-download-youtube-videos-as-mp4/code/Download%20YouTube%20Videos%20as%20MP4.user.js</a></p><h1 id="三、在-YouTube-網址後面加上-my-就能快速下載（2021年6月27日可用）"><a href="#三、在-YouTube-網址後面加上-my-就能快速下載（2021年6月27日可用）" class="headerlink" title="三、在 YouTube 網址後面加上 my 就能快速下載（2021年6月27日可用）"></a>三、在 YouTube 網址後面加上 my 就能快速下載（2021年6月27日可用）</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">示例：<br>https:<span class="hljs-regexp">//</span>www.youtube.com/watch?v=nFQKvjM9HCw<br>——&gt; https:<span class="hljs-regexp">//</span>www.youtubemy.com/watch?v=nFQKvjM9HCw<br></code></pre></td></tr></table></figure><h2 id="STEP-1"><a href="#STEP-1" class="headerlink" title="STEP 1"></a>STEP 1</h2><p>開啟 Youtubemy 網站，把要下載的 YouTube 影片網址複製、貼上，點選下方的藍色按鈕「Start」即可獲取影片擷圖和下載按鈕。</p><p>前面有提到，要透過 Youtubemy 下載影片的另一個方法是直接於 YouTube 網址後面加上「my」快速打開下載頁面，改了網址後就能直接跳轉到影片下載功能。</p><h2 id="STEP-2"><a href="#STEP-2" class="headerlink" title="STEP 2"></a>STEP 2</h2><p>在 Youtubemy 抓取到影片擷圖後，點選影片下方的「Download」按鈕就能開始下載保存影片的 Mp4 格式。</p><p>通常瀏覽器會直接跳出下載提示畫面，只要確認或選擇要保存檔案的路徑就能完成操作，其實相當簡單，另一好處是 Youtubemy 或類似線上工具在使用上無須額外下載或安裝軟體，只要透過瀏覽器就能完成，另一方面也符合跨平台的特性。</p><p>值得一試的三個理由：<br>無須安裝軟體，透過瀏覽器即可保存 YouTube 影片<br>下載影片 Mp4 格式可離線觀賞<br>直接於網址後面加上 my 快速開啟下載功能</p><h1 id="四、利用Youtube-dl下载（专业人士观看）"><a href="#四、利用Youtube-dl下载（专业人士观看）" class="headerlink" title="四、利用Youtube-dl下载（专业人士观看）"></a>四、利用Youtube-dl下载（专业人士观看）</h1><p>优点：速度最快，可在线观看，可离线下载，可下载200多种网站视频</p><p>缺点：需要一定的服务器操作基础</p><h2 id="1-Linux系统安装："><a href="#1-Linux系统安装：" class="headerlink" title="1. Linux系统安装："></a>1. Linux系统安装：</h2><p>以下下载安装方式选择一个就行了:</p><p>sudo curl -L <a href="https://yt-dl.org/downloads/2016.07.13/youtube-dl">https://yt-dl.org/downloads/2016.07.13/youtube-dl</a> -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;youtube-dl<br>sudo chmod a+rx &#x2F;usr&#x2F;local&#x2F;bin&#x2F;youtube-dl</p><p>如果你的vps没有安装 curl ，可以使用 wget 来下载。</p><p>sudo wget <a href="https://yt-dl.org/downloads/2016.07.13/youtube-dl">https://yt-dl.org/downloads/2016.07.13/youtube-dl</a> -O &#x2F;usr&#x2F;local&#x2F;bin&#x2F;youtube-dl<br>sudo chmod a+rx &#x2F;usr&#x2F;local&#x2F;bin&#x2F;youtube-dl</p><p>当然你也可以用pip来安装，如果你没有pip就先安装pip， apt-get install python-pip -y</p><p>sudo pip install –upgrade youtube_dl</p><p>基础功能介绍<br>Youtube-dl的官网是：<a href="http://rg3.github.io/youtube-dl/">http://rg3.github.io/youtube-dl/</a></p><p>Github项目地址是：<a href="https://github.com/rg3/youtube-dl">https://github.com/rg3/youtube-dl</a></p><p>在这里都能看到最新最全的youtube-dl信息。</p><p>Youtube-dl支持八百多家视频网站，具体列表可以看这里：<a href="http://rg3.github.io/youtube-dl/supportedsites.html">http://rg3.github.io/youtube-dl/supportedsites.html</a> ，优酷、爱奇艺等国内视频网站也是支持的。 <br>下载视频<br>以下教程均以 这个youtube视频链接为例 <a href="https://www.youtube.com/watch?v=jK5coaM2X9g">https://www.youtube.com/watch?v=jK5coaM2X9g</a></p><p>最基础的下载视频的方法很简单，直接</p><p>youtube-dl URL youtube-dl <a href="https://www.youtube.com/watch?v=jK5coaM2X9g">https://www.youtube.com/watch?v=jK5coaM2X9g</a></p><p>这样就会自动选择一个最好的视频格式和清晰度下载到 当前的文件夹 了。</p><p>如果想把这个视频的所有格式都下载下来怎么办？</p><p>下载全部格式</p><p>youtube-dl –all-formats <a href="https://www.youtube.com/watch?v=jK5coaM2X9g">https://www.youtube.com/watch?v=jK5coaM2X9g</a><br>–all-formats</p><p>添加这个参数之后，所有存在的格式全部下载</p><p>具体操作方法请参考：使用Youtube-dl离线下载YouTube视频并且VPS上在线观看</p><p> <a href="https://www.youtube.com/watch?v=qLFeijbLGgg&amp;list=PLWOOq0tRT6x7AVYw4UoEgR7LBcPYMw5ag&amp;index=2">https://www.youtube.com/watch?v=qLFeijbLGgg&amp;list=PLWOOq0tRT6x7AVYw4UoEgR7LBcPYMw5ag&amp;index=2</a></p><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p><p><a href="https://blog.csdn.net/qq_46064078/article/details/124791802">https://blog.csdn.net/qq_46064078/article/details/124791802</a></p><p>配置CMD命令行</p><p>临时生效</p><p>如果只是暂时使用代理，你可以在windows的cmd命令行中，执行下面命令：</p><h2 id="2-使用sock5代理"><a href="#2-使用sock5代理" class="headerlink" title="2. 使用sock5代理"></a>2. 使用sock5代理</h2><p>set http_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:10808<br>set https_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:10808</p><p> 如果你要取消设置：<br>set http_proxy&#x3D;<br>set https_proxy&#x3D;</p><p>临时生效方案中，当你关闭cmd，再次打开时，之前的设置将会失效，代理依然使用不了。</p><p>长期生效</p><p>为了每次打开cmd，cmd都使用代理，那么，可以通过设置系统环境变量的方式，进行设置。右键  我的电脑 -&gt;  属性 -&gt;  高级系统设置 -&gt;  高级 -&gt;  环境变量 ，然后在  系统环境 中，新建两个系统环境变量，变量名称分别为  https_proxy 和  http_proxy ，值为  https_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:10808 ：</p><p>然后重启cmd命令行，使用  curl <a href="http://www.google.com/">www.google.com</a> ，如果有内容返回，说明设置成功（不可以是 ping 命令进行测试）。 </p><p>转载链接：<a href="https://www.jianshu.com/p/1c37903dd09d">https://www.jianshu.com/p/1c37903dd09d</a></p>]]></content>
    
    
    <categories>
      
      <category>YouTube</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PLSQL学习</title>
    <link href="/2022/09/27/%E6%95%B0%E6%8D%AE%E5%BA%93/PLSQL%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/09/27/%E6%95%B0%E6%8D%AE%E5%BA%93/PLSQL%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="PLSQL学习"><a href="#PLSQL学习" class="headerlink" title="PLSQL学习"></a>PLSQL学习</h1><h2 id="一、程序结构"><a href="#一、程序结构" class="headerlink" title="一、程序结构"></a>一、程序结构</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">declare</span> <br>  <br><span class="hljs-keyword">begin</span><br>  <br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h2 id="二、赋值"><a href="#二、赋值" class="headerlink" title="二、赋值"></a>二、赋值</h2><ol><li><p>直接赋值</p><p>:&#x3D;</p></li><li><p>语句赋值</p><p>select x into y from z;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 打印人员个人信息，包括：姓名、薪水、地址</span><br><span class="hljs-keyword">declare</span> <br>  <span class="hljs-comment">-- 姓名</span><br>  v_name varchar2(<span class="hljs-number">20</span>) :<span class="hljs-operator">=</span> <span class="hljs-string">&#x27;张三&#x27;</span>;<br>  <span class="hljs-comment">-- 薪水</span><br>  v_sal number;<br>  <span class="hljs-comment">-- 地址</span><br>  v_addr varchar2(<span class="hljs-number">200</span>);<br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- 直接赋值</span><br>  v_sal :<span class="hljs-operator">=</span> <span class="hljs-number">500</span>;<br><br>  <span class="hljs-comment">-- 语句赋值</span><br>  <span class="hljs-keyword">select</span> <span class="hljs-string">&#x27;北京&#x27;</span> <span class="hljs-keyword">into</span> v_addr <span class="hljs-keyword">from</span> dual;<br><br>  <span class="hljs-comment">-- 打印输出</span><br>  dbms_output.put_line(<span class="hljs-string">&#x27;姓名：&#x27;</span> <span class="hljs-operator">||</span> v_name <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;, 薪水：&#x27;</span> <span class="hljs-operator">||</span> v_sal <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;, 地址：&#x27;</span> <span class="hljs-operator">||</span> v_addr);<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><ol start="3"><li>普通变量</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 打印人员个人信息，包括：姓名、薪水、地址</span><br><span class="hljs-keyword">declare</span> <br>  <span class="hljs-comment">-- 姓名</span><br>  v_name varchar2(<span class="hljs-number">20</span>) :<span class="hljs-operator">=</span> <span class="hljs-string">&#x27;张三&#x27;</span>;<br>  <span class="hljs-comment">-- 薪水</span><br>  v_sal number;<br>  <span class="hljs-comment">-- 地址</span><br>  v_addr varchar2(<span class="hljs-number">200</span>);<br><span class="hljs-keyword">begin</span><br><br>  <span class="hljs-comment">-- 语句赋值</span><br>  <span class="hljs-keyword">SELECT</span> ename, sal <span class="hljs-keyword">into</span> v_name, v_sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> empno <span class="hljs-operator">=</span> <span class="hljs-number">7839</span>;<br><br>  <span class="hljs-comment">-- 打印输出</span><br>  dbms_output.put_line(<span class="hljs-string">&#x27;姓名：&#x27;</span> <span class="hljs-operator">||</span> v_name <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;, 薪水：&#x27;</span> <span class="hljs-operator">||</span> v_sal <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;, 地址：&#x27;</span> <span class="hljs-operator">||</span> v_addr);<br><br><span class="hljs-keyword">end</span>;<br><br></code></pre></td></tr></table></figure><ol start="4"><li>引用型变量</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 打印人员个人信息，包括：姓名、薪水、地址</span><br><span class="hljs-keyword">declare</span> <br>  <span class="hljs-comment">-- 姓名</span><br>  v_name emp.ename<span class="hljs-operator">%</span>type;<br>  <span class="hljs-comment">-- 薪水</span><br>  v_sal emp.sal<span class="hljs-operator">%</span>type;<br>  <span class="hljs-comment">-- 地址</span><br>  v_addr varchar2(<span class="hljs-number">200</span>);<br><span class="hljs-keyword">begin</span><br><br>  <span class="hljs-comment">-- 语句赋值</span><br>  <span class="hljs-keyword">SELECT</span> ename, sal <span class="hljs-keyword">into</span> v_name, v_sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> empno <span class="hljs-operator">=</span> <span class="hljs-number">7839</span>;<br><br>  <span class="hljs-comment">-- 打印输出</span><br>  dbms_output.put_line(<span class="hljs-string">&#x27;姓名：&#x27;</span> <span class="hljs-operator">||</span> v_name <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;, 薪水：&#x27;</span> <span class="hljs-operator">||</span> v_sal);<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><ol start="5"><li>记录型变量</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sq">-- 打印人员个人信息，包括：姓名、薪水、地址<br>declare <br>  -- 记录型变量<br>  v_emp emp%rowtype;<br><br>begin<br><br>  -- 语句赋值<br>  SELECT * into v_emp from emp where empno = 7839;<br><br>  -- 打印输出<br>  dbms_output.put_line(&#x27;姓名：&#x27; || v_emp.ename || &#x27;, 薪水：&#x27; || v_emp.sal);<br><br>end;<br></code></pre></td></tr></table></figure><h2 id="三、流程控制"><a href="#三、流程控制" class="headerlink" title="三、流程控制"></a>三、流程控制</h2><h3 id="1-if-else"><a href="#1-if-else" class="headerlink" title="1. if else"></a>1. if else</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">begin</span><br>if 条件 <span class="hljs-keyword">then</span> 执行<span class="hljs-number">1</span><br> elseif 条件<span class="hljs-number">2</span> <span class="hljs-keyword">then</span> 执行<span class="hljs-number">2</span><br> <span class="hljs-keyword">else</span> 执行<span class="hljs-number">3</span><br><span class="hljs-keyword">end</span> if;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 判断emp表中记录是否超过20条，10-20之间，或者10条以下</span><br><span class="hljs-keyword">declare</span><br>   <span class="hljs-comment">-- 声明变量接收emp中的数量</span><br>   v_count number;<br><br><span class="hljs-keyword">begin</span><br>   <span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) <span class="hljs-keyword">into</span> v_count <span class="hljs-keyword">from</span> emp;<br>   if v_count <span class="hljs-operator">&gt;</span> <span class="hljs-number">20</span> <span class="hljs-keyword">then</span><br>      dbms_output.put_line(<span class="hljs-string">&#x27;emp表中的记录超过了20条，为&#x27;</span> <span class="hljs-operator">||</span> v_count <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;条&#x27;</span>);<br>   elsif v_count <span class="hljs-operator">&gt;=</span> <span class="hljs-number">10</span> <span class="hljs-keyword">then</span><br>      dbms_output.put_line(<span class="hljs-string">&#x27;emp表中的记录超过了10-20条之间，为&#x27;</span> <span class="hljs-operator">||</span> v_count <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;条&#x27;</span>);<br>   <span class="hljs-keyword">else</span><br>      dbms_output.put_line(<span class="hljs-string">&#x27;emp表中的记录为10条以下，为&#x27;</span> <span class="hljs-operator">||</span> v_count <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;条&#x27;</span>);<br>   <span class="hljs-keyword">end</span> if;<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h3 id="2-when"><a href="#2-when" class="headerlink" title="2. when"></a>2. when</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 打印数字1-10</span><br><span class="hljs-keyword">declare</span><br>   <span class="hljs-comment">-- 声明循环变量</span><br>   v_num number :<span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">begin</span><br>   loop<br>   <br>   exit <span class="hljs-keyword">when</span> v_num <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span>;<br>   <br>   dbms_output.put_line(v_num);<br>   <br>   <span class="hljs-comment">-- 循环变量的自增</span><br>   v_num :<span class="hljs-operator">=</span> v_num <span class="hljs-operator">+</span> <span class="hljs-number">1</span>;<br>   <br>   <span class="hljs-keyword">end</span> loop;<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h2 id="四、游标"><a href="#四、游标" class="headerlink" title="四、游标"></a>四、游标</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><p>用于存储一个查询返回的多行数据（结果集，类似于java的JDBC连接返回的ResultSet集合），通过遍历游标，可以逐行访问处理该结果集的数据。</p><p>游标的使用方式：声明–&gt;打开–&gt;读取–&gt;关闭</p><h3 id="2-语法"><a href="#2-语法" class="headerlink" title="2. 语法"></a>2. 语法</h3><h4 id="1-声明"><a href="#1-声明" class="headerlink" title="1) 声明"></a>1) 声明</h4><p>cursor 游标名[(参数列表)] is 查询语句;</p><h4 id="2-打开"><a href="#2-打开" class="headerlink" title="2) 打开"></a>2) 打开</h4><p>open 游标名;</p><h4 id="3-取值"><a href="#3-取值" class="headerlink" title="3) 取值"></a>3) 取值</h4><p>fetch 游标名 into 变量列表;</p><h4 id="4-关闭"><a href="#4-关闭" class="headerlink" title="4) 关闭"></a>4) 关闭</h4><p>close 游标名;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 使用游标查询emp表中所有员工的姓名和工资，并将其依次打印出来。</span><br><span class="hljs-keyword">declare</span><br>   <span class="hljs-comment">-- 声明游标</span><br>   <span class="hljs-keyword">cursor</span> c_emp <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> ename, sal <span class="hljs-keyword">from</span> emp;<br>   <br>   <span class="hljs-comment">-- 声明变量接收游标中的数据</span><br>   v_ename emp.ename<span class="hljs-operator">%</span>type;<br>   v_sal emp.sal<span class="hljs-operator">%</span>type;<br><br><span class="hljs-keyword">begin</span><br><br>   <span class="hljs-comment">-- 打开游标</span><br>   <span class="hljs-keyword">open</span> c_emp;<br>   <br>   <span class="hljs-comment">-- 遍历游标</span><br>   loop<br>   <br>   <span class="hljs-comment">-- 获取游标中的数据</span><br>   <span class="hljs-keyword">fetch</span> c_emp <span class="hljs-keyword">into</span> v_ename, v_sal;<br>   <br>   <span class="hljs-comment">-- 退出循环条件</span><br>   exit <span class="hljs-keyword">when</span> c_emp<span class="hljs-operator">%</span>notfound;<br>   <br>   dbms_output.put_line(v_ename <span class="hljs-operator">||</span> <span class="hljs-string">&#x27; - &#x27;</span> <span class="hljs-operator">||</span> v_sal);<br>   <br>   <span class="hljs-keyword">end</span> loop;<br>   <br>   <span class="hljs-comment">-- 关闭游标</span><br>   <span class="hljs-keyword">close</span> c_emp;<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h3 id="带参数的游标"><a href="#带参数的游标" class="headerlink" title="带参数的游标"></a>带参数的游标</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 使用游标查询并打印某部分的员工的姓名和薪资，部门编号为运行时手动输入。</span><br><span class="hljs-keyword">declare</span><br>   <span class="hljs-comment">-- 声明游标</span><br>   <span class="hljs-keyword">cursor</span> c_emp(v_deptno emp.deptno<span class="hljs-operator">%</span>type) <span class="hljs-keyword">is</span> <span class="hljs-keyword">select</span> ename, sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> deptno <span class="hljs-operator">=</span> v_deptno;<br>   <br>   <span class="hljs-comment">-- 声明变量接收游标中的数据</span><br>   v_ename emp.ename<span class="hljs-operator">%</span>type;<br>   v_sal emp.sal<span class="hljs-operator">%</span>type;<br><br><span class="hljs-keyword">begin</span><br><br>   <span class="hljs-comment">-- 打开游标</span><br>   <span class="hljs-keyword">open</span> c_emp(<span class="hljs-number">10</span>);<br>   <br>   <span class="hljs-comment">-- 遍历游标</span><br>   loop<br>   <br>   <span class="hljs-comment">-- 获取游标中的数据</span><br>   <span class="hljs-keyword">fetch</span> c_emp <span class="hljs-keyword">into</span> v_ename, v_sal;<br>   <br>   <span class="hljs-comment">-- 退出循环条件</span><br>   exit <span class="hljs-keyword">when</span> c_emp<span class="hljs-operator">%</span>notfound;<br>   <br>   dbms_output.put_line(v_ename <span class="hljs-operator">||</span> <span class="hljs-string">&#x27; - &#x27;</span> <span class="hljs-operator">||</span> v_sal);<br>   <br>   <span class="hljs-keyword">end</span> loop;<br>   <br>   <span class="hljs-comment">-- 关闭游标</span><br>   <span class="hljs-keyword">close</span> c_emp;<br><br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h2 id="五、存储过程"><a href="#五、存储过程" class="headerlink" title="五、存储过程"></a>五、存储过程</h2><h3 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1. 概念"></a>1. 概念</h3><h3 id="2-语法-1"><a href="#2-语法-1" class="headerlink" title="2. 语法"></a>2. 语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> 过程名称[(参数列表)] <span class="hljs-keyword">is</span><br><span class="hljs-keyword">begin</span><br><br><span class="hljs-keyword">end</span> [过程名称]<br></code></pre></td></tr></table></figure><h3 id="3-无参存储过程"><a href="#3-无参存储过程" class="headerlink" title="3. 无参存储过程"></a>3. 无参存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> p_hello <span class="hljs-keyword">as</span> <span class="hljs-comment">-- is和as可以互用</span><br><span class="hljs-comment">-- 声明变量</span><br><span class="hljs-keyword">begin</span><br>dbms_output.put_line(<span class="hljs-string">&#x27;hello, world&#x27;</span>);<br><span class="hljs-keyword">end</span> p_hello;<br><br><span class="hljs-comment">-- 调用</span><br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- plsql调用存储过程</span><br>  p_hello;<br><span class="hljs-keyword">end</span>;<br><br><span class="hljs-comment">-- sqlplus窗口中调用</span><br>exex p_hello;<br></code></pre></td></tr></table></figure><h3 id="4-带输入参数的存储过程"><a href="#4-带输入参数的存储过程" class="headerlink" title="4. 带输入参数的存储过程"></a>4. 带输入参数的存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 查询并打印某个员工(如7839号员工)的姓名和薪水</span><br><span class="hljs-comment">-- 存储过程：要求，调用的时候传入员工编号，自动控制台打印</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> p_querynameandsal(i_empno <span class="hljs-keyword">in</span> emp.empno<span class="hljs-operator">%</span>type) <span class="hljs-keyword">as</span><br><span class="hljs-comment">-- 声明变量</span><br>v_name emp.ename<span class="hljs-operator">%</span>type;<br>v_sal emp.sal<span class="hljs-operator">%</span>type;<br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- 查询</span><br>  <span class="hljs-keyword">select</span> ename, sal <span class="hljs-keyword">into</span> v_name, v_sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> empno <span class="hljs-operator">=</span> i_empno;<br>  <br>  dbms_output.put_line(v_name <span class="hljs-operator">||</span> <span class="hljs-string">&#x27;_&#x27;</span> <span class="hljs-operator">||</span> v_sal);<br><br><span class="hljs-keyword">end</span> p_querynameandsal;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 调用</span><br><span class="hljs-comment">-- Created on 2022/08/17 by CHRIS </span><br><span class="hljs-keyword">declare</span> <br>  <span class="hljs-comment">-- Local variables here</span><br>  i <span class="hljs-type">integer</span>;<br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- Test statements here</span><br>  p_querynameandsal(<span class="hljs-number">7839</span>);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h3 id="5-带输出参数的存储过程"><a href="#5-带输出参数的存储过程" class="headerlink" title="5. 带输出参数的存储过程"></a>5. 带输出参数的存储过程</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 查询并打印某个员工(如7839号员工)的姓名和薪水</span><br><span class="hljs-comment">-- 存储过程：要求，调用的时候传入员工编号，自动控制台打印</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> p_querysal_out(i_empno <span class="hljs-keyword">in</span> emp.empno<span class="hljs-operator">%</span>type, o_sal <span class="hljs-keyword">out</span> emp.sal<span class="hljs-operator">%</span>type) <span class="hljs-keyword">as</span><br><span class="hljs-comment">-- 声明变量</span><br>v_name emp.ename<span class="hljs-operator">%</span>type;<br>v_sal emp.sal<span class="hljs-operator">%</span>type;<br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- 查询</span><br>  <span class="hljs-keyword">select</span> sal <span class="hljs-keyword">into</span> v_sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> empno <span class="hljs-operator">=</span> i_empno;<br><br><span class="hljs-keyword">end</span> p_querysal_out;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 调用</span><br><br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 输入员工号查询某个员工(7839号员工)的信息，要求：将薪水作为返回值输出，给调用的程序使用。</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> p_querysal_out(i_empno <span class="hljs-keyword">in</span> emp.empno<span class="hljs-operator">%</span>type, o_sal <span class="hljs-keyword">out</span> emp.sal<span class="hljs-operator">%</span>type) <span class="hljs-keyword">as</span><br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- 查询</span><br>  <span class="hljs-keyword">select</span> sal <span class="hljs-keyword">into</span> o_sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> empno <span class="hljs-operator">=</span> i_empno;<br><br><span class="hljs-keyword">end</span> p_querysal_out;<br><br><span class="hljs-comment">-- 调用</span><br><span class="hljs-comment">-- Created on 2022/08/17 by CHRIS </span><br><span class="hljs-keyword">declare</span> <br>  <span class="hljs-comment">-- 声明变量接收存储过程中输出的参数</span><br>  v_sal emp.sal<span class="hljs-operator">%</span>type;<br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- Test statements here</span><br>  p_querysal_out(<span class="hljs-number">7839</span>, v_sal);<br>  dbms_output.put_line(v_sal);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs sql"><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> sptDatePro( <span class="hljs-comment">--存储过程名称</span><br>                                       v_spt_date_st <span class="hljs-keyword">in</span> test02.spt_date<span class="hljs-operator">%</span>TYPE, <span class="hljs-comment">--起始日期</span><br>                                       v_spt_date_ed <span class="hljs-keyword">in</span> test02.spt_date<span class="hljs-operator">%</span>TYPE, <span class="hljs-comment">--终止日期</span><br>                                       v_spt_date    <span class="hljs-keyword">out</span> test02.spt_date<span class="hljs-operator">%</span>TYPE,<br>                                       v_code1       <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code1<span class="hljs-operator">%</span>TYPE,<br>                                       v_code2       <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code2<span class="hljs-operator">%</span>TYPE,<br>                                       v_code3       <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code3<span class="hljs-operator">%</span>TYPE,<br>                                       v_num         <span class="hljs-keyword">out</span> test02.num<span class="hljs-operator">%</span>TYPE) <span class="hljs-keyword">is</span><br><span class="hljs-comment">-- 申明变量</span><br><span class="hljs-keyword">declare</span>  <br>   v_currdate <span class="hljs-type">date</span>; <span class="hljs-comment">--当前日期</span><br>   v_ymd      <span class="hljs-type">date</span>; <span class="hljs-comment">--开始日期</span><br>   v_endymd   <span class="hljs-type">date</span>; <span class="hljs-comment">--结束日期</span><br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">/*****程序变量******/</span><br><br>  <span class="hljs-comment">/*****程序变量******/</span><br>  <span class="hljs-comment">-- set v_currdat = to_date(I_DATE, &#x27;YYYYMMDD&#x27;);  --数据日期</span><br>  v_ymd    :<span class="hljs-operator">=</span> to_date(v_spt_date_st, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>); <span class="hljs-comment">--开始日期</span><br>  v_endymd :<span class="hljs-operator">=</span> to_date(v_spt_date_ed, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>); <span class="hljs-comment">--结束日期</span><br><br>  print v_ymd;<br>  print v_endymd;<br><br>  <span class="hljs-comment">/*****执行体******/</span><br>  while v_ymd <span class="hljs-operator">&lt;=</span> v_endymd <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test02( <span class="hljs-comment">--表名</span><br>               spt_date,<br>               code1,<br>               code2,<br>               code3,<br>               num)<br>    <span class="hljs-keyword">select</span> v_ymd, v_code1, v_code2, v_code3, <span class="hljs-type">int</span>(rand() <span class="hljs-operator">*</span> <span class="hljs-number">100</span>)<br>           <span class="hljs-keyword">from</span> sysibm.dual; <span class="hljs-keyword">set</span> v_ymd <span class="hljs-operator">=</span> v_ymd <span class="hljs-operator">+</span> <span class="hljs-number">1</span>; <br>   <span class="hljs-keyword">end</span> loop;<br>   <span class="hljs-keyword">commit</span>;<br>    <span class="hljs-comment">/*****执行逻辑结束******/</span><br>  <span class="hljs-comment">-- set s_stepds = &#x27;结束&#x27;;</span><br>  <span class="hljs-comment">-- call SCM_ITF.sp_pb_log(&#x27;done&#x27;, s_procds, s_datadt, null, s_stepds, s_steno);</span><br>  <span class="hljs-comment">-- commit;</span><br><span class="hljs-keyword">end</span>;<br><br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">PROCEDURE</span> query_emp (                                <br>  v_emp_no          <span class="hljs-keyword">IN</span>      emp.empno<span class="hljs-operator">%</span>TYPE,              <br>  v_emp_name          <span class="hljs-keyword">OUT</span>      emp.ename<span class="hljs-operator">%</span>TYPE,              <br>  v_emp_sal          <span class="hljs-keyword">OUT</span>      emp.sal<span class="hljs-operator">%</span>TYPE,              <br>  v_emp_comm          <span class="hljs-keyword">OUT</span>      emp.comm<span class="hljs-operator">%</span>TYPE)              <br><span class="hljs-keyword">IS</span>                                                         <br><span class="hljs-keyword">BEGIN</span>                                <br>  <span class="hljs-keyword">SELECT</span> ename,sal,comm <span class="hljs-keyword">INTO</span> v_emp_name,v_emp_sal,v_emp_comm <span class="hljs-keyword">FROM</span> emp <span class="hljs-keyword">WHERE</span> empno <span class="hljs-operator">=</span> v_emp_no;                              <br><span class="hljs-keyword">END</span> query_emp;                                <br><br><br><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span>  emp t;<br><br><br><span class="hljs-keyword">begin</span><br>  <span class="hljs-comment">-- Call the procedure</span><br>  query_emp(v_emp_no <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> :v_emp_no,<br>            v_emp_name <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> :v_emp_name,<br>            v_emp_sal <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> :v_emp_sal,<br>            v_emp_comm <span class="hljs-operator">=</span><span class="hljs-operator">&gt;</span> :v_emp_comm);<br><span class="hljs-keyword">end</span>;<br><br><br><span class="hljs-keyword">declare</span><br>  I <span class="hljs-type">integer</span>;<br><span class="hljs-keyword">begin</span><br>  Dbms_Output.put_line(<span class="hljs-string">&#x27;hello, world&#x27;</span>);<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> test02(<br> spt_date varchar2(<span class="hljs-number">10</span>),<br> code1 varchar2(<span class="hljs-number">2</span>),<br> code2 varchar2(<span class="hljs-number">2</span>),<br> code3 varchar2(<span class="hljs-number">2</span>),<br> num number(<span class="hljs-number">10</span>,<span class="hljs-number">0</span>)<br>);<br></code></pre></td></tr></table></figure><hr><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> SCM_ITF.dataPro ( <span class="hljs-comment">--存储过程名称</span><br>    <span class="hljs-keyword">IN</span> &quot;I_DATE&quot; <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">8</span>) <span class="hljs-comment">--起始日期</span><br>) <br><span class="hljs-keyword">is</span><br><span class="hljs-keyword">begin</span><br>    <span class="hljs-comment">/*****程序变量******/</span><br>    <span class="hljs-keyword">declare</span> v_currdate <span class="hljs-type">date</span>; <span class="hljs-comment">--当前日期</span><br>    <span class="hljs-keyword">declare</span> v_ymd <span class="hljs-type">date</span>; <span class="hljs-comment">--开始日期</span><br>    <span class="hljs-keyword">declare</span> v_endymd <span class="hljs-type">date</span>;  <span class="hljs-comment">--结束日期</span><br>    <span class="hljs-comment">/*****程序变量******/</span><br>    <span class="hljs-keyword">set</span> v_currdat <span class="hljs-operator">=</span> to_date(I_DATE, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>);  <span class="hljs-comment">--数据日期</span><br>    <span class="hljs-keyword">set</span> v_ymd <span class="hljs-operator">=</span> to_date(<span class="hljs-keyword">year</span>(v_currdate)<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-01-01&#x27;</span>, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>);  <span class="hljs-comment">--开始日期</span><br>    <span class="hljs-keyword">set</span> v_endymd <span class="hljs-operator">=</span> to_date(<span class="hljs-keyword">year</span>(v_currdate)<span class="hljs-operator">||</span><span class="hljs-string">&#x27;-12-31&#x27;</span>, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>);  <span class="hljs-comment">--结束日期</span><br><br>    <span class="hljs-comment">/*****执行体******/</span><br>    while v_ymd <span class="hljs-operator">&lt;=</span> v_endymd<br>    do<br>        <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> scm_app.t_tabname ( <span class="hljs-comment">--表名</span><br>            a<br>            , b<br>            , c<br>            , d<br>        )<br>        <span class="hljs-keyword">select</span> <br>            <span class="hljs-string">&#x27;001&#x27;</span><br>            , <span class="hljs-string">&#x27;usd&#x27;</span><br>            , v_ymd<br>            , <span class="hljs-number">0</span><br>            , <span class="hljs-keyword">null</span><br>        <span class="hljs-keyword">from</span> sysibm.dual<br>        ;<br>        <span class="hljs-keyword">set</span> v_ymd <span class="hljs-operator">=</span> v_ymd <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-keyword">day</span>;<br>    <span class="hljs-keyword">end</span> while;<br>    <span class="hljs-keyword">commit</span>;<br>    <span class="hljs-comment">/*****执行逻辑结束******/</span><br>    <span class="hljs-keyword">set</span> s_stepds <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;结束&#x27;</span>;<br>    <span class="hljs-keyword">call</span> SCM_ITF.sp_pb_log(<span class="hljs-string">&#x27;done&#x27;</span>, s_procds, s_datadt, <span class="hljs-keyword">null</span>, s_stepds, s_steno);<br>    <span class="hljs-keyword">commit</span>;<br><span class="hljs-keyword">end</span>@<br><br><br><span class="hljs-number">2022</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span><br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs sql"><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">procedure</span> sptDatePro ( <span class="hljs-comment">--存储过程名称</span><br>    v_spt_date_st <span class="hljs-keyword">in</span> test02.spt_date<span class="hljs-operator">%</span>TYPE, <span class="hljs-comment">--起始日期</span><br>    v_spt_date_ed <span class="hljs-keyword">in</span> test02.spt_date<span class="hljs-operator">%</span>TYPE, <span class="hljs-comment">--终止日期</span><br>    v_spt_date <span class="hljs-keyword">out</span> test02.spt_date<span class="hljs-operator">%</span>TYPE,<br>    v_code1 <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code1<span class="hljs-operator">%</span>TYPE,<br>    v_code2 <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code2<span class="hljs-operator">%</span>TYPE,<br>    v_code3 <span class="hljs-keyword">in</span> <span class="hljs-keyword">out</span> test02.code3<span class="hljs-operator">%</span>TYPE,<br>    v_num <span class="hljs-keyword">out</span> test02.num<span class="hljs-operator">%</span>TYPE<br>) <br><span class="hljs-keyword">is</span><br><span class="hljs-keyword">declare</span> <br>    v_currdate <span class="hljs-type">date</span>; <span class="hljs-comment">--当前日期</span><br>    v_ymd <span class="hljs-type">date</span>; <span class="hljs-comment">--开始日期</span><br>    v_endymd <span class="hljs-type">date</span>;  <span class="hljs-comment">--结束日期</span><br><span class="hljs-keyword">begin</span><br>    <span class="hljs-comment">/*****程序变量******/</span><br><br>    <span class="hljs-comment">/*****程序变量******/</span><br>    <span class="hljs-comment">-- set v_currdat = to_date(I_DATE, &#x27;YYYYMMDD&#x27;);  --数据日期</span><br>    v_ymd :<span class="hljs-operator">=</span> to_date(v_spt_date_st, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>);  <span class="hljs-comment">--开始日期</span><br>    v_endymd :<span class="hljs-operator">=</span> to_date(v_spt_date_ed, <span class="hljs-string">&#x27;YYYYMMDD&#x27;</span>);  <span class="hljs-comment">--结束日期</span><br><br>    print v_ymd;<br>    print v_endymd;<br><br>    <span class="hljs-comment">/*****执行体******/</span><br>    while v_ymd <span class="hljs-operator">&lt;=</span> v_endymd<br>        <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test02 ( <span class="hljs-comment">--表名</span><br>            spt_date<br>            , code1<br>            , code2<br>            , code3<br>            , num<br>        )<br>        <span class="hljs-keyword">select</span> <br>            v_ymd<br>            , v_code1<br>            , v_code2<br>            , v_code3<br>            , <span class="hljs-type">int</span>(rand()<span class="hljs-operator">*</span><span class="hljs-number">100</span>)<br>        <span class="hljs-keyword">from</span> sysibm.dual<br>        ;<br>        <span class="hljs-keyword">set</span> v_ymd <span class="hljs-operator">=</span> v_ymd <span class="hljs-operator">+</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">end</span> loop;<br>    <span class="hljs-keyword">commit</span>;<br>    <span class="hljs-comment">/*****执行逻辑结束******/</span><br>    <span class="hljs-comment">-- set s_stepds = &#x27;结束&#x27;;</span><br>    <span class="hljs-comment">-- call SCM_ITF.sp_pb_log(&#x27;done&#x27;, s_procds, s_datadt, null, s_stepds, s_steno);</span><br>    <span class="hljs-comment">-- commit;</span><br><span class="hljs-keyword">end</span> sptDatePro;<br><br><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> test02;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PLSQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DB2学习</title>
    <link href="/2022/09/25/%E6%95%B0%E6%8D%AE%E5%BA%93/DB2%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/09/25/%E6%95%B0%E6%8D%AE%E5%BA%93/DB2%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="DB2学习"><a href="#DB2学习" class="headerlink" title="DB2学习"></a>DB2学习</h1><blockquote><p>参考：《DB2从入门到精通》 - 明日科技</p><p>DB2转换为DECIMAL: <a href="https://qa.1r1g.com/sf/ask/3114613141/">https://qa.1r1g.com/sf/ask/3114613141/</a></p><p>DB2数据库学习总结(一) - round函数用法: <a href="https://blog.csdn.net/qq_36501591/article/details/82773762">https://blog.csdn.net/qq_36501591/article/details/82773762</a></p><p>DB2数据类型: <a href="https://www.cnblogs.com/xiaojianblogs/p/6288108.html">https://www.cnblogs.com/xiaojianblogs/p/6288108.html</a></p><p><a href="https://blog.csdn.net/weixin_40983306/article/details/87862270">https://blog.csdn.net/weixin_40983306/article/details/87862270</a></p><p>DB2数据库中的常用的数据类型: <a href="https://blog.csdn.net/WziH_CSDN/article/details/111191816">https://blog.csdn.net/WziH_CSDN/article/details/111191816</a></p><p>DB2中数据类型DECIMAL的用法: <a href="https://blog.csdn.net/love_hanyu/article/details/84362922">https://blog.csdn.net/love_hanyu/article/details/84362922</a></p><p>什么时候索引会失效？: ttps:&#x2F;&#x2F;<a href="http://www.zhihu.com/question/377039636">www.zhihu.com/question/377039636</a></p><p>索引失效的情况及解决(超详细):  <a href="https://blog.csdn.net/sy_white/article/details/122112440">https://blog.csdn.net/sy_white/article/details/122112440</a></p></blockquote><h2 id="1-DB2数据类型"><a href="#1-DB2数据类型" class="headerlink" title="1. DB2数据类型"></a>1. DB2数据类型</h2><blockquote><p>参考：<a href="https://www.cnblogs.com/xiaojianblogs/p/6288108.html">https://www.cnblogs.com/xiaojianblogs/p/6288108.html</a></p></blockquote><p>DB2数据库的内置数据类型主要分成数值型（numeric）、字符串型（character string）、图形字符串（graphic string）、二进制字符串型（binary string）和日期时间型（datetime）。还有一种叫做 DATALINK 的特殊数据类型。DATALINK 值包含了对存储在数据库以外的文件的逻辑引用。</p><h3 id="1-数值型-numeric"><a href="#1-数值型-numeric" class="headerlink" title="1) 数值型(numeric)"></a>1) 数值型(numeric)</h3><p><strong>数值型</strong>数据类型包括 SMALLINT、INTEGER、BIGINT、DECIMAL(p,s)、REAL 和 DOUBLE。所有数值都有符号和精度。精度是指除符号以外的二进制或十进制的位数。如果数字的值大于等于零，就认为符号为正。</p><ul><li>小整型，SMALLINT：小整型是两个字节的整数，精度为 5 位。小整型的范围从 -32,768 到 32,767。</li><li>大整型，INTEGER 或 INT：大整型是四个字节的整数，精度为 10 位。大整型的范围从 -2,147,483,648 到 2,147,483,647。</li><li>巨整型，BIGINT：巨整型是八个字节的整数，精度为 19 位。巨整型的范围从 -9,223,372,036,854,775,808 到 9,223,372,036,854,775,807。</li><li>小数型，DECIMAL(p,s)、DEC(p,s)、NUMERIC(p,s) 或 NUM(p,s)：小数型的值是一种压缩十进制数，它有一个隐含的小数点。压缩十进制数将以二-十进制编码（binary-coded decimal，BCD）记数法的变体来存储。小数点的位置取决于数字的精度（p）和小数位（s）。小数位是指数字的小数部分的位数，它不可以是负数，也不能大于精度。最大精度是 31 位。小数型的范围从 -10^31+1 到 10^31-1。</li><li>单精度浮点数（Single-precision floating-point），REAL：单精度浮点数是实数的 32 位近似值。数字可以为零，或者在从 -3.402E+38 到 -1.175E-37 或从 1.175E-37 到 3.402E+38 的范围内。</li><li>双精度浮点数（Double-precision floating-point），DOUBLE，DOUBLE PRECISION 或 FLOAT：双精度浮点数是实数的 64 位近似值。数字可以为零，或者在从 -1.79769E+308 到 -2.225E-307 或从 2.225E-307 到 1.79769E+308 的范围内。</li></ul><h3 id="2-字符串型-character-string"><a href="#2-字符串型-character-string" class="headerlink" title="2) 字符串型(character string)"></a>2) 字符串型(character string)</h3><p><strong>字符串</strong>是字节序列。字符串包括 CHAR(n) 类型的定长字符串和 VARCHAR(n)、LONG VARCHAR 或 CLOB(n) 类型的变长字符串。字符串的长度就是序列中的字节数。</p><ul><li>定长字符串，CHARACTER(n) 或 CHAR(n)：定长字符串的长度介于 1 到 254 字节之间。如果没有指定长度，那么就认为是 1 个字节。</li><li>变长字符串，VARCHAR(n)、CHARACTER VARYING(n) 或 CHAR VARYING(n)：VARCHAR(n) 类型的字符串是变长字符串，最长可达 32,672 字节。</li><li>LONG VARCHAR：LONG VARCHAR 类型的字符串是变长字符串，最长可达 32,700 字节。</li><li>字符大对象字符串（Character Large Object String），CLOB(n[K　M　G])：CLOB 是变长字符串，最长可以达到 2,147,483,647 字节。如果只指定了 n，那么 n 的值就是最大长度。如果指定了 nK，那么最大长度就是 n<em>1,024（n 的最大值为 2,097,152）。如果指定了 nM，那么最大长度就是 n</em>1,048,576（n 的最大值为 2,048）。如果指定了 nG，那么最大长度就是 n*1,073,741,824（n 的最大值是 2）。CLOB 用于存储基于大单字节字符集（single-byte character set，SBCS）字符的数据或基于混合（多字节字符集（MBCS）和 SBCS）字符的数据。</li></ul><h3 id="3-图形字符串-graphic-string"><a href="#3-图形字符串-graphic-string" class="headerlink" title="3) 图形字符串(graphic string)"></a>3) 图形字符串(graphic string)</h3><p><strong>图形字符串</strong>是表示双字节字符数据的字节序列。图形字符串包括类型为 GRAPHIC(n) 的定长图形字符串和类型为 VARGRAPHIC(n)、LONG VARGRAPHIC 和 DBCLOB(n) 的变长图形字符串。字符串的长度就是序列中双字节字符的数目。</p><ul><li>定长图形字符串，GRAPHIC(n)：定长图形字符串的长度介于 1 到 127 个双字节字符之间。如果没有指定长度，就认为是 1 个双字节字符。</li><li>变长图形字符串，VARGRAPHIC(n)：VARGRAPHIC(n) 类型的字符串是变长图形字符串，最大长度可达 16,336 个双字节字符。</li><li>LONG VARGRAPHIC：LONG VARGRAPHIC 类型的字符串是变长图形字符串，最大长度可达 16,350 个双字节字符。</li><li>双字节字符大对象字符串，DBCLOB(n[K　M　G])：双字节字符大对象是变长双字节字符图形字符串，最长可达 1,073,741,823 个字符。如果只指定了 n，那么 n 就是最大长度。如果指定了 nK，那么最大长度就是 n<em>1,024（n 的最大值为 1,048,576）。如果指定了 nM，那么最大长度就是 n</em>1,048,576（n 的最大值为 1,024）。如果指定了 nG，那么最大长度就是 n*1,073,741,824（n 的最大值是 1）。DBCLOB 用于存储基于大 DBCS（双字节字符集，double-byte character set）字符的数据。二进制字符串是字节序列。</li></ul><h3 id="4-二进制字符串-binary-string"><a href="#4-二进制字符串-binary-string" class="headerlink" title="4) 二进制字符串(binary string)"></a>4) 二进制字符串(binary string)</h3><p><strong>二进制字符串</strong>包括 BLOB(n) 类型的变长字符串，它用于容纳非传统型的数据，诸如图片、语音或混合媒体等，还可以容纳用户定义的类型及用户定义的函数的结构化数据。</p><p>　　* 二进制大对象，BLOB(n[K　M　G])：二进制大对象是变长字符串，最长可达 2,147,483,647 字节。如果只指定了 n，那么 n 就是最大长度。如果指定了 nK，那么最大长度就是 n<em>1,024（n 的最大值为 2,097,152）。如果指定了 nM，那么最大长度就是 n</em>1,048,576（n 的最大值为 2,048）。如果指定了 nG，那么最大长度就是 n*1,073,741,824（n 的最大值是 2）。</p><h3 id="5-日期时间型-datetime"><a href="#5-日期时间型-datetime" class="headerlink" title="5) 日期时间型(datetime)"></a>5) 日期时间型(datetime)</h3><p><strong>日期时间型</strong>数据类型包括 DATE、TIME 和 TIMESTAMP。日期时间值可在某些算术和字符串操作中使用，而且兼容某些字符串，但它们既不是字符串，也不是数字。</p><ul><li>DATE：DATE 是一个由三部分组成的值（年、月和日）。年份部分的范围是从 0001 到 9999。月份部分的范围是从 1 到 12。日部分的范围是从 1 到 n，其中 n 的值取决于月份。DATE 列长 10 个字节。</li><li>TIME：TIME 是一个由三部分组成的值（小时、分钟和秒）。小时部分的范围是从 0 到 24。分钟和秒部分的范围都是从 0 到 59。如果小时为 24，分钟和秒的值都是 0。TIME 列长 8 个字节。</li><li>TIMESTAMP：TIMESTAMP 是一个由七部分组成的值（年、月、日、小时、分钟、秒和微秒）。年份部分的范围是从 0001 到 9999。月份部分的范围是从 1 到 12。日部分的范围是从 1 到 n，其中 n 的值取决于月份。小时部分的范围是从 0 到 24。分钟和秒部分的范围都是从 0 到 59。微秒部分的范围是从 000000 到 999999。如果小时是 24，那么分钟值、秒的值和微秒的值都是 0。TIMESTAMP 列长 26 个字节。日期时间值的字符串表示：尽管 DATE、TIME 和 TIMESTAMP 的值的内部表示对用户是透明的，日期、时间和时间戳记也可以用字符串来表示，CHAR 标量函数（请参阅 SQL 的“词类（parts of speech）”）可以用于创建日期时间值的字符串表示。</li><li>日期值的字符串表示是一个以数字开始，长度不少于 8 个字符的字符串。日期值的月份和日部分中前面的零可以省略。</li><li>时间值的字符串表示是以数字开头，长度不少于 4 个字符的字符串。时间值的小时部分前面的零可以省略，秒部分可以完全省略。如果秒的值没有指定，那么就认为是 0。</li><li>时间戳记值的字符串表示是以数字开头，长度不少于 16 个字符的字符串。完整的时间戳记字符串表示形式为 yyyy-mm-dd-hh.mm.ss.nnnnnn。时间戳记值的月、日或小时等几部分前面的零可以省略，微秒可以截断或完全省略。如果任何时间戳记值的微秒部分尾零被省略掉了，那么将假定空缺的数位上为零</li></ul><h2 id="2-Oracle和DB2数据类型的比较"><a href="#2-Oracle和DB2数据类型的比较" class="headerlink" title="2.Oracle和DB2数据类型的比较"></a>2.Oracle和DB2数据类型的比较</h2><p>Oracle 和DB2 数据类型的比较</p><table><thead><tr><th>Oracle</th><th></th><th>DB2&#x2F;400</th><th></th></tr></thead><tbody><tr><td>Oracle数据类型</td><td>注意事项</td><td>DB2 UDB数据类型</td><td>注意事项</td></tr><tr><td>DATE</td><td></td><td>DATE<br/>TIME<br/>TIMESTAMP</td><td>如果只使用MM&#x2F;DD&#x2F;YYY,那么使用DATE类型。<br/>如果只使用HH:MM:SS, 那么使用TIME类型。<br/>如果要使用日期和时间，则使用时间戳类型（TIMESTAMP）<br/>能使用Oracle中的TO_CHAR()函数来取DATE的字串来分别和DB2&#x2F;400的DATE、TIME相匹配。</td></tr><tr><td>VARCHAR2(n)</td><td>n&lt;&#x3D;4000</td><td>CHAR(n)<br/>VARCHAR(n)</td><td>若n&lt;&#x3D;32766,则使用DB2&#x2F;400中的CHAR类型、VARCHAR</td></tr><tr><td>LONG</td><td>n&lt;&#x3D;2GB</td><td>VARCHAR(n)<br/>CLOB(n)</td><td>若n&lt;&#x3D;32K,则使用DB2&#x2F;400中的CHAR类型、VARCHAR。<br/>若32K&#x3D;&lt; n &lt;&#x3D;2GB，则使用CLOB。</td></tr><tr><td>ROW&amp;<br/>LONG ROW</td><td>n&lt;&#x3D;255</td><td>CHAR(n) FOR BIT DATA<br/>VARCHAR(n) FOR BIT DATA <br/>BLOB(n)</td><td>若n&lt;&#x3D;32K, 则使用CHAR(n) FOR BIT DATA 或<br/>VARCHAR(n) FOR BIT DATA <br/>若n&lt;&#x3D;2GB, 则使用BLOB(n)</td></tr><tr><td>BLOB</td><td>n&lt;&#x3D;4GB</td><td>BLOB(n)</td><td>若n&lt;&#x3D;2GB, 则使用BLOB(n)</td></tr><tr><td>CLOB</td><td>n&lt;&#x3D;4GB</td><td>CLOB(n)</td><td>若n&lt;&#x3D;2GB, 则使用CLOB(n)</td></tr><tr><td>NCLOB</td><td>n&lt;&#x3D;4GB</td><td>DBCLOB(n)</td><td>若n&lt;&#x3D;2GB, 则使用DBCLOB(n&#x2F;2)</td></tr><tr><td>NUMBER</td><td></td><td>SMALLINT&#x2F;INTEGER&#x2F;BIGINT<br/>DECIMAL(p,s)&#x2F;NUMBER(p,s)<br/>Float(n)&#x2F; REAL&#x2F;DOUBLE</td><td>若Oracle中定义NUMBER(p) 或 NUMBER(p,s), 则使用SAMLLINT&#x2F;INTEGER&#x2F;BIGINT<br/>若Oracle中定义NUMBER(p,s), 则使用DECIMAL(p,s)<br/>若Oracle中定义NUMBER,则使用FLOAT(n)&#x2F;REAL&#x2F;DOUBLE</td></tr></tbody></table><p>说明：<br>　　<strong>NUMBER</strong></p><p>　　Oracle中的NUMBER类型可以对应DB2&#x2F;400中的很多类型，这种对应关系要依赖于Oracle中number将用于保存何种类型的数据，是整型还是带有小数位的实型数据，另外还要考虑类型所占用的存储空间，例如:SAMLLINT占2 byte, INTEGER占4 byte; BIGINT占8 byte;Oracle中的NUMBER类型所占用的存储空间要根据它的定义而定，例如缺省精度下的NUMBER有38个数字长，占用20 byte的空间。具体的对应关系请参照上表。<br>　　<strong>ROW and LOB类型</strong><br>　　DB2&#x2F;400提供VARCHAR和CLOB与Oracel中的RAW和LONG RAW相对应。Oracle也支持大对象:BLOB、CLOB、CLOB和NCLOB, Oracle中的BLOB和CLOB可以提供4GB的空间，而DB2&#x2F;400中的BLOB和CLOB只能存放2GB的数据;DB2&#x2F;400中的DBCLOB与Oracle中的NCLOB 2GB相对应。Oracle 中的BFILE数据类型用于管理数据库以外的二进制数据，数据库中的表将指向数据库外部的存放的BFILE文件，DB2&#x2F;400也提供一个类似的数据类型DATALINK相对应。<br>　　<strong>ROWID</strong><br>　　Oracle ROWIND虚拟列用于对表中的某一列进行唯一标示，DB2&#x2F;400中也有这样的数据类型ROWID，它与Oracle中的ROWID的功能相似。DB2&#x2F;400中的ROWID可以存放40 byte的数据用来唯一标示表中的每一行，它没有ccsid属性，这些信息中没有关于datafile、 block 或 row的信息。例如:<br>CREATE TABLE LIBRARYNAME&#x2F;ORDERS2 (ORDERNO ROWID, SHIPPED_TO VARCHAR (36) , ORDER_DATE DATE) ORDERNO的数据类型为ROWID，用于存放订单号，每当插入一行时，系统自动生成一个值，存放进这个字段。可以用OPERATION NAVIGATOR查看它的内容。<br>　　<strong>Character type</strong><br>　　DB2&#x2F;400的CHAR、VARCHAR类型与Oracle中的VARCHAR2(n)类型相对应，但是Oracle中的VARCHAR2(n)类型仅用于存放较小的字符串，这里的n小于4000，因此在这种情况下，最好用定长的CHAR(N)类型与Oracle的VARCHAR2(n)相对应，这样不仅可以提高效率，还可以节省存储空间，若使用VARCHAR(n)类型最好用ALLOCATE参数，这样可以提高数据库的性能,它可以减少内存和硬盘之间的输入&#x2F;输出操作。<br>要注意DB2&#x2F;400中的字符串中文输入问题，要想在DB2&#x2F;400上输入中文应用这样的SQL创建表，这里的CCSID 935,代表简体中文。</p><h2 id="3-DB2数据类型转换"><a href="#3-DB2数据类型转换" class="headerlink" title="3. DB2数据类型转换"></a>3. DB2数据类型转换</h2><p>DB2数据库伪表：SYSIBM.SYSDUMMY1</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> SYSIBM.SYSDUMMY1;<br># 在不更改代码的情况下创建一张名为DUAL的视图功能与SYSIBM.SYSDUMMY1相同。<br><span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> SYSIBM.DUAL;<br></code></pre></td></tr></table></figure><p><strong>DUAL 表</strong></p><blockquote><p>参考：<a href="https://www.ibm.com/docs/zh/db2/11.1?topic=SSEPGG_11.1.0/com.ibm.db2.luw.apdv.porting.doc/doc/r0052874.htm">https://www.ibm.com/docs/zh/db2/11.1?topic=SSEPGG_11.1.0/com.ibm.db2.luw.apdv.porting.doc/doc/r0052874.htm</a></p></blockquote><p>任何对 DUAL 表进行的未限定引用将解析为一个内置视图，该视图返回一行以及一列。该列的名称为 DUMMY，值为“X”。DUAL 表类似于 SYSIBM.SYSDUMMY1 表。</p><p>要启用 DUAL 表支持，请将 <strong>DB2_COMPATIBILITY_VECTOR</strong> 注册表变量设置为十六进制值 0x02（位位置 2），然后停止并重新启动该实例：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">db2<span class="hljs-built_in">set</span> DB2_COMPATIBILITY_VECTOR=<span class="hljs-number">02</span><br>db2stop<br>db2<span class="hljs-built_in">start</span><br></code></pre></td></tr></table></figure><p>要激活针对 Oracle 应用程序的所有兼容性功能，请将 <strong>DB2_COMPATIBILITY_VECTOR</strong> 注册表变量设置为 ORA，然后停止并重新启动该实例：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">db2<span class="hljs-built_in">set</span> DB2_COMPATIBILITY_VECTOR=ORA<br>db2stop<br>db2<span class="hljs-built_in">start</span><br></code></pre></td></tr></table></figure><p>将对 DUAL 表进行的未限定表引用解析为 SYSIBM.DUAL。</p><p>如果存在用户定义的名为 DUAL 的表，那么 Db2® 服务器会解析对该用户定义表的表引用。</p><p>示例：</p><p>通过从 DUAL 中进行选择来生成随机数。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> RAND() <span class="hljs-keyword">AS</span> RANDOM_NUMBER <span class="hljs-keyword">FROM</span> SYSIBM.DUAL;<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20221105171553894.png" alt="image-20221105171553894"></p><p>检索 CURRENT SCHEMA 专用寄存器的值。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SET</span> SCHEMA = MYSCHEMA;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">CURRENT</span> <span class="hljs-keyword">SCHEMA</span> <span class="hljs-keyword">AS</span> <span class="hljs-built_in">CURRENT_SCHEMA</span> <span class="hljs-keyword">FROM</span> DUAL;<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20221105171639758.png" alt="image-20221105171639758"></p><p>对应的Oracle伪表：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> SYSDATE <span class="hljs-keyword">FROM</span> DUAL;<br></code></pre></td></tr></table></figure><h3 id="1-数字转DECIMAL类型"><a href="#1-数字转DECIMAL类型" class="headerlink" title="1) 数字转DECIMAL类型"></a>1) 数字转DECIMAL类型</h3><blockquote><p><a href="https://blog.csdn.net/weixin_40983306/article/details/87862270">https://blog.csdn.net/weixin_40983306/article/details/87862270</a></p></blockquote><p>decimal(p,s) </p><p>p表示：不包括小数点，不包括符号位，所能存数字的总位数（包括小数部分和整数部分）<br>s表示：小数部分数字的位数，由此可知整数部分的位数为p-s;</p><p>举个例子：</p><p>decimal(5,2) 能够表示的数的范围 -999.99到999.99; </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"># <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) 不含小数点总共<span class="hljs-number">10</span>位，小数位<span class="hljs-number">2</span>位<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-number">1234567890</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> SYSIBM.SYSDUMMY1;<br><br># 两位小数<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-number">12345678.12</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> SYSIBM.SYSDUMMY1;<br></code></pre></td></tr></table></figure><p>数字长度超出报错：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-number">123456789</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> SYSIBM.SYSDUMMY1;<br></code></pre></td></tr></table></figure><p>SQL 错误 [22003]: 在数字数据类型转换期间发生溢出。. SQLCODE&#x3D;-413, SQLSTATE&#x3D;22003, DRIVER&#x3D;4.26.14</p><h3 id="2-decimal函数"><a href="#2-decimal函数" class="headerlink" title="2) decimal函数"></a>2) decimal函数</h3><p>decimal(5.15, 15, 2)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">CAST</span>(<span class="hljs-number">1234567890</span> <span class="hljs-keyword">AS</span> <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)) <span class="hljs-keyword">from</span> SYSIBM.SYSDUMMY1;<br><br><span class="hljs-type">decimal</span>(<span class="hljs-number">5.15</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>)<br><span class="hljs-type">decimal</span>(<span class="hljs-number">5.15</span><span class="hljs-operator">/</span><span class="hljs-number">3.27</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>)<br>round((<span class="hljs-number">5.15</span><span class="hljs-operator">/</span><span class="hljs-number">3.27</span>, <span class="hljs-number">2</span>)<br><span class="hljs-type">float</span>(<span class="hljs-number">5.15</span>)<br><span class="hljs-keyword">double</span>(<span class="hljs-number">5.15</span>)<br><span class="hljs-built_in">coalesce</span>(<span class="hljs-number">5.15</span>, <span class="hljs-number">0</span>)<br><span class="hljs-keyword">case</span> <span class="hljs-keyword">when</span> a<span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">then</span> <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span> <span class="hljs-keyword">end</span>;<br><br></code></pre></td></tr></table></figure><p><a href="https://www.ibm.com/docs/zh/db2/11.1?topic=dum-get-hash-value-function-compute-hash-value-given-string">https://www.ibm.com/docs/zh/db2/11.1?topic=dum-get-hash-value-function-compute-hash-value-given-string</a></p><p><a href="https://www.ibm.com/docs/zh/db2/11.5">https://www.ibm.com/docs/zh/db2/11.5</a></p><p>D:\Program Files\instantclient_19_10\network\admin</p><h2 id="4-索引"><a href="#4-索引" class="headerlink" title="4. 索引"></a>4. 索引</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><br><span class="hljs-comment">-- 索引</span><br><span class="hljs-comment">-- 索引是表的一个或多个列的键值的有序列表，可以针对一个列或者多个列建索引。</span><br><span class="hljs-comment">-- 如果没有索引：对表添加数据时，该数据将被追加到表的最后。不存在固有的数据顺序。搜索特定数据行时，必须检查从第一行到最后一行的所有行。</span><br><span class="hljs-comment">-- 创建索引的原因有两个：</span><br><span class="hljs-comment">-- 确保一个或多个列值的唯一性</span><br><span class="hljs-comment">-- 提高表查询的性能。DB2优化器使用索引提高查询时的性能，或者以索引的顺序显示查询结果。</span><br><br><span class="hljs-comment">-- 索引可以定义为惟一的或非唯一的</span><br><span class="hljs-comment">-- 非唯一的索引允许重复的键值；</span><br><span class="hljs-comment">-- 唯一的索引只允许一个键值在列表中出现一次。唯一的索引允许出现单个空值。然而，第二个空值会导致重复现象，因此不允许。</span><br><span class="hljs-comment">-- 创建索引可以使用create index语句</span><br><span class="hljs-comment">-- 为表中的列指定primary key或unique约束，会隐式地创建索引。</span><br><span class="hljs-comment">-- 索引可以创建为升序、降序或双向。选择哪个选项取决于应用程序如何访问数据。</span><br><span class="hljs-comment">-- 为员工id创建索引</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">index</span> iemployee <span class="hljs-keyword">on</span> employee(id)<br><span class="hljs-comment">-- 在默认情况下，索引按升序创建，但也可以创建降序索引。甚至可以为索引中的各个列指定不同的顺序。</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">index</span> iemployee <span class="hljs-keyword">on</span> employee(id <span class="hljs-keyword">desc</span>, <span class="hljs-type">name</span> <span class="hljs-keyword">asc</span>)<br><span class="hljs-comment">-- 升序索引利于min列函数的结果；降序索引利于max列函数的结果。如果应用程序还需要数据按与索引相反的顺序排序，那么DB2允许创建双向索引。</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">index</span> iemployee <span class="hljs-keyword">on</span> employee(id) allow <span class="hljs-keyword">reverse</span> scans<br><span class="hljs-comment">-- 在索引中包含列</span><br><span class="hljs-comment">-- 在创建索引时，可以选择包含额外的列数据，这些额外的列数据将与键存储在一起，但实际上它们不是键本身的一部分，所以不被排序。在索引中包含额外列的主要原因是为了提高某些查询的性能：因为索引页面中已经提供了数据值，DB2就不需要访问数据页面。只能为唯一索引定义包含的列。</span><br><span class="hljs-comment">-- 假设我们经常做如下查询：</span><br><span class="hljs-keyword">select</span> id, <span class="hljs-type">name</span> <span class="hljs-keyword">from</span> employee <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> id<br><span class="hljs-comment">-- 建议创建如下索引</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">unique</span> <span class="hljs-keyword">index</span> iemployeeid <span class="hljs-keyword">on</span> employee(id) <span class="hljs-keyword">include</span>(<span class="hljs-type">name</span>)<br><span class="hljs-comment">-- 创建一个索引花费的时间比较长，DB2必须读取每一行来提取键，对这些键进行排序，然后将键值列表写到数据库中。如果表比较大，那么将使用临时表空间对键进行排序。</span><br><span class="hljs-comment">-- 索引存储在表空间中。如果表驻留在数据库管理的表空间中，就可以选择将索引放在不同的表空间中。在创建表时，可以使用indexes in子句指定索引放置的表空间。</span><br><span class="hljs-comment">-- 索引是值的额外副本，所以当表中的数据被更新时，它们也必须被更新。如果表数据经常被更新，就要考虑额外的索引会对更新性能产生什么样的影响。</span><br><br><span class="hljs-comment">-- 索引分类：</span><br><span class="hljs-comment">-- 唯一索引和非唯一索引</span><br><span class="hljs-comment">-- 集群索引和非集群索引</span><br><span class="hljs-comment">-- 分区索引和非分区索引</span><br><span class="hljs-comment">-- 双向索引</span><br><span class="hljs-comment">-- 基于表达式的索引</span><br></code></pre></td></tr></table></figure><h2 id="5-表空间和表"><a href="#5-表空间和表" class="headerlink" title="5. 表空间和表"></a>5. 表空间和表</h2><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">-- https://www.ibm.com/products/db2-database/pricing<br>-- https://epwt-www.mybluemix.net/software/support/trial/cst/programwebsite.wss?siteId=1120&amp;tabId=2932&amp;p=null&amp;h=null#<br><br>-- 查看所有表空间<br>db2 list tablespaces<br>-- 创建表，指定特定的表空间<br>db2 &quot;<span class="hljs-keyword">create</span> table employee(id integer) <span class="hljs-keyword">in</span> userspace1<span class="hljs-string">&quot;</span><br><span class="hljs-string">-- 查询employee表的所在的表空间</span><br><span class="hljs-string">db2 &quot;</span><span class="hljs-keyword">select</span> tabname, tbspace <span class="hljs-keyword">from</span> syscat.tables <span class="hljs-keyword">where</span> tabname = <span class="hljs-string">&#x27;employee&#x27;</span><span class="hljs-string">&quot;</span><br><span class="hljs-string"></span><br><span class="hljs-string">-- 修改表结构</span><br><span class="hljs-string">-- 查看表结构信息</span><br><span class="hljs-string">db2 describe table employee</span><br><span class="hljs-string">-- 为表添加一列</span><br><span class="hljs-string">db2 &quot;</span><span class="hljs-keyword">alter</span> table employee add depart_id integer<span class="hljs-string">&quot;</span><br><span class="hljs-string">-- 修改表某列的数据类型</span><br><span class="hljs-string">db2 &quot;</span><span class="hljs-keyword">alter</span> table employee <span class="hljs-keyword">alter</span> name <span class="hljs-keyword">set</span> data <span class="hljs-built_in">type</span> varchar(<span class="hljs-number">20</span>) <span class="hljs-keyword">alter</span> gender <span class="hljs-keyword">set</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span><span class="hljs-string">&quot;</span><br><span class="hljs-string">-- 删除表，表中的数据和表定义都会被删除。如果为表定义了索引或者约束，也会同时被删除。</span><br><span class="hljs-string">db2 &quot;</span><span class="hljs-keyword">drop</span> table employee<span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><h2 id="6-DB2操作命令"><a href="#6-DB2操作命令" class="headerlink" title="6. DB2操作命令"></a>6. DB2操作命令</h2><blockquote><p>参考：<a href="https://blog.csdn.net/weixin_39881859/article/details/111515762">https://blog.csdn.net/weixin_39881859/article/details/111515762</a></p></blockquote><h3 id="1-打开DB2命令窗口"><a href="#1-打开DB2命令窗口" class="headerlink" title="1) 打开DB2命令窗口"></a>1) 打开DB2命令窗口</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">C:\Users\db2admin&gt;db2cmd<br>C:\Users\db2admin&gt;<br></code></pre></td></tr></table></figure><h3 id="2-操作数据库实例"><a href="#2-操作数据库实例" class="headerlink" title="2) 操作数据库实例"></a>2) 操作数据库实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">启动数据库实例</span><br>C:\Users\db2admin&gt;db2start<br>2022-08-24 21:03:49     0   0   SQL1026N  数据库管理器已活动。<br>SQL1026N  数据库管理器已活动。<br><br>C:\Users\db2admin&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">停止数据库实例</span><br>C:\Users\db2admin&gt;db2stop<br></code></pre></td></tr></table></figure><h3 id="3-连接数据库"><a href="#3-连接数据库" class="headerlink" title="3) 连接数据库"></a>3) 连接数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">连接到数据库</span><br>db2 connect to [dbname] user [username] using [password]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">示例</span><br>C:\Users\db2admin&gt;db2 connect to SAMPLE<br><br>   数据库连接信息<br><br> 数据库服务器         = DB2/NT64 11.5.7.0<br> SQL 授权标识         = DB2ADMIN<br> 本地数据库别名       = SAMPLE<br><br>C:\Users\db2admin&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">断开数据库连接</span><br>db2 connect reset<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">删除数据库</span><br>db2 drop database [dbname]<br><span class="hljs-meta prompt_"># </span><span class="language-bash">(执行此操作要小心) 如果不能删除，断开所有数据库连接或者重启db2</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">备份数据库</span><br>db2 backup db<br><span class="hljs-meta prompt_"># </span><span class="language-bash">备注：执行以上命令之前需要断开数据库连接</span><br>1、 db2 backup db btpdbs<br>2、 db2move btpdbs export<br>db2look -d btpdbs -e -x [-a] -o crttbl.sql<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">在线备份数据库</span><br>db2 -v &quot;BACKUP DATABASE ONLINE TO WITH 2 BUFFERS BUFFER 1024 INCLUDE LOGS WITHOUT PROMPTING&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">恢复数据库</span><br>db2 restore db<br>1、 db2 restore db btpdbs without rolling forward<br>2、 db2 -tvf crtdb.sql<br>crtdb.sql文件内容：create db btpdbs on /db2catalog<br>db2 -stvf crttbl.sql<br>db2move btpdbs import<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">在线恢复数据库</span><br>db2 &quot;RESTORE DB TO LOGTARGET WITHOUT PROMPTING&quot;<br>db2 &quot;ROLLFORWARD DB TO END OF LOGS AND STOP&quot; ...<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">导出数据文件</span><br>db2move export<br>[-sn ]<br>[-tn ]<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">导入数据文件</span><br>db2move import<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">获取db2数据库管理配置环境信息</span><br>db2 get dbm cfg<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">获取db2某个数据库数据库管理配置环境信息</span><br>db2 get db cfg for<br><span class="hljs-meta prompt_"># </span><span class="language-bash">或者：连接至某个数据库以后执行db2 get db cfg</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">更改db2日志空间的大小</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">备注：以下命令为了防止db2数据库过份使用硬盘空间而设，仅用于开发者自己机器上的db2，如果是服务器，则参数需要修改。</span><br>db2 UPDATE DB CFG FOR USING logretain OFF logprimary 3 logsecond 2 logfilsiz 25600;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">如果页大小是4KB，则以上命令创建3个100M的日志文件，占用300MB硬盘空间。25600*4KB=102400KB。</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">获取数据库管理器的快照数据</span><br>db2 –v get snapshot for dbm<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">显示进行程号</span><br>db2 list applications show detail<br></code></pre></td></tr></table></figure><h3 id="4-列出所有数据库"><a href="#4-列出所有数据库" class="headerlink" title="4) 列出所有数据库"></a>4) 列出所有数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell">C:\Users\db2admin&gt;db2 list db directory<br><br> 系统数据库目录<br><br> 目录中的条目数 = 1<br><br>数据库 1 条目：<br><br> 数据库别名                      = SAMPLE<br> 数据库名称                               = SAMPLE<br> 本地数据库目录                  = D:<br> 数据库发行版级别                = 15.00<br> 注释                            =<br> 目录条目类型                    = 间接<br> 目录数据库分区号                  = 0<br> 备用服务器主机名                =<br> 备用服务器端口号                =<br><br><br>C:\Users\db2admin&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">列出所有激活的数据库</span><br>C:\Users\db2admin&gt;db2 list active databases<br></code></pre></td></tr></table></figure><h3 id="5-查看表空间列表"><a href="#5-查看表空间列表" class="headerlink" title="5) 查看表空间列表"></a>5) 查看表空间列表</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs shell">C:\Users\db2admin&gt;db2 list tablespaces<br>SQL1024N  不存在数据库连接。  SQLSTATE=08003<br><br>C:\Users\db2admin&gt;<br>C:\Users\db2admin&gt;db2 list tablespaces<br><br>           当前数据库的表空间<br><br> 表空间标识                          = 0<br> 名称                       = SYSCATSPACE<br> 类型                                       = 数据库管理空间<br> 内容                                = 所有持久数据。常规表空间。<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br> 表空间标识                          = 1<br> 名称                       = TEMPSPACE1<br> 类型                                       = 系统管理空间<br> 内容                                = 系统临时数据<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br> 表空间标识                          = 2<br> 名称                       = USERSPACE1<br> 类型                                       = 数据库管理空间<br> 内容                                = 所有持久数据。大型表空间。<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br> 表空间标识                          = 3<br> 名称                       = IBMDB2SAMPLEREL<br> 类型                                       = 数据库管理空间<br> 内容                                = 所有持久数据。大型表空间。<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br> 表空间标识                          = 4<br> 名称                       = IBMDB2SAMPLEXML<br> 类型                                       = 数据库管理空间<br> 内容                                = 所有持久数据。大型表空间。<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br> 表空间标识                          = 5<br> 名称                       = SYSTOOLSPACE<br> 类型                                       = 数据库管理空间<br> 内容                                = 所有持久数据。大型表空间。<br> 状态                   = 0x0000<br>   详细解释：<br>     正常<br><br><br>C:\Users\db2admin&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建临时表空间</span><br>DB2 CREATE USER TEMPORARY TABLESPACE STMASPACE PAGESIZE 32 K MANAGED BY DATABASE USING (FILE &#x27;D:\DB2_TAB\STMASPACE.F1&#x27; 10000)<br><br>EXTENTSIZE 256<br><br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># cmd查看所有数据库 db2_DB2常用命令<br><span class="hljs-number">1</span>、 打开命令行窗口<br><br><span class="hljs-meta">#db2cmd</span><br><br><span class="hljs-number">2</span>、 打开控制中心<br><br># db2cmd db2cc<br><br><span class="hljs-number">3</span>、 打开命令编辑器<br><br>db2cmd db2ce<br><br>=====操作数据库命令=====<br><br><span class="hljs-number">4</span>、 启动数据库实例<br><br><span class="hljs-meta">#db2start</span><br><br>[<span class="hljs-number">5</span>、 停止数据库实例<br><br><span class="hljs-meta">#db2stop</span><br><br>如果你不能停止数据库由于激活的连接，在运行db2stop前执行db2 force application <span class="hljs-keyword">all</span>就可以了 /db2stop force<br><br><span class="hljs-number">6</span>、 创建数据库<br><br><span class="hljs-meta">#db2 create db [dbname]</span><br><br><span class="hljs-number">7</span>、 连接到数据库<br><br><span class="hljs-meta">#db2 connect to [dbname] user [username] using [password]</span><br><br><span class="hljs-number">8</span>、 断开数据库连接<br><br><span class="hljs-meta">#db2 connect reset</span><br><br><span class="hljs-number">9</span>、 列出所有数据库<br><br><span class="hljs-meta">#db2 list db directory</span><br><br><span class="hljs-number">10</span>、 列出所有激活的数据库<br><br><span class="hljs-meta">#db2 list active databases</span><br><br><span class="hljs-number">11</span>、 列出所有数据库配置<br><br><span class="hljs-meta">#db2 get db cfg</span><br><br><span class="hljs-number">12</span>、 删除数据库<br><br><span class="hljs-meta">#db2 drop database [dbname]</span><br><br>(执行此操作要小心) 如果不能删除，断开所有数据库连接或者重启db2<br><br>=========操作数据表命令==========<br><br><span class="hljs-number">13</span>、 列出所有用户表<br><br><span class="hljs-meta">#db2 list tables</span><br><br><span class="hljs-number">14</span>、列出所有系统表<br><br><span class="hljs-meta">#db2 list tables for system</span><br><br><span class="hljs-number">15</span>、列出所有表<br><br><span class="hljs-meta">#db2 list tables for all</span><br><br><span class="hljs-number">16</span>、 列出系统表<br><br><span class="hljs-meta">#db2 list tables for system</span><br><br><span class="hljs-number">17</span>、列出用户表<br><br><span class="hljs-meta">#db2 list tables for user</span><br><br><span class="hljs-number">18</span>、 列出特定用户表<br><br><span class="hljs-meta">#db2 list tables for schema [user]</span><br><br><span class="hljs-number">19</span>、 创建一个与数据库中某个表(t2)结构相同的新表(t1)<br><br><span class="hljs-meta">#db2 create table t1 like t2</span><br><br><span class="hljs-number">20</span>、将一个表t1的数据导入到另一个表t2<br><br><span class="hljs-meta">#db2 &quot;insert into t1 select * from t2&quot;</span><br><br><span class="hljs-number">21</span>、 查询表<br><br><span class="hljs-meta">#db2 &quot;select * from table name where ...&quot;</span><br><br><span class="hljs-number">22</span>、 显示表结构<br><br><span class="hljs-meta">#db2 describe table tablename</span><br><br><span class="hljs-number">23</span>、 修改列<br><br><span class="hljs-meta">#db2 alter table [tablename] alter column [columname] set data type varchar(24)</span><br><br>======脚本文件操作命令=======<br><br><span class="hljs-number">24</span>、 执行脚本文件<br><br><span class="hljs-meta">#db2 -tvf scripts.sql</span><br><br><span class="hljs-number">25</span>、帮助命令<br><br>* 查看命令帮助<br><br><span class="hljs-meta">#db2 ? db2start</span><br><br>* 查看错误码信息<br><br><span class="hljs-meta">#db2 ? 22001</span><br><br>* memo: 详细命令请使用&quot;db2 ? &quot;进行查看。<br><br>=========================<br><br><span class="hljs-number">26</span>、备份数据库<br><br><span class="hljs-meta">#db2 backup db</span><br><br>备注：执行以上命令之前需要断开数据库连接<br><br><span class="hljs-number">27</span>、在线备份数据库<br><br><span class="hljs-meta">#db2 -v &quot;BACKUP DATABASE ONLINE TO WITH 2 BUFFERS BUFFER 1024 INCLUDE LOGS WITHOUT PROMPTING&quot;</span><br><br><span class="hljs-number">28</span>、恢复数据库<br><br><span class="hljs-meta">#db2 restore db</span><br><br><span class="hljs-number">29</span>、在线恢复数据库<br><br><span class="hljs-meta">#db2 &quot;RESTORE DB TO LOGTARGET WITHOUT PROMPTING&quot;</span><br><br><span class="hljs-meta">#db2 &quot;ROLLFORWARD DB TO END OF LOGS AND STOP&quot; ...</span><br><br><span class="hljs-number">30</span>、导出数据文件<br><br><span class="hljs-meta">#db2move export</span><br><br>[-sn ]<br><br>[-tn ]<br><br><span class="hljs-number">31</span>、导入数据文件<br><br><span class="hljs-meta">#db2move import</span><br><br><span class="hljs-number">32</span>、获取db2数据库管理配置环境信息<br><br><span class="hljs-meta">#db2 get dbm cfg</span><br><br><span class="hljs-number">33</span>、.获取db2某个数据库数据库管理配置环境信息<br><br><span class="hljs-meta">#db2 get db cfg for</span><br><br>或者：连接至某个数据库以后执行db2 <span class="hljs-keyword">get</span> db cfg<br><br><span class="hljs-number">34</span>、更改db2日志空间的大小<br><br>备注：以下命令为了防止db2数据库过份使用硬盘空间而设，仅用于开发者自己机器上的db2，如果是服务器，则参数需要修改。<br><br><span class="hljs-meta">#db2 UPDATE DB CFG FOR USING logretain OFF logprimary 3 logsecond 2 logfilsiz 25600;</span><br><br>如果页大小是<span class="hljs-number">4</span>KB，则以上命令创建<span class="hljs-number">3</span>个<span class="hljs-number">100</span>M的日志文件，占用<span class="hljs-number">300</span>MB硬盘空间。<span class="hljs-number">25600</span>*<span class="hljs-number">4</span>KB=<span class="hljs-number">102400</span>KB。<br><br><span class="hljs-number">35</span>、创建临时表空间<br><br><span class="hljs-meta">#DB2 CREATE USER TEMPORARY TABLESPACE STMASPACE PAGESIZE 32 K MANAGED BY DATABASE USING (FILE &#x27;D:\DB2_TAB\STMASPACE.F1&#x27; 10000)</span><br><br>EXTENTSIZE <span class="hljs-number">256</span><br><br><span class="hljs-number">36</span>、获取数据库管理器的快照数据<br><br><span class="hljs-meta">#db2 –v get snapshot for dbm</span><br><br><span class="hljs-number">37</span>、显示进行程号<br><br><span class="hljs-meta">#db2 list applications show detail</span><br><br>===================================================<br><br>一、加载数据：<br><br><span class="hljs-number">1</span>、 以默认分隔符加载,默认为“,”号<br><br>db2 &quot;import from btpoper.txt of del insert into btpoper&quot;<br><br><span class="hljs-number">2</span>、 以指定分隔符“|”加载<br><br>db2 &quot;import from btpoper.txt of del modified by coldel| insert into btpoper&quot;<br><br>二、卸载数据：<br><br><span class="hljs-number">1</span>、 卸载一个表中全部数据<br><br>db2 &quot;export to btpoper.txt of del select * from btpoper&quot;<br><br>db2 &quot;export to btpoper.txt of del modified by coldel| select * from btpoper&quot;<br><br><span class="hljs-number">2</span>、 带条件卸载一个表中数据<br><br>db2 &quot;export to btpoper.txt of del select * from btpoper where brhid=&#x27;907020000&#x27;&quot;<br><br>db2 &quot;export to cmmcode.txt of del select * from cmmcode where codtp=&#x27;01&#x27;&quot;<br><br>db2 &quot;export to cmmcode.txt of del modified by coldel| select * from cmmcode where codtp=&#x27;01&#x27;&quot;<br><br>三、查询数据结构及数据：<br><br>db2 &quot;select * from btpoper&quot;<br><br>db2 &quot;select * from btpoper where brhid=&#x27;907020000&#x27; and oprid=&#x27;0001&#x27;&quot;<br><br>db2 &quot;select oprid,oprnm,brhid,passwd from btpoper&quot;<br><br>四、删除表中数据：<br><br>db2 &quot;delete from btpoper&quot;<br><br>db2 &quot;delete from btpoper where brhid=&#x27;907020000&#x27; or brhid=&#x27;907010000&#x27;&quot;<br><br>五、修改表中数据：<br><br>db2 &quot;update svmmst set prtlines=0 where brhid=&#x27;907010000&#x27; and jobtp=&#x27;02&#x27;&quot;<br><br>db2 &quot;update svmmst set prtlines=0 where jobtp=&#x27;02&#x27; or jobtp=&#x27;03&#x27;&quot;<br><br>六、联接数据库<br><br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> btpdbs<br><br>七、清除数据库联接<br><br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">reset</span> 断开数据库连接<br><br>db2 terminate 断开数据库连接<br><br>db2 force applications <span class="hljs-keyword">all</span> 断开所有数据库连接<br><br>八、备份数据库<br><br><span class="hljs-number">1</span>、 db2 backup db btpdbs<br><br><span class="hljs-number">2</span>、 db2move btpdbs export<br><br>db2look -d btpdbs -e -x [-a] -o crttbl.<span class="hljs-keyword">sql</span><br><br>九、恢复数据库<br><br><span class="hljs-number">1</span>、 db2 restore db btpdbs <span class="hljs-keyword">without</span> rolling forward<br><br><span class="hljs-number">2</span>、 db2 -tvf crtdb.<span class="hljs-keyword">sql</span><br><br>crtdb.<span class="hljs-keyword">sql</span>文件内容：<span class="hljs-keyword">create</span> db btpdbs <span class="hljs-keyword">on</span> /db2catalog<br><br>db2 -stvf crttbl.<span class="hljs-keyword">sql</span><br><br>db2move btpdbs <span class="hljs-keyword">import</span><br><br>十、DB2帮助命令：<br><br>db2 ?<br><br>db2 ? restroe<br><br>db2 ? sqlcode (例：db2 ? sql0803) 注：code必须为<span class="hljs-number">4</span>位数，不够<span class="hljs-number">4</span>位，前面补<span class="hljs-number">0</span><br><br>十一、bind命令：将应用程序与数据库作一捆绑,每次恢复数据库后，建议都要做一次bind<br><br>(<span class="hljs-number">1</span>) db2 bind br8200.bnd<br><br>(<span class="hljs-number">2</span>) /btp/bin/bndall /btp/bnd<br><br>/btp/bin/bndall /btp/tran/bnd<br><br>十二、查看数据库参数：<br><br>db2 <span class="hljs-keyword">get</span> dbm cfg<br><br>db2 <span class="hljs-keyword">get</span> db cfg <span class="hljs-keyword">for</span> btpdbs<br><br>十三、修改数据库参数：<br><br>db2 <span class="hljs-keyword">update</span> db cfg <span class="hljs-keyword">for</span> btpdbs <span class="hljs-keyword">using</span> LOGBUFSZ <span class="hljs-number">20</span><br><br>db2 <span class="hljs-keyword">update</span> db cfg <span class="hljs-keyword">for</span> btpdbs <span class="hljs-keyword">using</span> LOGFILSIZ <span class="hljs-number">5120</span><br><br>改完后，应执行以下命令使其生效：<br><br>db2 stop<br><br>db2 <span class="hljs-keyword">start</span><br><br>补充：<br><br>db2 <span class="hljs-keyword">set</span> <span class="hljs-keyword">schema</span> btp 修改当前模式为&quot;btp&quot;<br><br>db2 list tablespaces <span class="hljs-keyword">show</span> detail 查看当前数据库表空间分配状况<br><br>db2 list <span class="hljs-keyword">tablespace</span> containers <span class="hljs-keyword">for</span> <span class="hljs-number">2</span> <span class="hljs-keyword">show</span> detail 查看<span class="hljs-keyword">tablespace</span> id=<span class="hljs-number">2</span>使用容器所在目录<br><br>db2 list application<br><br>db2 list db directory 列出所有数据库<br><br>db2 list active databases 列出所有活动的数据库<br><br>db2 list <span class="hljs-keyword">tables</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span> 列出当前数据库下所有的表<br><br>db2 list <span class="hljs-keyword">tables</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">schema</span> btp 列出当前数据库中<span class="hljs-keyword">schema</span>为btp的表<br><br>db2 list tablespaces <span class="hljs-keyword">show</span> detail 显示数据库空间使用情况<br><br>db2 list packages <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span><br><br>db2 &quot;import from tab76.ixf of ixf commitcount 5000 insert into achact&quot;<br><br>db2 &quot;create table achact_t like achact&quot;<br><br>db2 &quot;rename table achact_t to achact&quot;<br><br>db2 &quot;insert into achact_t select * from achact where txndt&gt;=(select lstpgdt from<br><br>acmact where actno=achact.actno)&quot;<br><br>db2 <span class="hljs-keyword">get</span> <span class="hljs-keyword">snapshot</span> <span class="hljs-keyword">for</span> dynaimic <span class="hljs-keyword">sql</span> <span class="hljs-keyword">on</span> jining<br><br>删除一个实例：<br><br># cd /usr/lpp/db2_07_01/instance<br><br># ./db2idrop InstName<br><br>列出所有DB2实例：<br><br># cd /usr/lpp/db2_07_01/bin<br><br># ./db2ilist<br><br>为数据库建立编目<br><br>$ db2 catalog db btpdbs <span class="hljs-keyword">on</span> /db2catalog<br><br>取消已编目的数据库btpdbs<br><br>$ db2 uncatalog db btpdbs<br><br>查看版本<br><br># db2level<br><br>显示当前数据库管理实例<br><br>$ db2 <span class="hljs-keyword">get</span> instance<br><br>设置实例系统启动时是否自动启动。<br><br>$ db2iauto -<span class="hljs-keyword">on</span> 自动启动<br><br>$ db2iauto -<span class="hljs-keyword">off</span> 不自动启动<br><br>数据库优化命令：<br><br>reorg、runstats<br><br>当数据库经过一段时间使用，数据空间会变得越来越庞大。一些<span class="hljs-keyword">delete</span>掉 的数据仍存放在数据库中，占用数据空间，影响系统性能。<br><br>因此需要定期 运行reorg、runstats命令，清除已<span class="hljs-keyword">delete</span>的数据，优化数据结构。<br><br>db2 reorg <span class="hljs-keyword">table</span> 表名<br><br>db2 runstats <span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">with</span> distribution <span class="hljs-keyword">and</span> indexes <span class="hljs-keyword">all</span><br><br>因为要优化的表比较多，所以在/btp/bin目录下提供了一个sh程序runsall，<br><br>可在当天业务结束后，运行runsall，对数据库进行优化<br><br><span class="hljs-number">46</span>、对一张表运行统计信息<br><br><span class="hljs-meta">#db2 -v runstatson table TAB_NAMEand indexes all</span><br><br><span class="hljs-number">47</span>、查看是否对数据库执行了RUNSTATS<br><br><span class="hljs-meta">#db2 -v &quot;select tbname, nleaf, nlevels,stats_timefrom sysibm.sysindexes&quot;</span><br><br><span class="hljs-number">48</span>、更改缓冲池的大小<br><br>缓冲池中，当syscat.bufferpools的npages是<span class="hljs-number">-1</span>时，由数据库的配置参数bufferpage控制缓冲池的大小。<br><br>将npages的值更改为<span class="hljs-number">-1</span>的命令：<br><br><span class="hljs-meta">#db2 -v connect to DB_NAME</span><br><br><span class="hljs-meta">#db2 -v select * from syscat.bufferpools</span><br><br><span class="hljs-meta">#db2 -v alter bufferpoolIBMDEFAULTBP size -1</span><br><br><span class="hljs-meta">#db2 -v connect reset</span><br><br><span class="hljs-meta">#db2 -v terminate</span><br><br>更改数据库配置参数BufferPages的命令如下：<br><br><span class="hljs-meta">#db2 -v update db cfgfor dbnameusing BUFFPAGE bigger_value</span><br><br><span class="hljs-meta">#db2 -v terminate</span><br><br><span class="hljs-number">49</span>、看数据库监视内容列表<br><br><span class="hljs-meta">#db2 -v get monitor switches</span><br><br><span class="hljs-number">50</span>、打开某个数据库监视内容<br><br><span class="hljs-meta">#db2 -v update monitor switches using bufferpoolon</span><br><br><span class="hljs-number">51</span>、获取数据库快照<br><br><span class="hljs-meta">#db2 -v get snapshot for all databases &gt; snap.out</span><br><br><span class="hljs-meta">#db2 -v get snapshot for dbm&gt;&gt; snap.out</span><br><br><span class="hljs-meta">#db2 -v get snapshot for all bufferpools&gt;&gt; snap.out</span><br><br><span class="hljs-meta">#db2 -v terminate</span><br><br><span class="hljs-number">52</span>、重置数据库快照<br><br><span class="hljs-meta">#db2 -v reset monitor all</span><br><br><span class="hljs-number">53</span>、计算缓冲池命中率<br><br>理想情况下缓冲池命中率在<span class="hljs-number">95</span>%以上，计算公式如下：<br><br>(<span class="hljs-number">1</span> -((buffer pool data physical reads + buffer pool <span class="hljs-keyword">index</span> physical reads)<br><br>/(buffer pool data logical reads + pool <span class="hljs-keyword">index</span> logical reads))) *<span class="hljs-number">100</span>%<br><br>=========数据库实例========================<br><br><span class="hljs-number">54</span>、创建db2实例<br><br><span class="hljs-meta">#db2icrt</span><br><br><span class="hljs-number">55</span>、删除db2实例<br><br><span class="hljs-meta">#db2idrop</span><br><br><span class="hljs-number">56</span>、设置当前db2实例<br><br><span class="hljs-meta">#set db2intance=db2</span><br><br><span class="hljs-number">57</span>、显示db2拥有的实例<br><br><span class="hljs-meta">#db2ilist</span><br><br><span class="hljs-number">58</span>、恢复离线增量备份数据库的命令<br><br><span class="hljs-meta">#DB2 RESTORE DATABASE YNDC INCREMENTAL AUTOMATIC FROM D:\backup\autobak\db2 TAKEN AT 20060314232015</span><br><br><span class="hljs-number">59</span>、创建样本数据库<br><br>在unix平台，使用：<br><br><span class="hljs-meta">#sqllib/bin/db2sampl</span><br><br>在windows,os/<span class="hljs-number">2</span>平台，使用：db2sampl e,e是可选参数，指定将创建数据库的驱动器<br><br><span class="hljs-number">60</span>、设置联合数据库为可用(默认联合数据库不可用)<br><br><span class="hljs-meta">#db2 update dbm cfg using federated yes</span><br><br><span class="hljs-number">61</span>、列出数据库中所有的表<br><br><span class="hljs-meta">#db2 list tables</span><br><br><span class="hljs-number">62</span>、数据迁移方法<span class="hljs-number">1</span><br><br>export脚本示例<br><br><span class="hljs-meta">#db2 connect to testdb user test password test</span><br><br><span class="hljs-meta">#db2 &quot;export to aa1.ixf of ixf select * from table1&quot;</span><br><br><span class="hljs-meta">#db2 &quot;export to aa2.ixf of ixf select * from table2&quot;</span><br><br><span class="hljs-meta">#db2 connect reset</span><br><br><span class="hljs-keyword">import</span>脚本示例<br><br><span class="hljs-meta">#db2 connect to testdb user test password test</span><br><br><span class="hljs-meta">#db2 &quot;load from aa1.ixf of ixf replace into table1 COPY NO without prompting &quot;</span><br><br><span class="hljs-meta">#db2 &quot;load from aa2.ixf of ixf replace into table2 COPY NO without prompting &quot;</span><br><br><span class="hljs-meta">#db2 connect reset</span><br><br>查询表中是否有该字段<br><br><span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">from</span> syscat.<span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> colname=<span class="hljs-string">&#x27;ID_NO&#x27;</span> <span class="hljs-keyword">and</span> tabname=<span class="hljs-string">&#x27;MKTSRV_GLOBAL_DOWN_RECORD&#x27;</span> <span class="hljs-keyword">and</span> tabschema=<span class="hljs-string">&#x27;DB2INST1&#x27;</span>;<br><br>查询重复的数据<br><br><span class="hljs-keyword">select</span> user_code,count(*) <span class="hljs-keyword">from</span> cd_sys_person <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> user_code <span class="hljs-keyword">having</span> count(*)&gt;<span class="hljs-number">1</span><br><br>语句压缩与指定的表相关联的数据<br><br>reorg <span class="hljs-keyword">table</span> <span class="hljs-built_in">TABLE_NAME</span><br><br>解锁表<br><br><span class="hljs-keyword">load</span> <span class="hljs-keyword">from</span> /dev/<span class="hljs-keyword">null</span> <span class="hljs-keyword">of</span> del terminate <span class="hljs-keyword">into</span> <span class="hljs-built_in">TABLE_NAME</span><br><br>创建索引<br><br><span class="hljs-keyword">Create</span> <span class="hljs-keyword">index</span> 索引名 <span class="hljs-keyword">on</span> 表名(字段<span class="hljs-number">1</span>,字段<span class="hljs-number">2</span>)<br><br>刷新表<br><br>runstats <span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> talblename <span class="hljs-keyword">and</span> indexes <span class="hljs-keyword">all</span><br><br>runstats <span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> aiapp.mda_xxxxx <span class="hljs-keyword">and</span> <span class="hljs-keyword">index</span> <span class="hljs-keyword">all</span><br><br>查看索引<br><br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> syscat.indexes <span class="hljs-keyword">where</span> tabname=<span class="hljs-string">&#x27;ZHYXZS_KB_SC_END&#x27;</span>;<br><br>重新连接<br><br><span class="hljs-keyword">connect</span> <span class="hljs-keyword">reset</span><br><br>中断数据库连接<br><br>disconnect db2_gcb<br><br>建立视图<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> V_zjt_tables <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> tabschema,tabname <span class="hljs-keyword">from</span> zjt_tables;<br><br>建立触发器<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> zjt_tables_del<br><br><span class="hljs-keyword">AFTER</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ON</span> zjt_tables<br><br><span class="hljs-keyword">REFERENCING OLD</span> <span class="hljs-keyword">AS</span> O<br><br><span class="hljs-keyword">FOR</span> <span class="hljs-keyword">EACH</span> <span class="hljs-keyword">ROW</span> MODE DB2SQL<br><br><span class="hljs-keyword">Insert</span> <span class="hljs-keyword">into</span> zjt_tables1<br><br><span class="hljs-keyword">values</span>(substr(o.tabschema,<span class="hljs-number">1</span>,<span class="hljs-number">8</span>),substr(o.tabname,<span class="hljs-number">1</span>,<span class="hljs-number">10</span>))<br><br>建立唯一性索引<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">INDEX</span> I_ztables_tabname <span class="hljs-keyword">ON</span> zjt_tables(tabname);<br><br>查看列<br><br><span class="hljs-keyword">select</span> SUBSTR(COLNAME,<span class="hljs-number">1</span>,<span class="hljs-number">20</span>) <span class="hljs-keyword">as</span> 列名,TYPENAME <span class="hljs-keyword">as</span> 类型,LENGTH <span class="hljs-keyword">as</span> 长度 <span class="hljs-keyword">from</span> <span class="hljs-keyword">columns</span> <span class="hljs-keyword">where</span> tabname=<span class="hljs-string">&#x27;ZJT_TABLES&#x27;</span>;<br><br>查看表结构<br><br>db2 describe <span class="hljs-keyword">table</span> user1.department<br><br>db2 describe <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>.<span class="hljs-keyword">tables</span><br><br>查看表的索引<br><br>db2 describe indexes <span class="hljs-keyword">for</span> <span class="hljs-keyword">table</span> user1.department<br><br>查看索引<br><br><span class="hljs-keyword">select</span> indname <span class="hljs-keyword">from</span> indexes <span class="hljs-keyword">where</span> indname=<span class="hljs-string">&#x27;I_ZTABLES_TABNAME&#x27;</span>;<br><br>查看视图<br><br><span class="hljs-keyword">select</span> viewname <span class="hljs-keyword">from</span> views <span class="hljs-keyword">where</span> viewname=<span class="hljs-string">&#x27;V_ZJT_TABLES&#x27;</span>;<br><br>查看存贮过程<br><br><span class="hljs-keyword">SELECT</span> SUBSTR(PROCSCHEMA,<span class="hljs-number">1</span>,<span class="hljs-number">15</span>),SUBSTR(PROCNAME,<span class="hljs-number">1</span>,<span class="hljs-number">15</span>) <span class="hljs-keyword">FROM</span> SYSCAT.<span class="hljs-keyword">PROCEDURES</span>;<br><br>类型转换(<span class="hljs-keyword">cast</span>)<br><br>ip datatype:<span class="hljs-type">varchar</span><br><br><span class="hljs-keyword">select</span> cast(ip <span class="hljs-keyword">as</span> <span class="hljs-type">integer</span>)+<span class="hljs-number">50</span> <span class="hljs-keyword">from</span> log_comm_failed<br><br>关于从db2 导入导出数据的问题<br><br>DB2中所谓的数据移动，包括：<br><br><span class="hljs-number">1.</span> 数据的导入(<span class="hljs-keyword">Import</span>)<br><br><span class="hljs-number">2.</span> 数据的导出(Export)<br><br><span class="hljs-number">3.</span> 数据的装入(<span class="hljs-keyword">Load</span>)<br><br><span class="hljs-number">10</span>、db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">reset</span> 或 db2 terminate <span class="hljs-comment">--断开与数据库的连接</span><br><br><span class="hljs-number">11</span>、db2set db2codepage=<span class="hljs-number">1208</span> <span class="hljs-comment">--修改页编码为1208</span><br><br><span class="hljs-number">12</span>、db2 describe <span class="hljs-keyword">table</span> <span class="hljs-comment">--查看表结构</span><br><br><span class="hljs-number">13</span>、db2 list <span class="hljs-keyword">tables</span> <span class="hljs-comment">--查看数据库中所有表结构</span><br><br>list <span class="hljs-keyword">tables</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">system</span> <span class="hljs-comment">--列出所有系统表</span><br><br><span class="hljs-number">14</span>、db2 list tablespaces <span class="hljs-comment">--列出表空间</span><br><br>二、高级篇<br><br><span class="hljs-number">15</span>、<span class="hljs-keyword">fetch first</span> <span class="hljs-number">10</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">only</span> <span class="hljs-comment">--列出表中前10条数据</span><br><br>例如：<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> <span class="hljs-keyword">fetch first</span> <span class="hljs-number">10</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">only</span><br><br><span class="hljs-number">16</span>、coalesce(字段名，转换后的值) <span class="hljs-comment">--对是null的字段进行值转换</span><br><br>例如：<span class="hljs-keyword">select</span> coalesce(id,<span class="hljs-number">1</span>) <span class="hljs-keyword">from</span> <span class="hljs-comment">--对表中id如果为null转换成1</span><br><br><span class="hljs-number">17</span>、dayofweek(日期) <span class="hljs-comment">--计算出日期中是周几(1是周日，2是周一.......7是周六)</span><br><br>dayofweek_iso <span class="hljs-comment">--计算出日期中是周几(1是周一.......7是周日)</span><br><br>例如：dayofweek(<span class="hljs-type">date</span>(<span class="hljs-number">2008</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>)) <span class="hljs-comment">--它会返回是4，代表星期三</span><br><br>dayofweek_iso(<span class="hljs-type">date</span>(<span class="hljs-number">2008</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>)) <span class="hljs-comment">--它会返回是3，代表星期三</span><br><br><span class="hljs-number">18</span>、dayofyear(日期) <span class="hljs-comment">--一年中的第几天，范围在1-366范围之内</span><br><br>注意：参数中日期的格式是YYYY-MM-DD的形式，如果不是需要进行转换，否则函数不能使用<br><br>例如：日期是<span class="hljs-number">20080116</span>必须要进行转换<br><br>dayofweek(concat(concat(concat(substr(openDate,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>),<span class="hljs-string">&#x27;-&#x27;</span>),concat(substr(openDate,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>),<span class="hljs-string">&#x27;-&#x27;</span>)),substr(openDate,<span class="hljs-number">7</span>,<span class="hljs-number">2</span>))) <span class="hljs-keyword">as</span> week)<br><br>这样格式正确的。<br><br><span class="hljs-number">19</span>、concatt(参数<span class="hljs-number">1</span>，连接值) <span class="hljs-comment">--把参数１加上连接值组成一个新值。</span><br><br>例如：　concat(<span class="hljs-string">&#x27;aa&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>) <span class="hljs-comment">--返回是aab</span><br><br>把oracle表导入到db2数据库中，有些字段类型需要进行转换，具体看：oracle与db2数据类型转换<br><br>启动DB2服务：db2start<br><br>关闭DB2服务: db2stop<br><br>一、加载数据：<br><br><span class="hljs-number">1</span>、 以默认分隔符加载,默认为“,”号<br><br>db2 &quot;import from btpoper.txt of del insert into btpoper&quot;<br><br><span class="hljs-number">2</span>、 以指定分隔符“|”加载<br><br>db2 &quot;import from btpoper.txt of del modified by coldel| insert into btpoper&quot;<br><br>二、卸载数据：<br><br><span class="hljs-number">1</span>、 卸载一个表中全部数据<br><br>db2 &quot;export to btpoper.txt of del select * from btpoper&quot;<br><br>db2 &quot;export to btpoper.txt of del modified by coldel| select * from btpoper&quot;<br><br><span class="hljs-number">2</span>、 带条件卸载一个表中数据<br><br>db2 &quot;export to btpoper.txt of del select * from btpoper where brhid=&#x27;907020000&#x27;&quot;<br><br>db2 &quot;export to cmmcode.txt of del select * from cmmcode where codtp=&#x27;01&#x27;&quot;<br><br>db2 &quot;export to cmmcode.txt of del modified by coldel| select * from cmmcode where codtp=&#x27;01&#x27;&quot;<br><br>三、查询数据结构及数据：<br><br>db2 &quot;select * from btpoper&quot;<br><br>db2 &quot;select * from btpoper where brhid=&#x27;907020000&#x27; and oprid=&#x27;0001&#x27;&quot;<br><br>db2 &quot;select oprid,oprnm,brhid,passwd from btpoper&quot;<br><br>四、删除表中数据：<br><br>db2 &quot;delete from btpoper&quot;<br><br>db2 &quot;delete from btpoper where brhid=&#x27;907020000&#x27; or brhid=&#x27;907010000&#x27;&quot;<br><br>五、修改表中数据：<br><br>db2 &quot;update svmmst set prtlines=0 where brhid=&#x27;907010000&#x27; and jobtp=&#x27;02&#x27;&quot;<br><br>db2 &quot;update svmmst set prtlines=0 where jobtp=&#x27;02&#x27; or jobtp=&#x27;03&#x27;&quot;<br><br>六、联接数据库<br><br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">to</span> btpdbs<br><br>七、清除数据库联接<br><br>db2 <span class="hljs-keyword">connect</span> <span class="hljs-keyword">reset</span> 断开数据库连接<br><br>db2 terminate 断开数据库连接<br><br>db2 force applications <span class="hljs-keyword">all</span> 断开所有数据库连接<br><br>八、备份数据库<br><br><span class="hljs-number">1</span>、 db2 backup db btpdbs<br><br><span class="hljs-number">2</span>、 db2move btpdbs export<br><br>db2look -d btpdbs -e -x [-a] -o crttbl.<span class="hljs-keyword">sql</span><br><br>九、恢复数据库<br><br><span class="hljs-number">1</span>、 db2 restore db btpdbs <span class="hljs-keyword">without</span> rolling forward<br><br><span class="hljs-number">2</span>、 db2 -tvf crtdb.<span class="hljs-keyword">sql</span><br><br>crtdb.<span class="hljs-keyword">sql</span>文件内容：<span class="hljs-keyword">create</span> db btpdbs <span class="hljs-keyword">on</span> /db2catalog<br><br>db2 -stvf crttbl.<span class="hljs-keyword">sql</span><br><br>db2move btpdbs <span class="hljs-keyword">import</span><br><br>十、DB2帮助命令：<br><br>db2 ?<br><br>db2 ? restroe<br><br>db2 ? sqlcode (例：db2 ? sql0803) 注：code必须为<span class="hljs-number">4</span>位数，不够<span class="hljs-number">4</span>位，前面补<span class="hljs-number">0</span><br><br>十一、bind命令：将应用程序与数据库作一捆绑,每次恢复数据库后，建议都要做一次bind<br><br>(<span class="hljs-number">1</span>) db2 bind br8200.bnd<br><br>(<span class="hljs-number">2</span>) /btp/bin/bndall /btp/bnd<br><br>/btp/bin/bndall /btp/tran/bnd<br><br>十二、查看数据库参数：<br><br>db2 <span class="hljs-keyword">get</span> dbm cfg<br><br>db2 <span class="hljs-keyword">get</span> db cfg <span class="hljs-keyword">for</span> btpdbs<br><br>十三、修改数据库参数：<br><br>db2 <span class="hljs-keyword">update</span> db cfg <span class="hljs-keyword">for</span> btpdbs <span class="hljs-keyword">using</span> LOGBUFSZ <span class="hljs-number">20</span><br><br>db2 <span class="hljs-keyword">update</span> db cfg <span class="hljs-keyword">for</span> btpdbs <span class="hljs-keyword">using</span> LOGFILSIZ <span class="hljs-number">5120</span><br><br>改完后，应执行以下命令使其生效：<br><br>db2 stop<br><br>db2 <span class="hljs-keyword">start</span><br><br>补充：<br><br>db2 <span class="hljs-keyword">set</span> <span class="hljs-keyword">schema</span> btp 修改当前模式为&quot;btp&quot;<br><br>db2 list tablespaces <span class="hljs-keyword">show</span> detail 查看当前数据库表空间分配状况<br><br>db2 list <span class="hljs-keyword">tablespace</span> containers <span class="hljs-keyword">for</span> <span class="hljs-number">2</span> <span class="hljs-keyword">show</span> detail 查看<span class="hljs-keyword">tablespace</span> id=<span class="hljs-number">2</span>使用容器所在目录<br><br>db2 list application<br><br>db2 list db directory 列出所有数据库<br><br>db2 list active databases 列出所有活动的数据库<br><br>db2 list <span class="hljs-keyword">tables</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span> 列出当前数据库下所有的表<br><br>db2 list <span class="hljs-keyword">tables</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">schema</span> btp 列出当前数据库中<span class="hljs-keyword">schema</span>为btp的表<br><br>db2 list tablespaces <span class="hljs-keyword">show</span> detail 显示数据库空间使用情况<br><br>db2 list packages <span class="hljs-keyword">for</span> <span class="hljs-keyword">all</span><br><br>db2 &quot;import from tab76.ixf of ixf commitcount 5000 insert into achact&quot;<br><br>db2 &quot;create table achact_t like achact&quot;<br><br>db2 &quot;rename table achact_t to achact&quot;<br><br>db2 &quot;insert into achact_t select * from achact where txndt&gt;=(select lstpgdt from<br><br>acmact where actno=achact.actno)&quot;<br><br>db2 <span class="hljs-keyword">get</span> <span class="hljs-keyword">snapshot</span> <span class="hljs-keyword">for</span> dynaimic <span class="hljs-keyword">sql</span> <span class="hljs-keyword">on</span> jining<br><br>删除一个实例：<br><br># cd /usr/lpp/db2_07_01/instance<br><br># ./db2idrop InstName<br><br>列出所有DB2实例：<br><br># cd /usr/lpp/db2_07_01/bin<br><br># ./db2ilist<br><br>为数据库建立编目<br><br>$ db2 catalog db btpdbs <span class="hljs-keyword">on</span> /db2catalog<br><br>取消已编目的数据库btpdbs<br><br>$ db2 uncatalog db btpdbs<br><br>查看版本<br><br># db2level<br><br>显示当前数据库管理实例<br><br>$ db2 <span class="hljs-keyword">get</span> instance<br><br>设置实例系统启动时是否自动启动。<br><br>$ db2iauto -<span class="hljs-keyword">on</span> 自动启动<br><br>$ db2iauto -<span class="hljs-keyword">off</span> 不自动启动<br><br>数据库优化命令：<br><br>reorg、runstats<br><br>当数据库经过一段时间使用，数据空间会变得越来越庞大。一些<span class="hljs-keyword">delete</span>掉<br><br>的数据仍存放在数据库中，占用数据空间，影响系统性能。因此需要定期<br><br>运行reorg、runstats命令，清除已<span class="hljs-keyword">delete</span>的数据，优化数据结构。<br><br>db2 reorg <span class="hljs-keyword">table</span> 表名<br><br>db2 runstats <span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> 表名 <span class="hljs-keyword">with</span> distribution <span class="hljs-keyword">and</span> indexes <span class="hljs-keyword">all</span><br><br>因为要优化的表比较多，所以在/btp/bin目录下提供了一个sh程序runsall，<br><br>可在当天业务结束后，运行runsall，对数据库进行优化<br><br></code></pre></td></tr></table></figure><h2 id="7-DB2查看端口号"><a href="#7-DB2查看端口号" class="headerlink" title="7. DB2查看端口号"></a>7. DB2查看端口号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><code class="hljs shell"><br>C:\Users\db2admin&gt;db2 get dbm cfg<br>DB21061E  未初始化命令行环境。<br><br>C:\Users\db2admin&gt;db2cmd<br><br>C:\Users\db2admin&gt;<br><br>C:\Users\db2admin&gt;db2 get dbm cfg<br><br>          数据库管理器配置<br><br>     节点类型                                            = 带有本地客户机和远程<br>客户机的企业服务器版<br><br> 数据库管理器配置发行版级别                              = 0x1500<br><br> CPU 速度（毫秒/指令）                       (CPUSPEED) = 1.613843e-007<br> 通信带宽（MB/秒）                     (COMM_BANDWIDTH) = 1.000000e+002<br><br> 最大并发活动数据库数                            (NUMDB) = 32<br> 联合数据库系统支持                          (FEDERATED) = NO<br> 事务处理器监视器名                        (TP_MON_NAME) =<br><br> 缺省对方付费帐户                      (DFT_ACCOUNT_STR) =<br><br> Java Development Kit 安装路径（JDK_PATH）               = D:\PROGRA~1\IBM\SQLLI<br>B\java\jdk<br><br> 诊断错误捕获级别                            (DIAGLEVEL) = 3<br> 通知级别                                  (NOTIFYLEVEL) = 3<br> 诊断数据目录路径                             (DIAGPATH) = D:\DEV\DB2\\IBM\DB2\D<br>B2COPY1\DB2\ $m<br> 当前成员已解析 DIAGPATH                        = D:\DEV\DB2\\IBM\DB2\DB2COPY1\D<br>B2\DIAG0000\<br> 备用诊断数据目录路径 (ALT_DIAGPATH) =<br> 当前成员已解析 ALT_DIAGPATH                    =<br> 轮转 db2diag 和通知日志的大小（MB）          (DIAGSIZE) = 0<br><br> 缺省数据库监视器开关<br>   缓冲池                              (DFT_MON_BUFPOOL) = OFF<br>   锁定                                   (DFT_MON_LOCK) = OFF<br>   排序                                   (DFT_MON_SORT) = OFF<br>   语句                                   (DFT_MON_STMT) = OFF<br>   表                                    (DFT_MON_TABLE) = OFF<br>   时间戳记                          (DFT_MON_TIMESTAMP) = ON<br>   工作单元                                (DFT_MON_UOW) = OFF<br> 监视实例和数据库的运行状况                 (HEALTH_MON) = OFF<br><br> SYSADM 组名                              (SYSADM_GROUP) =<br> SYSCTRL 组名                            (SYSCTRL_GROUP) =<br> SYSMAINT 组名                          (SYSMAINT_GROUP) =<br> SYSMON 组名                              (SYSMON_GROUP) =<br><br> 客户机用户标识-密码插件                (CLNT_PW_PLUGIN) =<br> 客户机 Kerberos 插件                  (CLNT_KRB_PLUGIN) = IBMkrb5<br> 组插件                                   (GROUP_PLUGIN) =<br> 本地授权的 GSS 插件                   (LOCAL_GSSPLUGIN) =<br> 服务器插件方式                        (SRV_PLUGIN_MODE) = UNFENCED<br> GSS 插件的服务器列表            (SRVCON_GSSPLUGIN_LIST) =<br> 服务器用户标识-密码插件              (SRVCON_PW_PLUGIN) =<br> 服务器连接认证                            (SRVCON_AUTH) = NOT_SPECIFIED<br> 集群管理器                                              =<br><br> 数据库管理器认证                       (AUTHENTICATION) = SERVER<br> 备用认证                           (ALTERNATE_AUTH_ENC) = NOT_SPECIFIED<br> 没有权限就允许编目                     (CATALOG_NOAUTH) = NO<br> 信赖所有客户机                         (TRUST_ALLCLNTS) = YES<br> 可信的客户机认证                       (TRUST_CLNTAUTH) = CLIENT<br> 绕过联合认证                               (FED_NOAUTH) = NO<br><br> 缺省数据库路径                              (DFTDBPATH) = D:<br><br> 数据库监视器堆大小 (4KB)                  (MON_HEAP_SZ) = AUTOMATIC(66)<br> “Java 虚拟机”堆大小 (4KB)              (JAVA_HEAP_SZ) = 65536<br> 审计缓冲区大小 (4KB)                     (AUDIT_BUF_SZ) = 0<br> 全局实例内存（% 或 4KB）       (INSTANCE_MEMORY) = AUTOMATIC(1215444)<br> 成员实例内存（% 或 4KB）                         = GLOBAL<br> 代理程序的堆栈大小                     (AGENT_STACK_SZ) = 16<br> 排序堆阈值 (4KB)                           (SHEAPTHRES) = 0<br><br> 目录高速缓存支持                            (DIR_CACHE) = YES<br><br> 应用程序支持层堆大小 (4KB)                  (ASLHEAPSZ) = 15<br> 最大请求者 I/O 块大小（以字节计）            (RQRIOBLK) = 65535<br> 已调速实用程序对工作负载的影响        (UTIL_IMPACT_LIM) = 10<br><br> 代理程序的优先级                             (AGENTPRI) = SYSTEM<br> 代理程序池大小                         (NUM_POOLAGENTS) = AUTOMATIC(100)<br> 池中的初始代理程序数                   (NUM_INITAGENTS) = 0<br> 最大协调代理程序数                    (MAX_COORDAGENTS) = AUTOMATIC(200)<br> 最大客户机连接数                      (MAX_CONNECTIONS) = AUTOMATIC(MAX_COORDAG<br>ENTS)<br><br> 保留受防护的进程                           (KEEPFENCED) = YES<br> 合用受防护的进程的数目                    (FENCED_POOL) = AUTOMATIC(MAX_COORDAG<br>ENTS)<br> 受防护的进程的初始数目                 (NUM_INITFENCED) = 0<br><br> 索引重新创建时间和重做索引构建               (INDEXREC) = RESTART<br><br> 事务管理器数据库名称                      (TM_DATABASE) = 1ST_CONN<br> 事务再同步时间间隔（秒）              (RESYNC_INTERVAL) = 180<br><br> SPM 名称                                     (SPM_NAME) = PC_20211<br> SPM 日志大小                          (SPM_LOG_FILE_SZ) = 256<br> SPM 再同步代理程序限制                 (SPM_MAX_RESYNC) = 20<br> SPM 日志路径                             (SPM_LOG_PATH) =<br><br> TCP/IP 服务名称                              (SVCENAME) = db2c_DB2<br> 发现方式                                     (DISCOVER) = SEARCH<br> 发现服务器实例                          (DISCOVER_INST) = ENABLE<br><br> SSL 服务器 keydb 文件                   (SSL_SVR_KEYDB) =<br> SSL 服务器隐藏文件                      (SSL_SVR_STASH) =<br> SSL 服务器证书标签                      (SSL_SVR_LABEL) =<br> SSL 服务名称                             (SSL_SVCENAME) =<br> SSL 密码规范                          (SSL_CIPHERSPECS) =<br> SSL 版本                                 (SSL_VERSIONS) =<br> SSL 客户机 keydb 文件                  (SSL_CLNT_KEYDB) =<br> SSL 客户机隐藏文件                     (SSL_CLNT_STASH) =<br><br> 最大查询并行度                        (MAX_QUERYDEGREE) = ANY<br> 启用分区内并行性                       (INTRA_PARALLEL) = NO<br><br> 每个查询的最大异步 TQ 数              (FEDERATED_ASYNC) = 0<br><br> FCM 缓冲区的数目                      (FCM_NUM_BUFFERS) = AUTOMATIC(4096)<br> FCM 缓冲区大小                            (FCM_BUFFER_SIZE) = 32768<br> FCM 通道的数目                        (FCM_NUM_CHANNELS) = AUTOMATIC(2048)<br> FCM 并行性                             (FCM_PARALLELISM) = AUTOMATIC(1)<br> 节点连接耗用时间（秒）                    (CONN_ELAPSE) = 10<br> 最大节点连接重试次数                  (MAX_CONNRETRIES) = 5<br> 节点间的最大时差（分钟）                (MAX_TIME_DIFF) = 60<br><br> db2start/db2stop 超时（分钟）         (START_STOP_TIME) = 10<br><br> WLM 分派器已启用                       (WLM_DISPATCHER) = NO<br> WLM 分派器并行性                      (WLM_DISP_CONCUR) = COMPUTED<br> WLM 分派器 CPU 份额已启用         (WLM_DISP_CPU_SHARES) = NO<br> WLM 分派器最低使用率 (%) (WLM_DISP_MIN_UTIL) = 5<br><br> 通信缓冲区出口库列表                   (COMM_EXIT_LIST) =<br> 当前有效体系结构级别 (CUR_EFF_ARCH_LVL) = V:11 R:5 M:7 F:0 I:0 SB:0<br> 当前有效代码级别 (CUR_EFF_CODE_LVL) = V:11 R:5 M:7 F:0 I:0 SB:0<br><br> 密钥库类型                           (KEYSTORE_TYPE) = NONE<br> 密钥库位置                   (KEYSTORE_LOCATION) =<br><br> Python 运行时的路径                (PYTHON_PATH) =<br> R 运行时的路径                              (R_PATH) =<br><br> 多重部件上载部件大小 (MULTIPARTSIZEMB) = 100<br><br><br>C:\Users\db2admin&gt;<br></code></pre></td></tr></table></figure><p>查看DB2数据库占用的端口号，分为windows和linux系统查看方式，如下：</p><p>一、linux系统查看DB2占用端口号：  </p><p>1.db2start启动了数据库管理器，并且通讯方式配置为TCP&#x2F;IP。  </p><p>2.首先切换到db2inst1用户 su - db2inst1  </p><p>3.查找TCP&#x2F;IP Service name db2 get dbm cfg | grep -i service  </p><p>4.通过上一句命令的输出（如db2c_db2inst1）在&#x2F;etc&#x2F;services文件中找对应的端口号 grep db2c_db2inst1 &#x2F;etc&#x2F;services  </p><p>输出 db2c_db2inst1 50000&#x2F;tcp  </p><p>其中50000就是db2数据库所占用的端口号  </p><p>二、windows系统查看DB2占用端口号方式如下：  </p><p>1、使用命令 db2 get dbm cfg  </p><p>找到”SVCENAME” 查找到TCP&#x2F;IP 服务名  </p><p>2、到系统配置文件里找到service name 对应的 port number  </p><p>windows：查看 c:\windows\system32\drivers\etc\services  </p><p>aix： 查看 &#x2F;etc&#x2F;services  </p><p>如下：  </p><p>DB2_DB2 60000&#x2F;tcp  </p><p>DB2_DB2_1 60001&#x2F;tcp  </p><p>DB2_DB2_2 60002&#x2F;tcp  </p><p>DB2_DB2_END 60003&#x2F;tcp  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">c:\windows\system32\drivers\etc\services<br><br>DB2_DB2         20000/tcp<br>DB2_DB2_1       20001/tcp<br>DB2_DB2_2       20002/tcp<br>DB2_DB2_3       20003/tcp<br>DB2_DB2_4       20004/tcp<br>DB2_DB2_END     20005/tcp<br>directplaysrvr  47624/tcp                           <span class="hljs-comment">#Direct Play Server</span><br>directplaysrvr  47624/udp                           <span class="hljs-comment">#Direct Play Server</span><br><br>db2c_DB2    25000/tcp<br></code></pre></td></tr></table></figure><p>dbeaver连接异常：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-attr">[jcc]</span><span class="hljs-selector-attr">[t4]</span><span class="hljs-selector-attr">[2043]</span><span class="hljs-selector-attr">[11550]</span><span class="hljs-selector-attr">[4.26.14]</span> 异常 java<span class="hljs-selector-class">.net</span>.ConnectException：打开端口 <span class="hljs-number">25</span>,<span class="hljs-number">000</span> 上服务器 localhost/<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> 的套接字时出错，消息为：Connection refused: connect。 ERRORCODE=-<span class="hljs-number">4499</span>, SQLSTATE=<span class="hljs-number">08001</span><br>  Connection refused: connect<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>DB2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vscode</title>
    <link href="/2022/09/18/%E6%8A%80%E6%9C%AF/vscode/"/>
    <url>/2022/09/18/%E6%8A%80%E6%9C%AF/vscode/</url>
    
    <content type="html"><![CDATA[<figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs moonscript">cd <span class="hljs-name">D</span>:\Program Files\Microsoft VS Code\resources\app\node_modules.asar.unpacked\@vscode\ripgrep\bin<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Chrome</title>
    <link href="/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/Chrome/"/>
    <url>/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/Chrome/</url>
    
    <content type="html"><![CDATA[<h1 id="书签栏-Chrome"><a href="#书签栏-Chrome" class="headerlink" title="书签栏 Chrome"></a>书签栏 Chrome</h1><p><a href="https://www.google.com.hk/">Google</a><br><a href="https://www.baidu.com/">百度一下，你就知道</a><br><a href="https://mvnrepository.com/">Maven Repository: Search&#x2F;Browse&#x2F;Explore</a><br><a href="https://sm.ms/">Simple Free Image Hosting - SM.MS - Simple Free Image Hosting</a><br><a href="http://www.syiban.com/">学习强国挑战答题_在线搜题答案查询</a><br><a href="https://chris-z-su.github.io/">chris-z-su</a><br><a href="https://hub.gientech.com/">中电金信</a><br><a href="https://kaifa.baidu.com/">开发者搜索-Beta-让技术搜索更简单高效</a><br><a href="https://tool.oschina.net/codeformat/xml">在线代码格式化</a><br><a href="https://zhangsubao.gitee.io/">Bookpackage</a><br><a href="https://thunder.jd.com/brandweb/brand/?ref_brandid=20104#/jdlszs?p=30000">品牌营销平台</a><br><a href="https://www.bejson.com/convert/unicode_chinese/">在线unicode转中文,中文转unicode-BeJSON.com</a><br><a href="https://app.diagrams.net/#HChris-z-su%2Fwollo%2Fmain%2Fstudy%2FSpring%E5%AD%A6%E4%B9%A0.drawio">Spring学习.drawio - diagrams.net</a><br><a href="http://redisdoc.com/">Redis 命令参考 — Redis 命令参考</a><br><a href="file:///E:/htmldemo/uchuu-main/src/SocialCreditCode/dist/index.html">统一社会信用代码生成</a><br><a href="https://www.52pojie.cn/">吾爱破解 - LCG - LSG|安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://wallhere.com/">世界著名的壁纸网站 电脑桌面壁纸 - WallHere 壁纸库</a><br><a href="https://blog.csdn.net/zitian886/article/details/51733699">AngularJS数组操作_紫天专栏-CSDN博客_angular 数组操作</a><br><a href="http://www.acfun.cn/">AcFun弹幕视频网 - 认真你就输啦 (・ω・)ノ- ( ゜- ゜)つロ</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://chris-z-su.github.io/index.html">chris-z-su.github.io</a><br><a href="https://www.meiye.art/">美叶- 优质灵感辑录</a><br><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.notion.so/zhangsubao/Spring-e77f3334f15b479098a20269a7fc9da6">Notion-Spring基础知识</a><br><a href="https://app.diagrams.net/#HChris-z-su%2Fwollo%2Fmain%2Fstudy%2FSpring%E5%AD%A6%E4%B9%A0.drawio">Spring学习.drawio - diagrams.net</a><br><a href="https://www.notion.so/">Notion – The all-in-one workspace for your notes, tasks, wikis, and databases.</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=123">学习强国挑战答题</a><br><a href="https://note.youdao.com/ynoteshare/index.html?id=99fab1091bb2c6bdd0a13b5876e6162b&type=note&_time=1641094211786">有道云笔记</a><br><a href="https://www.ruankao.org.cn/introduction/zgsz">中国计算机技术职业资格网</a><br><a href="https://www.bilibili.com/video/BV1yW41167FL">计算机技术与软件专业技术资格（水平）考试。计算机软件。初级资格。程序员。软考。_哔哩哔哩_bilibili</a><br><a href="https://sm.ms/">Simple Free Image Hosting - SM.MS - Simple Free Image Hosting</a><br><a href="https://www.ixigua.com/?wid_try=1">西瓜视频 - 高清免费在线视频 - 点亮对生活的好奇心</a><br><a href="https://github.com/penpot/penpot">GitHub - penpot&#x2F;penpot: Penpot - The Open-Source design &amp; prototyping platform</a><br><a href="https://chinesewithjen.notion.site/chinesewithjen/08af8ffe57314fbdaef839924466be68">小简的秘密基地</a><br><a href="https://github.com/miaomiaosoft/PandaOCR">GitHub - miaomiaosoft&#x2F;PandaOCR: PandaOCR - 多功能OCR图文识别+翻译+朗读+弹窗+公式+表格+图床+搜图+二维码</a><br><a href="https://limestart.cn/">青柠起始页</a><br><a href="https://m.gaoding.com/home/recommend?hmsr=zhongcao-gd_zh_dyhfn-home--syzc-dyhfn-bdqd&utm_medium=&utm_source=zhongcao">稿定设计-做图做视频必备_在线设计神器_海量模板免费用</a><br><a href="https://www.sakuradm.tv/">樱花动漫－专注好看的动漫大全门户网站</a><br><a href="https://r2coding.com/#/">Road 2 Coding</a><br><a href="https://www.bilibili.com/video/BV1sp4y197uX?spm_id_from=333.851.b_62696c695f7265706f72745f646f756761.30">【如何做到连续学习10+小时】从早学到晚的秘籍|长时间专注|纯干货|不看后悔系列_哔哩哔哩_bilibili</a><br><a href="http://www.springframework.org/schema/beans/">Index of &#x2F;schema&#x2F;beans</a><br><a href="https://www.cnblogs.com/knowledgesea/p/11158412.html">Java JDK和IntelliJ IDEA 配置及安装 - 张龙豪 - 博客园</a><br><a href="https://www.cnblogs.com/guochunyang2004/p/8629437.html">idea新建maven项目没有src目录 - 果然如此 - 博客园</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="http://iphil.cc/?p=536">aria2 windows配置教程 |</a><br><a href="https://blog.csdn.net/qq_44173974/article/details/107943829">借助Bilibili Evolved和aria2批量下载b站视频_可乐大牛的博客-CSDN博客_aria2 bilibili</a><br><a href="https://github.com/the1812/Bilibili-Evolved">GitHub - the1812&#x2F;Bilibili-Evolved: 强大的哔哩哔哩增强脚本</a><br><a href="https://limestart.cn/">青柠起始页</a><br><a href="https://github.com/521xueweihan/GitHub520">521xueweihan&#x2F;GitHub520: 让你“爱”上 GitHub，解决访问时图裂、加载慢的问题。（无需安装）</a><br><a href="https://github.com/iptv-org/iptv/blob/master/README.md">iptv&#x2F;README.md at master · iptv-org&#x2F;iptv</a><br><a href="https://disease.sh/">disease.sh</a><br><a href="https://www.notion.so/zhangsubao/Spring-f12b72060f804e4da54afa0467d58671">Spring学习</a><br><a href="https://developer.hitokoto.cn/">一言开发者中心</a><br><a href="https://www.agemys.com/">在线动画 动漫下载 - AGE动漫</a><br><a href="https://bbs.9999xq.cn/">废话连篇生成器</a><br><a href="http://c.biancheng.net/">C语言中文网：C语言程序设计门户网站(入门教程、编程软件)</a><br><a href="https://mail.163.com/">163网易免费邮–中文邮箱第一品牌</a><br><a href="https://apkpure.com/">apkpure.com</a><br><a href="https://zh-cn.emeditor.com/text-editor-features/history/emeditor-free/">EmEditor 免费版 – EmEditor (文本编辑器)</a><br><a href="https://zh.zlib.life/">数字图书馆。搜索书籍。免费下载书籍</a><br><a href="https://baiy.github.io/Ctool/tool.html#/tool/hash">Ctool 程序开发常用工具</a><br><a href="https://chris-z-su.github.io/music/">听听音乐 - Bookpackage</a><br><a href="https://www.dismall.com/thread-73-1-1.html">Discuz! X3.4 R20220518 最新版本下载 - Discuz程序发布 - Powered by Discuz!</a><br><a href="http://nexus.xwiki.org/nexus/#welcome">Nexus Repository Manager</a><br><a href="https://guanwangdaquan.com/">官网大全 - 只收录真正的官方网站</a><br><a href="https://modrinth.com/mods">Modrinth: Download and publish Minecraft Mods</a><br><a href="https://www.curseforge.com/minecraft/mc-mods/">Not found - CurseForge</a><br><a href="https://www.curseforge.com/minecraft/modpacks">Modpacks - Minecraft - CurseForge</a><br><a href="http://127.0.0.1/#/">广场 | 泡泡 - 一个清新文艺的微社区</a><br><a href="https://passport.shop.jd.com/nologin/apply.action">京东商城:商家后台-欢迎登录</a><br><a href="https://idea.javaguide.cn/">主页 | IDEA 高效使用指南</a><br><a href="https://www.zhihu.com/people/zhangsubao">小可爱的书包 - 知乎</a><br><a href="http://gitbook.net/db2/index.html">DB2在线教程</a><br><a href="https://www.screentogif.com/">ScreenToGif</a><br><a href="https://blog.laoda.de/">我不是咕咕鸽——VPS折腾不完全记录</a><br><a href="https://www.bilibili.com/read/cv14179079?from=note">不会函数式编程？你确定能看懂公司代码？-java8函数式编程(Lambda表达式 - 哔哩哔哩</a><br><a href="https://www.mi.com/service/aftersale/detail?id=AS2208061633143">申请售后服务 - 小米商城</a><br><a href="https://www.weidown.com/xiazai/1632.html">WinCHM Pro下载 - WinCHM Pro 5.495 破解版 - 微当下载</a><br><a href="https://www.wjc666.xyz/">锦宸资源库 | 白嫖爱好者聚集地</a><br><a href="https://haokan.baidu.com/">好看视频–轻松有收获</a><br><a href="https://www.shulanxt.com/database/db2/db2-case">DB2 实例_DB2 对象 - 树懒学堂</a><br><a href="https://search.fuyeor.com/zh-cn/Google">Google 简明搜索导航 - Fuyeor Live 导航</a><br><a href="https://tinypng.com/">TinyPNG – Compress WebP, PNG and JPEG images intelligently</a></p><h1 id="收藏夹"><a href="#收藏夹" class="headerlink" title="收藏夹"></a>收藏夹</h1><p><a href="https://www.zhihu.com/question/48219401/answer/742444326">(1 封私信) 你是如何学会正则表达式的？ - 知乎</a><br><a href="https://blog.csdn.net/qq_21747411/article/details/84230234">(1条消息) 实习日志–weblogic项目的部署记录_MarkLuoBo的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86699263">(1条消息) Java面试题及答案2019版（下）_Java笔记-CSDN博客_java面试题</a><br><a href="https://blog.csdn.net/czh500/article/details/88202971">(1条消息) java中PreparedStatement和Statement详细讲解_冷囧囧-CSDN博客_preparedstatement</a><br><a href="https://blog.csdn.net/sinat_36277898/article/details/85392033">(1条消息) web项目web.xml的配置中 context-param 配置作用_做一只强悍的蜜獾-CSDN博客</a><br><a href="https://blog.csdn.net/justry_deng/article/details/82259470">(2条消息) TortoiseSVN打分支、合并分支、切换分支_JustryDeng-CSDN博客_svn分支</a><br><a href="https://blog.csdn.net/yulungggg/article/details/68206635">(4条消息) myeclipse 断点调试技巧_yulungggg的博客-CSDN博客</a><br><a href="https://blog.csdn.net/WPwalter/article/details/100156730">(8条消息) Windows 10 解决无法完整下载安装语言包（日语输入法无法下载使用）_walterlv - 吕毅-CSDN博客</a><br><a href="https://www.mcbbs.net/thread-823957-1-1.html">【1.13.x~1.17.x | 16x】XeKr的方纹淡彩+红石显示+护眼 - 材质资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="https://www.bilibili.com/video/BV1uE411g77R">【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://zhuanlan.zhihu.com/p/62322155">2019年Web前端最新导航（常见前端框架、前端大牛） - 知乎</a><br><a href="https://zhuanlan.zhihu.com/p/341604625">2021学生党蓝牙耳机推荐，适合学生党购买的蓝牙耳机都在这（1月更新） - 知乎</a><br><a href="https://www.cnblogs.com/">博客园 - 开发者的网上家园</a><br><a href="https://segmentfault.com/a/1190000022777009">超详细！4小时开发一个SpringBoot+vue前后端分离博客项目！！_个人文章 - SegmentFault 思否</a><br><a href="https://www.52pojie.cn/thread-1133711-1-1.html">打造自己的私人知识宝库利器——mybase 7.3.5 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2">调试界面 - Minecraft Wiki，最详细的官方我的世界百科</a><br><a href="https://github.com/Wechat-Group/WxJava/wiki/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3">公众号开发文档 · Wechat-Group&#x2F;WxJava Wiki</a><br><a href="https://www.jb51.net/softjc/613621.html">谷歌无法启动更新检查(错误代码为4: 0x80070005-system level)怎么办_浏览下载_软件教程_脚本之家</a><br><a href="http://ziziyy1.com/">好看的电视剧_好看的电影_好看的动画片在线免费观看_樱花风车 - 子子影院</a><br><a href="https://www.huxiu.com/">虎嗅网</a><br><a href="https://www.jijidown.com/">唧唧-哔哩哔哩唧唧-bilibili视频|弹幕在线下载</a><br><a href="https://blog.csdn.net/qq_43705131/article/details/107965888">解决Please make sure you have the correct access rights and the repository exists 问题._每天进步一点点-CSDN博客</a><br><a href="https://www.agefans.net/play/20200004?playid=2_4">进击的巨人 最终季 第04话 [GB][1080P][x264_AAC] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://www.bilibili.com/video/BV11A411K7LE?p=12">九天Java面试突击集训，涨薪50%必备的JVM、多线程、Spring、MySQL、IO、分布式、微服务优质教程_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://www.kakadm.com/">卡卡动漫-好看的动漫日剧韩剧网站</a><br><a href="http://www.i-mofang.com/ba_05.shtml">魔方入门解法第5步：统一顶层顶面颜色 - 爱魔方</a><br><a href="https://tieba.baidu.com/p/5969911656">内网通内网是怎么推送更新的_内网通吧_百度贴吧</a><br><a href="https://www.bilibili.com/video/BV1KE411r7rE?p=4&spm_id_from=pageDriver">鸟哥JAVA零基础之IO流详解视频【IntelliJ IDEA版-输入输出流】_哔哩哔哩_bilibili</a><br><a href="http://172.81.205.2:8080/searchAnswer">强国查询 | Skow</a><br><a href="https://hao.su/2217/">全网免费音乐搜索汇总 - 不死鸟 - 分享为王</a><br><a href="http://game.youzu.com/play?type=web&gameId=193&serverId=2466310333">三十六计-【雄心】330区</a><br><a href="https://www.bilibili.com/video/BV1YW411T7GX?p=104&spm_id_from=pageDriver">尚硅谷最新版JavaScript基础全套教程完整版(140集实战教学,JS从入门到精通)_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.bilibili.com/video/av49674491/?p=6">尚学堂python400集第一季-30分钟零基础入门Python_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://quark.sm.cn/">神马搜索</a><br><a href="https://blog.csdn.net/u011853294/article/details/53228720">使用IDEA将git上传项目到github_清水寺小和尚的博客-CSDN博客_idea部署项目到git</a><br><a href="https://wannengrun.com/zh/">万能命令</a><br><a href="https://cn.bing.com/">微软 Bing 搜索 - 国内版</a><br><a href="http://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&t=sandbox/index">微信公众平台</a><br><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html">微信开放文档</a><br><a href="https://www.imooc.com/article/70497">微信授权redirect_uri 参数错误_慕课手记</a><br><a href="http://zh.wikipedia.org/">维基百科，自由的百科全书</a><br><a href="https://jingyan.baidu.com/album/046a7b3e9c49faf9c27fa9ce.html">我的世界如何做简单高效率刷怪塔-百度经验</a><br><a href="https://tieba.baidu.com/p/4466624137">小黑屋（a dark room）攻略【009吧】_百度贴吧</a><br><a href="http://172.81.205.2:8080/">学习小助手</a><br><a href="https://www.cnblogs.com/geili/p/10349304.html">耶路撒冷三千年（笔记） - 人一己百 - 博客园</a><br><a href="http://www.yinghuacd.com/">樱花动漫－专注动漫的门户网站</a><br><a href="https://greasyfork.org/zh-CN/scripts/">Greasy Fork</a><br><a href="https://www.baiduyun.wiki/">油小猴</a><br><a href="https://www.zhihu.com/question/297029644">有哪些超美腻的壁纸? - 知乎</a><br><a href="https://www.agefans.tv/play/20140034?playid=3_2">约会大作战 第二季 第02话 [GB][720p] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://cloud.tencent.com/document/product/213/17814?fromSource=gwzcw.1293314.1293314.1293314&cps_key=38b75278ba66c442798625a2a46beb05">云服务器 制作 Linux 镜像 - 操作指南 - 文档中心 - 腾讯云</a><br><a href="http://fanyi.youdao.com/">在线翻译_有道</a><br><a href="https://www.huya.com/688">张大仙直播_虎牙688张大仙官方直播间_张大仙视频直播_虎牙直播</a><br><a href="https://www.runoob.com/regexp/regexp-syntax.html">正则表达式 – 语法 | 菜鸟教程</a><br><a href="https://c.runoob.com/front-end/854">正则表达式在线测试 | 菜鸟工具</a><br><a href="file:///E:/study/%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1/%E4%B9%A6%E7%B1%8D/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A.pdf">正则表达式必知必会.pdf</a><br><a href="http://www.regexlab.com/zh/regref.htm">正则表达式参考文档 - Regular Expression Syntax Reference</a><br><a href="https://zhutix.com/">致美化 - 最专业的桌面美化交流平台 - 漫锋网</a><br><a href="https://yz.chsi.com.cn/">中国研究生招生信息网</a><br><a href="https://minecraft.fandom.com/zh/wiki/Minecraft_Wiki">中文Minecraft Wiki - 最详细的官方我的世界百科</a><br><a href="https://sls.cdb.com.cn/#/">助学贷款</a><br><a href="https://blog.csdn.net/weixin_38601833/article/details/94585595?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param">最完善的markdown转html&#x2F;pdf方法、带目录生成_所谓向日葵族-CSDN博客</a><br><a href="http://www.syseen.com/soft/16096.html#txaArticle">最新老王v2.2.9 终于知道叫老王的原因 - 小雨资源网</a><br><a href="file:///E:/otherdemo/adarkroom-main/index.html?lang=zh_cn">a dark room(localhost)</a><br><a href="https://www.jb51.net/softs/586975.html">acrobat pro dc 2021破解版下载 Adobe Acrobat Pro DC v2021.001.20142 英&#x2F;中文直装版(附安装教程) 下载-脚本之家</a><br><a href="http://47.100.37.150:8080/upload/upload2.jsp">Ajax异步上传图片</a><br><a href="https://www.runoob.com/angularjs/angularjs-tutorial.html">AngularJS 教程 | 菜鸟教程</a><br><a href="https://base64.us/">Base64 在线编码解码 | Base64 加密解密 - Base64.us</a><br><a href="https://carbon.now.sh/">Carbon | Create and share beautiful images of your source code</a><br><a href="http://tv.cctv.com/live/cctv5plus/?spm=C28340.Pu2UyUI7WyT5.ELosaKPa05E7.9">CCTV-5+体育赛事频道高清直播_CCTV节目官网_央视网</a><br><a href="https://github.com/Chris-z-su">Chris-z-su</a><br><a href="chrome://dino/">Chrome恐龙小游戏</a><br><a href="https://codeimg.io/">Codeimg.io</a><br><a href="https://ncov2019.live/">Coronavirus Dashboard</a><br><a href="https://www.doublespeakgames.com/">doublespeak games</a><br><a href="https://www.4393yx.com/">FC游戏下载_NES游戏下载_FC模拟器__FC游戏下载站</a><br><a href="https://www.google.co.jp/">Google(JP)</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://hadoop.apache.org/docs/r1.0.4/cn/hdfs_shell.html">Hadoop Shell命令</a><br><a href="http://www.zhangsubao.com/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="http://49.232.198.16/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="https://www.youtube.com/watch?v=qLFeijbLGgg">How To GET ON TOP OF THE NETHER! | The Minecraft Guide Episode 94 - YouTube</a><br><a href="https://www.52pojie.cn/thread-772146-1-1.html">IDM - 全版本通用注册器 - Internet Download Manager Crack - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://my.oschina.net/dendy/blog/385549">IntelliJ IDEA 与 JBOSS集成 - Dendy的个人页面 - OSCHINA - 中文开源技术交流社区</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86686492">Java面试题及答案2019版（上）_Java笔记-CSDN博客_java面试题</a><br><a href="https://www.bilibili.com/video/BV1k74118721?p=6&spm_id_from=pageDriver">Java面试题突击100道！_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cnblogs.com/duck-ifox/p/9084049.html">Java通过图片url地址获取图片base64位字符串的两种方式 - 凌巴哥 - 博客园</a><br><a href="https://www.cnblogs.com/yesiamhere/p/6675067.html">java运算符 与（&amp;）、非（~）、或（|）、异或（^） - 够硬的乙方 - 博客园</a><br><a href="http://www.51gjie.com/">JAVAschool免费在线教程，简单您的JAVA学习！！！</a><br><a href="https://jbossas.jboss.org/downloads/">JBoss Application Server Downloads - JBoss Community</a><br><a href="https://www.linuxprobe.com/linux-tail-example.html">Linux中tail命令实例 | 《Linux就该这么学》</a><br><a href="https://www.runoob.com/maven/maven-pom.html">Maven POM | 菜鸟教程</a><br><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://mega.nz/start">MEGA</a><br><a href="https://www.mcbbs.net/">Minecraft(我的世界)中文论坛——Minecraft中文站,我的世界中文论坛,我的世界论坛 -</a><br><a href="https://natapp.cn/tunnel/lists">NATAPP -</a><br><a href="https://minecraft.novaskin.me/wallpapers">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="http://minecraft.novaskin.me/wallpapers/mobile">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="https://en.savefrom.net/17/">Online video downloader - Download videos and music for free</a><br><a href="https://www.fujieace.com/software/powerdesigner.html">PowerDesigner安装教程（含下载+汉化+破解） - 付杰博客</a><br><a href="https://www.ghxi.com/pycharm.html/comment-page-1#comments">PyCharm 2020.3.2 汉化便携增强版 - 果核剥壳</a><br><a href="http://www.downxia.com/downinfo/325980.html">Pycharm2020.3专业版永久破解|Pycharm2020.3激活码破解版 32&#x2F;64位 中文专业版 下载_当下软件园_软件下载</a><br><a href="https://regexper.com/">Regexper</a><br><a href="http://192.168.18.11/#/sell">sell</a><br><a href="https://www.shellcheck.net/">ShellCheck – shell script analysis tool</a><br><a href="https://stackoverflow.com/">Stack Overflow - Where Developers Learn, Share, &amp; Build Careers</a><br><a href="https://www.ipaddress.com/">The Best IP Address, Email and Networking Tools - IPAddress.com</a><br><a href="http://info.cern.ch/hypertext/WWW/TheProject.html">The World Wide Web project</a><br><a href="https://www.itrhx.com/">TRHX’S BLOG</a><br><a href="http://m.2265.com/down/279180.html">vivo主题修改器破解版下载|vivo主题修改器vip版下载v5.3.1 安卓会员版_2265安卓网</a><br><a href="https://www.ypojie.com/6066.html">VMware Workstation Pro v16.1.2 虚拟机软件及永久许可证|亿破姐</a><br><a href="https://cloud.tencent.com/developer/article/1187687">Web-第三十二天 WebLogic中间件【悟空教程】 - 云+社区 - 腾讯云</a><br><a href="https://blog.csdn.net/dyr_1203/article/details/82350244">weblogic创建新域_aspu O_O的博客-CSDN博客_weblogic新建域</a><br><a href="https://www.jb51.net/softjc/232839.html">Webstorm常用快捷键备忘(Webstorm入门指南)_编程开发_软件教程_脚本之家</a><br><a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia, the free encyclopedia</a><br><a href="https://www.bilibili.com/read/cv5730100/">Win10永久激活神器 数字激活 HWIDGen v62.01 汉化版 - 哔哩哔哩</a><br><a href="https://www.youtube.com/">YouTube</a><br><a href="https://www.sogou.com/">搜狗搜索引擎 - 上网从搜狗开始</a><br><a href="https://blog.csdn.net/weixin_30872733/article/details/96986491">运维配置环境—–中间件_weixin_30872733的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_36776608/article/details/108901732">weblogic12c静默安装&amp;Domain静默创建_哆啦超猛A的博客-CSDN博客_weblogic静默安装</a><br><a href="http://10.1.23.152:8737/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a><br><a href="https://www.oracle.com/database/technologies/jdbc-ucp-122-downloads.html">12.2.0.1 - JDBC and UCP Download Page</a><br><a href="https://repo1.maven.org/maven2/">Central Repository:</a><br><a href="https://www.cnblogs.com/651434092qq/p/12010985.html">Maven的pom文件依赖提示 ojdbc6 Missing artifact，需要手动下载并导入maven参考 - 咸咸海风 - 博客园</a><br><a href="https://www.toutiao.com/a6965676514872443403">6个能玩上一天的网站，摸鱼必备</a><br><a href="https://www.jianshu.com/p/d73c3de84321">sublime text 3211 注册码 - 简书</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=%E4%B8%AD%E5%8D%8E%E8%8B%8F%E7%BB%B4%E5%9F%83">‘中华苏维埃’的搜索结果_学习强国挑战答题_在线搜题答案查询</a><br><a href="https://www.cnblogs.com/wanglijun/p/8916790.html">Mysql 多表连接查询 inner join 和 outer join 的使用 - 王默默 - 博客园</a><br><a href="https://leetcode-cn.com/">力扣（LeetCode）官网 - 全球极客挚爱的技术成长平台</a><br><a href="https://www.bejson.com/">在线JSON校验格式化工具（Be JSON）</a><br><a href="https://tieba.baidu.com/p/6458508546">联想电脑管家锁屏壁纸_联想吧_百度贴吧</a><br><a href="https://www.cnblogs.com/wyl-0120/p/14911253.html">PyCharm2021最新激活码激活方法，成功激活PyCharm永久激活 - 初一丶 - 博客园</a><br><a href="https://www.exception.site/essay/how-to-free-use-pycharm-2020">PyCharm 2021.2 激活码_安装教程_破解版下载 (亲测有用，永久激活，2021年7月4日更新~) - 异常教程</a><br><a href="https://www.cnblogs.com/carySir/p/9547107.html">数据库几种常见的driverClassName和url - 知更之始，博之于涵 - 博客园</a><br><a href="http://mybatis.org/generator/configreference/columnOverride.html">MyBatis Generator Core – The <columnOverride> Element</a><br><a href="https://www.fuyin99.com/play/523644.htm">如果在线试听_小羊诗歌_高音质歌曲_今日圣经网</a><br><a href="https://www.cnblogs.com/Marydon20170307/p/9453064.html">oracle tnsnames.ora文件用法说明 - Marydon - 博客园</a><br><a href="https://www.oracle.com/cn/database/technologies/oracle-database-software-downloads.html#19c">Database Software Downloads | Oracle 中国</a><br><a href="https://www.cnblogs.com/Samuel-Leung/p/13596002.html">全国省市区数据sql - Samuel-Leung - 博客园</a><br><a href="https://www.sakuradm.tv/vodplay/jinjidejurenzuizhongji-1-15.html">进击的巨人 最终季 第16集_视频高清在线观看_进击的巨人 最终季 - 樱花动漫</a><br><a href="https://www.bilibili.com/video/BV1Wx411R7qt?p=2">某马Angular 39(全) 学到这里就会感觉自己离大佬越来越近了 嘿嘿_哔哩哔哩_bilibili</a><br><a href="https://www.cnblogs.com/johnjackson/p/13129177.html">生成uuid - johnjackson - 博客园</a><br><a href="https://blog.csdn.net/my98800/article/details/78066910">(4条消息) Bootstrap实现图片弹出放大_技术资料收集站-CSDN博客_bootstrap 图片放大</a><br><a href="https://www.jb51.net/article/77416.htm">详解Bootstrap四种图片样式_javascript技巧_脚本之家</a><br><a href="https://www.icphoto.cn/">IC photo - 优质的视觉整合营销平台</a><br><a href="https://www.vivo.com/upgrade/detail?modelId=51&type=2">vivo-智能手机官方网站</a><br><a href="https://www.ybjk.com/">元贝驾考_元贝驾考2021科目一_元贝驾考2021科目四</a><br><a href="https://www.axihe.com/tools/webstorm/home.html">WebStorm 教程丨阿西河</a><br><a href="https://www.photopea.com/">Photopea | Online Photo Editor</a><br><a href="https://www.52pojie.cn/thread-1541202-1-1.html">全球收音机 MyRadio_1.0.90.1108 最新纯净版 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.52pojie.cn/thread-1537038-1-1.html">自用垃圾文件清除器 disk cleaner(已更新，可自行添加需删除的文件夹) - 『原创发布区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://yuanliao.info/d/356-1-1-4-bug-tmux">[插件][程序员手册 1.1.4] 兼容暗黑模式，修复收藏 bug，增加 tmux 文档 - 猿料</a><br><a href="http://blog.fondme.cn/apidoc/jdk-1.8-google/">Overview (Java Platform SE 8 )</a><br><a href="https://www.52pojie.cn/thread-1260484-1-1.html">用爬虫写的小说漫画网站（多线程，已上线） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://bdcraft.net/downloads/purebdcraft-minecraft/">PureBDcraft for Minecraft Java Edition - BDcraft.net</a><br><a href="https://www.curseforge.com/minecraft/texture-packs">Resource Packs - Minecraft - CurseForge</a><br><a href="https://www.curseforge.com/minecraft/texture-packs/faithfulplus/files/all">Files - The F+ [32x] - Resource Packs - Minecraft - CurseForge</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E4%BA%A4%E6%98%93">交易 - Minecraft Wiki，最详细的我的世界百科</a><br><a href="https://www.jb51.net/article/76548.htm">javascript中Date format(js日期格式化)方法小结_javascript技巧_脚本之家</a><br><a href="https://www.gaojiufeng.cn/?id=523">如何打包uTools,uTools安装目录,uTools安装位置</a><br><a href="https://github.com/electron/electron/releases">Releases · electron&#x2F;electron</a><br><a href="https://www.52pojie.cn/thread-1260555-1-1.html">idea2020.1.2激活码时间到2089年（亲测可用） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/org/springframework/orm/hibernate3/package-summary.html">org.springframework.orm.hibernate3</a><br><a href="http://blog.chinaunix.net/uid-27666459-id-3993688.html">Linux 下压缩与解压.zip和.rar及.7z文件-kowems-ChinaUnix博客</a><br><a href="https://bbs.3dmgame.com/thread-6069498-1-1.html">202105 城市天际线 1.13.3 Cities Skylines 萌新入门常用35功能模组 350精华MOD - 《城市：天际线》 - 3DMGAME论坛 - Powered by Discuz!</a><br><a href="https://www.zhihu.com/question/30030877/answer/768501967">(8 封私信) 为什么有些英语老师说语法几个小时就可以讲明白？ - 知乎</a><br><a href="https://www.52pojie.cn/search.php">搜索 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1iv411u7wJ?spm_id_from=333.999.0.0">全新版“框架篇”全家桶上线！Spring|SpringSecurity|SpringBoot|MVC|SpringCloud，架构原理-底层源码-面试突击！_哔哩哔哩_bilibili</a><br><a href="https://app.diagrams.net/">Untitled Diagram - diagrams.net</a><br><a href="https://www.52pojie.cn/forum.php?mod=viewthread&tid=1522090&highlight=%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CD%BC">流程图制作工具drawio v15.4.0 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1WZ4y1P7Bp?from=search&seid=14708921392841594503&spm_id_from=333.337.0.0">黑马程序员最全SSM框架教程|Spring+SpringMVC+MyBatis全套教程(spring+springmvc+mybatis)_哔哩哔哩_bilibili</a><br><a href="https://imgtu.com/">路过图床 - 免费图片上传, 专业图片外链, 免费公共图床</a><br><a href="https://blog.csdn.net/u014162133/article/details/109724200">Notion使用详解一基础教程_相见不如怀念-CSDN博客_notion使用教程</a><br><a href="https://sspai.com/post/57464/">想要玩转 Notion？你需要这份快速上手指南 - 少数派</a><br><a href="https://www.sohu.com/a/407491072_120006554">Win10 C盘突然爆满，怎么清理？史上较全的C盘清理方案，推荐收藏_文件</a><br><a href="https://www.cnblogs.com/chy18883701161/p/11108542.html">Spring jar包的下载 - chy_18883701161 - 博客园</a><br><a href="https://blog.csdn.net/weixin_34137799/article/details/85687953">Eclipse 一直提示 loading descriptor for 的解决方法_weixin_34137799的博客-CSDN博客</a><br><a href="https://blog.csdn.net/weboof/article/details/79067701">angularjs中使用ng-repeat的注意点_weboof的博客-CSDN博客_angularjs ng-repeat</a><br><a href="https://www.itab.link/">Home | iTab新标签页</a><br><a href="https://www.codeprj.com/blog/a463281.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 码上快乐</a><br><a href="https://www.cnblogs.com/evanc/p/10773288.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 玉折兰摧 - 博客园</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://zhuanlan.zhihu.com/p/47143191">.&#x2F;idea&#x2F;workspace.xml导致git合并失败 - 知乎</a><br><a href="https://segmentfault.com/a/1190000019075817?utm_source=tag-newest">解决Could not create the Java virtual machine - SegmentFault 思否</a><br><a href="https://www.jianshu.com/p/49fb78bca621">js 日期时间的格式化 - 简书</a><br><a href="http://momentjs.cn/">Moment.js 中文网</a><br><a href="https://www.cnblogs.com/conglingkaishi/p/15598687.html">FinalShell 离线激活工具 - HJ0101 - 博客园</a><br><a href="https://www.cnblogs.com/chenziyu/p/9754792.html">MyBatis的Mapper接口以及Example的实例函数及详解 - 晨子语 - 博客园</a><br><a href="http://tplogin.cn/">TL-WR842N</a><br><a href="https://blog.csdn.net/weixin_43434932/article/details/119595715?spm=1001.2014.3001.5501">Linux环境下weblogic的安装与配置_小可爱的书包的博客-CSDN博客_linux上安装weblogic</a><br><a href="https://www.cnblogs.com/shihuc/p/6761486.html">jersey2+freemarker+spring3的集成 - shihuc - 博客园</a><br><a href="http://www.javashuo.com/article/p-nmvgeeep-cm.html">spark 2.X 疑难问题汇总 - JavaShuo</a><br><a href="https://blog.csdn.net/u013628152/article/details/42126625?locationNum=4&fps=1">jersey2搭建流程_十五楼亮哥-CSDN博客</a><br><a href="https://stackoverflow.com/questions/19152655/java-lang-arrayindexoutofboundsexception-while-deploying-app-in-wls-12">weblogic - java.lang.ArrayIndexOutOfBoundsException while Deploying app in WLS 12 - Stack Overflow</a><br><a href="https://doocs.gitee.io/jvm/#/docs/01-jvm-memory-structure">首页 | JVM 底层原理最全知识总结</a><br><a href="https://mc-mods.org/">MC-Mods - Minecraft Mods, Shaders Mods &amp; X-Ray Mods</a><br><a href="http://www.yinghuacd.com/">樱花动漫－专注动漫的门户网站</a><br><a href="https://www.fuyin99.com/">基督教赞美诗歌_赞美诗歌19118首_赞美诗歌大全_基督教歌曲大全_基督教歌曲 - 今日圣经网</a><br><a href="https://jingyan.baidu.com/article/95c9d20da2075eec4e7561ef.html">VirtualBox的四种网络连接方式详解-百度经验</a><br><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a><br><a href="https://minecraft-resourcepacks.com/faithful-64x64/">Faithful 64x64 1.16.3 &#x2F; 1.16.2 and lower - February 2022</a><br><a href="https://faithful.team/">Faithful</a><br><a href="https://www.aconvert.com/cn/ebook/">在线转换电子书文件</a><br><a href="https://blog.csdn.net/qq_35722899/article/details/89228930">office右键没有新建word，Visio等解决办法_独孤欢颜的博客-CSDN博客_鼠标右键新建没有visio</a><br><a href="https://www.cnblogs.com/shawWey/p/7368070.html">Weblogic-unable to get file lock, will retry …问题解决 - shawWey - 博客园</a><br><a href="https://www.cnblogs.com/xd502djj/archive/2011/03/01/1968041.html">Linux查看CPU和内存使用情况 - 茄子_2008 - 博客园</a><br><a href="https://www.jpxzm.com/2020/08/06/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8CSpirng%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%BA%A7%E5%88%AB/">事务隔离级别和Spirng事务传播级别 - 极品小芝麻</a><br><a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzA4MjIxODc5NA==&hid=1&sn=ca1933315b0f00c7c532050cdb459473&scene=1&devicetype=android-31&version=28001431&lang=zh_CN&nettype=WIFI&ascene=7&session_us=gh_2fa6987e609a&wx_header=3">https://mp.weixin.qq.com/mp/homepage?__biz&#x3D;MzA4MjIxODc5NA&#x3D;&#x3D;&amp;hid&#x3D;1&amp;sn&#x3D;ca1933315b0f00c7c532050cdb459473&amp;scene&#x3D;1&amp;devicetype&#x3D;android-31&amp;version&#x3D;28001431&amp;lang&#x3D;zh_CN&amp;nettype&#x3D;WIFI&amp;ascene&#x3D;7&amp;session_us&#x3D;gh_2fa6987e609a&amp;wx_header&#x3D;3</a><br><a href="https://www.wangeditor.com/">wangEditor - 轻量级 web 富文本编辑器</a><br><a href="http://www.51gjie.com/javaweb/956.html">Spring MVC中forward请求转发2种方式（带参数）</a><br><a href="https://www.cnblogs.com/xiaohi/p/15907083.html">Typora（morkdown编辑器）的下载和破解 - article - 博客园</a><br><a href="https://pixiviz.pwp.app/">Pixiviz</a><br><a href="https://jx.618g.com/?url=https://v.qq.com/x/cover/g6055xnwc815rrr/p00189kcnwz.html">hello树先生</a><br><a href="https://demo.unlock-music.dev/">音乐解锁</a><br><a href="https://docs.go-cqhttp.org/api/#%E5%8F%91%E9%80%81%E7%BE%A4%E6%B6%88%E6%81%AF">API | go-cqhttp 帮助中心</a><br><a href="https://blog.csdn.net/qq_44809707/article/details/119959864">QQ机器人制作教程，超详细_皮小孩ls的博客-CSDN博客_qq机器人制作</a><br><a href="https://blog.51cto.com/zhongmayisheng/4755624">IntelliJ IDEA2021.3 最新版本 免登陆注册 完美激活 免费教程_7557511的技术博客_51CTO博客</a><br><a href="https://optifine.cn/">OptiFine 中文网 - MINECRAFT 高清优化 MOD</a><br><a href="https://blog.csdn.net/wqc19920906/article/details/82193316">消息中间件（一）MQ详解及四大MQ比较_jcpp9527的博客-CSDN博客_消息中间件</a><br><a href="https://app.yinxiang.com/fx/6f84863c-dcf1-44d7-8e4a-44b10f91b705">java</a><br><a href="https://search.maven.org/">Maven Central Repository Search</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/116375749">Java基础知识点总结归纳，超级全面！（2021版）_Java程序员-张凯的博客-CSDN博客_java基础知识点</a><br><a href="https://blog.csdn.net/u011085172/article/details/81192700">wiki.js搭建自己的wiki_云中不知人的博客-CSDN博客_wiki.js</a><br><a href="https://zhuanlan.zhihu.com/p/335359081">wiki.js 使用 postgres 支持中文全文检索 - 知乎</a><br><a href="https://msdn.itellyou.cn/">MSDN, 我告诉你 - 做一个安静的工具站</a><br><a href="http://www.tampermonkeya.com/chrome/10.html">tampermonkey插件4.14 crx_chrome插件 - tampermonkey</a><br><a href="https://windows96.net/">Windows 96</a><br><a href="https://www.natfrp.com/user/">SakuraFrp</a><br><a href="https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-versions.html">MySQL :: MySQL Connector&#x2F;J 5.1 Developer Guide :: 2 Connector&#x2F;J Versions, and the MySQL and Java Versions They Require</a><br><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a><br><a href="https://gitee.com/wangxj2020/wangxj2020?_from=gitee_search">wangxj&#x2F;hexo</a><br><a href="https://www.mcbbs.net/thread-928713-1-1.html">[授权搬运][1.11-1.18][32x32]Faithful x32原版高清丨最经典的原版高清资源包！ - 纹理资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="http://wangxj2020.gitee.io/">φ(゜▽゜*)♪咦，又好了！</a><br><a href="https://www.52pojie.cn/mao">您所访问的页面可能已经被删除 - 吾爱破解论坛</a><br><a href="https://algorithm-visualizer.org/">Algorithm Visualizer</a><br><a href="https://riyutool.com/japaneseocr/">日文图片扫描识别_日文OCR_小楠日语</a><br><a href="http://www.vvxue.com/index.php/wushiyin">五十音图_日语五十音图_今川日语网校五十音图</a><br><a href="https://github.com/dong-sir/jutils">dong-sir&#x2F;jutils: JavaScript常用函数库，提升前端开发效率。</a><br><a href="https://www.weblio.jp/">辞典・百科事典の検索サービス - Weblio辞書</a><br><a href="https://apitracker.io/">Discover the best APIs and SaaS products | API Tracker</a><br><a href="https://www.kuangstudy.com/course">课程-KuangStudy</a><br><a href="http://superproxy.github.io/docs/nginx/index.html">Nginx实践</a><br><a href="https://cloud.tencent.com/developer/ask/sof/255826">resize2fs:尝试打开超级块时出现错误的幻数 - 问答 - 云+社区 - 腾讯云</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>IE</title>
    <link href="/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/IE/"/>
    <url>/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/IE/</url>
    
    <content type="html"><![CDATA[<h1 id="Links-IE"><a href="#Links-IE" class="headerlink" title="Links IE"></a>Links IE</h1><p><a href="https://www.msn.cn/zh-cn">MSN 中国</a></p><h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><p><a href="http://job.hrss.tj.gov.cn/rsrc/tjwb/mainframe/logindg.html">天津市专业技术人员职称管理信息系统</a><br><a href="https://cn.bing.com/">微软 Bing 搜索 - 国际版</a></p><p><a href="https://nav.sankki.com/#/index">闪击工作台 - 构建线上办公阵地</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>page</title>
    <link href="/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/pages/"/>
    <url>/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/pages/</url>
    
    <content type="html"><![CDATA[<h1 id="收藏夹栏-edge"><a href="#收藏夹栏-edge" class="headerlink" title="收藏夹栏 edge"></a>收藏夹栏 edge</h1><p><a href="https://www.google.com.hk/">Google</a><br><a href="http://www.zhangsubao.com/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="https://www.baidu.com/">百度一下，你就知道</a><br><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.agefans.net/">在线动画 动漫下载 - AGE动漫</a><br><a href="http://47.97.216.233:8080/">学习小助手</a><br><a href="http://172.81.205.2:8080/">学习小助手(备份)</a><br><a href="file:///E:/Demo/shubao/index.html">书包网</a><br><a href="https://www.agefans.net/play/20190083?playid=3_7">进击的巨人 第三季 Part.2 第19集 -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://github.com/Chris-z-su?tab=stars">Your Stars</a><br><a href="https://console.cloud.tencent.com/cvm/instance/index?rid=8">实例 - 云服务器 - 控制台</a><br><a href="https://www.xuexi.cn/">学习强国</a><br><a href="https://www.ixigua.com/">西瓜视频 - 高清免费在线视频 - 给你新鲜好看</a><br><a href="https://translate.google.cn/">Google 翻译</a><br><a href="https://www.eggvod.cn/jx.php?lrspm=2821676886&zhm_jx=https://v.youku.com/v_show/id_XMTI1NzY1ODI0.html?from=y1.6-97.3.1.cbffee00962411de83b1">蛋蛋VIP视频全网解析</a><br><a href="http://tool.liumingye.cn/music/?page=homePage">首页 - MYFREEMP3</a><br><a href="http://lab.liumingye.cn/">全网影片搜索 - MyFreeMP4</a><br><a href="https://developer.hitokoto.cn/sentence/demo/#javascript">使用示例 | 一言开发者中心</a><br><a href="https://www.runoob.com/bootstrap/bootstrap-tutorial.html">Bootstrap 教程 | 菜鸟教程</a><br><a href="https://zh.moegirl.org.cn/Mainpage">萌娘百科 万物皆可萌的百科全书 - zh.moegirl.org.cn</a><br><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://juejin.im/post/6844903566302248974">IntelliJ IDEA 快捷键说明大全（中英对照、带图示详解） - 掘金</a><br><a href="https://www.icourse163.org/">中国大学MOOC(慕课)_国家精品课程在线学习平台</a><br><a href="https://www.meijuxq.com/">美剧星球 - 爱美剧英剧推荐_美剧在线观看_美剧迷的美剧天堂</a><br><a href="https://www.agefans.cc/">agefans.cc</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.bilibili.com/video/BV1Db411s7F5?p=6">Mybatis教程IDEA版-4天-2018黑马SSM-01_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://github.com/gzhjic/LearnChinaHelper">gzhjic&#x2F;LearnChinaHelper: 基于Autojs的增量式开发安卓脚本应用软件——强国助手（以学习强国应用实战开发）</a><br><a href="https://github.com/ztianming/xuexi.cn">ztianming&#x2F;xuexi.cn: 学习强国 挑战答题 题库，⭐⭐⭐⭐⭐更新至2166题⭐⭐⭐⭐⭐ 仅供学习交流，欢迎大家补充、完善。</a><br><a href="https://github.com/ivanwhaf/xxqg-helper">ivanwhaf&#x2F;xxqg-helper: ✏️Auto.js xxqg-helper, Article and Video, Collecting, Sharing, Comment, ChallengeQuestion, DailyQuestion, 仅限Android系统, 需下载Auto.js</a><br><a href="https://www.qiuquba.com/">球趣吧_NBA直播吧_足球直播_篮球直播_英超直播_欧洲杯直播_体育直播_飞速360直播</a><br><a href="https://blog.csdn.net/lipinganq/article/details/78081300">(1条消息) POI Excel行高设置_李平安-CSDN博客</a><br><a href="https://blog.csdn.net/michealwwx/article/details/77461463">POI打印详细_michealwwx的博客-CSDN博客</a><br><a href="https://www.coder.work/article/3588961">java - 使用Apache-POI隐藏所有其他excel列 - IT工具网</a><br><a href="https://blog.csdn.net/qq_37059838/article/details/88539577">apache-poi之Excel使用API_吕小小布的博客-CSDN博客</a><br><a href="https://www.lanzous.com/b394531/">HWIDGen</a><br><a href="https://www.win10gw.com/win10xiazai/2.html#">Win10永久激活工具 HWIDGen v10.24 - 老王系统,www.win10gw.com</a><br><a href="https://www.huya.com/688#">张大仙直播_虎牙688张大仙官方直播间_张大仙视频直播_虎牙直播</a><br><a href="https://www.bilibili.com/video/BV1D7411y7GK?p=50">【尚学堂】Spring Boot 2020最新版_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.9game.cn/news/2610861.html">《忍者必须死3》套装火遁套装的效果是 老板娘答案_九游手机游戏</a><br><a href="https://haokan.baidu.com/">好看视频_海量高清短视频APP</a><br><a href="https://kurukurumi.tk/">KuruKuruMi~</a><br><a href="https://www.chunkbase.com/apps/slime-finder#-3196787002977958780">Slime Finder - Minecraft App</a><br><a href="http://www.qimiaozhenxiang.com/">奇妙真相-视频</a><br><a href="http://www.qimiaozhenxiang.com/vdetail.aspx?id=297">奇妙真相</a><br><a href="https://tech.souyunku.com/?p=30970">IntelliJ IDEA2020.3.1破解,IDEA2020.3.1注册码,2020.3.1破解教程-搜云库</a><br><a href="https://www.programmer-box.com/">程序员大礼包</a><br><a href="https://www.cnblogs.com/forwrader/p/10541699.html">springboot templates目录下的页面文件访问不到 static 目录下的 jq 文件 - VimKeyLin - 博客园</a><br><a href="http://www.chinaso.com/">中国搜索-国家权威搜索引擎</a><br><a href="https://www.bilibili.com/video/BV1fE41157PV">java初级总复习(2小时带你复习所有java知识)_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://www.kejudati.com/jushow/5f49cf39e4d33.html">无法舍弃任何东西的人，也就无法改变任何事情。 如果有必要的话</a><br><a href="https://www.agefans.net/detail/20200004">进击的巨人 最终季 720P&#x2F;1080P 百度网盘 - AGE动漫</a><br><a href="http://www.huakuu.com/play/3013-1-1.html">进击的巨人OAD:伊尔泽的笔记在线播放BD日语中字 - 华酷影视</a><br><a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualization</a><br><a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">Red&#x2F;Black Tree Visualization</a><br><a href="https://www.zhihu.com/question/20596402">Mysql 中 MyISAM 和 InnoDB 的区别有哪些？ - 知乎</a><br><a href="https://blog.csdn.net/weixin_39714565/article/details/110863839">(1条消息) mysql 创建表_MySql 数据库文件介绍和存放位置，以及如何修改默认存放位置？_weixin_39714565的博客-CSDN博客</a><br><a href="https://www.agefans.net/play/20200004?playid=2_4">进击的巨人 最终季 第04话 [GB][1080P][x264_AAC] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://tv.cctv.com/2010/03/19/VIDE1355589210095392.shtml">《大国崛起》 第一集 海洋时代</a><br><a href="https://yun.vivo.com.cn/#/home">vivo云服务</a><br><a href="https://blog.csdn.net/hui_3_6/article/details/81282609">(7条消息) JavaScript返回到上一页的三种方法_飘雪的博客-CSDN博客_js返回上一个页面</a><br><a href="https://blog.csdn.net/weinierzui/article/details/40116877">(5条消息) hibernate在myeclipse 中的配置_weinierzui的专栏-CSDN博客</a><br><a href="https://www.mcbbs.net/index.php">Minecraft(我的世界)中文论坛——Minecraft中文站,我的世界中文论坛,我的世界论坛 -</a><br><a href="https://blog.csdn.net/zflovecf/article/details/80838874">(1条消息) 修改weblogic域的jdk_一切从零开始-CSDN博客</a><br><a href="https://www.cnblogs.com/zhuyeshen/p/11436425.html">Linux中查看jdk版本 - 那些年的代码 - 博客园</a><br><a href="https://www.2cto.com/">红黑联盟（2cto.com)_IT技术门户、技术安全资讯、网络安全、黑客防御、信息安全、编程开发、系统知识</a><br><a href="https://www.linuxcool.com/">Linux命令大全(手册) – 真正好用的Linux命令在线查询网站</a><br><a href="http://169.254.48.183:7001/console">169.254.48.183</a><br><a href="https://mkyong.com/web-development/the-web-xml-deployment-descriptor-examples/">web.xml deployment descriptor examples - Mkyong.com</a><br><a href="https://blog.csdn.net/weixin_34137799/article/details/85687953?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~searchFromBaidu~default-1.pc_relevant_baidujshouduan&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~searchFromBaidu~default-1.pc_relevant_baidujshouduan">(3条消息) Eclipse 一直提示 loading descriptor for 的解决方法_weixin_34137799的博客-CSDN博客</a><br><a href="https://spring.io/projects/spring-boot">Spring Boot</a><br><a href="http://superproxy.github.io/docs/nginx/index.html">Nginx实践</a><br><a href="https://mvnrepository.com/">Maven Repository: Search&#x2F;Browse&#x2F;Explore</a><br><a href="https://app.diagrams.net/#HChris-z-su%2Fwollo%2Fmain%2Fstudy%2FSpring%E5%AD%A6%E4%B9%A0.drawio">Spring学习.drawio - diagrams.net</a><br><a href="https://sm.ms/">Simple Free Image Hosting - SM.MS - Simple Free Image Hosting</a><br><a href="https://schelleyyuki.com/">SchelleyYuki官网</a><br><a href="http://www.syiban.com/">学习强国挑战答题_在线搜题答案查询</a><br><a href="https://chris-z-su.github.io/">a dark room</a><br><a href="https://www.toutiao.com/">今日头条</a><br><a href="https://www.52pojie.cn/">吾爱破解 - LCG - LSG|安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.ixigua.com/">西瓜视频 - 高清免费在线视频 - 点亮对生活的好奇心</a><br><a href="https://www.imooc.com/learn/464">Struts2入门教程-慕课网</a><br><a href="https://linmi.cc/">Linmi - 探索未知，迭代新知，沉淀认知。</a><br><a href="https://wallhere.com/">世界著名的壁纸网站 电脑桌面壁纸 - WallHere 壁纸库</a><br><a href="https://limestart.cn/">青柠起始页</a><br><a href="https://blog.csdn.net/zitian886/article/details/51733699">AngularJS数组操作_紫天专栏-CSDN博客_angular 数组操作</a><br><a href="http://www.acfun.cn/">AcFun弹幕视频网 - 认真你就输啦 (・ω・)ノ- ( ゜- ゜)つロ</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.christapps.net/">精读圣经诗歌本官网</a><br><a href="https://cloud.tencent.com/developer/ask/172715">如何比较jaxrs-api 、jsr 311-api 和 javax.ws.rs-api、jersey-core？ - 问答 - 云+社区 - 腾讯云</a><br><a href="https://blog.csdn.net/dnc8371/article/details/106704825">实施Jersey 2 Spring集成_最佳 Java 编程-CSDN博客</a><br><a href="https://chris-z-su.github.io/">chris-z-su</a><br><a href="https://chris-z-su.github.io/index.html">chris-z-su.github.io</a><br><a href="https://kaifa.baidu.com/">开发者搜索-Beta-让技术搜索更简单高效</a><br><a href="https://www.meiye.art/">美叶- 优质灵感辑录</a><br><a href="https://www.notion.so/zhangsubao/Spring-e77f3334f15b479098a20269a7fc9da6">Notion-Spring基础知识</a><br><a href="https://www.notion.so/">Notion – The all-in-one workspace for your notes, tasks, wikis, and databases.</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=123">学习强国挑战答题</a><br><a href="https://note.youdao.com/ynoteshare/index.html?id=99fab1091bb2c6bdd0a13b5876e6162b&type=note&_time=1641094211786">有道云笔记</a><br><a href="https://www.ruankao.org.cn/introduction/zgsz">中国计算机技术职业资格网</a><br><a href="https://www.bilibili.com/video/BV1yW41167FL">计算机技术与软件专业技术资格（水平）考试。计算机软件。初级资格。程序员。软考。_哔哩哔哩_bilibili</a><br><a href="https://www.ixigua.com/?wid_try=1">西瓜视频 - 高清免费在线视频 - 点亮对生活的好奇心</a><br><a href="https://github.com/penpot/penpot">GitHub - penpot&#x2F;penpot: Penpot - The Open-Source design &amp; prototyping platform</a><br><a href="https://chinesewithjen.notion.site/chinesewithjen/08af8ffe57314fbdaef839924466be68">小简的秘密基地</a><br><a href="https://github.com/miaomiaosoft/PandaOCR">GitHub - miaomiaosoft&#x2F;PandaOCR: PandaOCR - 多功能OCR图文识别+翻译+朗读+弹窗+公式+表格+图床+搜图+二维码</a><br><a href="https://chris-z-su.github.io/index.html">Site not found · GitHub Pages</a><br><a href="https://chris-z-su.github.io/chris-z-su/index.html">Site not found · GitHub Pages</a><br><a href="https://m.gaoding.com/home/recommend?hmsr=zhongcao-gd_zh_dyhfn-home--syzc-dyhfn-bdqd&utm_medium=&utm_source=zhongcao">稿定设计-做图做视频必备_在线设计神器_海量模板免费用</a><br><a href="https://petalsearch.com/">403 Forbidden</a><br><a href="https://www.sakuradm.tv/">樱花动漫－专注好看的动漫大全门户网站</a><br><a href="https://r2coding.com/#/">Road 2 Coding</a><br><a href="https://www.bilibili.com/video/BV1sp4y197uX?spm_id_from=333.851.b_62696c695f7265706f72745f646f756761.30">【如何做到连续学习10+小时】从早学到晚的秘籍|长时间专注|纯干货|不看后悔系列_哔哩哔哩_bilibili</a><br><a href="https://shimo.im/docs/PKWDTYw8krpJTHQP/read">2021激活IDEA方法无限重置IDEA试用</a><br><a href="http://www.springframework.org/schema/beans/">Index of &#x2F;schema&#x2F;beans</a><br><a href="https://www.cnblogs.com/knowledgesea/p/11158412.html">Java JDK和IntelliJ IDEA 配置及安装 - 张龙豪 - 博客园</a><br><a href="https://www.cnblogs.com/guochunyang2004/p/8629437.html">idea新建maven项目没有src目录 - 果然如此 - 博客园</a><br><a href="http://iphil.cc/?p=536">aria2 windows配置教程 |</a><br><a href="https://blog.csdn.net/qq_44173974/article/details/107943829">借助Bilibili Evolved和aria2批量下载b站视频_可乐大牛的博客-CSDN博客_aria2 bilibili</a><br><a href="https://github.com/the1812/Bilibili-Evolved">GitHub - the1812&#x2F;Bilibili-Evolved: 强大的哔哩哔哩增强脚本</a><br><a href="https://github.com/521xueweihan/GitHub520">521xueweihan&#x2F;GitHub520: 让你“爱”上 GitHub，解决访问时图裂、加载慢的问题。（无需安装）</a><br><a href="https://github.com/iptv-org/iptv/blob/master/README.md">iptv&#x2F;README.md at master · iptv-org&#x2F;iptv</a><br><a href="https://disease.sh/">disease.sh</a><br><a href="https://www.notion.so/zhangsubao/Spring-f12b72060f804e4da54afa0467d58671">Spring学习</a><br><a href="https://developer.hitokoto.cn/">一言开发者中心</a><br><a href="https://www.agemys.com/">在线动画 动漫下载 - AGE动漫</a><br><a href="https://cloud.tencent.com/developer/ask/sof/255826">resize2fs:尝试打开超级块时出现错误的幻数 - 问答 - 云+社区 - 腾讯云</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E8%9C%82%E5%B7%A2">蜂巢 - Minecraft Wiki，最详细的我的世界百科</a><br><a href="https://www.mcmod.cn/post/1308.html">投影详细教学 - 投影 (Litematica) - MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://azure.microsoft.com/zh-cn/services/cognitive-services/text-to-speech/?Voice">文本转语音 – 真实 AI 语音生成器 | Microsoft Azure</a><br><a href="https://www.mcbbs.net/thread-1329343-1-1.html">把村民养在末地有什么作用？ - 原版问答 - Minecraft(我的世界)中文论坛 -</a><br><a href="http://game.youzu.com/play?type=web&gameId=193&serverId=2466310333">三十六计-【雄心】330区</a><br><a href="https://mail.163.com/js6/main.jsp?sid=XAwxQqYvggaEDkEoIYvvTfhbxeenAndo&df=webmail">网易邮箱6.0版</a><br><a href="https://weread.qq.com/web/reader/05e329405e3dd605ee04ceckd9632c903101d96409bf8dc">龙族（1-4合集）-江南-微信读书</a><br><a href="https://v.qq.com/x/page/b0328dmgz3e.html">晋剧谢涛专辑_腾讯视频</a><br><a href="read://https//github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E5%9F%BA%E7%A1%80.md">CyC2018&#x2F;CS-Notes</a><br><a href="https://quark.sm.cn/">神马搜索</a><br><a href="https://hao.su/2217/">全网免费音乐搜索汇总 - 不死鸟 - 分享为王</a><br><a href="https://tool.liumingye.cn/music/unlock-music/">音乐解锁 - By IXarea</a><br><a href="https://www.bilibili.com/video/BV1uE411g77R?p=2">【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cloudbed.vip/index.html">云床</a><br><a href="http://www.zhangsubao.com/img/SuSkAlJbO.png">SuSkAlJbO.png (683×1919)</a><br><a href="https://www.epicgames.com/store/zh-CN/">Epic Games Store | Official Site</a><br><a href="https://www.cnblogs.com/puresoul/archive/2010/07/08/1773871.html">Oracle多表连接查询 - 贺满 - 博客园</a><br><a href="http://chromedriver.storage.googleapis.com/index.html">chromedriver.storage.googleapis.com&#x2F;index.html</a><br><a href="http://job.hrss.tj.gov.cn/rsrc/tjwb/mainframe/login3.html">天津人事人才网上申报系统</a><br><a href="https://ncov2019.live/">Coronavirus Dashboard</a><br><a href="https://www.douban.com/note/774966429/?from=author">借助 potplayer 播放器，在本地播放b站视频也能看弹幕了</a><br><a href="https://y.qq.com/n/yqq/playlist/907303766.html">我喜欢–QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="https://y.qq.com/portal/profile.html#sub=other&tab=create&stat=y_new.top.pop.user_pic">我的音乐 - QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="https://y.qq.com/n/yqq/playlist/7647189768.html">◤◣–QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="http://ehr.trans-cosmos.com.cn/">ehr.trans-cosmos.com.cn</a><br><a href="http://cn.voidcc.com/question/p-dzzhcngh-va.html">使用apache poi在excel文件中设置页面视图模式 - VoidCC</a><br><a href="https://suulnnka.github.io/BullshitGenerator/index.html">狗屁不通文章生成器</a><br><a href="https://www.ithome.com/html/win10/171167.htm">如何清除 Win10 账户头像设置记录，恢复默认头像？ - Win10系统,Win10正式版 - IT之家</a><br><a href="https://minecraft-zh.gamepedia.com/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2">调试界面 - Minecraft Wiki，最详细的官方我的世界百科</a><br><a href="file:///C:/Users/Chris/Desktop/%E5%A2%9E%E5%80%BC%E7%A8%8E%E7%BA%B3%E7%A8%8E%E7%94%B3%E6%8A%A5%E8%A1%A8%E9%99%84%E5%88%97%E8%B5%84%E6%96%99(%E8%A1%A8%E4%B8%89)--%E6%89%93%E5%8D%B01.html">增值税纳税申报表附列资料(表三)–打印</a><br><a href="https://minecraft-zh.gamepedia.com/Minecraft_Wiki">中文Minecraft Wiki - 最详细的官方我的世界百科</a><br><a href="https://gzhaha.gitbooks.io/mybase-desktop-7-x-user-manual-cn/content/chapter16.html">故障排除 | myBase Desktop 7.x 用户手册</a><br><a href="https://signal.org/download/">Signal &gt;&gt; Download Signal</a><br><a href="https://m.aigei.com/">爱给网_音效配乐_3D模型_视频素材_游戏素材_免费下载</a></p><h1 id="working"><a href="#working" class="headerlink" title="working"></a>working</h1><p><a href="http://10.1.25.93/zentao/user-login.html">用户登录 - 禅道</a><br><a href="http://10.1.3.94/zentao/my/">我的地盘 - 禅道</a><br><a href="http://127.0.0.1:8080/#/dashboard">中科软极速出单系统</a><br><a href="http://10.1.23.201:8081/cxcbapp/app/#/dashboard">中科软极速出单系统</a><br><a href="https://ai.ccint.com/doc/">文档中心 - 合合AI开放平台 - 专业可靠的计算机视觉和机器学习服务平台</a><br><a href="https://ai.ccint.com/doc/sample-code?service=text_recognize_3d1#java">API接入示例代码 - 合合AI开放平台 - 专业可靠的计算机视觉和机器学习服务平台</a><br><a href="https://www.bejson.com/convert/unicode_chinese/">在线unicode转中文,中文转unicode-BeJSON.com</a><br><a href="https://www.bejson.com/xml2json/">在线XML转JSON,JSON转XML-BeJSON.com</a><br><a href="https://tool.oschina.net/codeformat/xml">在线代码格式化</a><br><a href="http://redisdoc.com/">Redis 命令参考 — Redis 命令参考</a><br><a href="https://www.json.cn/">JSON在线解析及格式化验证 - JSON.cn</a><br><a href="file:///E:/htmldemo/uchuu-main/src/SocialCreditCode/dist/index.html">统一社会信用代码生成</a><br><a href="http://10.1.22.145/#/charts/statistics">middleground</a><br><a href="http://10.1.23.152:7301/console/console.portal?_nfpb=true">主页 - pics_domain - WLS 控制台</a><br><a href="http://10.1.23.146:7401/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - iLog_domain - WLS 控制台</a><br><a href="http://10.1.23.153:7202/console/console.portal?_nfpb=true">主页 - trans_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7202/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - vechcore_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7201/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - cpi_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7101/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a><br><a href="https://mail.sinosoft.com.cn/">中科软科技股份有限公司</a><br><a href="https://sems.sinosoft.com.cn/ecs/index">费用报销管理系统</a><br><a href="http://cxkscdqd.ypic.cn/cxcbapp/app/#/dashboard">中科软极速出单系统(生产)</a><br><a href="http://10.2.66.188:7001/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a></p><h1 id="收藏夹"><a href="#收藏夹" class="headerlink" title="收藏夹"></a>收藏夹</h1><p><a href="https://www.zhihu.com/question/48219401/answer/742444326">(1 封私信) 你是如何学会正则表达式的？ - 知乎</a><br><a href="https://blog.csdn.net/u010018421/article/details/52833346">(1条消息) 解析request.getInputStream()_希望1992的博客-CSDN博客</a><br><a href="https://blog.csdn.net/eacxzm/article/details/81434015">(1条消息) 内网通怎么获得无限积分_eacxzm的博客-CSDN博客_内网通积分码</a><br><a href="https://blog.csdn.net/qq_21747411/article/details/84230234">(1条消息) 实习日志–weblogic项目的部署记录_MarkLuoBo的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86699263">(1条消息) Java面试题及答案2019版（下）_Java笔记-CSDN博客_java面试题</a><br><a href="https://blog.csdn.net/czh500/article/details/88202971">(1条消息) java中PreparedStatement和Statement详细讲解_冷囧囧-CSDN博客_preparedstatement</a><br><a href="https://blog.csdn.net/qyf_5445/article/details/8156178?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-9&spm=1001.2101.3001.4242">(1条消息) myeclipse的启动配置文件myeclipse.ini的认识_程序员专栏-CSDN博客</a><br><a href="https://blog.csdn.net/fjkxyl/article/details/66970197">(1条消息) Spring @RequestParam注解详解_fjkxyl的博客-CSDN博客</a><br><a href="https://blog.csdn.net/sinat_36277898/article/details/85392033">(1条消息) web项目web.xml的配置中 context-param 配置作用_做一只强悍的蜜獾-CSDN博客</a><br><a href="https://blog.csdn.net/Ee01114295/article/details/90444995">(1条消息) weblogic10.3.1.0安装（windows版）_Ee01114295的博客-CSDN博客</a><br><a href="https://blog.csdn.net/justry_deng/article/details/82259470">(2条消息) TortoiseSVN打分支、合并分支、切换分支_JustryDeng-CSDN博客_svn分支</a><br><a href="https://blog.csdn.net/qq_39856931/article/details/104956734">(4条消息) 解决Github头像不显示问题_杨小浩浩的博客-CSDN博客_github头像不显示</a><br><a href="https://blog.csdn.net/yulungggg/article/details/68206635">(4条消息) myeclipse 断点调试技巧_yulungggg的博客-CSDN博客</a><br><a href="https://blog.csdn.net/WPwalter/article/details/100156730">(8条消息) Windows 10 解决无法完整下载安装语言包（日语输入法无法下载使用）_walterlv - 吕毅-CSDN博客</a><br><a href="https://www.mcbbs.net/thread-823957-1-1.html">【1.13.x~1.17.x | 16x】XeKr的方纹淡彩+红石显示+护眼 - 材质资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="https://www.bilibili.com/video/BV1uE411g77R">【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://c.tieba.baidu.com/p/6202705789?pn=4">【图片】回复：忍三答题攻略贴【忍者必须死3吧】_百度贴吧</a><br><a href="https://www.bilibili.com/video/av59706245/">【minecraft】1.14版本超简单上下界基岩上层方法_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://cl.ihxoi.com/archives/61489649.html">1024</a><br><a href="http://192.168.40.128:8090/">192.168.40.128</a><br><a href="https://zhuanlan.zhihu.com/p/62322155">2019年Web前端最新导航（常见前端框架、前端大牛） - 知乎</a><br><a href="https://zhuanlan.zhihu.com/p/341604625">2021学生党蓝牙耳机推荐，适合学生党购买的蓝牙耳机都在这（1月更新） - 知乎</a><br><a href="https://51kdy.org/">51看电影</a><br><a href="http://www.baidu.com/">百度</a><br><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cnblogs.com/">博客园 - 开发者的网上家园</a><br><a href="https://segmentfault.com/a/1190000022777009">超详细！4小时开发一个SpringBoot+vue前后端分离博客项目！！_个人文章 - SegmentFault 思否</a><br><a href="https://www.52pojie.cn/thread-1133711-1-1.html">打造自己的私人知识宝库利器——mybase 7.3.5 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.eggvod.cn/jx.php?lrspm=28217866&zhm_jx=https://v.qq.com/x/cover/f0v4o87jx2safyg/e00264svqua.html">蛋蛋VIP视频全网解析</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2">调试界面 - Minecraft Wiki，最详细的官方我的世界百科</a><br><a href="https://github.com/Wechat-Group/WxJava/wiki/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3">公众号开发文档 · Wechat-Group&#x2F;WxJava Wiki</a><br><a href="https://www.jb51.net/softjc/613621.html">谷歌无法启动更新检查(错误代码为4: 0x80070005-system level)怎么办_浏览下载_软件教程_脚本之家</a><br><a href="http://ziziyy1.com/">好看的电视剧_好看的电影_好看的动画片在线免费观看_樱花风车 - 子子影院</a><br><a href="https://www.huxiu.com/">虎嗅网</a><br><a href="https://www.jijidown.com/">唧唧-哔哩哔哩唧唧-bilibili视频|弹幕在线下载</a><br><a href="https://blog.csdn.net/qq_43705131/article/details/107965888">解决Please make sure you have the correct access rights and the repository exists 问题._每天进步一点点-CSDN博客</a><br><a href="https://www.agefans.net/play/20200004?playid=2_4">进击的巨人 最终季 第04话 [GB][1080P][x264_AAC] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://www.bilibili.com/video/BV11A411K7LE?p=12">九天Java面试突击集训，涨薪50%必备的JVM、多线程、Spring、MySQL、IO、分布式、微服务优质教程_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://www.kakadm.com/">卡卡动漫-好看的动漫日剧韩剧网站</a><br><a href="http://www.i-mofang.com/ba_05.shtml">魔方入门解法第5步：统一顶层顶面颜色 - 爱魔方</a><br><a href="https://tieba.baidu.com/p/5969911656">内网通内网是怎么推送更新的_内网通吧_百度贴吧</a><br><a href="https://www.bilibili.com/video/BV1KE411r7rE?p=4&spm_id_from=pageDriver">鸟哥JAVA零基础之IO流详解视频【IntelliJ IDEA版-输入输出流】_哔哩哔哩_bilibili</a><br><a href="http://172.81.205.2:8080/searchAnswer">强国查询 | Skow</a><br><a href="https://hao.su/2217/">全网免费音乐搜索汇总 - 不死鸟 - 分享为王</a><br><a href="https://jingyan.baidu.com/article/3c48dd34491d47e10be358b8.html">如何查看某个端口被谁占用-百度经验</a><br><a href="https://www.zhihu.com/question/26078625">如何能有效地学习 VBA？ - 知乎</a><br><a href="https://www.freeaihub.com/shell/index.html">如何学习 Bash Shell ? @狐狸教程:~#</a><br><a href="http://game.youzu.com/play?type=web&gameId=193&serverId=2466310333">三十六计-【雄心】330区</a><br><a href="http://www.zhangsubao.com/UniverseSim/index.html">三体演化模拟</a><br><a href="https://www.bilibili.com/video/BV1YW411T7GX?p=104&spm_id_from=pageDriver">尚硅谷最新版JavaScript基础全套教程完整版(140集实战教学,JS从入门到精通)_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.bilibili.com/video/av49674491/?p=6">尚学堂python400集第一季-30分钟零基础入门Python_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://quark.sm.cn/">神马搜索</a><br><a href="https://blog.csdn.net/u011853294/article/details/53228720">使用IDEA将git上传项目到github_清水寺小和尚的博客-CSDN博客_idea部署项目到git</a><br><a href="https://www.qq764424567.top/">恬静的小魔龙|Unity开发|技术博客</a><br><a href="https://www.gaoding.com/templates?q=%E6%89%8B%E6%9C%BA%E5%A3%81%E7%BA%B8&hmsr=zhongcao-sjbz_zh_2014-xmt---sy2014-bdqd&utm_medium=&utm_source=zhongcao">图片模板在线设计制作-稿定设计</a><br><a href="javascript:(function(){window.open("https://wannengrun.com/f/#%22+document.location.href)})()">万能命令书签</a><br><a href="https://cash.fxqifu.com/1000701/">网购商城</a><br><a href="https://cn.bing.com/">微软 Bing 搜索 - 国内版</a><br><a href="http://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&t=sandbox/index">微信公众平台</a><br><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html">微信开放文档</a><br><a href="https://www.imooc.com/article/70497">微信授权redirect_uri 参数错误_慕课手记</a><br><a href="http://zh.wikipedia.org/">维基百科，自由的百科全书</a><br><a href="https://pc.xuexi.cn/points/my-points.html">我的积分</a><br><a href="https://jingyan.baidu.com/album/046a7b3e9c49faf9c27fa9ce.html">我的世界如何做简单高效率刷怪塔-百度经验</a><br><a href="https://www.microsoft.com/zh-cn/software-download/windows10">下载 Windows 10</a><br><a href="https://tieba.baidu.com/p/4466624137">小黑屋（a dark room）攻略【009吧】_百度贴吧</a><br><a href="http://ncov.leafcoder.cn/demo/">新冠肺炎（2019-nCoV）疫情大屏</a><br><a href="https://v.qq.com/x/cover/phpy0hfv4kpdeez/a0026jexo3q.html">新上海滩 第11集</a><br><a href="http://172.81.205.2:8080/">学习小助手</a><br><a href="https://www.cnblogs.com/geili/p/10349304.html">耶路撒冷三千年（笔记） - 人一己百 - 博客园</a><br><a href="http://www.yhdm.tv/">樱花动漫－专注动漫的门户网站</a><br><a href="https://greasyfork.org/zh-CN/scripts/">用户脚本</a><br><a href="https://www.baiduyun.wiki/">油小猴</a><br><a href="https://www.zhihu.com/question/297029644">有哪些超美腻的壁纸? - 知乎</a><br><a href="https://www.agefans.tv/play/20140034?playid=3_2">约会大作战 第二季 第02话 [GB][720p] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://cloud.tencent.com/document/product/213/17814?fromSource=gwzcw.1293314.1293314.1293314&cps_key=38b75278ba66c442798625a2a46beb05">云服务器 制作 Linux 镜像 - 操作指南 - 文档中心 - 腾讯云</a><br><a href="http://fanyi.youdao.com/">在线翻译_有道</a><br><a href="http://www.98key.com/index.jsp?sub=2020.5.18">在线生成MyEclipse注册码2020.5.18</a><br><a href="https://www.beijing-time.org/shijianchuo/">在线时间戳转换工具</a><br><a href="http://ziziyy1.com/acg/3579/8.html">斩赤红之瞳 第8集 在线观看-子子影院</a><br><a href="https://www.huya.com/688">张大仙直播_虎牙688张大仙官方直播间_张大仙视频直播_虎牙直播</a><br><a href="https://www.runoob.com/regexp/regexp-syntax.html">正则表达式 – 语法 | 菜鸟教程</a><br><a href="https://c.runoob.com/front-end/854">正则表达式在线测试 | 菜鸟工具</a><br><a href="file:///E:/study/%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1/%E4%B9%A6%E7%B1%8D/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A.pdf">正则表达式必知必会.pdf</a><br><a href="http://www.regexlab.com/zh/regref.htm">正则表达式参考文档 - Regular Expression Syntax Reference</a><br><a href="https://zhutix.com/">致美化 - 最专业的桌面美化交流平台 - 漫锋网</a><br><a href="https://yz.chsi.com.cn/">中国研究生招生信息网</a><br><a href="https://minecraft.fandom.com/zh/wiki/Minecraft_Wiki">中文Minecraft Wiki - 最详细的官方我的世界百科</a><br><a href="https://sls.cdb.com.cn/#/">助学贷款</a><br><a href="https://blog.csdn.net/weixin_38601833/article/details/94585595?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param">最完善的markdown转html&#x2F;pdf方法、带目录生成_所谓向日葵族-CSDN博客</a><br><a href="http://www.syseen.com/soft/16096.html#txaArticle">最新老王v2.2.9 终于知道叫老王的原因 - 小雨资源网</a><br><a href="file:///E:/otherdemo/adarkroom-main/index.html?lang=zh_cn">a dark room(localhost)</a><br><a href="https://www.jb51.net/softs/586975.html">acrobat pro dc 2021破解版下载 Adobe Acrobat Pro DC v2021.001.20142 英&#x2F;中文直装版(附安装教程) 下载-脚本之家</a><br><a href="http://47.100.37.150:8080/upload/upload2.jsp">Ajax异步上传图片</a><br><a href="https://www.runoob.com/angularjs/angularjs-tutorial.html">AngularJS 教程 | 菜鸟教程</a><br><a href="https://base64.us/">Base64 在线编码解码 | Base64 加密解密 - Base64.us</a><br><a href="https://carbon.now.sh/">Carbon | Create and share beautiful images of your source code</a><br><a href="http://tv.cctv.com/live/cctv5plus/?spm=C28340.Pu2UyUI7WyT5.ELosaKPa05E7.9">CCTV-5+体育赛事频道高清直播_CCTV节目官网_央视网</a><br><a href="https://github.com/Chris-z-su">Chris-z-su</a><br><a href="chrome://dino/">chrome:&#x2F;&#x2F;dino&#x2F;</a><br><a href="https://codeimg.io/">Codeimg.io</a><br><a href="https://ncov2019.live/">Coronavirus Dashboard</a><br><a href="http://blog.sina.com.cn/s/blog_5bba80460100dlsu.html">doFilter如何使用。_这个崔先生不太冷_新浪博客</a><br><a href="https://www.doublespeakgames.com/">doublespeak games</a><br><a href="https://zhidao.baidu.com/question/372114959788570804.html">excel怎样获取单元格中特定字符前面或者后面的内容_百度知道</a><br><a href="https://www.4393yx.com/">FC游戏下载_NES游戏下载_FC模拟器__FC游戏下载站</a><br><a href="https://www.google.co.jp/">Google(JP)</a><br><a href="https://hadoop.apache.org/docs/r1.0.4/cn/hdfs_shell.html">Hadoop Shell命令</a><br><a href="http://www.zhangsubao.com/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="http://49.232.198.16/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="https://www.youtube.com/watch?v=qLFeijbLGgg">How To GET ON TOP OF THE NETHER! | The Minecraft Guide Episode 94 - YouTube</a><br><a href="https://wp35.xyz/www/y.php">https://wp35.xyz/www/y.php</a><br><a href="https://www.52pojie.cn/thread-772146-1-1.html">IDM - 全版本通用注册器 - Internet Download Manager Crack - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://my.oschina.net/dendy/blog/385549">IntelliJ IDEA 与 JBOSS集成 - Dendy的个人页面 - OSCHINA - 中文开源技术交流社区</a><br><a href="https://github.com/Uahh/ToastFish">Issues · Uahh&#x2F;ToastFish</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86686492">Java面试题及答案2019版（上）_Java笔记-CSDN博客_java面试题</a><br><a href="https://www.bilibili.com/video/BV1k74118721?p=6&spm_id_from=pageDriver">Java面试题突击100道！_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cnblogs.com/duck-ifox/p/9084049.html">Java通过图片url地址获取图片base64位字符串的两种方式 - 凌巴哥 - 博客园</a><br><a href="https://www.cnblogs.com/yesiamhere/p/6675067.html">java运算符 与（&amp;）、非（~）、或（|）、异或（^） - 够硬的乙方 - 博客园</a><br><a href="http://www.51gjie.com/">JAVAschool免费在线教程，简单您的JAVA学习！！！</a><br><a href="https://jbossas.jboss.org/downloads/">JBoss Application Server Downloads - JBoss Community</a><br><a href="https://ai-h5.vivo.com.cn/newyeargomoku/index.html?small_video_topic=1&from=tips#/game">Jovi 五子棋春节版</a><br><a href="https://mc-mods.org/keeping-inventory-mod/">Keeping Inventory Mod 1.16.4&#x2F;1.16.3&#x2F;1.15.2&#x2F;1.14.4 - MC-Mods.org</a><br><a href="https://www.cnblogs.com/jybky/p/12058733.html">linux环境weblogic的安装及新建域 - 总结造就再进步 - 博客园</a><br><a href="https://blog.csdn.net/github_38922197/article/details/75097320">Linux上Weblogic服务域的创建与部署_赔了命3000-CSDN博客_weblogic创建域</a><br><a href="https://www.linuxprobe.com/linux-tail-example.html">Linux中tail命令实例 | 《Linux就该这么学》</a><br><a href="https://www.runoob.com/maven/maven-pom.html">Maven POM | 菜鸟教程</a><br><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://mega.nz/start">MEGA</a><br><a href="https://account.microsoft.com/devices/recoverykey?refd=www.sites-help.com">Microsoft 帐户 | BitLocker 恢复密钥</a><br><a href="https://www.mcbbs.net/">Minecraft(我的世界)中文论坛——Minecraft中文站,我的世界中文论坛,我的世界论坛 -</a><br><a href="https://blog.csdn.net/weixin_42449715/article/details/103049177">myeclipse配置jdk版本的几个地方_Garfield…的博客-CSDN博客_myeclipse配置jdk</a><br><a href="https://natapp.cn/tunnel/lists">NATAPP -</a><br><a href="https://minecraft.novaskin.me/wallpapers">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="http://minecraft.novaskin.me/wallpapers/mobile">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="https://en.savefrom.net/17/">Online video downloader - Download videos and music for free</a><br><a href="https://penrose.doublespeakgames.com/?utm_source=adarkroom&utm_medium=crosspromote&utm_campaign=event">Penrose - doublespeak games</a><br><a href="http://blog.itpub.net/29485627/viewspace-1291573/">PLSQL Developer报“动态执行表不可访问，本会话的自动统计被禁止”的解决方案_ITPUB博客</a><br><a href="https://www.fujieace.com/software/powerdesigner.html">PowerDesigner安装教程（含下载+汉化+破解） - 付杰博客</a><br><a href="https://www.ghxi.com/pycharm.html/comment-page-1#comments">PyCharm 2020.3.2 汉化便携增强版 - 果核剥壳</a><br><a href="http://www.downxia.com/downinfo/325980.html">Pycharm2020.3专业版永久破解|Pycharm2020.3激活码破解版 32&#x2F;64位 中文专业版 下载_当下软件园_软件下载</a><br><a href="https://regexper.com/">Regexper</a><br><a href="http://192.168.18.11/#/goods">sell</a><br><a href="http://192.168.18.11/#/sell">sell</a><br><a href="https://www.shellcheck.net/">ShellCheck – shell script analysis tool</a><br><a href="https://stackoverflow.com/">Stack Overflow - Where Developers Learn, Share, &amp; Build Careers</a><br><a href="https://github.com/testerSunshine/12306">testerSunshine&#x2F;12306: 12306智能刷票，订票</a><br><a href="https://www.ipaddress.com/">The Best IP Address, Email and Networking Tools - IPAddress.com</a><br><a href="http://info.cern.ch/hypertext/WWW/TheProject.html">The World Wide Web project</a><br><a href="http://mini.tongzhong.xyz/">Tongzhong Mini</a><br><a href="https://www.itrhx.com/">TRHX’S BLOG</a><br><a href="https://www.w3cschool.cn/excelvba/excelvba-basics.html">VBA语言的基础认识_w3cschool</a><br><a href="http://m.2265.com/down/279180.html">vivo主题修改器破解版下载|vivo主题修改器vip版下载v5.3.1 安卓会员版_2265安卓网</a><br><a href="https://www.ypojie.com/6066.html">VMware Workstation Pro v16.1.2 虚拟机软件及永久许可证|亿破姐</a><br><a href="https://cloud.tencent.com/developer/article/1187687">Web-第三十二天 WebLogic中间件【悟空教程】 - 云+社区 - 腾讯云</a><br><a href="https://blog.csdn.net/dyr_1203/article/details/82350244">weblogic创建新域_aspu O_O的博客-CSDN博客_weblogic新建域</a><br><a href="https://www.jb51.net/softjc/232839.html">Webstorm常用快捷键备忘(Webstorm入门指南)_编程开发_软件教程_脚本之家</a><br><a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia, the free encyclopedia</a><br><a href="https://www.bilibili.com/read/cv5730100/">Win10永久激活神器 数字激活 HWIDGen v62.01 汉化版 - 哔哩哔哩</a><br><a href="https://www.youtube.com/">YouTube</a><br><a href="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCADhAOEDASIAAhEBAxEB/8QAHQAAAQQDAQEAAAAAAAAAAAAAAAQFBgcCAwgBCf/EAEoQAAEDAwIDBQMIBgcGBwEAAAEAAgMEBREGIRIxQQcTUWFxIjKBFBUjQlKRocEIYnKSsdEWMzRDVYLwFyRTVJOiNTZEc4Oy8eH/xAAaAQADAQEBAQAAAAAAAAAAAAAAAgMBBAUG/8QAKBEAAgICAgEEAgIDAQAAAAAAAAECEQMhEjEEEyIyQRRRUmEVI3Gh/9oADAMBAAIRAxEAPwCwHNDufJanU0J2LfhlbkZXOSEpt1K7nF+JWp1poT/6f/ucl6MoAbDY6F3OBw9HlYHT9B1ieB+2nbK9CAGCp03TyM+gkdHjfB3CY66y1tMSRH3kXPjY3bCnZ2CwLs8zt4YQFFYVlIyrgdDM13du2I5Jkho66xv7y3cFRScnQu3c0eSt+rtlFWD6WBucYy0bpjrdMyt9qkl4wNw1/P8A/FPJBTVMNojVg1EzvnPo3OjmHvRSbOx4KaUOpIJXtbK10fEPaPMBQa9WMH6StifBKOU4OC34+CjL9T/N8r6dxbXEbNliOD6OzsuN48uB/wCraHinMviN8b28cbu8a73TjmtFwutBbIe8uFXDTtHPjcM/dzVBXDX14+RCCGrFHByPc+9n9r8goTcL7E+QumkkqpOeSSd/PK78c5SSsosXHs6AunanY6dzmUjKitcORbHho+JTOe18A+xaC9vg6UfyKoKa+TEnu4msz5bpI+7Vbv70/AKnFj+w6atnavaah4ZW0c1IScZ95v34Cn9PUNqqeKeNwdFI3iYR4Li+2XWUTtbUPL4zseJXl2Pan+TVjLLXy/7vLvTSO5td9keRSy5LsWUYtaLjBWE0hZE9zebQShoGNh1P8USRiSN7HHDXjhJWO69pEh9RqKtlJLOFreW7QSk/z3XcWRNv4FgSms07VRyONMe9ZnI5JILPXE8PyUjzcQvn8sfI5hoVwajuERy4sc0cwGBSS1XBtygc+JnC8e8FH6bTcsgzUyNib5b/AIqSUFJFRQcEAO/UnOV3+HHPfv6CxS7OdknrKOCqx3rc4H2sLe0ZCCMDbmvRnFPTRlWNjLJRB3F3TwfN63/N9OBgRH14ytd5uUduhY7HFMT7I8VEay7V1VI7vJ3NH2QeS8/Nnw4NcdgTD5BTfYb++5CgnfTf8Z/7yFy/5DH/AANLIQhC9wAQhCABCEIACeixDM7rLqtVXPDS076iqmbDBGMve48glYGeMAk8+iiurdcWzT7XU7Xtqq/G0EZ2af1j+Sg2te0aSufLRWI9zTEkOqAfakHl4DzVZVPfytIhxxHnI88X4dfVZyvRWGNS2yQap1jc7y5zrhVGGl5iCB3C0HzHVQesvoyW07D+0fyHRb5LQ+d4M9U95HhyC9FlpBkuc4+rsJ40VeuiPVFRJOcyOLitO555Up+a6BuxO3iZN14bZbHbB+/m9PySEcbIsUKTvstI4YZI8f5spNJYHAfQztI8CMLVNGODGNhIOc481L9PVsr4Y3seWzwuGHDmD0TDNaKuNpIYHjxBWdmkkpKtrZGPbx7bjCydSNjrR1xom+Mv+nqet4gJP6t4/WHNP+VSnY9eI6GurqKtqY4qWZokDnuDQ1zeufiFbbLpbnOPBXUp6bShTTJTjTHA78jhYjj6nZJ/llI4jFVDn/3AtjJY3+5JGfR4KYnVmzG/LCwqXthhdLIcMYMnZapq6mhOJJ4mu8Cd1qkq6GeMsfURFrhuC/CjkyRSaT2HEaZNUR8WYoCWeY5p6ttbHWUjZmNI2OQE0TWyzDJE0bG43Ak2KcKa422lhbFDURBoGy5sc8jb9RoajW6Gnv0TmyRuHdk4cW4OU2VVhoqRnfVFTM1gOSA3808fO9A3JFVGPHATRdL9SvIiih+UsPvF2wwp51gq5VYDX3ti/wCNUoSr5fav8Mi+9C4bx/0BKzUQB3CZos+Gd1sBa7dhBHkVBzZLi5wL6d7vMnKkmn6KopKV7KoZDtwPBelh8rJOdSjSBjq09OSSMquOvkpjC8Bn1xySpz2x++9rQPEryMsLuKNwJd9ncrrlTYGRGOZ5+KTPrqSN4jfUwtf4F2MJJfr3QWKjdUXKcRBueFuMucfJvXKoy+agrNRXN0NupZI2TvwynjPE55PiRulyTlqh4Qci1NRdoNotMhhgca+qbzigOw9XHb4KptX61r7+GtuDmU1C07QM5FRG9VDrfTkBo77jLHNcc8JGx+OVFZqiSdxMj3OIVYxcuyiag6ZIqi9wxgNZmV2Ofim2e+VDzhmIx4BNJJJ3XioscUEsj+hTLW1Ehy6Z59StLpHnm933rBCYS2z0H1+BRn1XiEGGQeRyJHxW6Ksni92R33pOhFG2PFNfZ4sCRrZB44wU6090pKrgEzQxwO2R+aiS9BLdxlK4GqZYlJ3AqmOqXv8Akzj7ZjOXAeSsbT+itOXynEtDf5ZAeceAHjyIVCUFympjz42Hm1w2UotVyEr2S0sximbtlu3CoSg47HaWQuGr7LCC40la+Ro3ALQDhN02gquHds9U3zbuE6aF7SI5I4rfej3b/cjqgfZf5O8PVWflrmhwaCCMgh3Pzz1UZQlPalRCUXEpI6Vrmn2rhVgeYKyZpq7A/wC7XKdx/ZcrlfPTl3C6WHi6gkZWwbDI4cdMABRfjybtz/8ABeymzYdTQ8qp7j5sdj+BXho9VR83QO9WH+QVzhwO2+UEOH1GfcnfiX9o1MpmGn1ZM8NjpqeV2eSWyW3WkZ/8Jpn5H1ZB+atlpwN2sz6LVWQfKaZ0bXFhPUJfxMaXxthyKp+btZf4C3/qNQp1/RyX/n5UKf40f4BY0svdxZzqD8QPzSO4ajn4f96rmMGPdGAoZS0N/uIAnnfAx3IEgE+gUltXZsyRomuUshIwfpDg/cN1zwxZJac2wGuq1LScfBE+eqfjIbGTz+K0XK8aiobYao5ttNJ7MYefbkPorMZa7Npq2zVT4oWRwN4nuI3cPAeap6qnvHaJq+npaBhe+V/dQQkYbFGdyXeWOfwXXDxlHbK4432ItP2a962v7KOi76rq3EccshLmRA/Wd0AVv3Gt0r2SWiagtobddWSwOjfO0Bzo3EEbkchudkm1hfKLsp04zSulHsfqCdnHX149+PPPfqcch0GFzz85Pq7twukdKS4ulkccl5PUnqrpci/2IdTE8EQdu53tE+J6n78pgT1qgn5VHnnw5/EpkC64fFEZ/JnqEITiAhCEACEIQAIQhAAhCEAejktkEr4Xh0buEjdagUEoe9GrWyWWu4irAa8/SYw4HkVavZ3rl9uEdpvErn0EpEbJesR6N9P5lUFDIY3cbdnN3BUttdb8sp8EjjGOJv2lDJBVsrGpqmdPRadozIJeJ5GeIYfkLTctQGDNPSRZdGeEudyUI7NNcwUlC22X2pETI9qed/L0Ph6qw6i00F0a2ogeCX7iSN/E0+Y8Vw5sEmrwnPKPF0R196uD3Z78sH6rQAtbrxcM/wBrkPphPEmlhxHhqifVi8Gln5z8qZjyZuvPfj+X9GDZBfLhHI0moc7G+HBSSyXF9fE8yxhmOoHNJ6XTtNE/inkfMfA7D7k8siiZEI2MaxjegGF2eJhzxd5GBnxN8ULDLEL0tfswR0VppKM8UMbS8j3iclLnZw1pBJwQFkOSadT3X5ksNZcXkcELMtb9p/T/AF5pYRjD4m1srDth1IaquZaaUnuKcB03BzdLnYfAb/FWFom2U3Zd2Z1+p7pHGbzWR/RsfvwB39WwDz3cfgq47HNOSaw19FLWt72hpX/Lat7uTjzaPiVMf0p7075wtNlG0cUT6uVreTnZ4WD4DKjKXKVHUlSOeNV3apqpppqmZ8tZVPMkr3Hd2T/rHlhM+n/auQz9kpJXzd9Uvf4uJ+HRZWuTu66N3nhdcYcYiqXuF2phiqj/AGUzKSali4mRv8Dj/X3qNlNj6MydsEIQmJghCEACEIQAIQhAAhCEACEIQAApTQ1Bp5mytOC0/eky8KxqzU6J5TTsqIO8Z7rhkDwTzYNSXGxTZtta4AD24X7tf5EKGacqdnU/IkeyfNbdQsMZjqIHOa4bZao8adHRyuJ0TpTtFtt3ayG5gW+udgbn6Nx8j09FOw4OGzg4HqORXGNuvTo3AVIDhyyrH0fry42YMZDIayi6wynkP1T+SGuPZGUE9o6HAwhMOmtU23UUGaKTgqMZdTuOHt/mPNPZd7Zzn4oW0RarTM0IQtMMm8wqv7bro5tHQW2MkGV7pnkdA3GP4qzxseLw/mFRfa1I6v1qKZoJLI4oWjzP/wCpJPRXDG2Xj+jdYRatCOuEseKi5SF+TzaxuQB+BPxVO/pLSl/aNcSc4ipWNGfDhz+a6q07Qx2jT9uoYgAKanjjIHiGgFctfpM0pj7QZpCMtqaKMj14cfkuXH8zoXZzq7mvWO4TkcwcolaWyOaeYKxXqLo532S52Ky2+b2/kok7YkHpspNpwn5KeIZ39lNF6pxBXODRhp3ClB7ZXItIb0IQqEQQhCABCEIAEIQgAQhCABCEIAEIQgDfQymCqik6BymFVGKijkH6uR6qEBTKzS8dDE48sYU8ipplse00Q57S1xHUHCUU1VLTvDo37jfB5FZXaPu7jO39ZJE/ZP4kttd6D5WOje6lqW7teHY38lcWke0zhZHSagDnNGGtq2jf0cPz8/Jc4tLmn2Tgp5t94MbWx1GXs5ZPMKcoV0MmpaZ1x/SS0/4lT/8AVQuWvnC1/wDEkQk9wenA6+6gqh75VNi7VBO8AtiuMJIPqFez5GxtLpDwtbvlc460mbJqq4vjeSe+4m4552//AIp5JfQYUdzlgOSw7ZwB6bfkqg/SF0PVahtVNdrVE6Wut7TxxN96SMnk3z5qw9B3dl90daLjG/i76naXftAYd+IKfXAEEHBH+uq4m+MrG+LPnJX2Zsz5JInd2/iOWOGOEgnZJKexSd40zSx8Hr/E9F3vqPs20rqOcz3OzwuqXnLpYS6Jx+I5pkpexrRNtlbV/NpkEXtltRO4sAG+SDzXXHyG1Rtp7OVKOwTM03U3eZrqW3RkQ073Nx30h+qw9RyJd0yFDtSvBnjY3fgHhuPL/Xqrb7a9aUl/vnc2prWWG2sdHSRxtDWvOcOcAOnT4KsKCDv5JK2VnHxk8LD1HLA/BUi69zN+Soi7xg4wR6heK8q7sY1aLbT10doiq2TMEnBG5veNBGQCDvyUIuulJrfK5txttZRubz44y3BVFnT0J6RBEKRy2OJw42T46fFJn2KfGWyNcPM7qnJMXgxlQl81qqozvET6JM+nmjPtRvHqFqZjVGlC94fXK8LSOa0UEI5IQAIQhAAhCEAejmpPpp3HQvZ9l38lFlJdL/2Sc+Dv5JZ9FMe3Qg1G3gr8+ITWBnx+5S6st0dZUNlle4NbzAGx+KW26xGpLRb7dJM4nYNj48/H8lNZFFDSx7tkHbE9/uNc74Lb8jnI3il/dVs0ug9SStBjstQ0Hxw0JSOzrVOci2Y/+Zv8Ev5EReMSnfkk/wDwZfuQrj/2ear/AMN/72oR+REKRcesKhjbeyFjsPkd058lQ+sGFt+nOQSQx2R6KT1uor3eJ3S0tuky4+y53tY+CiV6oa2neZ69hBe72nZ+suFOTy82JhdSLU7Au0em08X2G+z8FBK8PppnEfRP6td4A7brpWCspamJssNRDJGfaD43tLSPI+C+dk90dR1ckNQzjYDkEc8LdFf4GAhks7WnmN10S8a9nRKrO8tR6303YIJH3K70rHNaSI438bz6NG+Vzr2s9sVXqeCa22XvaGzcP0j3O4ZJx4E/VHkqOlvsbHkxNkkceRcUz11fUVTvpHYb9lowmx+PRNtC2urDcKmGniOIsgep8Vc3YLpMak1rC6pi7y321oqJWnk949xv35VJWFvFcYyentLsf9Fy3tj0dcK/DRJVVe7jzLWgYH3krc+lQ0ei52hvM/5f1f8AXL4LCanp6lhbUwwzeUrA8H4FbQPZ8+qAF5zkzCiP0j7Pp6z6SjqKSy0cN2qahscU8UYaWAbuOB5Llavu0lPWyxRxsLWHhBxvsuof0r5ZPk2nI2kiMzSE48cBclXeLu66QZJzvuu/xqktmybSHKK/dJIT6h2Uqiu1LJ75DfIsUVRkjkV1uCJ82S8vt1QOdO48txgrA2yik91oH7LsD7lEwT1z962Nmew+w5w+KXg/pm819okUmn43e5I4eWEnfp54HsTA+oTYy41TOU8noSlLL3VNGC5rh5hHGY3KBsdYqkdWH4rS6z1beUeUtpLvNPM1hiYOI8xspvo7T1VqnUFJZ6B7Yqick94/drA3c58kkpyh2MoQeytX26qB3gf8Ak80MkX9ZG5vqF0BrHsjvekrPU3Surba+niIA7kkE5PIA9VU+oOFtF9Kxhc47HqNuqaGXkK8aq0RNvRSfTQ4aSQ+LsqNKX2Zgjt8YIznB/j+WVuToXEvstvsi0dbr1TPut0a6dkUhY2B4HASADl3jz5eSuiCKGlj7umhiiY3YMY0NAHoon2UUclBoehLxh1TxTn0ccj8MKYZXlTbshmm3LRjgHc4B8kYbyxle9V44b5GdueOqVEw4B4IWf0n6n76FphW3zzWuLREBG36jI4xslWprENR6UlLoWsr+HvI3AAEvAPgpWaeAnJhjz443W0NB4eEO9nlk5wujD4soP3Sssns431HTueI5QDxM9h2fEc/xyo6rw7WtM/Nd5fPFHi3VvE9mPqu6j8M/FUzXUz6edzJAcDkfJd8HqislexKvQvEJxB2064Cuw73S0j78fyXX/6LVxbNpe5284MlPVd5j9V4H8iuMqGXuahj+YB3CvrsD1ONOa9hZUS93RXFvyV7icBpO7T94XL5CtFodHX7d2g78uqyxkc8LxmeEcWM+R/H48/itnReazSsu3jSkmpNEyOpAXVtA75REG83DB4m/EALiq/0RlZ8pia7ibhr2eH+uS+jko4tsDPiRkY8wufe2bsimmqJ79pKHiL8yVVA3m/9ePzHgujDk4m3qjkJwIOCCMLxSy52YPmeHNdTzDZ7HjBB8x0TNUWepj5N4x4gr0Y5FIm8bQ2IW51JO3nE/wDdWIhk5d2/7k5M1rJoyt0VFUSH2In48SNk922zua9r6ngcQchoOc+qWU1FDwi2ZaeonRB00o4eLYHHiuo/0ZdISU9LPqatjLTUt+T0rXD6mfaf8cY+Crjsi7NqzWVbHUVkUtPYYcl8pGBNv7rR4Lqutq6DTVhlnnfHS26ghDgAMANaNgFw5cnN0VelxKM/Sl1C6Sst2n6V49jNXUAfa3DB92VzHqapEkrIR/d8/L/QwpfrPUUt8vt0vNUXf7xKXtDug6AfDH3quKh5mldIfrb4XRgjSMk6jxMqKPvqqNn2ip7aKF1ZXU9FC3ikne2No88qNaeowQ6dxGMYwro7ErH8rvM11lZmGkHCwO5F55/hhZmloxLjGy66OnjpqOCCEYbExrAPIDb8MLZwrPb6ucePikF4u1vstK+qutSyCADqd3HwA6rzmm2ce5MWH2QScADqTw/iq07Qe0aK2Okttgd3twI4X1A92HxwfFRbW/aTV3gy0lrElHb3bF4OJJR4Z+qPJNGjtD1uoHMqZA+C2g5Mx9kPPQNHT1VseJ3s6MeFR9zGX5/un+L1X76Fcf8AsxsH/ISf9VC6PTiW5QJsg8ihCscg2anstPf7PPQVQb7W8b+rHfa+C5i1PY6imqqigrWllVTvIGebh0+/n8V1geh328lDu0DSDNS0bpqYtZc4mHuTw++Bvwn7/wAUrdMrGX0ckzxOikLXtLSOhWCm1+tMgqJYK2N0NVGeHDhgh2OSiNXTS00hbM0g/wAVZSs2UaE4+7zUosFU2eKOPdssXXPTxHnlRc7LbTSugla9hPEDy8USjaMjKjujsL1+zVVkFsuEjPnqja0SCTnMwbcXr0+CtTqc889V8+dOXyqp6qGvtk7qaup3cTHsOC0/mPJdT9mPbPbb5DFQakkjt914Q3vHHhimd4g9CfBebkxUXlG1yLiWLscuRPXOF4w8TQ7iBB3BacgjyXvXnlc9UIiJ6x7O9O6szJdbew1I2bUQZikH+bkfQ7Kp75+jscudYr2w4HsxVUf5g4/BdDZxshPGTRqbOR63sP1tSOIhgoqkeMU4/MBIf9kGuSDxWTfyqI8fxXYjgD038ViARzcD6p/WkNzOSLf2J6zqnBk9LSUUfV01R+PsEqztG9g9stssdTqKsdc5Bu2Bo4YR6/aV0nhwdgCPAZyofrbtBsOj4nfOVY2SqI+jo4TxyPPp0RzlIxtskw+R2mg5wUtFTt9n6rY2jnjwXLXbf2lHVta+1Wd8kdlpncQI/wDUSfax0aBlM3aV2nXfW0hinc+is7N20jHY4j04z1Pl6KorvdOPihp3ezyJAwPgrYsVuw+KNN6rvlEro4XfQtO3n5pLb6R9VUNaG5b1WFJTuqZhG3fPVS2ipo6Gn4RjI3Lsc12SaxqkJGLk7YstdA6oqaahomkzSvEbWjqV0tYaS2aO01TUlVUwU8cI4pXvcG5ceZ8z5eS5706bzHVfKLDBUuqOEhr4o8kemdsqV0+gNWXmo+UXafusgF0tZKXuH+Ubj+C5ZpyY2SKfZItUdrMEfewadi45M7VUo9n4NH8Tsq9hodR61r/lBFTWSE4MsmGxMHkTt15BWrp/s3slBIH1jXV9Q0Z+lP0efENU2hayGFscMbI2N2DWjATRx0JyjjWivtKdmlFbTFUXiT5dO3BEYHsNP5qww1o9ljWsYNmtaMABABzusuSpxIObkeYQvcoRxDZghCEwB1XoyHDHPptyXmOq8O6VmojGtNGUWo4OMNEFxYPYnZtxeTvJUNqTTtbaKqSkvFKW8R2eB7Dh4h35LqADYgdUludupbrSGluMTKiEjBDuY9PA+axRp2UjKuzju4WZzG8dO4PH2cpmkY5jsPBB8CMLonUfZZUQPfNYZu/i5ink9/HgHdVWd3tL6aZ0Fyo5IHdWytw4fFMslaZTgpbRB4JXwnijdwvHIp/ob1E9rWVI4JOXFjO/itdRYmvyaaTAH1S5Nk1rqos5jyB1anfGaM90WWxo7tG1FpsMba7s6SiaM9xOQ9h+HMK07N+kO9rWtvNi4nfWdSykf9pH5rk2N8sB2MjSPJLGXiqZgFzXjzCk8CH5p9naVH28aSnYTPDc6c/ZMHF+LSUpPbjozAPf1m3T5K5cWsv0jW7wN9Q5Zf0gPWH8VJ+MHKB2NU9vmkYmnuo7nMccmU4aPxIUbun6REG7bRYeI42fUzcOD5hudviuXHX442hb8Sk771OT9GxrT4hq1eMDcC5tUdr+rL5DJC64R0FM7Z0dE3uzj9sEuKrOsu0LXmSSaSeU7kn2nH1JUefNU1Z3MjjywAt8FmqZTlzOBv6x3VI4VHsxSvUTTXXCWrJ+qzOeEIt9umq3H2S1vVxTzR2mKmfxSDiPQ5Jx8Ap3pTRF2vzmyQwGio/+YmYRkfqjqmc1HUQcH3IidvoWRBkNIx0sz9gGjLnHwCsSwaCu9JNT1tztQr6XZxoxUcD/APMDsfRWXpbR9t03GXUjO+rCMGomb7R8ceHopGfZ9wHHnzU+9sSWZR9sSPUmo7XEBFUU1RbCBgsmp3NYPQ8sfyT3S1tPVRB9LUQzM5exJnZZlo4HB4a4O5hwyEyV9r09Njv4aeGX7dOe6cPixY8igRbdj/vn2Gr0+YwVDX265w+3YtQSThuwgqOGXb474SY6i1JanllwtNNUtHWBxjJ+HJL6sf2YTvOEZyoZT9odsJDbhBXUB5O7yEFrf8wT/QXq2XFoNvr6efPQPAJHoqxkpLQDohYYHg37whbxkB6hCEwAhCEACEIQB4R57dR96ontirPlmqzGx28ELYj67lXfcKmGhoaqsqdooIzI79kc1zBea19XV1dbM7L5XGR3qcpZdl8Q2WyeSWjkfI7i4SR9yTR3uBziJeJpz0Gyzsf9gJxjLyf4qMye8fFNGKbZScmkiXCopJhu+N3k4INHSSbiKM+hUO4nfBZNke33XEDyKb0v7F9VfaJU60UrjnusD9Urz5nox0co0Kqdow2V4HkVkK2oH99J+8s4S+mHOH6JK20UY+pn1KzFHQw84ow71UWdWTuG80n7y1Okc73iSfVHpy+2HqR/RLpKukpxjijb1wBukkt+hb/VMLz4kYUaySNivAfFN6SM9R/RNaCtbUMEsTiHt3OOYPRX12Y6uN8ohb7g9vznTsyOL+9Z1I8/5Lly3Vj6OYPYdjsfRTqz3SS31dHcaBxEsLg4+Y6j4qU4cWNfNHU4QklruEN0oaerp3hzZmB4I6eI+CVrDnqtM11cXf0kkQ2LhjPgoXPY69jy1jO8aOueanBO2FgGjqFz5vGjm7YrIZS2G4PlJ4e4aMEucd+al72MmgDJ+GbAAOW4W1oA5JLcG1DoSKTaV2BnyTYvHhijQEa1LZTEO8hijkgfzYRx4+Ch1TY7dVPLu7MMjeRiy0j4K32jjhYJAO8A9rPVM9ysFLUcT4Gd3K7oDs5cmfxJr34Waisf6Myf4lV/vlCmX9Har/lh+8hcvPyf2aTRCEL3hQQhCAPCvc4BQeSQ3apdBCGRf1r8gLG6NqyHdsl4NFpuOhifwzVj8Z8Gt3K57v07YonRh2C7YN8Ap12iVzq/UMrXv4mU3s48xv8AmqxmkdcLk1vQOwFkfds6F7IV+x9tLe7tsbfEZUTn/rn/ALRUyqD8mopXfYbhQzDnvHCMlx5J8e7ZuRcUkesYXuDWgknYY6pzo7NLIMykx74I6pyt9HFQQtmnwH4yXeCb7jeXyZZB7Dc+8Oq3k3pCqKSti0WWmbs+R2PN2ElrbRE2Nz6aUHhGS0uTQ+WR+7nuPqtZPT+CZJmOUX0eEYKEITEwQhCAPR5KR6cn7ynfC7Hskb+SjacrC7hr2D7QISzjaKY5Uzo3sRuwqKOstbiS6DEsWfsHY/wVmYyc/cqF7Iql9PrWFjDjvYnxk+gDvyV9E4PqMrniZl9rMsYCxKy6LE80y7IHgQhCYZAjmd+SEY6pWYzHgCFllCDAQhCY0EIwjCAPHe6Uz38fSQ9Ns58MYTzjdIb1Dx0RcNiw5SyNRzjqmnfDerlG8kZldhx653UctVvdRve+UZLh7KuvWFmtlTRT3C4RvbJFEcOa/HF4DHrlVHLL3TC+Q44Bkt8EilTo7MXuX/Bq1JP3cIiByX8/JINPw95UFx3DBnCQ185qKh0hGATkeiddOOx356kBWa4xJ3zmbtRymOIRg8zlRwp41Ln5WzP2UzpsfSFydsEIQnZMEIQgAQhCAAJfZxxV0XkcpAE+abizJJNnAYOH70s/iPDstLsniMut6dw/umyP/wCwhX85uC0HpgKqOw605FbdZW8JI+Tx+fLiP3EK2TtjHLGy5Yi5vdIwcMFeLInK8IVEKGcDCxHNe4SavrIaGLvJ3EDoBzKYXrYpdwgAuPoE1XO9QUQ4Y8Sz52AGwPmo1fNRPfE48baWm6kZyR8FFqOe53+pFNYYHdznElRKCAB4pZuguybf0lr/APhUv3IUf/2fXr/GkKXMOJaaEIVzQQhCwD0JHdf7DL6IQkYIrzW//lGu/wDbH/2VJXH+yTfsoQpr5I6sXxZCinzTnvz/ALI/ihC68nxJ4uzHU/8Aao/2UyBCEY/igyfJnqEITkwQhCABCEIAFJtMf2SVCEuTopj7OkOxb/yh/wDM7+DVPXe6hC5Yi5PkzWF6hCoiYD3gotrH+pZ+0hC0x9ED1N/4ZL6J87Gf7DN6IQpTCJZqEIWjn//Z">Z (225×225)</a><br><a href="https://www.sogou.com/">搜狗搜索引擎 - 上网从搜狗开始</a><br><a href="https://blog.csdn.net/weixin_30872733/article/details/96986491">运维配置环境—–中间件_weixin_30872733的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_36776608/article/details/108901732">weblogic12c静默安装&amp;Domain静默创建_哆啦超猛A的博客-CSDN博客_weblogic静默安装</a><br><a href="http://10.1.23.152:8737/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a><br><a href="https://www.pianshen.com/">程序员大本营</a><br><a href="https://www.oracle.com/database/technologies/jdbc-ucp-122-downloads.html">12.2.0.1 - JDBC and UCP Download Page</a><br><a href="https://repo1.maven.org/maven2/">Central Repository:</a><br><a href="https://www.cnblogs.com/651434092qq/p/12010985.html">Maven的pom文件依赖提示 ojdbc6 Missing artifact，需要手动下载并导入maven参考 - 咸咸海风 - 博客园</a><br><a href="https://www.toutiao.com/a6965676514872443403">6个能玩上一天的网站，摸鱼必备</a><br><a href="http://localhost:8080/#/musiclistdetail/6624650677/1629009832540">dance-music</a><br><a href="https://www.jianshu.com/p/d73c3de84321">sublime text 3211 注册码 - 简书</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=%E4%B8%AD%E5%8D%8E%E8%8B%8F%E7%BB%B4%E5%9F%83">‘中华苏维埃’的搜索结果_学习强国挑战答题_在线搜题答案查询</a><br><a href="https://www.cnblogs.com/wanglijun/p/8916790.html">Mysql 多表连接查询 inner join 和 outer join 的使用 - 王默默 - 博客园</a><br><a href="https://leetcode-cn.com/">力扣（LeetCode）官网 - 全球极客挚爱的技术成长平台</a><br><a href="file:///C:/Users/chris/AppData/Local/Temp/%E9%BB%84%E6%B2%B3%E4%BF%9D%E9%99%A9%E8%BD%A6%E5%9E%8B%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3v1.1.0.pdf-revHEAD.svn000.tmp.pdf">压力测试计划</a><br><a href="https://www.bejson.com/">在线JSON校验格式化工具（Be JSON）</a><br><a href="https://tieba.baidu.com/p/6458508546">联想电脑管家锁屏壁纸_联想吧_百度贴吧</a><br><a href="https://www.cnblogs.com/wyl-0120/p/14911253.html">PyCharm2021最新激活码激活方法，成功激活PyCharm永久激活 - 初一丶 - 博客园</a><br><a href="https://www.exception.site/essay/how-to-free-use-pycharm-2020">PyCharm 2021.2 激活码_安装教程_破解版下载 (亲测有用，永久激活，2021年7月4日更新~) - 异常教程</a><br><a href="https://www.cnblogs.com/carySir/p/9547107.html">数据库几种常见的driverClassName和url - 知更之始，博之于涵 - 博客园</a><br><a href="http://mybatis.org/generator/configreference/columnOverride.html">MyBatis Generator Core – The <columnOverride> Element</a><br><a href="https://www.fuyin99.com/play/523644.htm">如果在线试听_小羊诗歌_高音质歌曲_今日圣经网</a><br><a href="https://www.cnblogs.com/Marydon20170307/p/9453064.html">oracle tnsnames.ora文件用法说明 - Marydon - 博客园</a><br><a href="https://www.oracle.com/cn/database/technologies/oracle-database-software-downloads.html#19c">Database Software Downloads | Oracle 中国</a><br><a href="https://www.cnblogs.com/Samuel-Leung/p/13596002.html">全国省市区数据sql - Samuel-Leung - 博客园</a><br><a href="https://www.sakuradm.tv/vodplay/jinjidejurenzuizhongji-1-15.html">进击的巨人 最终季 第16集_视频高清在线观看_进击的巨人 最终季 - 樱花动漫</a><br><a href="https://www.bilibili.com/video/BV1Wx411R7qt?p=2">某马Angular 39(全) 学到这里就会感觉自己离大佬越来越近了 嘿嘿_哔哩哔哩_bilibili</a><br><a href="https://www.cnblogs.com/johnjackson/p/13129177.html">生成uuid - johnjackson - 博客园</a><br><a href="https://blog.csdn.net/my98800/article/details/78066910">(4条消息) Bootstrap实现图片弹出放大_技术资料收集站-CSDN博客_bootstrap 图片放大</a><br><a href="https://www.jb51.net/article/77416.htm">详解Bootstrap四种图片样式_javascript技巧_脚本之家</a><br><a href="https://www.icphoto.cn/">IC photo - 优质的视觉整合营销平台</a><br><a href="https://www.vivo.com/upgrade/detail?modelId=51&type=2">vivo-智能手机官方网站</a><br><a href="https://www.ybjk.com/">元贝驾考_元贝驾考2021科目一_元贝驾考2021科目四</a><br><a href="https://www.axihe.com/tools/webstorm/home.html">WebStorm 教程丨阿西河</a><br><a href="https://www.photopea.com/">Photopea | Online Photo Editor</a><br><a href="https://www.52pojie.cn/thread-1541202-1-1.html">全球收音机 MyRadio_1.0.90.1108 最新纯净版 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.52pojie.cn/thread-1537038-1-1.html">自用垃圾文件清除器 disk cleaner(已更新，可自行添加需删除的文件夹) - 『原创发布区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://yuanliao.info/d/356-1-1-4-bug-tmux">[插件][程序员手册 1.1.4] 兼容暗黑模式，修复收藏 bug，增加 tmux 文档 - 猿料</a><br><a href="http://blog.fondme.cn/apidoc/jdk-1.8-google/">Overview (Java Platform SE 8 )</a><br><a href="https://yuanliao.info/d/356-1-1-4-bug-tmux/27">[插件][程序员手册 1.1.4] 兼容暗黑模式，修复收藏 bug，增加 tmux 文档 - 猿料</a><br><a href="https://www.52pojie.cn/thread-1260484-1-1.html">用爬虫写的小说漫画网站（多线程，已上线） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://bdcraft.net/downloads/purebdcraft-minecraft/">PureBDcraft for Minecraft Java Edition - BDcraft.net</a><br><a href="https://www.curseforge.com/minecraft/texture-packs">Resource Packs - Minecraft - CurseForge</a><br><a href="https://www.curseforge.com/minecraft/texture-packs/faithfulplus/files/all">Files - The F+ [32x] - Resource Packs - Minecraft - CurseForge</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E4%BA%A4%E6%98%93">交易 - Minecraft Wiki，最详细的我的世界百科</a><br><a href="http://mc.163.com/20190918/31451_833410.html">交易 _ 《我的世界》中文Minecraft Wiki：最详细的官方我的世界百科</a><br><a href="https://www.jb51.net/article/76548.htm">javascript中Date format(js日期格式化)方法小结_javascript技巧_脚本之家</a><br><a href="https://www.gaojiufeng.cn/?id=523">如何打包uTools,uTools安装目录,uTools安装位置</a><br><a href="https://github.com/electron/electron/releases">Releases · electron&#x2F;electron</a><br><a href="https://www.52pojie.cn/thread-1260555-1-1.html">idea2020.1.2激活码时间到2089年（亲测可用） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.ixigua.com/6562025859396403716?id=6562026524898230792&logTag=80921d591d6e38679fa6">天下粮仓 第22集 - 电视剧 - 高清完整版在线观看 - 西瓜视频</a><br><a href="https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/org/springframework/orm/hibernate3/package-summary.html">org.springframework.orm.hibernate3</a><br><a href="http://blog.chinaunix.net/uid-27666459-id-3993688.html">Linux 下压缩与解压.zip和.rar及.7z文件-kowems-ChinaUnix博客</a><br><a href="https://bbs.3dmgame.com/thread-6069498-1-1.html">202105 城市天际线 1.13.3 Cities Skylines 萌新入门常用35功能模组 350精华MOD - 《城市：天际线》 - 3DMGAME论坛 - Powered by Discuz!</a><br><a href="https://www.52pojie.cn/home.php?mod=task&do=view&id=2">任务 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.zhihu.com/question/30030877/answer/768501967">(8 封私信) 为什么有些英语老师说语法几个小时就可以讲明白？ - 知乎</a><br><a href="https://www.52pojie.cn/search.php">搜索 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1iv411u7wJ?spm_id_from=333.999.0.0">全新版“框架篇”全家桶上线！Spring|SpringSecurity|SpringBoot|MVC|SpringCloud，架构原理-底层源码-面试突击！_哔哩哔哩_bilibili</a><br><a href="https://app.diagrams.net/">Untitled Diagram - diagrams.net</a><br><a href="https://www.52pojie.cn/forum.php?mod=viewthread&tid=1522090&highlight=%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CD%BC">流程图制作工具drawio v15.4.0 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1WZ4y1P7Bp?from=search&seid=14708921392841594503&spm_id_from=333.337.0.0">黑马程序员最全SSM框架教程|Spring+SpringMVC+MyBatis全套教程(spring+springmvc+mybatis)_哔哩哔哩_bilibili</a><br><a href="https://www.bilibili.com/video/BV1iv411u7wJ?p=2">全新版“框架篇”全家桶上线！Spring|SpringSecurity|SpringBoot|MVC|SpringCloud，架构原理-底层源码-面试突击！_哔哩哔哩_bilibili</a><br><a href="https://imgtu.com/">路过图床 - 免费图片上传, 专业图片外链, 免费公共图床</a><br><a href="https://blog.csdn.net/u014162133/article/details/109724200">Notion使用详解一基础教程_相见不如怀念-CSDN博客_notion使用教程</a><br><a href="https://sspai.com/post/57464/">想要玩转 Notion？你需要这份快速上手指南 - 少数派</a><br><a href="https://www.sohu.com/a/407491072_120006554">Win10 C盘突然爆满，怎么清理？史上较全的C盘清理方案，推荐收藏_文件</a><br><a href="https://www.cnblogs.com/chy18883701161/p/11108542.html">Spring jar包的下载 - chy_18883701161 - 博客园</a><br><a href="https://blog.csdn.net/weixin_34137799/article/details/85687953">Eclipse 一直提示 loading descriptor for 的解决方法_weixin_34137799的博客-CSDN博客</a><br><a href="https://blog.csdn.net/weboof/article/details/79067701">angularjs中使用ng-repeat的注意点_weboof的博客-CSDN博客_angularjs ng-repeat</a><br><a href="https://www.itab.link/">Home | iTab新标签页</a><br><a href="https://wannengrun.com/zh/">万能命令</a><br><a href="http://www.yinghuacd.com/">樱花动漫－专注动漫的门户网站</a><br><a href="https://greasyfork.org/zh-CN/scripts/">Greasy Fork</a><br><a href="chrome://dino/">Chrome恐龙小游戏</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.codeprj.com/blog/a463281.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 码上快乐</a><br><a href="https://www.cnblogs.com/evanc/p/10773288.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 玉折兰摧 - 博客园</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://zhuanlan.zhihu.com/p/47143191">.&#x2F;idea&#x2F;workspace.xml导致git合并失败 - 知乎</a><br><a href="https://segmentfault.com/a/1190000019075817?utm_source=tag-newest">解决Could not create the Java virtual machine - SegmentFault 思否</a><br><a href="https://www.jianshu.com/p/49fb78bca621">js 日期时间的格式化 - 简书</a><br><a href="http://momentjs.cn/">Moment.js 中文网</a><br><a href="https://www.cnblogs.com/conglingkaishi/p/15598687.html">FinalShell 离线激活工具 - HJ0101 - 博客园</a><br><a href="https://www.cnblogs.com/chenziyu/p/9754792.html">MyBatis的Mapper接口以及Example的实例函数及详解 - 晨子语 - 博客园</a><br><a href="http://tplogin.cn/">TL-WR842N</a><br><a href="https://blog.csdn.net/weixin_43434932/article/details/119595715?spm=1001.2014.3001.5501">Linux环境下weblogic的安装与配置_小可爱的书包的博客-CSDN博客_linux上安装weblogic</a><br><a href="https://www.cnblogs.com/shihuc/p/6761486.html">jersey2+freemarker+spring3的集成 - shihuc - 博客园</a><br><a href="http://www.javashuo.com/article/p-nmvgeeep-cm.html">spark 2.X 疑难问题汇总 - JavaShuo</a><br><a href="https://blog.csdn.net/u013628152/article/details/42126625?locationNum=4&fps=1">jersey2搭建流程_十五楼亮哥-CSDN博客</a><br><a href="https://stackoverflow.com/questions/19152655/java-lang-arrayindexoutofboundsexception-while-deploying-app-in-wls-12">weblogic - java.lang.ArrayIndexOutOfBoundsException while Deploying app in WLS 12 - Stack Overflow</a><br><a href="https://doocs.gitee.io/jvm/#/docs/01-jvm-memory-structure">首页 | JVM 底层原理最全知识总结</a><br><a href="https://mc-mods.org/">MC-Mods - Minecraft Mods, Shaders Mods &amp; X-Ray Mods</a><br><a href="https://www.fuyin99.com/">基督教赞美诗歌_赞美诗歌19118首_赞美诗歌大全_基督教歌曲大全_基督教歌曲 - 今日圣经网</a><br><a href="https://jingyan.baidu.com/article/95c9d20da2075eec4e7561ef.html">VirtualBox的四种网络连接方式详解-百度经验</a><br><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a><br><a href="https://minecraft-resourcepacks.com/faithful-64x64/">Faithful 64x64 1.16.3 &#x2F; 1.16.2 and lower - February 2022</a><br><a href="https://faithful.team/">Faithful</a><br><a href="https://www.aconvert.com/cn/ebook/">在线转换电子书文件</a><br><a href="https://blog.csdn.net/qq_35722899/article/details/89228930">office右键没有新建word，Visio等解决办法_独孤欢颜的博客-CSDN博客_鼠标右键新建没有visio</a><br><a href="https://www.cnblogs.com/shawWey/p/7368070.html">Weblogic-unable to get file lock, will retry …问题解决 - shawWey - 博客园</a><br><a href="https://www.cnblogs.com/xd502djj/archive/2011/03/01/1968041.html">Linux查看CPU和内存使用情况 - 茄子_2008 - 博客园</a><br><a href="https://www.jpxzm.com/2020/08/06/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8CSpirng%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%BA%A7%E5%88%AB/">事务隔离级别和Spirng事务传播级别 - 极品小芝麻</a><br><a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzA4MjIxODc5NA==&hid=1&sn=ca1933315b0f00c7c532050cdb459473&scene=1&devicetype=android-31&version=28001431&lang=zh_CN&nettype=WIFI&ascene=7&session_us=gh_2fa6987e609a&wx_header=3">https://mp.weixin.qq.com/mp/homepage?__biz&#x3D;MzA4MjIxODc5NA&#x3D;&#x3D;&amp;hid&#x3D;1&amp;sn&#x3D;ca1933315b0f00c7c532050cdb459473&amp;scene&#x3D;1&amp;devicetype&#x3D;android-31&amp;version&#x3D;28001431&amp;lang&#x3D;zh_CN&amp;nettype&#x3D;WIFI&amp;ascene&#x3D;7&amp;session_us&#x3D;gh_2fa6987e609a&amp;wx_header&#x3D;3</a><br><a href="https://www.wangeditor.com/">wangEditor - 轻量级 web 富文本编辑器</a><br><a href="http://www.51gjie.com/javaweb/956.html">Spring MVC中forward请求转发2种方式（带参数）</a><br><a href="https://www.cnblogs.com/xiaohi/p/15907083.html">Typora（morkdown编辑器）的下载和破解 - article - 博客园</a><br><a href="https://pixiviz.pwp.app/">Pixiviz</a><br><a href="https://jx.618g.com/?url=https://v.qq.com/x/cover/g6055xnwc815rrr/p00189kcnwz.html">hello树先生</a><br><a href="https://demo.unlock-music.dev/">音乐解锁</a><br><a href="https://docs.go-cqhttp.org/api/#%E5%8F%91%E9%80%81%E7%BE%A4%E6%B6%88%E6%81%AF">API | go-cqhttp 帮助中心</a><br><a href="https://blog.csdn.net/qq_44809707/article/details/119959864">QQ机器人制作教程，超详细_皮小孩ls的博客-CSDN博客_qq机器人制作</a><br><a href="https://blog.51cto.com/zhongmayisheng/4755624">IntelliJ IDEA2021.3 最新版本 免登陆注册 完美激活 免费教程_7557511的技术博客_51CTO博客</a><br><a href="https://optifine.cn/">OptiFine 中文网 - MINECRAFT 高清优化 MOD</a><br><a href="https://blog.csdn.net/wqc19920906/article/details/82193316">消息中间件（一）MQ详解及四大MQ比较_jcpp9527的博客-CSDN博客_消息中间件</a><br><a href="https://app.yinxiang.com/fx/6f84863c-dcf1-44d7-8e4a-44b10f91b705">java</a><br><a href="https://search.maven.org/">Maven Central Repository Search</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/116375749">Java基础知识点总结归纳，超级全面！（2021版）_Java程序员-张凯的博客-CSDN博客_java基础知识点</a><br><a href="https://blog.csdn.net/u011085172/article/details/81192700">wiki.js搭建自己的wiki_云中不知人的博客-CSDN博客_wiki.js</a><br><a href="https://zhuanlan.zhihu.com/p/335359081">wiki.js 使用 postgres 支持中文全文检索 - 知乎</a><br><a href="https://msdn.itellyou.cn/">MSDN, 我告诉你 - 做一个安静的工具站</a><br><a href="http://www.tampermonkeya.com/chrome/10.html">tampermonkey插件4.14 crx_chrome插件 - tampermonkey</a><br><a href="https://windows96.net/">Windows 96</a><br><a href="https://www.natfrp.com/user/">SakuraFrp</a><br><a href="https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-versions.html">MySQL :: MySQL Connector&#x2F;J 5.1 Developer Guide :: 2 Connector&#x2F;J Versions, and the MySQL and Java Versions They Require</a><br><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a><br><a href="https://gitee.com/wangxj2020/wangxj2020?_from=gitee_search">wangxj&#x2F;hexo</a><br><a href="https://www.mcbbs.net/thread-928713-1-1.html">[授权搬运][1.11-1.18][32x32]Faithful x32原版高清丨最经典的原版高清资源包！ - 纹理资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="http://wangxj2020.gitee.io/">φ(゜▽゜*)♪咦，又好了！</a></p><h1 id="Favorites-Bar"><a href="#Favorites-Bar" class="headerlink" title="Favorites_Bar"></a><em>Favorites_Bar</em></h1><p><a href="https://www.lookroot.cn/">lookroot的个人空间</a><br><a href="https://www.toutiao.com/i6901155288209064459/?tt_from=weixin&utm_campaign=client_share&wxshare_count=1&timestamp=1606991945&app=news_article&utm_source=weixin&utm_medium=toutiao_android&use_new_style=1&req_id=202012031839050102020551490A0136D2&group_id=6901155288209064459">Python实现发送定时天气预报至邮箱+每日一句，贴心吗？</a><br><a href="https://www.bilibili.com/bangumi/play/ss4452">刀剑神域：第13话_番剧_bilibili_哔哩哔哩</a><br><a href="http://www.wjjsoft.com/mybase_cn.html#markdown">myBase 知识管理软件, 自由格式数据库, 笔记软件以及个人信息管理系统</a><br><a href="https://www.runoob.com/w3cnote/python-pip-install-usage.html">Python pip 安装与使用 | 菜鸟教程</a><br><a href="http://xinzhi.wenda.so.com/a/1520407242205442">win10系统C:\Documents and Settings找不到问题_360新知</a><br><a href="https://support.microsoft.com/zh-cn/office/%E4%BB%8E-pc-%E5%8D%B8%E8%BD%BD-office-9dd49b83-264a-477a-8fcc-2fdf5dbf61d8">从 PC 卸载 Office - Office 支持</a><br><a href="https://answers.microsoft.com/zh-hans/msoffice/forum/msoffice_install-mso_win10-mso_365hp/office%e6%89%80%e6%9c%89%e7%9a%84%e8%bd%af/0c8a47a7-d25f-4934-9755-10315ebe6050">OFFICE所有的软件都打不开 - Microsoft Community</a><br><a href="https://blog.csdn.net/document_dom/article/details/103995457?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-1.control">(1条消息) L2Dwidget 添加动漫人物，点击出现文字向上渐变隐藏，鼠标滑动出现气泡_haogemr的博客-CSDN博客</a><br><a href="https://blog.90.vc/archives/475">浏览器提示“你的连接不是专用连接”无法使用解决方案 - 安安</a><br><a href="https://www.agefans.net/play/20130023?playid=2_3">进击的巨人 第03话 [BD-1080P][CHS] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://blog.csdn.net/ahhsxy/article/details/6869150">weblogic.security.SecurityInitializationException: Authentication denied: Boot.properties_萧逸闲侃-CSDN博客</a><br><a href="https://www.cnblogs.com/ibigboy/p/11729080.html">weblogic启动服务器Authentication denied: Boot identity not valid - 问北 - 博客园</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>edge</title>
    <link href="/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/edge/"/>
    <url>/2022/09/10/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%B6%E8%97%8F%E5%A4%B9/edge/</url>
    
    <content type="html"><![CDATA[<h1 id="收藏夹栏-edge"><a href="#收藏夹栏-edge" class="headerlink" title="收藏夹栏 edge"></a>收藏夹栏 edge</h1><p><a href="https://www.google.com.hk/">Google</a><br><a href="http://www.zhangsubao.com/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="https://www.baidu.com/">百度一下，你就知道</a><br><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.agefans.net/">在线动画 动漫下载 - AGE动漫</a><br><a href="http://47.97.216.233:8080/">学习小助手</a><br><a href="http://172.81.205.2:8080/">学习小助手(备份)</a><br><a href="file:///E:/Demo/shubao/index.html">书包网</a><br><a href="https://www.agefans.net/play/20190083?playid=3_7">进击的巨人 第三季 Part.2 第19集 -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://github.com/Chris-z-su?tab=stars">Your Stars</a><br><a href="https://console.cloud.tencent.com/cvm/instance/index?rid=8">实例 - 云服务器 - 控制台</a><br><a href="https://www.xuexi.cn/">学习强国</a><br><a href="https://www.ixigua.com/">西瓜视频 - 高清免费在线视频 - 给你新鲜好看</a><br><a href="https://translate.google.cn/">Google 翻译</a><br><a href="https://www.eggvod.cn/jx.php?lrspm=2821676886&zhm_jx=https://v.youku.com/v_show/id_XMTI1NzY1ODI0.html?from=y1.6-97.3.1.cbffee00962411de83b1">蛋蛋VIP视频全网解析</a><br><a href="http://tool.liumingye.cn/music/?page=homePage">首页 - MYFREEMP3</a><br><a href="http://lab.liumingye.cn/">全网影片搜索 - MyFreeMP4</a><br><a href="https://developer.hitokoto.cn/sentence/demo/#javascript">使用示例 | 一言开发者中心</a><br><a href="https://www.runoob.com/bootstrap/bootstrap-tutorial.html">Bootstrap 教程 | 菜鸟教程</a><br><a href="https://zh.moegirl.org.cn/Mainpage">萌娘百科 万物皆可萌的百科全书 - zh.moegirl.org.cn</a><br><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://juejin.im/post/6844903566302248974">IntelliJ IDEA 快捷键说明大全（中英对照、带图示详解） - 掘金</a><br><a href="https://www.icourse163.org/">中国大学MOOC(慕课)_国家精品课程在线学习平台</a><br><a href="https://www.meijuxq.com/">美剧星球 - 爱美剧英剧推荐_美剧在线观看_美剧迷的美剧天堂</a><br><a href="https://www.agefans.cc/">agefans.cc</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.bilibili.com/video/BV1Db411s7F5?p=6">Mybatis教程IDEA版-4天-2018黑马SSM-01_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://github.com/gzhjic/LearnChinaHelper">gzhjic&#x2F;LearnChinaHelper: 基于Autojs的增量式开发安卓脚本应用软件——强国助手（以学习强国应用实战开发）</a><br><a href="https://github.com/ztianming/xuexi.cn">ztianming&#x2F;xuexi.cn: 学习强国 挑战答题 题库，⭐⭐⭐⭐⭐更新至2166题⭐⭐⭐⭐⭐ 仅供学习交流，欢迎大家补充、完善。</a><br><a href="https://github.com/ivanwhaf/xxqg-helper">ivanwhaf&#x2F;xxqg-helper: ✏️Auto.js xxqg-helper, Article and Video, Collecting, Sharing, Comment, ChallengeQuestion, DailyQuestion, 仅限Android系统, 需下载Auto.js</a><br><a href="https://www.qiuquba.com/">球趣吧_NBA直播吧_足球直播_篮球直播_英超直播_欧洲杯直播_体育直播_飞速360直播</a><br><a href="https://blog.csdn.net/lipinganq/article/details/78081300">(1条消息) POI Excel行高设置_李平安-CSDN博客</a><br><a href="https://blog.csdn.net/michealwwx/article/details/77461463">POI打印详细_michealwwx的博客-CSDN博客</a><br><a href="https://www.coder.work/article/3588961">java - 使用Apache-POI隐藏所有其他excel列 - IT工具网</a><br><a href="https://blog.csdn.net/qq_37059838/article/details/88539577">apache-poi之Excel使用API_吕小小布的博客-CSDN博客</a><br><a href="https://www.lanzous.com/b394531/">HWIDGen</a><br><a href="https://www.win10gw.com/win10xiazai/2.html#">Win10永久激活工具 HWIDGen v10.24 - 老王系统,www.win10gw.com</a><br><a href="https://www.huya.com/688#">张大仙直播_虎牙688张大仙官方直播间_张大仙视频直播_虎牙直播</a><br><a href="https://www.bilibili.com/video/BV1D7411y7GK?p=50">【尚学堂】Spring Boot 2020最新版_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.9game.cn/news/2610861.html">《忍者必须死3》套装火遁套装的效果是 老板娘答案_九游手机游戏</a><br><a href="https://haokan.baidu.com/">好看视频_海量高清短视频APP</a><br><a href="https://kurukurumi.tk/">KuruKuruMi~</a><br><a href="https://www.chunkbase.com/apps/slime-finder#-3196787002977958780">Slime Finder - Minecraft App</a><br><a href="http://www.qimiaozhenxiang.com/">奇妙真相-视频</a><br><a href="http://www.qimiaozhenxiang.com/vdetail.aspx?id=297">奇妙真相</a><br><a href="https://tech.souyunku.com/?p=30970">IntelliJ IDEA2020.3.1破解,IDEA2020.3.1注册码,2020.3.1破解教程-搜云库</a><br><a href="https://www.programmer-box.com/">程序员大礼包</a><br><a href="https://www.cnblogs.com/forwrader/p/10541699.html">springboot templates目录下的页面文件访问不到 static 目录下的 jq 文件 - VimKeyLin - 博客园</a><br><a href="http://www.chinaso.com/">中国搜索-国家权威搜索引擎</a><br><a href="https://www.bilibili.com/video/BV1fE41157PV">java初级总复习(2小时带你复习所有java知识)_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://www.kejudati.com/jushow/5f49cf39e4d33.html">无法舍弃任何东西的人，也就无法改变任何事情。 如果有必要的话</a><br><a href="https://www.agefans.net/detail/20200004">进击的巨人 最终季 720P&#x2F;1080P 百度网盘 - AGE动漫</a><br><a href="http://www.huakuu.com/play/3013-1-1.html">进击的巨人OAD:伊尔泽的笔记在线播放BD日语中字 - 华酷影视</a><br><a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualization</a><br><a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">Red&#x2F;Black Tree Visualization</a><br><a href="https://www.zhihu.com/question/20596402">Mysql 中 MyISAM 和 InnoDB 的区别有哪些？ - 知乎</a><br><a href="https://blog.csdn.net/weixin_39714565/article/details/110863839">(1条消息) mysql 创建表_MySql 数据库文件介绍和存放位置，以及如何修改默认存放位置？_weixin_39714565的博客-CSDN博客</a><br><a href="https://www.agefans.net/play/20200004?playid=2_4">进击的巨人 最终季 第04话 [GB][1080P][x264_AAC] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://tv.cctv.com/2010/03/19/VIDE1355589210095392.shtml">《大国崛起》 第一集 海洋时代</a><br><a href="https://yun.vivo.com.cn/#/home">vivo云服务</a><br><a href="https://blog.csdn.net/hui_3_6/article/details/81282609">(7条消息) JavaScript返回到上一页的三种方法_飘雪的博客-CSDN博客_js返回上一个页面</a><br><a href="https://blog.csdn.net/weinierzui/article/details/40116877">(5条消息) hibernate在myeclipse 中的配置_weinierzui的专栏-CSDN博客</a><br><a href="https://www.mcbbs.net/index.php">Minecraft(我的世界)中文论坛——Minecraft中文站,我的世界中文论坛,我的世界论坛 -</a><br><a href="https://blog.csdn.net/zflovecf/article/details/80838874">(1条消息) 修改weblogic域的jdk_一切从零开始-CSDN博客</a><br><a href="https://www.cnblogs.com/zhuyeshen/p/11436425.html">Linux中查看jdk版本 - 那些年的代码 - 博客园</a><br><a href="https://www.2cto.com/">红黑联盟（2cto.com)_IT技术门户、技术安全资讯、网络安全、黑客防御、信息安全、编程开发、系统知识</a><br><a href="https://www.linuxcool.com/">Linux命令大全(手册) – 真正好用的Linux命令在线查询网站</a><br><a href="http://169.254.48.183:7001/console">169.254.48.183</a><br><a href="https://mkyong.com/web-development/the-web-xml-deployment-descriptor-examples/">web.xml deployment descriptor examples - Mkyong.com</a><br><a href="https://blog.csdn.net/weixin_34137799/article/details/85687953?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~searchFromBaidu~default-1.pc_relevant_baidujshouduan&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~searchFromBaidu~default-1.pc_relevant_baidujshouduan">(3条消息) Eclipse 一直提示 loading descriptor for 的解决方法_weixin_34137799的博客-CSDN博客</a><br><a href="https://spring.io/projects/spring-boot">Spring Boot</a><br><a href="http://superproxy.github.io/docs/nginx/index.html">Nginx实践</a><br><a href="https://mvnrepository.com/">Maven Repository: Search&#x2F;Browse&#x2F;Explore</a><br><a href="https://app.diagrams.net/#HChris-z-su%2Fwollo%2Fmain%2Fstudy%2FSpring%E5%AD%A6%E4%B9%A0.drawio">Spring学习.drawio - diagrams.net</a><br><a href="https://sm.ms/">Simple Free Image Hosting - SM.MS - Simple Free Image Hosting</a><br><a href="https://schelleyyuki.com/">SchelleyYuki官网</a><br><a href="http://www.syiban.com/">学习强国挑战答题_在线搜题答案查询</a><br><a href="https://chris-z-su.github.io/">a dark room</a><br><a href="https://www.toutiao.com/">今日头条</a><br><a href="https://www.52pojie.cn/">吾爱破解 - LCG - LSG|安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.ixigua.com/">西瓜视频 - 高清免费在线视频 - 点亮对生活的好奇心</a><br><a href="https://www.imooc.com/learn/464">Struts2入门教程-慕课网</a><br><a href="https://linmi.cc/">Linmi - 探索未知，迭代新知，沉淀认知。</a><br><a href="https://wallhere.com/">世界著名的壁纸网站 电脑桌面壁纸 - WallHere 壁纸库</a><br><a href="https://limestart.cn/">青柠起始页</a><br><a href="https://blog.csdn.net/zitian886/article/details/51733699">AngularJS数组操作_紫天专栏-CSDN博客_angular 数组操作</a><br><a href="http://www.acfun.cn/">AcFun弹幕视频网 - 认真你就输啦 (・ω・)ノ- ( ゜- ゜)つロ</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.christapps.net/">精读圣经诗歌本官网</a><br><a href="https://cloud.tencent.com/developer/ask/172715">如何比较jaxrs-api 、jsr 311-api 和 javax.ws.rs-api、jersey-core？ - 问答 - 云+社区 - 腾讯云</a><br><a href="https://blog.csdn.net/dnc8371/article/details/106704825">实施Jersey 2 Spring集成_最佳 Java 编程-CSDN博客</a><br><a href="https://chris-z-su.github.io/">chris-z-su</a><br><a href="https://chris-z-su.github.io/index.html">chris-z-su.github.io</a><br><a href="https://kaifa.baidu.com/">开发者搜索-Beta-让技术搜索更简单高效</a><br><a href="https://www.meiye.art/">美叶- 优质灵感辑录</a><br><a href="https://www.notion.so/zhangsubao/Spring-e77f3334f15b479098a20269a7fc9da6">Notion-Spring基础知识</a><br><a href="https://www.notion.so/">Notion – The all-in-one workspace for your notes, tasks, wikis, and databases.</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=123">学习强国挑战答题</a><br><a href="https://note.youdao.com/ynoteshare/index.html?id=99fab1091bb2c6bdd0a13b5876e6162b&type=note&_time=1641094211786">有道云笔记</a><br><a href="https://www.ruankao.org.cn/introduction/zgsz">中国计算机技术职业资格网</a><br><a href="https://www.bilibili.com/video/BV1yW41167FL">计算机技术与软件专业技术资格（水平）考试。计算机软件。初级资格。程序员。软考。_哔哩哔哩_bilibili</a><br><a href="https://www.ixigua.com/?wid_try=1">西瓜视频 - 高清免费在线视频 - 点亮对生活的好奇心</a><br><a href="https://github.com/penpot/penpot">GitHub - penpot&#x2F;penpot: Penpot - The Open-Source design &amp; prototyping platform</a><br><a href="https://chinesewithjen.notion.site/chinesewithjen/08af8ffe57314fbdaef839924466be68">小简的秘密基地</a><br><a href="https://github.com/miaomiaosoft/PandaOCR">GitHub - miaomiaosoft&#x2F;PandaOCR: PandaOCR - 多功能OCR图文识别+翻译+朗读+弹窗+公式+表格+图床+搜图+二维码</a><br><a href="https://chris-z-su.github.io/index.html">Site not found · GitHub Pages</a><br><a href="https://chris-z-su.github.io/chris-z-su/index.html">Site not found · GitHub Pages</a><br><a href="https://m.gaoding.com/home/recommend?hmsr=zhongcao-gd_zh_dyhfn-home--syzc-dyhfn-bdqd&utm_medium=&utm_source=zhongcao">稿定设计-做图做视频必备_在线设计神器_海量模板免费用</a><br><a href="https://petalsearch.com/">403 Forbidden</a><br><a href="https://www.sakuradm.tv/">樱花动漫－专注好看的动漫大全门户网站</a><br><a href="https://r2coding.com/#/">Road 2 Coding</a><br><a href="https://www.bilibili.com/video/BV1sp4y197uX?spm_id_from=333.851.b_62696c695f7265706f72745f646f756761.30">【如何做到连续学习10+小时】从早学到晚的秘籍|长时间专注|纯干货|不看后悔系列_哔哩哔哩_bilibili</a><br><a href="https://shimo.im/docs/PKWDTYw8krpJTHQP/read">2021激活IDEA方法无限重置IDEA试用</a><br><a href="http://www.springframework.org/schema/beans/">Index of &#x2F;schema&#x2F;beans</a><br><a href="https://www.cnblogs.com/knowledgesea/p/11158412.html">Java JDK和IntelliJ IDEA 配置及安装 - 张龙豪 - 博客园</a><br><a href="https://www.cnblogs.com/guochunyang2004/p/8629437.html">idea新建maven项目没有src目录 - 果然如此 - 博客园</a><br><a href="http://iphil.cc/?p=536">aria2 windows配置教程 |</a><br><a href="https://blog.csdn.net/qq_44173974/article/details/107943829">借助Bilibili Evolved和aria2批量下载b站视频_可乐大牛的博客-CSDN博客_aria2 bilibili</a><br><a href="https://github.com/the1812/Bilibili-Evolved">GitHub - the1812&#x2F;Bilibili-Evolved: 强大的哔哩哔哩增强脚本</a><br><a href="https://github.com/521xueweihan/GitHub520">521xueweihan&#x2F;GitHub520: 让你“爱”上 GitHub，解决访问时图裂、加载慢的问题。（无需安装）</a><br><a href="https://github.com/iptv-org/iptv/blob/master/README.md">iptv&#x2F;README.md at master · iptv-org&#x2F;iptv</a><br><a href="https://disease.sh/">disease.sh</a><br><a href="https://www.notion.so/zhangsubao/Spring-f12b72060f804e4da54afa0467d58671">Spring学习</a><br><a href="https://developer.hitokoto.cn/">一言开发者中心</a><br><a href="https://www.agemys.com/">在线动画 动漫下载 - AGE动漫</a><br><a href="https://cloud.tencent.com/developer/ask/sof/255826">resize2fs:尝试打开超级块时出现错误的幻数 - 问答 - 云+社区 - 腾讯云</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E8%9C%82%E5%B7%A2">蜂巢 - Minecraft Wiki，最详细的我的世界百科</a><br><a href="https://www.mcmod.cn/post/1308.html">投影详细教学 - 投影 (Litematica) - MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://azure.microsoft.com/zh-cn/services/cognitive-services/text-to-speech/?Voice">文本转语音 – 真实 AI 语音生成器 | Microsoft Azure</a><br><a href="https://www.mcbbs.net/thread-1329343-1-1.html">把村民养在末地有什么作用？ - 原版问答 - Minecraft(我的世界)中文论坛 -</a><br><a href="http://game.youzu.com/play?type=web&gameId=193&serverId=2466310333">三十六计-【雄心】330区</a><br><a href="https://mail.163.com/js6/main.jsp?sid=XAwxQqYvggaEDkEoIYvvTfhbxeenAndo&df=webmail">网易邮箱6.0版</a><br><a href="https://weread.qq.com/web/reader/05e329405e3dd605ee04ceckd9632c903101d96409bf8dc">龙族（1-4合集）-江南-微信读书</a><br><a href="https://v.qq.com/x/page/b0328dmgz3e.html">晋剧谢涛专辑_腾讯视频</a><br><a href="read://https//github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E5%9F%BA%E7%A1%80.md">CyC2018&#x2F;CS-Notes</a><br><a href="https://quark.sm.cn/">神马搜索</a><br><a href="https://hao.su/2217/">全网免费音乐搜索汇总 - 不死鸟 - 分享为王</a><br><a href="https://tool.liumingye.cn/music/unlock-music/">音乐解锁 - By IXarea</a><br><a href="https://www.bilibili.com/video/BV1uE411g77R?p=2">【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cloudbed.vip/index.html">云床</a><br><a href="http://www.zhangsubao.com/img/SuSkAlJbO.png">SuSkAlJbO.png (683×1919)</a><br><a href="https://www.epicgames.com/store/zh-CN/">Epic Games Store | Official Site</a><br><a href="https://www.cnblogs.com/puresoul/archive/2010/07/08/1773871.html">Oracle多表连接查询 - 贺满 - 博客园</a><br><a href="http://chromedriver.storage.googleapis.com/index.html">chromedriver.storage.googleapis.com&#x2F;index.html</a><br><a href="http://job.hrss.tj.gov.cn/rsrc/tjwb/mainframe/login3.html">天津人事人才网上申报系统</a><br><a href="https://ncov2019.live/">Coronavirus Dashboard</a><br><a href="https://www.douban.com/note/774966429/?from=author">借助 potplayer 播放器，在本地播放b站视频也能看弹幕了</a><br><a href="https://y.qq.com/n/yqq/playlist/907303766.html">我喜欢–QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="https://y.qq.com/portal/profile.html#sub=other&tab=create&stat=y_new.top.pop.user_pic">我的音乐 - QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="https://y.qq.com/n/yqq/playlist/7647189768.html">◤◣–QQ音乐-千万正版音乐海量无损曲库新歌热歌天天畅听的高品质音乐平台！</a><br><a href="http://ehr.trans-cosmos.com.cn/">ehr.trans-cosmos.com.cn</a><br><a href="http://cn.voidcc.com/question/p-dzzhcngh-va.html">使用apache poi在excel文件中设置页面视图模式 - VoidCC</a><br><a href="https://suulnnka.github.io/BullshitGenerator/index.html">狗屁不通文章生成器</a><br><a href="https://www.ithome.com/html/win10/171167.htm">如何清除 Win10 账户头像设置记录，恢复默认头像？ - Win10系统,Win10正式版 - IT之家</a><br><a href="https://minecraft-zh.gamepedia.com/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2">调试界面 - Minecraft Wiki，最详细的官方我的世界百科</a><br><a href="file:///C:/Users/Chris/Desktop/%E5%A2%9E%E5%80%BC%E7%A8%8E%E7%BA%B3%E7%A8%8E%E7%94%B3%E6%8A%A5%E8%A1%A8%E9%99%84%E5%88%97%E8%B5%84%E6%96%99(%E8%A1%A8%E4%B8%89)--%E6%89%93%E5%8D%B01.html">增值税纳税申报表附列资料(表三)–打印</a><br><a href="https://minecraft-zh.gamepedia.com/Minecraft_Wiki">中文Minecraft Wiki - 最详细的官方我的世界百科</a><br><a href="https://gzhaha.gitbooks.io/mybase-desktop-7-x-user-manual-cn/content/chapter16.html">故障排除 | myBase Desktop 7.x 用户手册</a><br><a href="https://signal.org/download/">Signal &gt;&gt; Download Signal</a><br><a href="https://m.aigei.com/">爱给网_音效配乐_3D模型_视频素材_游戏素材_免费下载</a></p><h1 id="working"><a href="#working" class="headerlink" title="working"></a>working</h1><p><a href="http://10.1.25.93/zentao/user-login.html">用户登录 - 禅道</a><br><a href="http://10.1.3.94/zentao/my/">我的地盘 - 禅道</a><br><a href="http://127.0.0.1:8080/#/dashboard">中科软极速出单系统</a><br><a href="http://10.1.23.201:8081/cxcbapp/app/#/dashboard">中科软极速出单系统</a><br><a href="https://ai.ccint.com/doc/">文档中心 - 合合AI开放平台 - 专业可靠的计算机视觉和机器学习服务平台</a><br><a href="https://ai.ccint.com/doc/sample-code?service=text_recognize_3d1#java">API接入示例代码 - 合合AI开放平台 - 专业可靠的计算机视觉和机器学习服务平台</a><br><a href="https://www.bejson.com/convert/unicode_chinese/">在线unicode转中文,中文转unicode-BeJSON.com</a><br><a href="https://www.bejson.com/xml2json/">在线XML转JSON,JSON转XML-BeJSON.com</a><br><a href="https://tool.oschina.net/codeformat/xml">在线代码格式化</a><br><a href="http://redisdoc.com/">Redis 命令参考 — Redis 命令参考</a><br><a href="https://www.json.cn/">JSON在线解析及格式化验证 - JSON.cn</a><br><a href="file:///E:/htmldemo/uchuu-main/src/SocialCreditCode/dist/index.html">统一社会信用代码生成</a><br><a href="http://10.1.22.145/#/charts/statistics">middleground</a><br><a href="http://10.1.23.152:7301/console/console.portal?_nfpb=true">主页 - pics_domain - WLS 控制台</a><br><a href="http://10.1.23.146:7401/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - iLog_domain - WLS 控制台</a><br><a href="http://10.1.23.153:7202/console/console.portal?_nfpb=true">主页 - trans_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7202/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - vechcore_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7201/console/console.portal?_nfpb=true&_pageLabel=HomePage1">主页 - cpi_domain - WLS 控制台</a><br><a href="http://10.1.23.150:7101/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a><br><a href="https://mail.sinosoft.com.cn/">中科软科技股份有限公司</a><br><a href="https://sems.sinosoft.com.cn/ecs/index">费用报销管理系统</a><br><a href="http://cxkscdqd.ypic.cn/cxcbapp/app/#/dashboard">中科软极速出单系统(生产)</a><br><a href="http://10.2.66.188:7001/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a></p><h1 id="收藏夹"><a href="#收藏夹" class="headerlink" title="收藏夹"></a>收藏夹</h1><p><a href="https://www.zhihu.com/question/48219401/answer/742444326">(1 封私信) 你是如何学会正则表达式的？ - 知乎</a><br><a href="https://blog.csdn.net/u010018421/article/details/52833346">(1条消息) 解析request.getInputStream()_希望1992的博客-CSDN博客</a><br><a href="https://blog.csdn.net/eacxzm/article/details/81434015">(1条消息) 内网通怎么获得无限积分_eacxzm的博客-CSDN博客_内网通积分码</a><br><a href="https://blog.csdn.net/qq_21747411/article/details/84230234">(1条消息) 实习日志–weblogic项目的部署记录_MarkLuoBo的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86699263">(1条消息) Java面试题及答案2019版（下）_Java笔记-CSDN博客_java面试题</a><br><a href="https://blog.csdn.net/czh500/article/details/88202971">(1条消息) java中PreparedStatement和Statement详细讲解_冷囧囧-CSDN博客_preparedstatement</a><br><a href="https://blog.csdn.net/qyf_5445/article/details/8156178?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-9&spm=1001.2101.3001.4242">(1条消息) myeclipse的启动配置文件myeclipse.ini的认识_程序员专栏-CSDN博客</a><br><a href="https://blog.csdn.net/fjkxyl/article/details/66970197">(1条消息) Spring @RequestParam注解详解_fjkxyl的博客-CSDN博客</a><br><a href="https://blog.csdn.net/sinat_36277898/article/details/85392033">(1条消息) web项目web.xml的配置中 context-param 配置作用_做一只强悍的蜜獾-CSDN博客</a><br><a href="https://blog.csdn.net/Ee01114295/article/details/90444995">(1条消息) weblogic10.3.1.0安装（windows版）_Ee01114295的博客-CSDN博客</a><br><a href="https://blog.csdn.net/justry_deng/article/details/82259470">(2条消息) TortoiseSVN打分支、合并分支、切换分支_JustryDeng-CSDN博客_svn分支</a><br><a href="https://blog.csdn.net/qq_39856931/article/details/104956734">(4条消息) 解决Github头像不显示问题_杨小浩浩的博客-CSDN博客_github头像不显示</a><br><a href="https://blog.csdn.net/yulungggg/article/details/68206635">(4条消息) myeclipse 断点调试技巧_yulungggg的博客-CSDN博客</a><br><a href="https://blog.csdn.net/WPwalter/article/details/100156730">(8条消息) Windows 10 解决无法完整下载安装语言包（日语输入法无法下载使用）_walterlv - 吕毅-CSDN博客</a><br><a href="https://www.mcbbs.net/thread-823957-1-1.html">【1.13.x~1.17.x | 16x】XeKr的方纹淡彩+红石显示+护眼 - 材质资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="https://www.bilibili.com/video/BV1uE411g77R">【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://c.tieba.baidu.com/p/6202705789?pn=4">【图片】回复：忍三答题攻略贴【忍者必须死3吧】_百度贴吧</a><br><a href="https://www.bilibili.com/video/av59706245/">【minecraft】1.14版本超简单上下界基岩上层方法_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://cl.ihxoi.com/archives/61489649.html">1024</a><br><a href="http://192.168.40.128:8090/">192.168.40.128</a><br><a href="https://zhuanlan.zhihu.com/p/62322155">2019年Web前端最新导航（常见前端框架、前端大牛） - 知乎</a><br><a href="https://zhuanlan.zhihu.com/p/341604625">2021学生党蓝牙耳机推荐，适合学生党购买的蓝牙耳机都在这（1月更新） - 知乎</a><br><a href="https://51kdy.org/">51看电影</a><br><a href="http://www.baidu.com/">百度</a><br><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cnblogs.com/">博客园 - 开发者的网上家园</a><br><a href="https://segmentfault.com/a/1190000022777009">超详细！4小时开发一个SpringBoot+vue前后端分离博客项目！！_个人文章 - SegmentFault 思否</a><br><a href="https://www.52pojie.cn/thread-1133711-1-1.html">打造自己的私人知识宝库利器——mybase 7.3.5 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.eggvod.cn/jx.php?lrspm=28217866&zhm_jx=https://v.qq.com/x/cover/f0v4o87jx2safyg/e00264svqua.html">蛋蛋VIP视频全网解析</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E8%B0%83%E8%AF%95%E7%95%8C%E9%9D%A2">调试界面 - Minecraft Wiki，最详细的官方我的世界百科</a><br><a href="https://github.com/Wechat-Group/WxJava/wiki/%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3">公众号开发文档 · Wechat-Group&#x2F;WxJava Wiki</a><br><a href="https://www.jb51.net/softjc/613621.html">谷歌无法启动更新检查(错误代码为4: 0x80070005-system level)怎么办_浏览下载_软件教程_脚本之家</a><br><a href="http://ziziyy1.com/">好看的电视剧_好看的电影_好看的动画片在线免费观看_樱花风车 - 子子影院</a><br><a href="https://www.huxiu.com/">虎嗅网</a><br><a href="https://www.jijidown.com/">唧唧-哔哩哔哩唧唧-bilibili视频|弹幕在线下载</a><br><a href="https://blog.csdn.net/qq_43705131/article/details/107965888">解决Please make sure you have the correct access rights and the repository exists 问题._每天进步一点点-CSDN博客</a><br><a href="https://www.agefans.net/play/20200004?playid=2_4">进击的巨人 最终季 第04话 [GB][1080P][x264_AAC] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://www.bilibili.com/video/BV11A411K7LE?p=12">九天Java面试突击集训，涨薪50%必备的JVM、多线程、Spring、MySQL、IO、分布式、微服务优质教程_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="http://www.kakadm.com/">卡卡动漫-好看的动漫日剧韩剧网站</a><br><a href="http://www.i-mofang.com/ba_05.shtml">魔方入门解法第5步：统一顶层顶面颜色 - 爱魔方</a><br><a href="https://tieba.baidu.com/p/5969911656">内网通内网是怎么推送更新的_内网通吧_百度贴吧</a><br><a href="https://www.bilibili.com/video/BV1KE411r7rE?p=4&spm_id_from=pageDriver">鸟哥JAVA零基础之IO流详解视频【IntelliJ IDEA版-输入输出流】_哔哩哔哩_bilibili</a><br><a href="http://172.81.205.2:8080/searchAnswer">强国查询 | Skow</a><br><a href="https://hao.su/2217/">全网免费音乐搜索汇总 - 不死鸟 - 分享为王</a><br><a href="https://jingyan.baidu.com/article/3c48dd34491d47e10be358b8.html">如何查看某个端口被谁占用-百度经验</a><br><a href="https://www.zhihu.com/question/26078625">如何能有效地学习 VBA？ - 知乎</a><br><a href="https://www.freeaihub.com/shell/index.html">如何学习 Bash Shell ? @狐狸教程:~#</a><br><a href="http://game.youzu.com/play?type=web&gameId=193&serverId=2466310333">三十六计-【雄心】330区</a><br><a href="http://www.zhangsubao.com/UniverseSim/index.html">三体演化模拟</a><br><a href="https://www.bilibili.com/video/BV1YW411T7GX?p=104&spm_id_from=pageDriver">尚硅谷最新版JavaScript基础全套教程完整版(140集实战教学,JS从入门到精通)_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.bilibili.com/video/av49674491/?p=6">尚学堂python400集第一季-30分钟零基础入门Python_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://quark.sm.cn/">神马搜索</a><br><a href="https://blog.csdn.net/u011853294/article/details/53228720">使用IDEA将git上传项目到github_清水寺小和尚的博客-CSDN博客_idea部署项目到git</a><br><a href="https://www.qq764424567.top/">恬静的小魔龙|Unity开发|技术博客</a><br><a href="https://www.gaoding.com/templates?q=%E6%89%8B%E6%9C%BA%E5%A3%81%E7%BA%B8&hmsr=zhongcao-sjbz_zh_2014-xmt---sy2014-bdqd&utm_medium=&utm_source=zhongcao">图片模板在线设计制作-稿定设计</a><br><a href="javascript:(function(){window.open("https://wannengrun.com/f/#%22+document.location.href)})()">万能命令书签</a><br><a href="https://cash.fxqifu.com/1000701/">网购商城</a><br><a href="https://cn.bing.com/">微软 Bing 搜索 - 国内版</a><br><a href="http://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&t=sandbox/index">微信公众平台</a><br><a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html">微信开放文档</a><br><a href="https://www.imooc.com/article/70497">微信授权redirect_uri 参数错误_慕课手记</a><br><a href="http://zh.wikipedia.org/">维基百科，自由的百科全书</a><br><a href="https://pc.xuexi.cn/points/my-points.html">我的积分</a><br><a href="https://jingyan.baidu.com/album/046a7b3e9c49faf9c27fa9ce.html">我的世界如何做简单高效率刷怪塔-百度经验</a><br><a href="https://www.microsoft.com/zh-cn/software-download/windows10">下载 Windows 10</a><br><a href="https://tieba.baidu.com/p/4466624137">小黑屋（a dark room）攻略【009吧】_百度贴吧</a><br><a href="http://ncov.leafcoder.cn/demo/">新冠肺炎（2019-nCoV）疫情大屏</a><br><a href="https://v.qq.com/x/cover/phpy0hfv4kpdeez/a0026jexo3q.html">新上海滩 第11集</a><br><a href="http://172.81.205.2:8080/">学习小助手</a><br><a href="https://www.cnblogs.com/geili/p/10349304.html">耶路撒冷三千年（笔记） - 人一己百 - 博客园</a><br><a href="http://www.yhdm.tv/">樱花动漫－专注动漫的门户网站</a><br><a href="https://greasyfork.org/zh-CN/scripts/">用户脚本</a><br><a href="https://www.baiduyun.wiki/">油小猴</a><br><a href="https://www.zhihu.com/question/297029644">有哪些超美腻的壁纸? - 知乎</a><br><a href="https://www.agefans.tv/play/20140034?playid=3_2">约会大作战 第二季 第02话 [GB][720p] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://cloud.tencent.com/document/product/213/17814?fromSource=gwzcw.1293314.1293314.1293314&cps_key=38b75278ba66c442798625a2a46beb05">云服务器 制作 Linux 镜像 - 操作指南 - 文档中心 - 腾讯云</a><br><a href="http://fanyi.youdao.com/">在线翻译_有道</a><br><a href="http://www.98key.com/index.jsp?sub=2020.5.18">在线生成MyEclipse注册码2020.5.18</a><br><a href="https://www.beijing-time.org/shijianchuo/">在线时间戳转换工具</a><br><a href="http://ziziyy1.com/acg/3579/8.html">斩赤红之瞳 第8集 在线观看-子子影院</a><br><a href="https://www.huya.com/688">张大仙直播_虎牙688张大仙官方直播间_张大仙视频直播_虎牙直播</a><br><a href="https://www.runoob.com/regexp/regexp-syntax.html">正则表达式 – 语法 | 菜鸟教程</a><br><a href="https://c.runoob.com/front-end/854">正则表达式在线测试 | 菜鸟工具</a><br><a href="file:///E:/study/%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1/%E4%B9%A6%E7%B1%8D/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A.pdf">正则表达式必知必会.pdf</a><br><a href="http://www.regexlab.com/zh/regref.htm">正则表达式参考文档 - Regular Expression Syntax Reference</a><br><a href="https://zhutix.com/">致美化 - 最专业的桌面美化交流平台 - 漫锋网</a><br><a href="https://yz.chsi.com.cn/">中国研究生招生信息网</a><br><a href="https://minecraft.fandom.com/zh/wiki/Minecraft_Wiki">中文Minecraft Wiki - 最详细的官方我的世界百科</a><br><a href="https://sls.cdb.com.cn/#/">助学贷款</a><br><a href="https://blog.csdn.net/weixin_38601833/article/details/94585595?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param">最完善的markdown转html&#x2F;pdf方法、带目录生成_所谓向日葵族-CSDN博客</a><br><a href="http://www.syseen.com/soft/16096.html#txaArticle">最新老王v2.2.9 终于知道叫老王的原因 - 小雨资源网</a><br><a href="file:///E:/otherdemo/adarkroom-main/index.html?lang=zh_cn">a dark room(localhost)</a><br><a href="https://www.jb51.net/softs/586975.html">acrobat pro dc 2021破解版下载 Adobe Acrobat Pro DC v2021.001.20142 英&#x2F;中文直装版(附安装教程) 下载-脚本之家</a><br><a href="http://47.100.37.150:8080/upload/upload2.jsp">Ajax异步上传图片</a><br><a href="https://www.runoob.com/angularjs/angularjs-tutorial.html">AngularJS 教程 | 菜鸟教程</a><br><a href="https://base64.us/">Base64 在线编码解码 | Base64 加密解密 - Base64.us</a><br><a href="https://carbon.now.sh/">Carbon | Create and share beautiful images of your source code</a><br><a href="http://tv.cctv.com/live/cctv5plus/?spm=C28340.Pu2UyUI7WyT5.ELosaKPa05E7.9">CCTV-5+体育赛事频道高清直播_CCTV节目官网_央视网</a><br><a href="https://github.com/Chris-z-su">Chris-z-su</a><br><a href="chrome://dino/">chrome:&#x2F;&#x2F;dino&#x2F;</a><br><a href="https://codeimg.io/">Codeimg.io</a><br><a href="https://ncov2019.live/">Coronavirus Dashboard</a><br><a href="http://blog.sina.com.cn/s/blog_5bba80460100dlsu.html">doFilter如何使用。_这个崔先生不太冷_新浪博客</a><br><a href="https://www.doublespeakgames.com/">doublespeak games</a><br><a href="https://zhidao.baidu.com/question/372114959788570804.html">excel怎样获取单元格中特定字符前面或者后面的内容_百度知道</a><br><a href="https://www.4393yx.com/">FC游戏下载_NES游戏下载_FC模拟器__FC游戏下载站</a><br><a href="https://www.google.co.jp/">Google(JP)</a><br><a href="https://hadoop.apache.org/docs/r1.0.4/cn/hdfs_shell.html">Hadoop Shell命令</a><br><a href="http://www.zhangsubao.com/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="http://49.232.198.16/">Hi~ o(<em>￣▽￣</em>)ブ</a><br><a href="https://www.youtube.com/watch?v=qLFeijbLGgg">How To GET ON TOP OF THE NETHER! | The Minecraft Guide Episode 94 - YouTube</a><br><a href="https://wp35.xyz/www/y.php">https://wp35.xyz/www/y.php</a><br><a href="https://www.52pojie.cn/thread-772146-1-1.html">IDM - 全版本通用注册器 - Internet Download Manager Crack - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://my.oschina.net/dendy/blog/385549">IntelliJ IDEA 与 JBOSS集成 - Dendy的个人页面 - OSCHINA - 中文开源技术交流社区</a><br><a href="https://github.com/Uahh/ToastFish">Issues · Uahh&#x2F;ToastFish</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/86686492">Java面试题及答案2019版（上）_Java笔记-CSDN博客_java面试题</a><br><a href="https://www.bilibili.com/video/BV1k74118721?p=6&spm_id_from=pageDriver">Java面试题突击100道！_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a><br><a href="https://www.cnblogs.com/duck-ifox/p/9084049.html">Java通过图片url地址获取图片base64位字符串的两种方式 - 凌巴哥 - 博客园</a><br><a href="https://www.cnblogs.com/yesiamhere/p/6675067.html">java运算符 与（&amp;）、非（~）、或（|）、异或（^） - 够硬的乙方 - 博客园</a><br><a href="http://www.51gjie.com/">JAVAschool免费在线教程，简单您的JAVA学习！！！</a><br><a href="https://jbossas.jboss.org/downloads/">JBoss Application Server Downloads - JBoss Community</a><br><a href="https://ai-h5.vivo.com.cn/newyeargomoku/index.html?small_video_topic=1&from=tips#/game">Jovi 五子棋春节版</a><br><a href="https://mc-mods.org/keeping-inventory-mod/">Keeping Inventory Mod 1.16.4&#x2F;1.16.3&#x2F;1.15.2&#x2F;1.14.4 - MC-Mods.org</a><br><a href="https://www.cnblogs.com/jybky/p/12058733.html">linux环境weblogic的安装及新建域 - 总结造就再进步 - 博客园</a><br><a href="https://blog.csdn.net/github_38922197/article/details/75097320">Linux上Weblogic服务域的创建与部署_赔了命3000-CSDN博客_weblogic创建域</a><br><a href="https://www.linuxprobe.com/linux-tail-example.html">Linux中tail命令实例 | 《Linux就该这么学》</a><br><a href="https://www.runoob.com/maven/maven-pom.html">Maven POM | 菜鸟教程</a><br><a href="https://www.mcmod.cn/">MC百科|最大的Minecraft中文MOD百科</a><br><a href="https://mega.nz/start">MEGA</a><br><a href="https://account.microsoft.com/devices/recoverykey?refd=www.sites-help.com">Microsoft 帐户 | BitLocker 恢复密钥</a><br><a href="https://www.mcbbs.net/">Minecraft(我的世界)中文论坛——Minecraft中文站,我的世界中文论坛,我的世界论坛 -</a><br><a href="https://blog.csdn.net/weixin_42449715/article/details/103049177">myeclipse配置jdk版本的几个地方_Garfield…的博客-CSDN博客_myeclipse配置jdk</a><br><a href="https://natapp.cn/tunnel/lists">NATAPP -</a><br><a href="https://minecraft.novaskin.me/wallpapers">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="http://minecraft.novaskin.me/wallpapers/mobile">Nova Skin - Minecraft Wallpaper Generator with custom skins</a><br><a href="https://en.savefrom.net/17/">Online video downloader - Download videos and music for free</a><br><a href="https://penrose.doublespeakgames.com/?utm_source=adarkroom&utm_medium=crosspromote&utm_campaign=event">Penrose - doublespeak games</a><br><a href="http://blog.itpub.net/29485627/viewspace-1291573/">PLSQL Developer报“动态执行表不可访问，本会话的自动统计被禁止”的解决方案_ITPUB博客</a><br><a href="https://www.fujieace.com/software/powerdesigner.html">PowerDesigner安装教程（含下载+汉化+破解） - 付杰博客</a><br><a href="https://www.ghxi.com/pycharm.html/comment-page-1#comments">PyCharm 2020.3.2 汉化便携增强版 - 果核剥壳</a><br><a href="http://www.downxia.com/downinfo/325980.html">Pycharm2020.3专业版永久破解|Pycharm2020.3激活码破解版 32&#x2F;64位 中文专业版 下载_当下软件园_软件下载</a><br><a href="https://regexper.com/">Regexper</a><br><a href="http://192.168.18.11/#/goods">sell</a><br><a href="http://192.168.18.11/#/sell">sell</a><br><a href="https://www.shellcheck.net/">ShellCheck – shell script analysis tool</a><br><a href="https://stackoverflow.com/">Stack Overflow - Where Developers Learn, Share, &amp; Build Careers</a><br><a href="https://github.com/testerSunshine/12306">testerSunshine&#x2F;12306: 12306智能刷票，订票</a><br><a href="https://www.ipaddress.com/">The Best IP Address, Email and Networking Tools - IPAddress.com</a><br><a href="http://info.cern.ch/hypertext/WWW/TheProject.html">The World Wide Web project</a><br><a href="http://mini.tongzhong.xyz/">Tongzhong Mini</a><br><a href="https://www.itrhx.com/">TRHX’S BLOG</a><br><a href="https://www.w3cschool.cn/excelvba/excelvba-basics.html">VBA语言的基础认识_w3cschool</a><br><a href="http://m.2265.com/down/279180.html">vivo主题修改器破解版下载|vivo主题修改器vip版下载v5.3.1 安卓会员版_2265安卓网</a><br><a href="https://www.ypojie.com/6066.html">VMware Workstation Pro v16.1.2 虚拟机软件及永久许可证|亿破姐</a><br><a href="https://cloud.tencent.com/developer/article/1187687">Web-第三十二天 WebLogic中间件【悟空教程】 - 云+社区 - 腾讯云</a><br><a href="https://blog.csdn.net/dyr_1203/article/details/82350244">weblogic创建新域_aspu O_O的博客-CSDN博客_weblogic新建域</a><br><a href="https://www.jb51.net/softjc/232839.html">Webstorm常用快捷键备忘(Webstorm入门指南)_编程开发_软件教程_脚本之家</a><br><a href="https://en.wikipedia.org/wiki/Main_Page">Wikipedia, the free encyclopedia</a><br><a href="https://www.bilibili.com/read/cv5730100/">Win10永久激活神器 数字激活 HWIDGen v62.01 汉化版 - 哔哩哔哩</a><br><a href="https://www.youtube.com/">YouTube</a><br><a href="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCADhAOEDASIAAhEBAxEB/8QAHQAAAQQDAQEAAAAAAAAAAAAAAAQFBgcCAwgBCf/EAEoQAAEDAwIDBQMIBgcGBwEAAAEAAgMEBREGIRIxQQcTUWFxIjKBFBUjQlKRocEIYnKSsdEWMzRDVYLwFyRTVJOiNTZEc4Oy8eH/xAAaAQADAQEBAQAAAAAAAAAAAAAAAgMBBAUG/8QAKBEAAgICAgEEAgIDAQAAAAAAAAECEQMhEjEEEyIyQRRRUmEVI3Gh/9oADAMBAAIRAxEAPwCwHNDufJanU0J2LfhlbkZXOSEpt1K7nF+JWp1poT/6f/ucl6MoAbDY6F3OBw9HlYHT9B1ieB+2nbK9CAGCp03TyM+gkdHjfB3CY66y1tMSRH3kXPjY3bCnZ2CwLs8zt4YQFFYVlIyrgdDM13du2I5Jkho66xv7y3cFRScnQu3c0eSt+rtlFWD6WBucYy0bpjrdMyt9qkl4wNw1/P8A/FPJBTVMNojVg1EzvnPo3OjmHvRSbOx4KaUOpIJXtbK10fEPaPMBQa9WMH6StifBKOU4OC34+CjL9T/N8r6dxbXEbNliOD6OzsuN48uB/wCraHinMviN8b28cbu8a73TjmtFwutBbIe8uFXDTtHPjcM/dzVBXDX14+RCCGrFHByPc+9n9r8goTcL7E+QumkkqpOeSSd/PK78c5SSsosXHs6AunanY6dzmUjKitcORbHho+JTOe18A+xaC9vg6UfyKoKa+TEnu4msz5bpI+7Vbv70/AKnFj+w6atnavaah4ZW0c1IScZ95v34Cn9PUNqqeKeNwdFI3iYR4Li+2XWUTtbUPL4zseJXl2Pan+TVjLLXy/7vLvTSO5td9keRSy5LsWUYtaLjBWE0hZE9zebQShoGNh1P8USRiSN7HHDXjhJWO69pEh9RqKtlJLOFreW7QSk/z3XcWRNv4FgSms07VRyONMe9ZnI5JILPXE8PyUjzcQvn8sfI5hoVwajuERy4sc0cwGBSS1XBtygc+JnC8e8FH6bTcsgzUyNib5b/AIqSUFJFRQcEAO/UnOV3+HHPfv6CxS7OdknrKOCqx3rc4H2sLe0ZCCMDbmvRnFPTRlWNjLJRB3F3TwfN63/N9OBgRH14ytd5uUduhY7HFMT7I8VEay7V1VI7vJ3NH2QeS8/Nnw4NcdgTD5BTfYb++5CgnfTf8Z/7yFy/5DH/AANLIQhC9wAQhCABCEIACeixDM7rLqtVXPDS076iqmbDBGMve48glYGeMAk8+iiurdcWzT7XU7Xtqq/G0EZ2af1j+Sg2te0aSufLRWI9zTEkOqAfakHl4DzVZVPfytIhxxHnI88X4dfVZyvRWGNS2yQap1jc7y5zrhVGGl5iCB3C0HzHVQesvoyW07D+0fyHRb5LQ+d4M9U95HhyC9FlpBkuc4+rsJ40VeuiPVFRJOcyOLitO555Up+a6BuxO3iZN14bZbHbB+/m9PySEcbIsUKTvstI4YZI8f5spNJYHAfQztI8CMLVNGODGNhIOc481L9PVsr4Y3seWzwuGHDmD0TDNaKuNpIYHjxBWdmkkpKtrZGPbx7bjCydSNjrR1xom+Mv+nqet4gJP6t4/WHNP+VSnY9eI6GurqKtqY4qWZokDnuDQ1zeufiFbbLpbnOPBXUp6bShTTJTjTHA78jhYjj6nZJ/llI4jFVDn/3AtjJY3+5JGfR4KYnVmzG/LCwqXthhdLIcMYMnZapq6mhOJJ4mu8Cd1qkq6GeMsfURFrhuC/CjkyRSaT2HEaZNUR8WYoCWeY5p6ttbHWUjZmNI2OQE0TWyzDJE0bG43Ak2KcKa422lhbFDURBoGy5sc8jb9RoajW6Gnv0TmyRuHdk4cW4OU2VVhoqRnfVFTM1gOSA3808fO9A3JFVGPHATRdL9SvIiih+UsPvF2wwp51gq5VYDX3ti/wCNUoSr5fav8Mi+9C4bx/0BKzUQB3CZos+Gd1sBa7dhBHkVBzZLi5wL6d7vMnKkmn6KopKV7KoZDtwPBelh8rJOdSjSBjq09OSSMquOvkpjC8Bn1xySpz2x++9rQPEryMsLuKNwJd9ncrrlTYGRGOZ5+KTPrqSN4jfUwtf4F2MJJfr3QWKjdUXKcRBueFuMucfJvXKoy+agrNRXN0NupZI2TvwynjPE55PiRulyTlqh4Qci1NRdoNotMhhgca+qbzigOw9XHb4KptX61r7+GtuDmU1C07QM5FRG9VDrfTkBo77jLHNcc8JGx+OVFZqiSdxMj3OIVYxcuyiag6ZIqi9wxgNZmV2Ofim2e+VDzhmIx4BNJJJ3XioscUEsj+hTLW1Ehy6Z59StLpHnm933rBCYS2z0H1+BRn1XiEGGQeRyJHxW6Ksni92R33pOhFG2PFNfZ4sCRrZB44wU6090pKrgEzQxwO2R+aiS9BLdxlK4GqZYlJ3AqmOqXv8Akzj7ZjOXAeSsbT+itOXynEtDf5ZAeceAHjyIVCUFympjz42Hm1w2UotVyEr2S0sximbtlu3CoSg47HaWQuGr7LCC40la+Ro3ALQDhN02gquHds9U3zbuE6aF7SI5I4rfej3b/cjqgfZf5O8PVWflrmhwaCCMgh3Pzz1UZQlPalRCUXEpI6Vrmn2rhVgeYKyZpq7A/wC7XKdx/ZcrlfPTl3C6WHi6gkZWwbDI4cdMABRfjybtz/8ABeymzYdTQ8qp7j5sdj+BXho9VR83QO9WH+QVzhwO2+UEOH1GfcnfiX9o1MpmGn1ZM8NjpqeV2eSWyW3WkZ/8Jpn5H1ZB+atlpwN2sz6LVWQfKaZ0bXFhPUJfxMaXxthyKp+btZf4C3/qNQp1/RyX/n5UKf40f4BY0svdxZzqD8QPzSO4ajn4f96rmMGPdGAoZS0N/uIAnnfAx3IEgE+gUltXZsyRomuUshIwfpDg/cN1zwxZJac2wGuq1LScfBE+eqfjIbGTz+K0XK8aiobYao5ttNJ7MYefbkPorMZa7Npq2zVT4oWRwN4nuI3cPAeap6qnvHaJq+npaBhe+V/dQQkYbFGdyXeWOfwXXDxlHbK4432ItP2a962v7KOi76rq3EccshLmRA/Wd0AVv3Gt0r2SWiagtobddWSwOjfO0Bzo3EEbkchudkm1hfKLsp04zSulHsfqCdnHX149+PPPfqcch0GFzz85Pq7twukdKS4ulkccl5PUnqrpci/2IdTE8EQdu53tE+J6n78pgT1qgn5VHnnw5/EpkC64fFEZ/JnqEITiAhCEACEIQAIQhAAhCEAejktkEr4Xh0buEjdagUEoe9GrWyWWu4irAa8/SYw4HkVavZ3rl9uEdpvErn0EpEbJesR6N9P5lUFDIY3cbdnN3BUttdb8sp8EjjGOJv2lDJBVsrGpqmdPRadozIJeJ5GeIYfkLTctQGDNPSRZdGeEudyUI7NNcwUlC22X2pETI9qed/L0Ph6qw6i00F0a2ogeCX7iSN/E0+Y8Vw5sEmrwnPKPF0R196uD3Z78sH6rQAtbrxcM/wBrkPphPEmlhxHhqifVi8Gln5z8qZjyZuvPfj+X9GDZBfLhHI0moc7G+HBSSyXF9fE8yxhmOoHNJ6XTtNE/inkfMfA7D7k8siiZEI2MaxjegGF2eJhzxd5GBnxN8ULDLEL0tfswR0VppKM8UMbS8j3iclLnZw1pBJwQFkOSadT3X5ksNZcXkcELMtb9p/T/AF5pYRjD4m1srDth1IaquZaaUnuKcB03BzdLnYfAb/FWFom2U3Zd2Z1+p7pHGbzWR/RsfvwB39WwDz3cfgq47HNOSaw19FLWt72hpX/Lat7uTjzaPiVMf0p7075wtNlG0cUT6uVreTnZ4WD4DKjKXKVHUlSOeNV3apqpppqmZ8tZVPMkr3Hd2T/rHlhM+n/auQz9kpJXzd9Uvf4uJ+HRZWuTu66N3nhdcYcYiqXuF2phiqj/AGUzKSali4mRv8Dj/X3qNlNj6MydsEIQmJghCEACEIQAIQhAAhCEACEIQAApTQ1Bp5mytOC0/eky8KxqzU6J5TTsqIO8Z7rhkDwTzYNSXGxTZtta4AD24X7tf5EKGacqdnU/IkeyfNbdQsMZjqIHOa4bZao8adHRyuJ0TpTtFtt3ayG5gW+udgbn6Nx8j09FOw4OGzg4HqORXGNuvTo3AVIDhyyrH0fry42YMZDIayi6wynkP1T+SGuPZGUE9o6HAwhMOmtU23UUGaKTgqMZdTuOHt/mPNPZd7Zzn4oW0RarTM0IQtMMm8wqv7bro5tHQW2MkGV7pnkdA3GP4qzxseLw/mFRfa1I6v1qKZoJLI4oWjzP/wCpJPRXDG2Xj+jdYRatCOuEseKi5SF+TzaxuQB+BPxVO/pLSl/aNcSc4ipWNGfDhz+a6q07Qx2jT9uoYgAKanjjIHiGgFctfpM0pj7QZpCMtqaKMj14cfkuXH8zoXZzq7mvWO4TkcwcolaWyOaeYKxXqLo532S52Ky2+b2/kok7YkHpspNpwn5KeIZ39lNF6pxBXODRhp3ClB7ZXItIb0IQqEQQhCABCEIAEIQgAQhCABCEIAEIQgDfQymCqik6BymFVGKijkH6uR6qEBTKzS8dDE48sYU8ipplse00Q57S1xHUHCUU1VLTvDo37jfB5FZXaPu7jO39ZJE/ZP4kttd6D5WOje6lqW7teHY38lcWke0zhZHSagDnNGGtq2jf0cPz8/Jc4tLmn2Tgp5t94MbWx1GXs5ZPMKcoV0MmpaZ1x/SS0/4lT/8AVQuWvnC1/wDEkQk9wenA6+6gqh75VNi7VBO8AtiuMJIPqFez5GxtLpDwtbvlc460mbJqq4vjeSe+4m4552//AIp5JfQYUdzlgOSw7ZwB6bfkqg/SF0PVahtVNdrVE6Wut7TxxN96SMnk3z5qw9B3dl90daLjG/i76naXftAYd+IKfXAEEHBH+uq4m+MrG+LPnJX2Zsz5JInd2/iOWOGOEgnZJKexSd40zSx8Hr/E9F3vqPs20rqOcz3OzwuqXnLpYS6Jx+I5pkpexrRNtlbV/NpkEXtltRO4sAG+SDzXXHyG1Rtp7OVKOwTM03U3eZrqW3RkQ073Nx30h+qw9RyJd0yFDtSvBnjY3fgHhuPL/Xqrb7a9aUl/vnc2prWWG2sdHSRxtDWvOcOcAOnT4KsKCDv5JK2VnHxk8LD1HLA/BUi69zN+Soi7xg4wR6heK8q7sY1aLbT10doiq2TMEnBG5veNBGQCDvyUIuulJrfK5txttZRubz44y3BVFnT0J6RBEKRy2OJw42T46fFJn2KfGWyNcPM7qnJMXgxlQl81qqozvET6JM+nmjPtRvHqFqZjVGlC94fXK8LSOa0UEI5IQAIQhAAhCEAejmpPpp3HQvZ9l38lFlJdL/2Sc+Dv5JZ9FMe3Qg1G3gr8+ITWBnx+5S6st0dZUNlle4NbzAGx+KW26xGpLRb7dJM4nYNj48/H8lNZFFDSx7tkHbE9/uNc74Lb8jnI3il/dVs0ug9SStBjstQ0Hxw0JSOzrVOci2Y/+Zv8Ev5EReMSnfkk/wDwZfuQrj/2ear/AMN/72oR+REKRcesKhjbeyFjsPkd058lQ+sGFt+nOQSQx2R6KT1uor3eJ3S0tuky4+y53tY+CiV6oa2neZ69hBe72nZ+suFOTy82JhdSLU7Au0em08X2G+z8FBK8PppnEfRP6td4A7brpWCspamJssNRDJGfaD43tLSPI+C+dk90dR1ckNQzjYDkEc8LdFf4GAhks7WnmN10S8a9nRKrO8tR6303YIJH3K70rHNaSI438bz6NG+Vzr2s9sVXqeCa22XvaGzcP0j3O4ZJx4E/VHkqOlvsbHkxNkkceRcUz11fUVTvpHYb9lowmx+PRNtC2urDcKmGniOIsgep8Vc3YLpMak1rC6pi7y321oqJWnk949xv35VJWFvFcYyentLsf9Fy3tj0dcK/DRJVVe7jzLWgYH3krc+lQ0ei52hvM/5f1f8AXL4LCanp6lhbUwwzeUrA8H4FbQPZ8+qAF5zkzCiP0j7Pp6z6SjqKSy0cN2qahscU8UYaWAbuOB5Llavu0lPWyxRxsLWHhBxvsuof0r5ZPk2nI2kiMzSE48cBclXeLu66QZJzvuu/xqktmybSHKK/dJIT6h2Uqiu1LJ75DfIsUVRkjkV1uCJ82S8vt1QOdO48txgrA2yik91oH7LsD7lEwT1z962Nmew+w5w+KXg/pm819okUmn43e5I4eWEnfp54HsTA+oTYy41TOU8noSlLL3VNGC5rh5hHGY3KBsdYqkdWH4rS6z1beUeUtpLvNPM1hiYOI8xspvo7T1VqnUFJZ6B7Yqick94/drA3c58kkpyh2MoQeytX26qB3gf8Ak80MkX9ZG5vqF0BrHsjvekrPU3Surba+niIA7kkE5PIA9VU+oOFtF9Kxhc47HqNuqaGXkK8aq0RNvRSfTQ4aSQ+LsqNKX2Zgjt8YIznB/j+WVuToXEvstvsi0dbr1TPut0a6dkUhY2B4HASADl3jz5eSuiCKGlj7umhiiY3YMY0NAHoon2UUclBoehLxh1TxTn0ccj8MKYZXlTbshmm3LRjgHc4B8kYbyxle9V44b5GdueOqVEw4B4IWf0n6n76FphW3zzWuLREBG36jI4xslWprENR6UlLoWsr+HvI3AAEvAPgpWaeAnJhjz443W0NB4eEO9nlk5wujD4soP3Sssns431HTueI5QDxM9h2fEc/xyo6rw7WtM/Nd5fPFHi3VvE9mPqu6j8M/FUzXUz6edzJAcDkfJd8HqislexKvQvEJxB2064Cuw73S0j78fyXX/6LVxbNpe5284MlPVd5j9V4H8iuMqGXuahj+YB3CvrsD1ONOa9hZUS93RXFvyV7icBpO7T94XL5CtFodHX7d2g78uqyxkc8LxmeEcWM+R/H48/itnReazSsu3jSkmpNEyOpAXVtA75REG83DB4m/EALiq/0RlZ8pia7ibhr2eH+uS+jko4tsDPiRkY8wufe2bsimmqJ79pKHiL8yVVA3m/9ePzHgujDk4m3qjkJwIOCCMLxSy52YPmeHNdTzDZ7HjBB8x0TNUWepj5N4x4gr0Y5FIm8bQ2IW51JO3nE/wDdWIhk5d2/7k5M1rJoyt0VFUSH2In48SNk922zua9r6ngcQchoOc+qWU1FDwi2ZaeonRB00o4eLYHHiuo/0ZdISU9LPqatjLTUt+T0rXD6mfaf8cY+Crjsi7NqzWVbHUVkUtPYYcl8pGBNv7rR4Lqutq6DTVhlnnfHS26ghDgAMANaNgFw5cnN0VelxKM/Sl1C6Sst2n6V49jNXUAfa3DB92VzHqapEkrIR/d8/L/QwpfrPUUt8vt0vNUXf7xKXtDug6AfDH3quKh5mldIfrb4XRgjSMk6jxMqKPvqqNn2ip7aKF1ZXU9FC3ikne2No88qNaeowQ6dxGMYwro7ErH8rvM11lZmGkHCwO5F55/hhZmloxLjGy66OnjpqOCCEYbExrAPIDb8MLZwrPb6ucePikF4u1vstK+qutSyCADqd3HwA6rzmm2ce5MWH2QScADqTw/iq07Qe0aK2Okttgd3twI4X1A92HxwfFRbW/aTV3gy0lrElHb3bF4OJJR4Z+qPJNGjtD1uoHMqZA+C2g5Mx9kPPQNHT1VseJ3s6MeFR9zGX5/un+L1X76Fcf8AsxsH/ISf9VC6PTiW5QJsg8ihCscg2anstPf7PPQVQb7W8b+rHfa+C5i1PY6imqqigrWllVTvIGebh0+/n8V1geh328lDu0DSDNS0bpqYtZc4mHuTw++Bvwn7/wAUrdMrGX0ckzxOikLXtLSOhWCm1+tMgqJYK2N0NVGeHDhgh2OSiNXTS00hbM0g/wAVZSs2UaE4+7zUosFU2eKOPdssXXPTxHnlRc7LbTSugla9hPEDy8USjaMjKjujsL1+zVVkFsuEjPnqja0SCTnMwbcXr0+CtTqc889V8+dOXyqp6qGvtk7qaup3cTHsOC0/mPJdT9mPbPbb5DFQakkjt914Q3vHHhimd4g9CfBebkxUXlG1yLiWLscuRPXOF4w8TQ7iBB3BacgjyXvXnlc9UIiJ6x7O9O6szJdbew1I2bUQZikH+bkfQ7Kp75+jscudYr2w4HsxVUf5g4/BdDZxshPGTRqbOR63sP1tSOIhgoqkeMU4/MBIf9kGuSDxWTfyqI8fxXYjgD038ViARzcD6p/WkNzOSLf2J6zqnBk9LSUUfV01R+PsEqztG9g9stssdTqKsdc5Bu2Bo4YR6/aV0nhwdgCPAZyofrbtBsOj4nfOVY2SqI+jo4TxyPPp0RzlIxtskw+R2mg5wUtFTt9n6rY2jnjwXLXbf2lHVta+1Wd8kdlpncQI/wDUSfax0aBlM3aV2nXfW0hinc+is7N20jHY4j04z1Pl6KorvdOPihp3ezyJAwPgrYsVuw+KNN6rvlEro4XfQtO3n5pLb6R9VUNaG5b1WFJTuqZhG3fPVS2ipo6Gn4RjI3Lsc12SaxqkJGLk7YstdA6oqaahomkzSvEbWjqV0tYaS2aO01TUlVUwU8cI4pXvcG5ceZ8z5eS5706bzHVfKLDBUuqOEhr4o8kemdsqV0+gNWXmo+UXafusgF0tZKXuH+Ubj+C5ZpyY2SKfZItUdrMEfewadi45M7VUo9n4NH8Tsq9hodR61r/lBFTWSE4MsmGxMHkTt15BWrp/s3slBIH1jXV9Q0Z+lP0efENU2hayGFscMbI2N2DWjATRx0JyjjWivtKdmlFbTFUXiT5dO3BEYHsNP5qww1o9ljWsYNmtaMABABzusuSpxIObkeYQvcoRxDZghCEwB1XoyHDHPptyXmOq8O6VmojGtNGUWo4OMNEFxYPYnZtxeTvJUNqTTtbaKqSkvFKW8R2eB7Dh4h35LqADYgdUludupbrSGluMTKiEjBDuY9PA+axRp2UjKuzju4WZzG8dO4PH2cpmkY5jsPBB8CMLonUfZZUQPfNYZu/i5ink9/HgHdVWd3tL6aZ0Fyo5IHdWytw4fFMslaZTgpbRB4JXwnijdwvHIp/ob1E9rWVI4JOXFjO/itdRYmvyaaTAH1S5Nk1rqos5jyB1anfGaM90WWxo7tG1FpsMba7s6SiaM9xOQ9h+HMK07N+kO9rWtvNi4nfWdSykf9pH5rk2N8sB2MjSPJLGXiqZgFzXjzCk8CH5p9naVH28aSnYTPDc6c/ZMHF+LSUpPbjozAPf1m3T5K5cWsv0jW7wN9Q5Zf0gPWH8VJ+MHKB2NU9vmkYmnuo7nMccmU4aPxIUbun6REG7bRYeI42fUzcOD5hudviuXHX442hb8Sk771OT9GxrT4hq1eMDcC5tUdr+rL5DJC64R0FM7Z0dE3uzj9sEuKrOsu0LXmSSaSeU7kn2nH1JUefNU1Z3MjjywAt8FmqZTlzOBv6x3VI4VHsxSvUTTXXCWrJ+qzOeEIt9umq3H2S1vVxTzR2mKmfxSDiPQ5Jx8Ap3pTRF2vzmyQwGio/+YmYRkfqjqmc1HUQcH3IidvoWRBkNIx0sz9gGjLnHwCsSwaCu9JNT1tztQr6XZxoxUcD/APMDsfRWXpbR9t03GXUjO+rCMGomb7R8ceHopGfZ9wHHnzU+9sSWZR9sSPUmo7XEBFUU1RbCBgsmp3NYPQ8sfyT3S1tPVRB9LUQzM5exJnZZlo4HB4a4O5hwyEyV9r09Njv4aeGX7dOe6cPixY8igRbdj/vn2Gr0+YwVDX265w+3YtQSThuwgqOGXb474SY6i1JanllwtNNUtHWBxjJ+HJL6sf2YTvOEZyoZT9odsJDbhBXUB5O7yEFrf8wT/QXq2XFoNvr6efPQPAJHoqxkpLQDohYYHg37whbxkB6hCEwAhCEACEIQB4R57dR96ontirPlmqzGx28ELYj67lXfcKmGhoaqsqdooIzI79kc1zBea19XV1dbM7L5XGR3qcpZdl8Q2WyeSWjkfI7i4SR9yTR3uBziJeJpz0Gyzsf9gJxjLyf4qMye8fFNGKbZScmkiXCopJhu+N3k4INHSSbiKM+hUO4nfBZNke33XEDyKb0v7F9VfaJU60UrjnusD9Urz5nox0co0Kqdow2V4HkVkK2oH99J+8s4S+mHOH6JK20UY+pn1KzFHQw84ow71UWdWTuG80n7y1Okc73iSfVHpy+2HqR/RLpKukpxjijb1wBukkt+hb/VMLz4kYUaySNivAfFN6SM9R/RNaCtbUMEsTiHt3OOYPRX12Y6uN8ohb7g9vznTsyOL+9Z1I8/5Lly3Vj6OYPYdjsfRTqz3SS31dHcaBxEsLg4+Y6j4qU4cWNfNHU4QklruEN0oaerp3hzZmB4I6eI+CVrDnqtM11cXf0kkQ2LhjPgoXPY69jy1jO8aOueanBO2FgGjqFz5vGjm7YrIZS2G4PlJ4e4aMEucd+al72MmgDJ+GbAAOW4W1oA5JLcG1DoSKTaV2BnyTYvHhijQEa1LZTEO8hijkgfzYRx4+Ch1TY7dVPLu7MMjeRiy0j4K32jjhYJAO8A9rPVM9ysFLUcT4Gd3K7oDs5cmfxJr34Waisf6Myf4lV/vlCmX9Har/lh+8hcvPyf2aTRCEL3hQQhCAPCvc4BQeSQ3apdBCGRf1r8gLG6NqyHdsl4NFpuOhifwzVj8Z8Gt3K57v07YonRh2C7YN8Ap12iVzq/UMrXv4mU3s48xv8AmqxmkdcLk1vQOwFkfds6F7IV+x9tLe7tsbfEZUTn/rn/ALRUyqD8mopXfYbhQzDnvHCMlx5J8e7ZuRcUkesYXuDWgknYY6pzo7NLIMykx74I6pyt9HFQQtmnwH4yXeCb7jeXyZZB7Dc+8Oq3k3pCqKSti0WWmbs+R2PN2ElrbRE2Nz6aUHhGS0uTQ+WR+7nuPqtZPT+CZJmOUX0eEYKEITEwQhCAPR5KR6cn7ynfC7Hskb+SjacrC7hr2D7QISzjaKY5Uzo3sRuwqKOstbiS6DEsWfsHY/wVmYyc/cqF7Iql9PrWFjDjvYnxk+gDvyV9E4PqMrniZl9rMsYCxKy6LE80y7IHgQhCYZAjmd+SEY6pWYzHgCFllCDAQhCY0EIwjCAPHe6Uz38fSQ9Ns58MYTzjdIb1Dx0RcNiw5SyNRzjqmnfDerlG8kZldhx653UctVvdRve+UZLh7KuvWFmtlTRT3C4RvbJFEcOa/HF4DHrlVHLL3TC+Q44Bkt8EilTo7MXuX/Bq1JP3cIiByX8/JINPw95UFx3DBnCQ185qKh0hGATkeiddOOx356kBWa4xJ3zmbtRymOIRg8zlRwp41Ln5WzP2UzpsfSFydsEIQnZMEIQgAQhCAAJfZxxV0XkcpAE+abizJJNnAYOH70s/iPDstLsniMut6dw/umyP/wCwhX85uC0HpgKqOw605FbdZW8JI+Tx+fLiP3EK2TtjHLGy5Yi5vdIwcMFeLInK8IVEKGcDCxHNe4SavrIaGLvJ3EDoBzKYXrYpdwgAuPoE1XO9QUQ4Y8Sz52AGwPmo1fNRPfE48baWm6kZyR8FFqOe53+pFNYYHdznElRKCAB4pZuguybf0lr/APhUv3IUf/2fXr/GkKXMOJaaEIVzQQhCwD0JHdf7DL6IQkYIrzW//lGu/wDbH/2VJXH+yTfsoQpr5I6sXxZCinzTnvz/ALI/ihC68nxJ4uzHU/8Aao/2UyBCEY/igyfJnqEITkwQhCABCEIAFJtMf2SVCEuTopj7OkOxb/yh/wDM7+DVPXe6hC5Yi5PkzWF6hCoiYD3gotrH+pZ+0hC0x9ED1N/4ZL6J87Gf7DN6IQpTCJZqEIWjn//Z">Z (225×225)</a><br><a href="https://www.sogou.com/">搜狗搜索引擎 - 上网从搜狗开始</a><br><a href="https://blog.csdn.net/weixin_30872733/article/details/96986491">运维配置环境—–中间件_weixin_30872733的博客-CSDN博客</a><br><a href="https://blog.csdn.net/qq_36776608/article/details/108901732">weblogic12c静默安装&amp;Domain静默创建_哆啦超猛A的博客-CSDN博客_weblogic静默安装</a><br><a href="http://10.1.23.152:8737/console/login/LoginForm.jsp">Oracle WebLogic Server 管理控制台</a><br><a href="https://www.pianshen.com/">程序员大本营</a><br><a href="https://www.oracle.com/database/technologies/jdbc-ucp-122-downloads.html">12.2.0.1 - JDBC and UCP Download Page</a><br><a href="https://repo1.maven.org/maven2/">Central Repository:</a><br><a href="https://www.cnblogs.com/651434092qq/p/12010985.html">Maven的pom文件依赖提示 ojdbc6 Missing artifact，需要手动下载并导入maven参考 - 咸咸海风 - 博客园</a><br><a href="https://www.toutiao.com/a6965676514872443403">6个能玩上一天的网站，摸鱼必备</a><br><a href="http://localhost:8080/#/musiclistdetail/6624650677/1629009832540">dance-music</a><br><a href="https://www.jianshu.com/p/d73c3de84321">sublime text 3211 注册码 - 简书</a><br><a href="http://www.syiban.com/search/index/init.html?modelid=1&q=%E4%B8%AD%E5%8D%8E%E8%8B%8F%E7%BB%B4%E5%9F%83">‘中华苏维埃’的搜索结果_学习强国挑战答题_在线搜题答案查询</a><br><a href="https://www.cnblogs.com/wanglijun/p/8916790.html">Mysql 多表连接查询 inner join 和 outer join 的使用 - 王默默 - 博客园</a><br><a href="https://leetcode-cn.com/">力扣（LeetCode）官网 - 全球极客挚爱的技术成长平台</a><br><a href="file:///C:/Users/chris/AppData/Local/Temp/%E9%BB%84%E6%B2%B3%E4%BF%9D%E9%99%A9%E8%BD%A6%E5%9E%8B%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3v1.1.0.pdf-revHEAD.svn000.tmp.pdf">压力测试计划</a><br><a href="https://www.bejson.com/">在线JSON校验格式化工具（Be JSON）</a><br><a href="https://tieba.baidu.com/p/6458508546">联想电脑管家锁屏壁纸_联想吧_百度贴吧</a><br><a href="https://www.cnblogs.com/wyl-0120/p/14911253.html">PyCharm2021最新激活码激活方法，成功激活PyCharm永久激活 - 初一丶 - 博客园</a><br><a href="https://www.exception.site/essay/how-to-free-use-pycharm-2020">PyCharm 2021.2 激活码_安装教程_破解版下载 (亲测有用，永久激活，2021年7月4日更新~) - 异常教程</a><br><a href="https://www.cnblogs.com/carySir/p/9547107.html">数据库几种常见的driverClassName和url - 知更之始，博之于涵 - 博客园</a><br><a href="http://mybatis.org/generator/configreference/columnOverride.html">MyBatis Generator Core – The <columnOverride> Element</a><br><a href="https://www.fuyin99.com/play/523644.htm">如果在线试听_小羊诗歌_高音质歌曲_今日圣经网</a><br><a href="https://www.cnblogs.com/Marydon20170307/p/9453064.html">oracle tnsnames.ora文件用法说明 - Marydon - 博客园</a><br><a href="https://www.oracle.com/cn/database/technologies/oracle-database-software-downloads.html#19c">Database Software Downloads | Oracle 中国</a><br><a href="https://www.cnblogs.com/Samuel-Leung/p/13596002.html">全国省市区数据sql - Samuel-Leung - 博客园</a><br><a href="https://www.sakuradm.tv/vodplay/jinjidejurenzuizhongji-1-15.html">进击的巨人 最终季 第16集_视频高清在线观看_进击的巨人 最终季 - 樱花动漫</a><br><a href="https://www.bilibili.com/video/BV1Wx411R7qt?p=2">某马Angular 39(全) 学到这里就会感觉自己离大佬越来越近了 嘿嘿_哔哩哔哩_bilibili</a><br><a href="https://www.cnblogs.com/johnjackson/p/13129177.html">生成uuid - johnjackson - 博客园</a><br><a href="https://blog.csdn.net/my98800/article/details/78066910">(4条消息) Bootstrap实现图片弹出放大_技术资料收集站-CSDN博客_bootstrap 图片放大</a><br><a href="https://www.jb51.net/article/77416.htm">详解Bootstrap四种图片样式_javascript技巧_脚本之家</a><br><a href="https://www.icphoto.cn/">IC photo - 优质的视觉整合营销平台</a><br><a href="https://www.vivo.com/upgrade/detail?modelId=51&type=2">vivo-智能手机官方网站</a><br><a href="https://www.ybjk.com/">元贝驾考_元贝驾考2021科目一_元贝驾考2021科目四</a><br><a href="https://www.axihe.com/tools/webstorm/home.html">WebStorm 教程丨阿西河</a><br><a href="https://www.photopea.com/">Photopea | Online Photo Editor</a><br><a href="https://www.52pojie.cn/thread-1541202-1-1.html">全球收音机 MyRadio_1.0.90.1108 最新纯净版 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.52pojie.cn/thread-1537038-1-1.html">自用垃圾文件清除器 disk cleaner(已更新，可自行添加需删除的文件夹) - 『原创发布区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://yuanliao.info/d/356-1-1-4-bug-tmux">[插件][程序员手册 1.1.4] 兼容暗黑模式，修复收藏 bug，增加 tmux 文档 - 猿料</a><br><a href="http://blog.fondme.cn/apidoc/jdk-1.8-google/">Overview (Java Platform SE 8 )</a><br><a href="https://yuanliao.info/d/356-1-1-4-bug-tmux/27">[插件][程序员手册 1.1.4] 兼容暗黑模式，修复收藏 bug，增加 tmux 文档 - 猿料</a><br><a href="https://www.52pojie.cn/thread-1260484-1-1.html">用爬虫写的小说漫画网站（多线程，已上线） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://bdcraft.net/downloads/purebdcraft-minecraft/">PureBDcraft for Minecraft Java Edition - BDcraft.net</a><br><a href="https://www.curseforge.com/minecraft/texture-packs">Resource Packs - Minecraft - CurseForge</a><br><a href="https://www.curseforge.com/minecraft/texture-packs/faithfulplus/files/all">Files - The F+ [32x] - Resource Packs - Minecraft - CurseForge</a><br><a href="https://minecraft.fandom.com/zh/wiki/%E4%BA%A4%E6%98%93">交易 - Minecraft Wiki，最详细的我的世界百科</a><br><a href="http://mc.163.com/20190918/31451_833410.html">交易 _ 《我的世界》中文Minecraft Wiki：最详细的官方我的世界百科</a><br><a href="https://www.jb51.net/article/76548.htm">javascript中Date format(js日期格式化)方法小结_javascript技巧_脚本之家</a><br><a href="https://www.gaojiufeng.cn/?id=523">如何打包uTools,uTools安装目录,uTools安装位置</a><br><a href="https://github.com/electron/electron/releases">Releases · electron&#x2F;electron</a><br><a href="https://www.52pojie.cn/thread-1260555-1-1.html">idea2020.1.2激活码时间到2089年（亲测可用） - 『编程语言区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.ixigua.com/6562025859396403716?id=6562026524898230792&logTag=80921d591d6e38679fa6">天下粮仓 第22集 - 电视剧 - 高清完整版在线观看 - 西瓜视频</a><br><a href="https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/org/springframework/orm/hibernate3/package-summary.html">org.springframework.orm.hibernate3</a><br><a href="http://blog.chinaunix.net/uid-27666459-id-3993688.html">Linux 下压缩与解压.zip和.rar及.7z文件-kowems-ChinaUnix博客</a><br><a href="https://bbs.3dmgame.com/thread-6069498-1-1.html">202105 城市天际线 1.13.3 Cities Skylines 萌新入门常用35功能模组 350精华MOD - 《城市：天际线》 - 3DMGAME论坛 - Powered by Discuz!</a><br><a href="https://www.52pojie.cn/home.php?mod=task&do=view&id=2">任务 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.zhihu.com/question/30030877/answer/768501967">(8 封私信) 为什么有些英语老师说语法几个小时就可以讲明白？ - 知乎</a><br><a href="https://www.52pojie.cn/search.php">搜索 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1iv411u7wJ?spm_id_from=333.999.0.0">全新版“框架篇”全家桶上线！Spring|SpringSecurity|SpringBoot|MVC|SpringCloud，架构原理-底层源码-面试突击！_哔哩哔哩_bilibili</a><br><a href="https://app.diagrams.net/">Untitled Diagram - diagrams.net</a><br><a href="https://www.52pojie.cn/forum.php?mod=viewthread&tid=1522090&highlight=%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%CD%BC">流程图制作工具drawio v15.4.0 - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn</a><br><a href="https://www.bilibili.com/video/BV1WZ4y1P7Bp?from=search&seid=14708921392841594503&spm_id_from=333.337.0.0">黑马程序员最全SSM框架教程|Spring+SpringMVC+MyBatis全套教程(spring+springmvc+mybatis)_哔哩哔哩_bilibili</a><br><a href="https://www.bilibili.com/video/BV1iv411u7wJ?p=2">全新版“框架篇”全家桶上线！Spring|SpringSecurity|SpringBoot|MVC|SpringCloud，架构原理-底层源码-面试突击！_哔哩哔哩_bilibili</a><br><a href="https://imgtu.com/">路过图床 - 免费图片上传, 专业图片外链, 免费公共图床</a><br><a href="https://blog.csdn.net/u014162133/article/details/109724200">Notion使用详解一基础教程_相见不如怀念-CSDN博客_notion使用教程</a><br><a href="https://sspai.com/post/57464/">想要玩转 Notion？你需要这份快速上手指南 - 少数派</a><br><a href="https://www.sohu.com/a/407491072_120006554">Win10 C盘突然爆满，怎么清理？史上较全的C盘清理方案，推荐收藏_文件</a><br><a href="https://www.cnblogs.com/chy18883701161/p/11108542.html">Spring jar包的下载 - chy_18883701161 - 博客园</a><br><a href="https://blog.csdn.net/weixin_34137799/article/details/85687953">Eclipse 一直提示 loading descriptor for 的解决方法_weixin_34137799的博客-CSDN博客</a><br><a href="https://blog.csdn.net/weboof/article/details/79067701">angularjs中使用ng-repeat的注意点_weboof的博客-CSDN博客_angularjs ng-repeat</a><br><a href="https://www.itab.link/">Home | iTab新标签页</a><br><a href="https://wannengrun.com/zh/">万能命令</a><br><a href="http://www.yinghuacd.com/">樱花动漫－专注动漫的门户网站</a><br><a href="https://greasyfork.org/zh-CN/scripts/">Greasy Fork</a><br><a href="chrome://dino/">Chrome恐龙小游戏</a><br><a href="https://greasyfork.org/zh-CN/">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://www.codeprj.com/blog/a463281.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 码上快乐</a><br><a href="https://www.cnblogs.com/evanc/p/10773288.html">Git使用出现Automatic merge failed; fix conflicts and then commit the result.解决方法 - 玉折兰摧 - 博客园</a><br><a href="https://greasyfork.org/zh-CN">Greasy Fork - 安全、实用的用户脚本大全</a><br><a href="https://zhuanlan.zhihu.com/p/47143191">.&#x2F;idea&#x2F;workspace.xml导致git合并失败 - 知乎</a><br><a href="https://segmentfault.com/a/1190000019075817?utm_source=tag-newest">解决Could not create the Java virtual machine - SegmentFault 思否</a><br><a href="https://www.jianshu.com/p/49fb78bca621">js 日期时间的格式化 - 简书</a><br><a href="http://momentjs.cn/">Moment.js 中文网</a><br><a href="https://www.cnblogs.com/conglingkaishi/p/15598687.html">FinalShell 离线激活工具 - HJ0101 - 博客园</a><br><a href="https://www.cnblogs.com/chenziyu/p/9754792.html">MyBatis的Mapper接口以及Example的实例函数及详解 - 晨子语 - 博客园</a><br><a href="http://tplogin.cn/">TL-WR842N</a><br><a href="https://blog.csdn.net/weixin_43434932/article/details/119595715?spm=1001.2014.3001.5501">Linux环境下weblogic的安装与配置_小可爱的书包的博客-CSDN博客_linux上安装weblogic</a><br><a href="https://www.cnblogs.com/shihuc/p/6761486.html">jersey2+freemarker+spring3的集成 - shihuc - 博客园</a><br><a href="http://www.javashuo.com/article/p-nmvgeeep-cm.html">spark 2.X 疑难问题汇总 - JavaShuo</a><br><a href="https://blog.csdn.net/u013628152/article/details/42126625?locationNum=4&fps=1">jersey2搭建流程_十五楼亮哥-CSDN博客</a><br><a href="https://stackoverflow.com/questions/19152655/java-lang-arrayindexoutofboundsexception-while-deploying-app-in-wls-12">weblogic - java.lang.ArrayIndexOutOfBoundsException while Deploying app in WLS 12 - Stack Overflow</a><br><a href="https://doocs.gitee.io/jvm/#/docs/01-jvm-memory-structure">首页 | JVM 底层原理最全知识总结</a><br><a href="https://mc-mods.org/">MC-Mods - Minecraft Mods, Shaders Mods &amp; X-Ray Mods</a><br><a href="https://www.fuyin99.com/">基督教赞美诗歌_赞美诗歌19118首_赞美诗歌大全_基督教歌曲大全_基督教歌曲 - 今日圣经网</a><br><a href="https://jingyan.baidu.com/article/95c9d20da2075eec4e7561ef.html">VirtualBox的四种网络连接方式详解-百度经验</a><br><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a><br><a href="https://minecraft-resourcepacks.com/faithful-64x64/">Faithful 64x64 1.16.3 &#x2F; 1.16.2 and lower - February 2022</a><br><a href="https://faithful.team/">Faithful</a><br><a href="https://www.aconvert.com/cn/ebook/">在线转换电子书文件</a><br><a href="https://blog.csdn.net/qq_35722899/article/details/89228930">office右键没有新建word，Visio等解决办法_独孤欢颜的博客-CSDN博客_鼠标右键新建没有visio</a><br><a href="https://www.cnblogs.com/shawWey/p/7368070.html">Weblogic-unable to get file lock, will retry …问题解决 - shawWey - 博客园</a><br><a href="https://www.cnblogs.com/xd502djj/archive/2011/03/01/1968041.html">Linux查看CPU和内存使用情况 - 茄子_2008 - 博客园</a><br><a href="https://www.jpxzm.com/2020/08/06/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8CSpirng%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%BA%A7%E5%88%AB/">事务隔离级别和Spirng事务传播级别 - 极品小芝麻</a><br><a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzA4MjIxODc5NA==&hid=1&sn=ca1933315b0f00c7c532050cdb459473&scene=1&devicetype=android-31&version=28001431&lang=zh_CN&nettype=WIFI&ascene=7&session_us=gh_2fa6987e609a&wx_header=3">https://mp.weixin.qq.com/mp/homepage?__biz&#x3D;MzA4MjIxODc5NA&#x3D;&#x3D;&amp;hid&#x3D;1&amp;sn&#x3D;ca1933315b0f00c7c532050cdb459473&amp;scene&#x3D;1&amp;devicetype&#x3D;android-31&amp;version&#x3D;28001431&amp;lang&#x3D;zh_CN&amp;nettype&#x3D;WIFI&amp;ascene&#x3D;7&amp;session_us&#x3D;gh_2fa6987e609a&amp;wx_header&#x3D;3</a><br><a href="https://www.wangeditor.com/">wangEditor - 轻量级 web 富文本编辑器</a><br><a href="http://www.51gjie.com/javaweb/956.html">Spring MVC中forward请求转发2种方式（带参数）</a><br><a href="https://www.cnblogs.com/xiaohi/p/15907083.html">Typora（morkdown编辑器）的下载和破解 - article - 博客园</a><br><a href="https://pixiviz.pwp.app/">Pixiviz</a><br><a href="https://jx.618g.com/?url=https://v.qq.com/x/cover/g6055xnwc815rrr/p00189kcnwz.html">hello树先生</a><br><a href="https://demo.unlock-music.dev/">音乐解锁</a><br><a href="https://docs.go-cqhttp.org/api/#%E5%8F%91%E9%80%81%E7%BE%A4%E6%B6%88%E6%81%AF">API | go-cqhttp 帮助中心</a><br><a href="https://blog.csdn.net/qq_44809707/article/details/119959864">QQ机器人制作教程，超详细_皮小孩ls的博客-CSDN博客_qq机器人制作</a><br><a href="https://blog.51cto.com/zhongmayisheng/4755624">IntelliJ IDEA2021.3 最新版本 免登陆注册 完美激活 免费教程_7557511的技术博客_51CTO博客</a><br><a href="https://optifine.cn/">OptiFine 中文网 - MINECRAFT 高清优化 MOD</a><br><a href="https://blog.csdn.net/wqc19920906/article/details/82193316">消息中间件（一）MQ详解及四大MQ比较_jcpp9527的博客-CSDN博客_消息中间件</a><br><a href="https://app.yinxiang.com/fx/6f84863c-dcf1-44d7-8e4a-44b10f91b705">java</a><br><a href="https://search.maven.org/">Maven Central Repository Search</a><br><a href="https://blog.csdn.net/qq_41701956/article/details/116375749">Java基础知识点总结归纳，超级全面！（2021版）_Java程序员-张凯的博客-CSDN博客_java基础知识点</a><br><a href="https://blog.csdn.net/u011085172/article/details/81192700">wiki.js搭建自己的wiki_云中不知人的博客-CSDN博客_wiki.js</a><br><a href="https://zhuanlan.zhihu.com/p/335359081">wiki.js 使用 postgres 支持中文全文检索 - 知乎</a><br><a href="https://msdn.itellyou.cn/">MSDN, 我告诉你 - 做一个安静的工具站</a><br><a href="http://www.tampermonkeya.com/chrome/10.html">tampermonkey插件4.14 crx_chrome插件 - tampermonkey</a><br><a href="https://windows96.net/">Windows 96</a><br><a href="https://www.natfrp.com/user/">SakuraFrp</a><br><a href="https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-versions.html">MySQL :: MySQL Connector&#x2F;J 5.1 Developer Guide :: 2 Connector&#x2F;J Versions, and the MySQL and Java Versions They Require</a><br><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a><br><a href="https://gitee.com/wangxj2020/wangxj2020?_from=gitee_search">wangxj&#x2F;hexo</a><br><a href="https://www.mcbbs.net/thread-928713-1-1.html">[授权搬运][1.11-1.18][32x32]Faithful x32原版高清丨最经典的原版高清资源包！ - 纹理资源 - Minecraft(我的世界)中文论坛 -</a><br><a href="http://wangxj2020.gitee.io/">φ(゜▽゜*)♪咦，又好了！</a></p><h1 id="Favorites-Bar"><a href="#Favorites-Bar" class="headerlink" title="Favorites_Bar"></a><em>Favorites_Bar</em></h1><p><a href="https://www.lookroot.cn/">lookroot的个人空间</a><br><a href="https://www.toutiao.com/i6901155288209064459/?tt_from=weixin&utm_campaign=client_share&wxshare_count=1&timestamp=1606991945&app=news_article&utm_source=weixin&utm_medium=toutiao_android&use_new_style=1&req_id=202012031839050102020551490A0136D2&group_id=6901155288209064459">Python实现发送定时天气预报至邮箱+每日一句，贴心吗？</a><br><a href="https://www.bilibili.com/bangumi/play/ss4452">刀剑神域：第13话_番剧_bilibili_哔哩哔哩</a><br><a href="http://www.wjjsoft.com/mybase_cn.html#markdown">myBase 知识管理软件, 自由格式数据库, 笔记软件以及个人信息管理系统</a><br><a href="https://www.runoob.com/w3cnote/python-pip-install-usage.html">Python pip 安装与使用 | 菜鸟教程</a><br><a href="http://xinzhi.wenda.so.com/a/1520407242205442">win10系统C:\Documents and Settings找不到问题_360新知</a><br><a href="https://support.microsoft.com/zh-cn/office/%E4%BB%8E-pc-%E5%8D%B8%E8%BD%BD-office-9dd49b83-264a-477a-8fcc-2fdf5dbf61d8">从 PC 卸载 Office - Office 支持</a><br><a href="https://answers.microsoft.com/zh-hans/msoffice/forum/msoffice_install-mso_win10-mso_365hp/office%e6%89%80%e6%9c%89%e7%9a%84%e8%bd%af/0c8a47a7-d25f-4934-9755-10315ebe6050">OFFICE所有的软件都打不开 - Microsoft Community</a><br><a href="https://blog.csdn.net/document_dom/article/details/103995457?utm_medium=distribute.pc_relevant.none-task-blog-searchFromBaidu-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-searchFromBaidu-1.control">(1条消息) L2Dwidget 添加动漫人物，点击出现文字向上渐变隐藏，鼠标滑动出现气泡_haogemr的博客-CSDN博客</a><br><a href="https://blog.90.vc/archives/475">浏览器提示“你的连接不是专用连接”无法使用解决方案 - 安安</a><br><a href="https://www.agefans.net/play/20130023?playid=2_3">进击的巨人 第03话 [BD-1080P][CHS] -在线观看&amp;动漫下载 - AGE动漫</a><br><a href="https://blog.csdn.net/ahhsxy/article/details/6869150">weblogic.security.SecurityInitializationException: Authentication denied: Boot.properties_萧逸闲侃-CSDN博客</a><br><a href="https://www.cnblogs.com/ibigboy/p/11729080.html">weblogic启动服务器Authentication denied: Boot identity not valid - 问北 - 博客园</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>局域网内防火墙配置</title>
    <link href="/2022/09/07/%E6%8A%80%E6%9C%AF/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE/"/>
    <url>/2022/09/07/%E6%8A%80%E6%9C%AF/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h1><blockquote><p>控制面板 &gt; 系统和安全 &gt; Windows Defender 防火墙<br>参考: <a href="https://zhuanlan.zhihu.com/p/139492390">https://zhuanlan.zhihu.com/p/139492390</a></p></blockquote><p><img src="/../images/image-20220907203621591.png" alt="image-20220907203621591"></p><p><img src="/../images/image-20220907203740238.png" alt="image-20220907203740238"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>gitalk评论组件使用教程</title>
    <link href="/2022/08/29/%E6%8A%80%E6%9C%AF/gitalk%E8%AF%84%E8%AE%BA%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
    <url>/2022/08/29/%E6%8A%80%E6%9C%AF/gitalk%E8%AF%84%E8%AE%BA%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://stackoverflow.com/questions/47076743/cors-anywhere-herokuapp-com-not-working-503-what-else-can-i-try">https://stackoverflow.com/questions/47076743/cors-anywhere-herokuapp-com-not-working-503-what-else-can-i-try</a></p></blockquote>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>mybatis学习</title>
    <link href="/2022/08/28/java/mybatis%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/08/28/java/mybatis%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="mybatis学习"><a href="#mybatis学习" class="headerlink" title="mybatis学习"></a>mybatis学习</h1><blockquote><p>官网：<a href="https://mybatis.net.cn/">https://mybatis.net.cn/</a></p><p>视频：<a href="https://www.bilibili.com/video/BV1MT4y1k7wZ">https://www.bilibili.com/video/BV1MT4y1k7wZ</a></p></blockquote><h2 id="什么是MyBatis？"><a href="#什么是MyBatis？" class="headerlink" title="什么是MyBatis？"></a>什么是MyBatis？</h2><ul><li>MyBatis是一款优秀的持久层框架，用于简化JDBC开发</li></ul><h2 id="附：idea配置热部署devtools"><a href="#附：idea配置热部署devtools" class="headerlink" title="附：idea配置热部署devtools"></a>附：idea配置热部署devtools</h2><blockquote><p>1.添加springboot热部署依赖devtools<br>2.打开自动编译，Settings -&gt; Build, Execution, Deployment -&gt; Compiler, 勾选 Build Project automatically<br>3.部署<br>① idea: Build -&gt; Build Project   (Ctrl + F9)<br>② 旧版idea自动部署: Ctrl + Shift + Alt + &#x2F; , 打开registry，找到compiler.automake.allow.when.app.running, 勾选<br>③ 新版(IDEA2021版)idea自动部署：Settings -&gt; Advanced Settings,<br>   找到 allow auto-make to start even if developed application is currently running,  勾选<br>②和③ idea失去焦点5秒后，会自动部署<br>参考：<a href="https://www.cnblogs.com/fanqisoft/p/15200894.html">https://www.cnblogs.com/fanqisoft/p/15200894.html</a></p><p>默认不触发热部署的目录：<br>    &#x2F;META-INF&#x2F;maven<br>    &#x2F;META-INF&#x2F;resources<br>    &#x2F;resources<br>    &#x2F;static<br>    &#x2F;templates<br>    &#x2F;public</p></blockquote><p><img src="/../images/image-20220731134941453.png" alt="image-20220731134941453"></p><p><img src="/../images/image-20220731135028980.png" alt="image-20220731135028980"></p><p><img src="/../images/image-20220731135039516.png" alt="image-20220731135039516"></p><p><img src="/../images/image-20220731135438710.png" alt="image-20220731135438710"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>函数式编程</title>
    <link href="/2022/08/28/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/"/>
    <url>/2022/08/28/java/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="函数式编程-Stream流"><a href="#函数式编程-Stream流" class="headerlink" title="函数式编程-Stream流"></a>函数式编程-Stream流</h1><h2 id="1-Lambda表达式"><a href="#1-Lambda表达式" class="headerlink" title="1. Lambda表达式"></a>1. Lambda表达式</h2><h3 id="1-基本格式"><a href="#1-基本格式" class="headerlink" title="(1) 基本格式"></a>(1) 基本格式</h3><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-function"><span class="hljs-params">(参数列表)</span> -&gt;</span> &#123;代码&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vim 命令</title>
    <link href="/2022/07/17/%E6%8A%80%E6%9C%AF/vim%20%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/07/17/%E6%8A%80%E6%9C%AF/vim%20%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h1 id="vim-命令"><a href="#vim-命令" class="headerlink" title="vim 命令"></a>vim 命令</h1><p><img src="/../images/vivim-graphical.png"></p><p><img src="/../images/20160907135207839.png"></p>]]></content>
    
    
    <categories>
      
      <category>vim</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>idea快捷键</title>
    <link href="/2022/07/13/%E6%8A%80%E6%9C%AF/idea%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <url>/2022/07/13/%E6%8A%80%E6%9C%AF/idea%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="idea快捷键"><a href="#idea快捷键" class="headerlink" title="idea快捷键"></a>idea快捷键</h1><p>Ctrl+F2，停止<br>Alt+Shift+F9，选择 Debug<br>Alt+Shift+F10，选择 Run<br>Ctrl+Shift+F9，编译<br>Ctrl+Shift+F10，运行</p><p>调试<br>F7，步入，进入程序内部、方法内<br>F8，步过，单行执行<br>F9，恢复程序 执行完程序，直到下一个断点<br>Alt+F10，定位到断点</p><p>快捷键<br>Ctrl+F，查找<br>Ctrl+R，替换<br>Ctrl+Shift+C，复制路径<br>Ctrl+Alt+Shift+C，复制引用，必须选择类名<br>Ctrl+z；撤销<br>Ctrl+Shift+Z，还原撤销<br>Alt+7，打开当前文件的结构窗口<br>Ctrl+”+&#x2F;-“，当前方法展开、折叠<br>Ctrl+Shift+”+&#x2F;-“，全部展开、折叠<br>Ctrl+G，定位行<br>Ctrl+Enter，上插一行<br>Ctrl+U，转到父类<br>Ctrl+Alt+S，打开设置对话框<br>Shift+Enter，向下插入新行<br>psvm&#x2F;sout，main&#x2F;System.out.println(); Ctrl+J，查看更多<br>Ctrl+Shift+F，全局查找<br>Ctrl+F，查找 &#x2F; Shift+F3，向上查找 &#x2F; F3，向下查找<br>Ctrl+Shift+S，高级搜索<br>Ctrl+Enter，上插一行<br>Alt+F7，查找整个工程中使用地某一个类、方法或者变量的位置<br>Ctrl+I，实现方法<br>Ctrl+Shift+U，大小写转化<br>Ctrl+Y，删除当前行<br>Ctrl+Alt+Space，类名自动完成<br>鼠标 指在{ or } 位置<br>ctrl+} 跳到 } 方括号末尾<br>ctrl+{ 跳到 { 方括号头<br>Ctrl+F12，可以显示当前文件的结构<br>Ctrl+F7，可以查询当前元素在当前文件中的引用，然后按 F3 可以选择<br>Ctrl+N，可以快速打开类<br>Ctrl+Shift+N，可以快速打开文件<br>Alt+Q，可以看到当前方法的声明<br>Ctrl+P，可以显示参数信息<br>Ctrl+Shift+Insert，可以选择剪贴板内容并插入<br>Alt+Insert，可以生成构造器 &#x2F; Getter&#x2F;Setter 等<br>Ctrl+Alt+V，可以引入变量。例如：new String();  自动导入变量定义<br>Ctrl+Alt+T，可以把代码包在一个块内，例如：try&#x2F;catch<br>Ctrl+Enter，导入包，自动修正<br>Ctrl+Alt+L，格式化代码<br>Ctrl+Alt+I，将选中的代码进行自动缩进编排，这个功能在编辑 JSP 文件时也可以工作<br>Ctrl+Alt+O，优化导入的类和包<br>Ctrl+R，替换文本<br>Ctrl+F，查找文本<br>Ctrl+Shift+Space，自动补全代码<br>Ctrl + 空格，代码提示（与系统输入法快捷键冲突）<br>Ctrl+Shift+Alt+N，查找类中的方法或变量<br>Alt+Shift+C，最近的更改<br>Alt+Shift+Up&#x2F;Down，上 &#x2F; 下移一行<br>Shift+F6，重构 - 重命名<br>Ctrl+X，删除行<br>Ctrl+D，复制行<br>Ctrl+&#x2F; 或 Ctrl+Shift+&#x2F;，注释（&#x2F;&#x2F; 或者 &#x2F;**&#x2F;）<br>Ctrl+H，显示类结构图（类的继承层次）<br>Alt+F1，查找代码所在位置<br>Alt+1，快速打开或隐藏工程面板<br>Ctrl+Alt+left&#x2F;right，返回至上次浏览的位置<br>Alt+Up&#x2F;Down，在方法间快速移动定位<br>Ctrl+Shift+Up&#x2F;Down，向上 &#x2F; 下移动语句<br>F2 或 Shift+F2，高亮错误或警告快速定位<br>Ctrl+Shift+F7，高亮显示所有该文本，按 Esc 高亮消失<br>Alt+F3，逐个往下查找相同文本，并高亮显示<br>Ctrl+Up&#x2F;Down，光标中转到第一行或最后一行下<br>Ctrl+B&#x2F;Ctrl+Click，快速打开光标处的类或方法（跳转到定义处）<br>Ctrl+Alt+B，跳转到方法实现处<br>Ctrl+O，重写方法<br>快速生成foreach：输入iter，然后按tab键</p><p>记录并快速定位上次编辑的位置：代码中输入    &#x2F;&#x2F;TODO</p><p>Ctrl+N，可以快速打开类<br>Ctrl+Shift+N，可以快速打开文件<br>Ctrl+Alt+L，格式化代码<br>Ctrl+X，删除行<br>Ctrl+Shift+Space，自动补全代码<br>Ctrl+Shift+Alt+N，查找类中的方法或变量</p><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>1、Idea设置快捷键自动补全返回值<br>输入new ADSpace()后在本行按ctrl + alt + v 自动填充变量<br>2、IntelliJ中的main函数和System.out.println()快捷键<br>在IntellJ中则是输入psvm，选中即可生成main函数<br>System.out.println();在IntellJ中是输入sout<br>3、IDEA中自动生成get&#x2F;set&#x2F;构造方法 的快捷键<br>在编辑框中右击，选择generator，可以拖选住你想要生成get、set方法的属性，点击完成即可自动生成get和set方法。<br>快捷键为：alt+insert<br>4、IntelliJ新建一个类的快捷键<br>选中文件夹，alt + insert</p><p>5、IDEA 代码抛异常快捷方式<br>快捷方式一（光标移到该代码行，Alt+Enter），可以异常外抛出，也可以try-catch：<br>快捷方式二（光标移到该代码行，或者选中该行代码，Ctrl+Alt+T）：</p><p>Ctrl+I，实现方法<br>Ctrl+O，重写方法<br>Ctrl+Alt+L，格式化代码<br>Ctrl + N  Go to class打开类查询框。（常用）<br>Ctrl + Shift + N   Go to file打开文件查询框。（常用）</p><p>IntelliJ IDEA中查看方法说明快捷键<br>快捷键 Ctrl+Q<br>alt + 左右键  快速切换当前打开的文件<br>Idea快捷键之怎么移动一行代码:<br>Ctrl+Shift+上下键   上下移动代码<br>idea怎样自动生成try&#x2F;catch代码块</p><p>选定代码块, Ctrl+Alt+T</p><p>   alt+enter</p><p>记录并快速定位上次编辑的位置：代码中输入    &#x2F;&#x2F;TODO</p><p>999、idea 自动导入包 快捷键<br>勾选标注 1 选项，IntelliJ IDEA 将在我们书写代码的时候自动帮我们优化导入的包，比如自动去掉一些没有用到的包。<br>勾选标注 2 选项，IntelliJ IDEA 将在我们书写代码的时候自动帮我们导入需要用到的包。但是对于那些同名的包，还是需要手动 Alt + Enter 进行导入的</p><p> 附：<a href="https://www.jiweichengzhu.com/article/4bcb140d5035426f9da3dea46f564e4d">IntelliJ IDEA 2021.3.1永久破解激活图文教程</a></p><p>（2022.6.14 有效！）</p>]]></content>
    
    
    <categories>
      
      <category>idea</category>
      
    </categories>
    
    
    <tags>
      
      <tag>工具</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SQL查询语句的执行顺序解析</title>
    <link href="/2022/07/04/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E8%A7%A3%E6%9E%90/"/>
    <url>/2022/07/04/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="SQL查询语句的执行顺序解析"><a href="#SQL查询语句的执行顺序解析" class="headerlink" title="SQL查询语句的执行顺序解析"></a>SQL查询语句的执行顺序解析</h1><blockquote><p><a href="https://www.toutiao.com/article/6729452080848699918/">https://www.toutiao.com/article/6729452080848699918/</a></p></blockquote><p><img src="/../images/bffd7c92c21a427ea20f4936f45b6d69.png" alt="SQL查询语句的执行顺序解析"></p><p>结合上图，整理出如下伪SQL查询语句。</p><p><img src="/../images/b6c224ceaef04347a2269a3141d485f3.png" alt="SQL查询语句的执行顺序解析"></p><p>从这个顺序中我们可以发现，所有的查询语句都是从 <strong>FROM</strong> 开始执行的。在实际执行过程中，每个步骤都会为下一个步骤生成一个虚拟表，这个虚拟表将作为下一个执行步骤的输入。 接下来，我们详细的介绍下每个步骤的具体执行过程。</p><hr><h1 id="1-FROM-执行笛卡尔积"><a href="#1-FROM-执行笛卡尔积" class="headerlink" title="1 FROM 执行笛卡尔积"></a><strong>1 FROM</strong> 执行笛卡尔积</h1><p>FROM 才是 SQL 语句执行的第一步，并非 SELECT 。对FROM子句中的前两个表执行笛卡尔积(交叉联接），生成虚拟表VT1，获取不同数据源的数据集。</p><p><strong>FROM子句执行顺序为从后往前、从右到左</strong>，FROM 子句中写在最后的表(基础表 driving table)将被最先处理，即最后的表为驱动表，当FROM 子句中包含多个表的情况下，我们需要选择数据最少的表作为基础表。</p><hr><h1 id="2-ON-应用ON过滤器"><a href="#2-ON-应用ON过滤器" class="headerlink" title="2 ON 应用ON过滤器"></a><strong>2 ON 应用ON过滤器</strong></h1><p>对虚拟表<strong>VT1</strong> 应用ON筛选器，ON 中的逻辑表达式将应用到虚拟表 <strong>VT1</strong>中的各个行，筛选出满足ON 逻辑表达式的行，生成虚拟表 <strong>VT2</strong> 。</p><hr><h1 id="3-JOIN-添加外部行"><a href="#3-JOIN-添加外部行" class="headerlink" title="3 JOIN 添加外部行"></a><strong>3 JOIN 添加外部行</strong></h1><p>如果指定了OUTER JOIN保留表中未找到匹配的行将作为外部行添加到虚拟表 <strong>VT2</strong>，生成虚拟表 <strong>VT3</strong>。保留表如下：</p><ul><li>LEFT OUTER JOIN把左表记为保留表</li><li>RIGHT OUTER JOIN把右表记为保留表</li><li>FULL OUTER JOIN把左右表都作为保留表</li></ul><p>在虚拟表 <strong>VT2</strong>表的基础上添加保留表中被过滤条件过滤掉的数据，非保留表中的数据被赋予NULL值，最后生成虚拟表 <strong>VT3</strong>。</p><p>如果FROM子句包含两个以上的表，则对上一个联接生成的结果表和下一个表重复执行步骤1~3，直到处理完所有的表为止。</p><hr><h1 id="4-WHERE-应用WEHRE过滤器"><a href="#4-WHERE-应用WEHRE过滤器" class="headerlink" title="4 WHERE 应用WEHRE过滤器"></a><strong>4 WHERE 应用WEHRE过滤器</strong></h1><p>对虚拟表 <strong>VT3</strong>应用WHERE筛选器。根据指定的条件对数据进行筛选，并把满足的数据插入虚拟表 <strong>VT4</strong>。</p><ul><li>由于数据还没有分组，因此现在还不能在WHERE过滤器中使用聚合函数对分组统计的过滤。</li><li>同时，由于还没有进行列的选取操作，因此在SELECT中使用列的别名也是不被允许的。</li></ul><hr><h1 id="5-GROUP-BY-分组"><a href="#5-GROUP-BY-分组" class="headerlink" title="5 GROUP BY 分组"></a><strong>5 GROUP BY 分组</strong></h1><p>按GROUP BY子句中的列&#x2F;列表将虚拟表 <strong>VT4</strong>中的行唯一的值组合成为一组，生成虚拟表<strong>VT5</strong>。如果应用了GROUP BY，那么后面的所有步骤都只能得到的虚拟表VT5的列或者是聚合函数（count、sum、avg等）。原因在于最终的结果集中只为每个组包含一行。</p><p>同时，从这一步开始，后面的语句中都可以使用SELECT中的别名。</p><hr><h1 id="6-AGG-FUNC-计算聚合函数"><a href="#6-AGG-FUNC-计算聚合函数" class="headerlink" title="6 AGG_FUNC 计算聚合函数"></a><strong>6</strong> AGG_FUNC <strong>计算聚合函数</strong></h1><p>计算 max 等聚合函数。SQL Aggregate 函数计算从列中取得的值，返回一个单一的值。常用的 Aggregate 函数包涵以下几种：</p><ul><li>AVG：返回平均值</li><li>COUNT：返回行数</li><li>FIRST：返回第一个记录的值</li><li>LAST：返回最后一个记录的值</li><li>MAX： 返回最大值</li><li>MIN：返回最小值</li><li>SUM： 返回总和</li></ul><hr><h1 id="7-WITH-应用ROLLUP或CUBE"><a href="#7-WITH-应用ROLLUP或CUBE" class="headerlink" title="7 WITH 应用ROLLUP或CUBE"></a><strong>7 WITH 应用ROLLUP或CUBE</strong></h1><p>对虚拟表 <strong>VT5</strong>应用ROLLUP或CUBE选项，生成虚拟表 <strong>VT6</strong>。</p><p>CUBE 和 ROLLUP 区别如下：</p><ul><li>CUBE 生成的结果数据集显示了所选列中值的所有组合的聚合。</li><li>ROLLUP 生成的结果数据集显示了所选列中值的某一层次结构的聚合。</li></ul><hr><h1 id="8-HAVING-应用HAVING过滤器"><a href="#8-HAVING-应用HAVING过滤器" class="headerlink" title="8 HAVING 应用HAVING过滤器"></a><strong>8 HAVING 应用HAVING过滤器</strong></h1><p>对虚拟表VT6应用HAVING筛选器。根据指定的条件对数据进行筛选，并把满足的数据插入虚拟表VT7。</p><p><strong>HAVING</strong> 语句在SQL中的主要作用与<strong>WHERE</strong>语句作用是相同的，但是<strong>HAVING</strong>是过滤聚合值，在 SQL 中增加 HAVING 子句原因就是，WHERE 关键字无法与聚合函数一起使用，HAVING子句主要和GROUP BY子句配合使用。</p><hr><h1 id="9-SELECT-选出指定列"><a href="#9-SELECT-选出指定列" class="headerlink" title="9 SELECT 选出指定列"></a><strong>9 SELECT 选出指定列</strong></h1><p>将虚拟表 <strong>VT7</strong>中的在SELECT中出现的列筛选出来，并对字段进行处理，计算SELECT子句中的表达式，产生虚拟表 <strong>VT8</strong>。</p><hr><h1 id="10-DISTINCT-行去重"><a href="#10-DISTINCT-行去重" class="headerlink" title="10 DISTINCT 行去重"></a><strong>10 DISTINCT 行去重</strong></h1><p>将重复的行从虚拟表 <strong>VT8</strong>中移除，产生虚拟表 <strong>VT9</strong>。DISTINCT用来删除重复行，只保留唯一的。</p><hr><h1 id="11-ORDER-BY-排列"><a href="#11-ORDER-BY-排列" class="headerlink" title="11 ORDER BY 排列"></a><strong>11 ORDER BY 排列</strong></h1><p>将虚拟表 <strong>VT9</strong>中的行按ORDER BY 子句中的列&#x2F;列表排序，生成游标 <strong>VC10</strong> ，注意不是虚拟表。因此使用 ORDER BY 子句查询不能应用于表达式。同时，ORDER BY子句的执行顺序为从左到右排序，是非常消耗资源的。</p><hr><h1 id="12-LIMIT-x2F-OFFSET-指定返回行"><a href="#12-LIMIT-x2F-OFFSET-指定返回行" class="headerlink" title="12 LIMIT&#x2F;OFFSET 指定返回行"></a><strong>12 LIMIT&#x2F;OFFSET 指定返回行</strong></h1><p>从VC10的开始处选择指定数量行，生成虚拟表 <strong>VT11</strong>，并返回调用者。</p><hr><h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a><strong>实例</strong></h1><p><strong>接下来，我们看一个实例，以下SQL查询语句是否存在问题？</strong></p><p><img src="/../images/488d41b2fda94ba79808735038e95be9.png" alt="SQL查询语句的执行顺序解析"></p><p>首先，我们先看下如上<strong>SQL</strong>的执行顺序，如下：</p><ol><li>首先执行 FROM 子句, 从<strong>学生成绩表</strong>中组装数据源的数据。</li><li>执行 WHERE 子句, 筛选<strong>学生成绩表</strong>中所有学生的数学成绩不为 NULL 的数据 。</li><li>执行 GROUP BY 子句, 把<strong>学生成绩表</strong>按 “<strong>班级</strong>“ 字段进行分组。</li><li>计算 avg 聚合函数, 按找每个班级分组求出 <strong>数学平均成绩</strong>。</li><li>执行 HAVING 子句, 筛选出班级 <strong>数学平均成绩</strong>大于 75 分的。</li><li>执行SELECT语句，返回数据，但别着急，还需要执行后面几个步骤。</li><li>执行 ORDER BY 子句, 把最后的结果按 “数学平均成绩” 进行排序。</li><li>执行LIMIT ，限制仅返回3条数据。结合ORDER BY 子句，即返回所有班级中数学平均成绩的前三的班级及其数学平均成绩。</li></ol><hr><p><strong>思考一下，如果我们将上面语句改成，如下会怎样？</strong></p><p><img src="/../images/ee8f5e59572e48288ef32d097942899b.png" alt="SQL查询语句的执行顺序解析"></p><p>我们发现，若将 <strong>avg(数学成绩) &gt; 75</strong> 放到WHERE子句中，此时GROUP BY语句还未执行，因此此时聚合值 <strong>avg(数学成绩)</strong> 还是未知的，因此会报错。</p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我们为什么要努力？</title>
    <link href="/2022/06/18/%E5%85%B6%E4%BB%96/study/"/>
    <url>/2022/06/18/%E5%85%B6%E4%BB%96/study/</url>
    
    <content type="html"><![CDATA[<h1 id="我们为什么要努力？"><a href="#我们为什么要努力？" class="headerlink" title="我们为什么要努力？"></a>我们为什么要努力？</h1><blockquote><p><a href="https://www.bilibili.com/video/BV11a4115786">https://www.bilibili.com/video/BV11a4115786</a></p></blockquote><h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ul><li>我想成为什么样的人？</li><li>我想过怎么样的生活？</li></ul><h2 id="诗和远方"><a href="#诗和远方" class="headerlink" title="诗和远方"></a>诗和远方</h2><ul><li><p>于自己</p><ul><li><p>体面又热爱的工作</p></li><li><p>足够支配的金钱</p></li><li><p>能撑起自己欲望的能力</p></li><li><p>充满希望的生活</p></li></ul></li><li><p>于父母</p><ul><li><p>更好的生活</p></li><li><p>想到自己就骄傲的底气</p></li></ul></li><li><p>于朋友</p><ul><li>和优秀的人一同学习工作</li></ul></li><li><p>于社会</p><ul><li>力所能及地帮助一些需要帮助的人</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>励志</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud学习</title>
    <link href="/2022/06/17/java/SpringCloud%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/06/17/java/SpringCloud%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="SpringCloud学习"><a href="#SpringCloud学习" class="headerlink" title="SpringCloud学习"></a>SpringCloud学习</h1><blockquote><p><a href="https://www.kuangstudy.com/course">https://www.kuangstudy.com/course</a></p><p>Dubbo&#x2F;Zookeeper初识：<a href="https://www.kuangstudy.com/course/detail/1321005322055974914">https://www.kuangstudy.com/course/detail/1321005322055974914</a></p><p>【黑马程序员】SpringCloud+RabbitMQ+Docker+Redis+搜索+分布式：<a href="https://www.bilibili.com/video/BV1LQ4y127n4">https://www.bilibili.com/video/BV1LQ4y127n4</a></p><p>【狂神说Java】SpringCloud最新教程IDEA版：<a href="https://www.bilibili.com/video/BV1jJ411S7xr">https://www.bilibili.com/video/BV1jJ411S7xr</a></p><p>参考笔记：<a href="https://www.xn2001.com/archives/663.html">https://www.xn2001.com/archives/663.html</a></p><p>视频资源教程下载：<br><a href="https://pan.baidu.com/s/169SFtYEvel44hRJhmFTRTQ">https://pan.baidu.com/s/169SFtYEvel44hRJhmFTRTQ</a><br>提取码：1234</p><p><a href="https://www.52pojie.cn/thread-1653246-1-1.html">https://www.52pojie.cn/thread-1653246-1-1.html</a></p><p>百度链接：<a href="https://pan.baidu.com/s/1Ez60k6VY4c9IaUExyy2e0Q?pwd=gvw9">https://pan.baidu.com/s/1Ez60k6VY4c9IaUExyy2e0Q?pwd=gvw9</a> 提取码：gvw9 </p></blockquote><h2 id="一、认识微服务"><a href="#一、认识微服务" class="headerlink" title="一、认识微服务"></a>一、认识微服务</h2><h3 id="1-微服务技术栈"><a href="#1-微服务技术栈" class="headerlink" title="1. 微服务技术栈"></a>1. 微服务技术栈</h3><p><img src="/images/image-20220623170325044.png" alt="image-20220623170325044"></p><h3 id="2-微服务架构特征"><a href="#2-微服务架构特征" class="headerlink" title="2. 微服务架构特征"></a>2. 微服务架构特征</h3><p>微服务是一种经过良好架构设计的<strong>分布式</strong>架构方案，微服务架构特征：</p><ul><li>单一职责：微服务拆分粒度更小，每一个微服务都对应唯一的业务能力，做到单一职责，避免重复业务开发</li><li>面向服务：微服务对外暴露业务接口</li><li>自治：团队独立、技术独立、数据独立、部署独立</li><li>隔离性强：服务调用做好隔离、容错、降级，避免出现级联问题</li></ul><p><img src="/images/image-20220623172517628.png" alt="image-20220623172517628"></p><h3 id="3-总结"><a href="#3-总结" class="headerlink" title="3. 总结"></a>3. 总结</h3><h4 id="单体架构特点"><a href="#单体架构特点" class="headerlink" title="单体架构特点"></a>单体架构特点</h4><ul><li>简单方便，高度耦合，扩展性差，适合小型项目。例如：学生管理系统</li></ul><h4 id="分布式架构特点"><a href="#分布式架构特点" class="headerlink" title="分布式架构特点"></a>分布式架构特点</h4><ul><li>松耦合，扩展性好，但架构复杂，难度大。适合大型互联网项目，例如：京东、淘宝</li></ul><h4 id="微服务：一种良好的分布式架构方案"><a href="#微服务：一种良好的分布式架构方案" class="headerlink" title="微服务：一种良好的分布式架构方案"></a>微服务：一种良好的分布式架构方案</h4><ul><li>优点：拆分粒度更小、服务更独立、耦合度更低</li><li>缺点：架构非常复杂，运维、监控、部署难度提高</li></ul><h3 id="4-微服务结构"><a href="#4-微服务结构" class="headerlink" title="4. 微服务结构"></a>4. 微服务结构</h3><p>微服务这种方案需要技术框架来落地，如SpringCloud和阿里巴巴的Dubbo。</p><p><img src="/../images/image-20220623173336331.png" alt="image-20220623173336331"></p><h3 id="5-微服务技术对比"><a href="#5-微服务技术对比" class="headerlink" title="5. 微服务技术对比"></a>5. 微服务技术对比</h3><p><img src="/../images/image-20220623173851569.png" alt="image-20220623173851569"></p><h3 id="6-SpringCloud"><a href="#6-SpringCloud" class="headerlink" title="6. SpringCloud"></a>6. SpringCloud</h3><ul><li>SpringCloud是目前国内使用最广泛的微服务框架。官网地址：<a href="https://spring.io/projects/spring-cloud">https://spring.io/projects/spring-cloud</a></li><li>SpringCloud集成了各种微服务功能组件，并基于SpringBoot实现了这些组件的自动装配，从而提供了良好的开箱即用体验</li></ul><p><img src="/../images/image-20220623174803493.png" alt="image-20220623174803493"></p><p><img src="/../images/image-20220623183832199.png" alt="image-20220623183832199"></p><p><img src="/../images/image-20220623183906052.png" alt="image-20220623183906052"></p><p><img src="/../images/image-20220623183951348.png" alt="image-20220623183951348"></p><p><img src="/../images/image-20220623184212744.png" alt="image-20220623184212744"></p><p><img src="/../images/image-20220623193925602.png" alt="image-20220623193925602"></p><p><img src="/../images/image-20220627192514512.png" alt="image-20220627192514512"></p><p><img src="/../images/image-20220627193436114.png" alt="image-20220627193436114"></p><p><img src="/../images/image-20220627193734115.png" alt="image-20220627193734115"></p><p><img src="/../images/image-20220627193927977.png" alt="image-20220627193927977"></p><p><img src="/../images/image-20220627194742191.png" alt="image-20220627194742191"></p><p><img src="/../images/image-20220628122331943.png" alt="image-20220628122331943"></p><p><img src="/../images/image-20220628123149308.png" alt="image-20220628123149308"></p><blockquote><p>D:\dev\nacos\bin</p><p>PS D:\dev\nacos\bin&gt; .\startup.cmd -m standalone</p><p><a href="http://192.168.1.102:8848/nacos/index.html#/login">http://192.168.1.102:8848/nacos/index.html#/login</a></p><p>username: nacos</p><p>password: nacos</p></blockquote><p><img src="/../images/image-20220628142329510.png" alt="image-20220628142329510"></p><p><img src="/../images/image-20220628142820053.png" alt="image-20220628142820053"></p><p><img src="/../images/image-20220628150403684.png" alt="image-20220628150403684"></p><p><img src="/../images/image-20220628150823628.png" alt="image-20220628150823628"></p><p><img src="/../images/image-20220628160455774.png" alt="image-20220628160455774"></p><h2 id="nacos集群搭建"><a href="#nacos集群搭建" class="headerlink" title="nacos集群搭建"></a>nacos集群搭建</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">Nginx</span><br>PS C:\Users\chris&gt; cd D:\dev\nginx-1.20.2<br>PS D:\dev\nginx-1.20.2&gt; start .\nginx.exe<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">nacos单体</span><br>D:\dev\nacos\bin<br>PS D:\dev\nacos\bin&gt; .\startup.cmd -m standalone<br><br>http://192.168.1.102:8848/nacos/index.html#/login<br>http://169.254.48.182:8848/nacos/index.html<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">nacos集群</span><br>D:\dev\cluster\nacos1\bin<br>D:\dev\cluster\nacos2\bin<br>D:\dev\cluster\nacos3\bin<br><br>PS D:\dev\cluster\nacos1\bin&gt; clear<br>PS D:\dev\cluster\nacos1\bin&gt; .\startup.cmd<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">访问：http://localhost/nacos</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">用户名/密码: nacos/nacos</span><br></code></pre></td></tr></table></figure><h2 id="Nacos集群启动报错：Caused-by-java-net-BindException-Address-already-in-use-bind"><a href="#Nacos集群启动报错：Caused-by-java-net-BindException-Address-already-in-use-bind" class="headerlink" title="Nacos集群启动报错：Caused by: java.net.BindException: Address already in use: bind"></a>Nacos集群启动报错：Caused by: java.net.BindException: Address already in use: bind</h2><blockquote><p><a href="https://www.cnblogs.com/liqinzhen/p/12975011.html">https://www.cnblogs.com/liqinzhen/p/12975011.html</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">解决办法：</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">    在命令窗口输入命令：netstat -ano | findstr 8848（8848改成自己被占用的 端口）,</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">    然后输入结束进程的命令 ：taskkill /pid 14076 /f  一个一个关掉进程。</span><br><br>PS C:\Users\chris&gt; netstat -ano | findstr 8846<br>  TCP    127.0.0.1:7850         127.0.0.1:8846         SYN_SENT        61620<br>PS C:\Users\chris&gt;<br>PS C:\Users\chris&gt; taskkill /pid 61620 /f<br>成功: 已终止 PID 为 61620 的进程。<br>PS C:\Users\chris&gt;<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220628235845248.png" alt="image-20220628235845248"></p><p><img src="/../images/image-20220629000136933.png" alt="image-20220629000136933"></p><p><img src="/../images/image-20220629001130644.png" alt="image-20220629001130644"></p><p><img src="/../images/image-20220629002113457.png" alt="image-20220629002113457"></p><p><img src="/../images/image-20220629002324934.png" alt="image-20220629002324934"></p><p><img src="/../images/image-20220629002448281.png" alt="image-20220629002448281"></p><p><img src="/../images/image-20220629110735435.png" alt="image-20220629110735435"></p><p><img src="/../images/image-20220629111802254.png" alt="image-20220629111802254"></p><p><img src="/../images/image-20220629123311660.png" alt="image-20220629123311660"></p><p><img src="/../images/image-20220629123345575.png" alt="image-20220629123345575"></p><p><img src="/../images/image-20220629123441500.png" alt="image-20220629123441500"></p><blockquote><p>参考文档：</p><p><a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-starter">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-starter</a></p><p><a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-after-route-predicate-factory">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#the-after-route-predicate-factory</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Spring</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>框架</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PotPlayer快捷键大全</title>
    <link href="/2022/06/17/%E6%8A%80%E6%9C%AF/potplay%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <url>/2022/06/17/%E6%8A%80%E6%9C%AF/potplay%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="PotPlayer快捷键大全"><a href="#PotPlayer快捷键大全" class="headerlink" title="PotPlayer快捷键大全"></a>PotPlayer快捷键大全</h1><p><a href="https://www.jianshu.com/u/952d20fdfc82"><img src="https://upload.jianshu.io/users/upload_avatars/11722017/60265714-cc6c-4ac2-8bb8-c1fb1a03aadd.jpg?imageMogr2/auto-orient/strip%7CimageView2/1/w/96/h/96/format/webp" alt="img"></a></p><p><a href="https://www.jianshu.com/u/952d20fdfc82">_灯火阑珊处</a>关注</p><p>12018.10.17 15:03:32字数 2,895阅读 65,278</p><h4 id="PotPlayer最新版下载地址"><a href="#PotPlayer最新版下载地址" class="headerlink" title="PotPlayer最新版下载地址"></a><strong><a href="https://links.jianshu.com/go?to=http://www.potplayer.org/">PotPlayer最新版下载地址</a></strong></h4><p>快捷键      指令</p><p>-——————————————————-</p><p>“       播放-&gt;跳略播放-&gt;跳略播放 开|关</p><p>‘       播放-&gt;跳略播放-&gt;跳略播放设置…</p><p>,       字幕-&gt;字幕同步(帧率)-&gt;滞后0.5 秒</p><p>Alt+,    字幕-&gt;字幕同步(帧率)-&gt;滞后50 秒</p><p>.       字幕-&gt;字幕同步(帧率)-&gt;超前0.5 秒</p><p>Alt+.    字幕-&gt;字幕同步(帧率)-&gt;超前50 秒</p><p>&#x2F;       字幕-&gt;字幕同步(帧率)-&gt;复位</p><p>&lt;       字幕-&gt;字幕同步(帧率)-&gt;滞后0.5 秒</p><p>&gt;       字幕-&gt;字幕同步(帧率)-&gt;超前0.5 秒</p><p>[       播放-&gt;AB 区段循环-&gt;设定起点</p><p>Alt+[    播放-&gt;AB 区段循环-&gt;将起点步进0.1 秒</p><p>\       播放-&gt;AB 区段循环-&gt;区段循环 开|关</p><p>Alt+\    播放-&gt;AB 区段循环-&gt;当前章节&#x2F;标记&#x2F;书签 区段循环</p><p>]       播放-&gt;AB 区段循环-&gt;设定止点</p><p>Alt+]    播放-&gt;AB 区段循环-&gt;将止点步进0.1 秒</p><p>&#96;       屏幕-&gt;迷你尺寸</p><p>{       播放-&gt;AB 区段循环-&gt;解除起点</p><p>}       播放-&gt;AB 区段循环-&gt;解除止点</p><p>Backspace      播放-&gt;定位-&gt;重新开始</p><p>Shift+Backspace 播放-&gt;定位-&gt;结束前30秒</p><p>Ctrl+Backspace  播放-&gt;定位-&gt;中段</p><p>Alt+Backspace   DVD-&gt;标题菜单</p><p>Tab            配置&#x2F;语言&#x2F;其他-&gt;OSD信息</p><p>Shift+Tab        配置&#x2F;语言&#x2F;其他-&gt;简要信息</p><p>Enter           屏幕-&gt;全屏</p><p>Ctrl+Enter       屏幕-&gt;全屏+(拉伸)</p><p>Ctrl+Shift+Enter   屏幕-&gt;全屏(其他显示器)</p><p>Alt+Enter        屏幕-&gt;全屏</p><p>Ctrl+Alt+Enter    屏幕-&gt;全屏+(保持比例)</p><p>Space          播放-&gt;播放|暂停</p><p>PgUp          电视-&gt;下一频道</p><p>Shift+PgUp     上一 书签&#x2F;章节</p><p>Ctrl+PgUp   电视-&gt;前一收看频道</p><p>Alt+PgUp    字幕-&gt;字幕风格-&gt;字体+</p><p>PgDn     电视-&gt;上一频道</p><p>Shift+PgDn     下一 书签&#x2F;章节</p><p>Ctrl+PgDn   电视-&gt;后一收看频道</p><p>Alt+PgDn    字幕-&gt;字幕风格-&gt;字体-</p><p>End      播放-&gt;定位-&gt;下一对白</p><p>Home     播放-&gt;定位-&gt;上一对白</p><p>Ctrl+Home   播放-&gt;定位-&gt;当前字幕起点</p><p>Alt+Home    字幕-&gt;字幕风格-&gt;复位</p><p>←       播放-&gt;定位-&gt;步退5 秒</p><p>Shift+←    播放-&gt;定位-&gt;步退1 分</p><p>Ctrl+←      播放-&gt;定位-&gt;步退30 秒</p><p>Ctrl+Shift+←  播放-&gt;定位-&gt;上一关键帧</p><p>Alt+←     字幕-&gt;字幕风格-&gt;左移</p><p>Ctrl+Alt+←     播放-&gt;定位-&gt;步退5 分</p><p>↑       声音-&gt;音量+</p><p>Shift+↑    声音-&gt;播放音量控制-&gt;主音量+</p><p>Alt+↑     字幕-&gt;字幕风格-&gt;上移</p><p>Ctrl+Alt+↑     声音-&gt;系统音量-&gt;波形音量+</p><p>Ctrl+Alt+Shift+↑ 声音-&gt;系统音量-&gt;主音量+</p><p>→       播放-&gt;定位-&gt;步进5 秒</p><p>Shift+→    播放-&gt;定位-&gt;步进1 分</p><p>Ctrl+→      播放-&gt;定位-&gt;步进30 秒</p><p>Ctrl+Shift+→  播放-&gt;定位-&gt;下一关键帧</p><p>Alt+→     字幕-&gt;字幕风格-&gt;右移</p><p>Ctrl+Alt+→     播放-&gt;定位-&gt;步进5 分</p><p>↓       声音-&gt;音量-</p><p>Shift+↓    声音-&gt;播放音量控制-&gt;主音量-</p><p>Alt+↓     字幕-&gt;字幕风格-&gt;下移</p><p>Ctrl+Alt+↓     声音-&gt;系统音量-&gt;波形音量-</p><p>Ctrl+Alt+Shift+↓ 声音-&gt;系统音量-&gt;主音量-</p><p>Insert      电视-&gt;最后收看频道</p><p>Ctrl+Insert   收藏-&gt;添加当前文件夹</p><p>Alt+Insert     收藏-&gt;添加当前文件</p><p>Delete      电视-&gt;跳转至指定频道…</p><p>Shift+Delete  播放-&gt;播放列表-&gt;删除-&gt;删除文件</p><p>Ctrl+Shift+Delete 播放-&gt;播放列表-&gt;删除-&gt;删除文件(+字幕)</p><p>0       屏幕-&gt;自定义尺寸设置…</p><p>1       屏幕-&gt;半倍屏</p><p>Alt+1     屏幕-&gt;显示器30% 尺寸</p><p>2       屏幕-&gt;1 倍屏</p><p>Alt+2     屏幕-&gt;显示器45% 尺寸</p><p>3       屏幕-&gt;1.5 倍屏</p><p>Alt+3     屏幕-&gt;显示器60% 尺寸</p><p>4       屏幕-&gt;2.0 倍屏</p><p>Alt+4     屏幕-&gt;显示器75% 尺寸</p><p>5       屏幕-&gt;最大化</p><p>6       屏幕-&gt;最大化|还原</p><p>7       屏幕-&gt;最大化+(过任务栏)|还原</p><p>8       屏幕-&gt;无边框尺寸</p><p>9       屏幕-&gt;自定义尺寸</p><p>A       声音-&gt;选择声音</p><p>Shift+A    声音-&gt;声音处理-&gt;语音增强</p><p>Alt+A     声音-&gt;选择声音-&gt;按序切换声音</p><p>Ctrl+Alt+A     配置&#x2F;语言&#x2F;其他-&gt;收尾处理-&gt;依次切换收尾方式</p><p>B       播放-&gt;AB 区段循环</p><p>Ctrl+B      视频-&gt;图像处理-&gt;软模糊</p><p>Alt+B     字幕-&gt;字幕风格-&gt;粗体</p><p>Ctrl+Alt+B     视频-&gt;下边距-&gt;按序切换边距</p><p>C       播放-&gt;播放速度-&gt;加速+</p><p>Shift+C    声音-&gt;声音处理-&gt;晶化</p><p>Ctrl+C      视频-&gt;图像截取-&gt;复制当前源画面</p><p>Alt+C     视频-&gt;视频录制-&gt;录制视频…</p><p>Ctrl+Alt+C     视频-&gt;图像截取-&gt;复制当前实画面</p><p>D       播放-&gt;定位-&gt;上一帧</p><p>Shift+D    声音-&gt;声音处理-&gt;降噪</p><p>Ctrl+D      打开-&gt;DVD 设备</p><p>Alt+D     打开-&gt;设备设置…</p><p>Ctrl+Alt+D     打开-&gt;蓝光设备</p><p>E       视频-&gt;亮度+1%</p><p>Shift+E    声音-&gt;均衡器</p><p>Ctrl+E      视频-&gt;图像截取-&gt;截存当前源画面</p><p>Alt+E     字幕-&gt;字幕浏览器…</p><p>Ctrl+Alt+E     视频-&gt;图像截取-&gt;截存当前实画面</p><p>F       播放-&gt;定位-&gt;下一帧</p><p>Ctrl+F      滤镜-&gt;滤镜&#x2F;解码器管理…</p><p>Alt+F     字幕-&gt;字幕风格-&gt;字体设置…</p><p>G       播放-&gt;定位-&gt;手动定位…</p><p>Shift+G    声音-&gt;音轨-&gt;声音录制…</p><p>Ctrl+G      视频-&gt;图像截取-&gt;连续截图…</p><p>Alt+G     电视-&gt;频道控制-&gt;频道管理…</p><p>H       播放-&gt;章节&#x2F;书签</p><p>Shift+H    声音-&gt;音调-&gt;低音</p><p>Ctrl+H      视频-&gt;图像处理-&gt;去块(提高画质)</p><p>Alt+H     字幕-&gt;显示字幕</p><p>I       视频-&gt;色彩度-1%</p><p>Ctrl+I      视频-&gt;反交错-&gt;切换反交错方式</p><p>J       视频-&gt;3D 视频输出</p><p>Shift+J    声音-&gt;音调-&gt;高音</p><p>Ctrl+J      打开-&gt;摄像头&#x2F;其他设备</p><p>K       视频-&gt;图像截取</p><p>Shift+K    声音-&gt;音调-&gt;默认音调</p><p>Ctrl+K      打开-&gt;数字TV(BDA 设备)</p><p>Alt+K     视频-&gt;图像旋转-&gt;按序选择旋转方式</p><p>L       字幕-&gt;选择字幕</p><p>Shift+L    配置&#x2F;语言&#x2F;其他-&gt;语言</p><p>Ctrl+L      视频-&gt;图像处理-&gt;电平控制</p><p>Alt+L     字幕-&gt;选择字幕-&gt;依次选择字幕</p><p>M       声音-&gt;静音</p><p>Ctrl+M      视频-&gt;图像处理-&gt;瞬态降噪</p><p>Ctrl+Alt+M     声音-&gt;系统音量-&gt;静音</p><p>Ctrl+Alt+Shift+M 声音-&gt;系统音量-&gt;静音</p><p>N       电视-&gt;频道控制</p><p>Shift+N    声音-&gt;声音处理-&gt;规格化</p><p>Ctrl+N      视频-&gt;图像处理-&gt;3D 降噪</p><p>Alt+N     视频-&gt;图像截取-&gt;创建缩略图…</p><p>O       视频-&gt;色彩度+1%</p><p>Ctrl+O      打开-&gt;打开文件…</p><p>Alt+O     打开-&gt;打开字幕…</p><p>P       播放-&gt;章节&#x2F;书签-&gt;添加书签</p><p>Shift+P    视频-&gt;像素着色-&gt;调整尺寸前的着色切换</p><p>Ctrl+P      视频-&gt;图像处理-&gt;上下翻转</p><p>Alt+P     字幕-&gt;手动输入字幕…</p><p>Ctrl+Alt+P     视频-&gt;像素着色-&gt;调整尺寸后的着色切换</p><p>Q       视频-&gt;图像属性复位</p><p>Ctrl+Q      视频-&gt;裁剪&#x2F;拉伸-&gt;图像缩放设置…</p><p>R       视频-&gt;对比度-1%</p><p>Shift+R    声音-&gt;声音处理-&gt;混响</p><p>Ctrl+R      视频-&gt;图像处理-&gt;锐化</p><p>S       视频-&gt;像素着色</p><p>Ctrl+S      打开-&gt;采集器</p><p>Ctrl+Shift+S  字幕-&gt;保存字幕-&gt;按影片名称保存</p><p>Alt+S     字幕-&gt;保存字幕-&gt;回写SMI字幕</p><p>Ctrl+Alt+S     字幕-&gt;保存字幕-&gt;另存字幕为…</p><p>T       视频-&gt;对比度+1%</p><p>Shift+T    声音-&gt;声音处理-&gt;左右声道互换</p><p>Ctrl+T      配置&#x2F;语言&#x2F;其他-&gt;置顶方式-&gt;切换最前端</p><p>U       视频-&gt;饱和度+1%</p><p>Ctrl+U      打开-&gt;打开链接…</p><p>V       视频-&gt;选择图像</p><p>Shift+V    声音-&gt;声音处理-&gt;语音消除</p><p>Ctrl+V      打开-&gt;打开剪贴板</p><p>Alt+V     视频-&gt;选择图像-&gt;图像顺序选择</p><p>W       视频-&gt;亮度-1%</p><p>Ctrl+W      打开-&gt;模拟TV</p><p>X       播放-&gt;播放速度-&gt;减速-</p><p>Shift+X    声音-&gt;开启声音处理滤镜</p><p>Ctrl+X      视频-&gt;图像处理滤镜-&gt;依次切换图像处理滤镜</p><p>Y       视频-&gt;饱和度-1%</p><p>Ctrl+Y      打开-&gt;重开当前&#x2F;最后文件</p><p>Ctrl+Alt+Y     打开-&gt;重载字幕</p><p>Z       播放-&gt;播放速度-&gt;正常&#x2F;之前的速度</p><p>Shift+Z    播放-&gt;定位-&gt;时间场景浏览…</p><p>Ctrl+Z      视频-&gt;图像处理-&gt;左右翻转</p><p>Alt+Z     播放-&gt;定位-&gt;章节&#x2F;书签场景浏览…</p><p>Numpad 0    帧位-&gt;预置-&gt;选择预置顺序</p><p>Numpad 1    帧位-&gt;全帧-</p><p>Ctrl+Alt+Numpad 1 屏幕-&gt;窗口定位-&gt;置于↙</p><p>Numpad 2    帧位-&gt;帧高-</p><p>Ctrl+Numpad 2  帧位-&gt;偏移↓</p><p>Alt+Numpad 2  字幕-&gt;字幕风格-&gt;上下边距-</p><p>Ctrl+Alt+Numpad 2 屏幕-&gt;窗口定位-&gt;位移↓</p><p>Ctrl+Alt+Numpad 3 屏幕-&gt;窗口定位-&gt;置于↘</p><p>Numpad 4    帧位-&gt;帧宽-</p><p>Ctrl+Numpad 4  帧位-&gt;偏移←</p><p>Alt+Numpad 4  字幕-&gt;字幕风格-&gt;左右边距-</p><p>Ctrl+Alt+Numpad 4 屏幕-&gt;窗口定位-&gt;位移←</p><p>Numpad 5    帧位-&gt;帧位 之前&#x2F;复位</p><p>Ctrl+Numpad 5  帧位-&gt;帧位居中</p><p>Ctrl+Alt+Numpad 5 屏幕-&gt;窗口定位-&gt;外框居中</p><p>Numpad 6    帧位-&gt;帧宽+</p><p>Ctrl+Numpad 6  帧位-&gt;偏移→</p><p>Alt+Numpad 6  字幕-&gt;字幕风格-&gt;左右边距+</p><p>Ctrl+Alt+Numpad 6 屏幕-&gt;窗口定位-&gt;位移→</p><p>Ctrl+Alt+Numpad 7 屏幕-&gt;窗口定位-&gt;置于↖</p><p>Numpad 8    帧位-&gt;帧高+</p><p>Ctrl+Numpad 8  帧位-&gt;偏移↑</p><p>Alt+Numpad 8  字幕-&gt;字幕风格-&gt;上下边距+</p><p>Ctrl+Alt+Numpad 8 屏幕-&gt;窗口定位-&gt;位移↑</p><p>Numpad 9    帧位-&gt;全帧+</p><p>Ctrl+Alt+Numpad 9 屏幕-&gt;窗口定位-&gt;置于↗</p><p>Add      帧位-&gt;全帧+</p><p>Ctrl+Alt+Add  屏幕-&gt;窗口+</p><p>Subtract    帧位-&gt;全帧-</p><p>Ctrl+Alt+Subtract 屏幕-&gt;窗口-</p><p>F1        关于…</p><p>Ctrl+F1    属性…</p><p>Ctrl+Alt+F1   直播-&gt;采集器I</p><p>F2        打开-&gt;打开文件夹…</p><p>Ctrl+Alt+F2   直播-&gt;采集器II</p><p>F3        打开文件…</p><p>Ctrl+Alt+F3   直播-&gt;采集器I开始</p><p>F4        关闭</p><p>Ctrl+Alt+F4   直播-&gt;采集器II开始</p><p>F5        选项…</p><p>Ctrl+F5    比例-&gt;依次切换比例模式</p><p>Ctrl+Alt+F5   直播-&gt;采集设置…</p><p>F6        列表…</p><p>Ctrl+F6    比例-&gt;依次切换比例</p><p>F7        控制…</p><p>F12      打开-&gt;简索-&gt;简索文件…</p><p>Ctrl+F12    打开-&gt;简索-&gt;简索菜单…</p><p>Alt+F12    打开-&gt;打开远程连接…</p><p>Scroll      配置&#x2F;语言&#x2F;其他-&gt;播放信息</p><p>Shift+,    声音-&gt;声音匹配(同步)-&gt;滞后0.05 秒</p><p>Ctrl+,      字幕-&gt;字幕同步(帧率)-&gt;滞后5 秒</p><p>Ctrl+Alt+,     字幕-&gt;字幕同步(帧率)-&gt;上一字幕同步</p><p>Shift+.    声音-&gt;声音匹配(同步)-&gt;超前0.05 秒</p><p>Ctrl+.      字幕-&gt;字幕同步(帧率)-&gt;超前5 秒</p><p>Ctrl+Alt+.     字幕-&gt;字幕同步(帧率)-&gt;下一字幕同步</p><p>Shift+&#x2F;    声音-&gt;声音匹配(同步)-&gt;复位</p><p>Ctrl+[      播放-&gt;AB 区段循环-&gt;将起点步退0.1 秒</p><p>Ctrl+Alt+[     播放-&gt;AB 区段循环-&gt;将循环区步退0.1 秒</p><p>Shift+\    播放-&gt;AB 区段循环-&gt;编辑AB区段循环列表…</p><p>Ctrl+\      播放-&gt;AB 区段循环-&gt;循环当前字幕</p><p>Ctrl+]      播放-&gt;AB 区段循环-&gt;将止点步退0.1 秒</p><p>Ctrl+Alt+]     播放-&gt;AB 区段循环-&gt;将循环区步进0.1 秒</p><p>28人点赞</p><p><a href="https://www.jianshu.com/nb/24546565">随笔</a></p><p>更多精彩内容，就在简书APP</p>]]></content>
    
    
    <categories>
      
      <category>PotPlayer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>redis启动命令</title>
    <link href="/2022/06/13/java/redis%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/06/13/java/redis%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="redis启动命令"><a href="#redis启动命令" class="headerlink" title="redis启动命令"></a>redis启动命令</h1><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ruby">[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># redis-server /usr/local/bin/rdconf/redis.conf </span><br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># </span><br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># systemctl status redis</span><br>Unit redis.service could <span class="hljs-keyword">not</span> be found.<br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># fuser -n tcp 6379</span><br><span class="hljs-number">6379</span>/<span class="hljs-symbol">tcp:</span>            <span class="hljs-number">21168</span><br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># </span><br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># ps -ef|grep redis</span><br>root       <span class="hljs-number">21168</span>       <span class="hljs-number">1</span>  <span class="hljs-number">0</span> 09<span class="hljs-symbol">:</span><span class="hljs-number">48</span> ?        <span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span> redis-server <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">6379</span><br>root       <span class="hljs-number">34592</span>    <span class="hljs-number">3136</span>  <span class="hljs-number">0</span> 09<span class="hljs-symbol">:</span><span class="hljs-number">53</span> pts/<span class="hljs-number">1</span>    <span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span> grep --color=auto redis<br>[root<span class="hljs-variable">@10</span> ~]<span class="hljs-comment"># redis-cli</span><br><span class="hljs-meta prompt_">127.0.0.1:6379&gt;</span> ping<br><span class="hljs-variable constant_">PONG</span><br><span class="hljs-meta prompt_">127.0.0.1:6379&gt;</span> <br></code></pre></td></tr></table></figure><h1 id="CentOS-Stream-8-开放端口"><a href="#CentOS-Stream-8-开放端口" class="headerlink" title="CentOS Stream 8 开放端口"></a>CentOS Stream 8 开放端口</h1><blockquote><p><a href="https://www.centos.org/centos-stream/">https://www.centos.org/centos-stream/</a></p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-comment"># 新系统中应先判断 firewalld 是否在运行（Centos8 查看服务命令）</span><br>systemctl status firewalld<br><span class="hljs-comment"># 开放端口</span><br>firewall-cmd <span class="hljs-params">--permanent</span> <span class="hljs-params">--zone=public</span> <span class="hljs-params">--add-port=6379/tcp</span><br><span class="hljs-comment"># 使规则生效</span><br>firewall-cmd <span class="hljs-params">--reload</span><br><span class="hljs-comment"># 查看所有端口</span><br>firewall-cmd <span class="hljs-params">--list-all</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/zhangsubao/studynotes/blob/master/notes/images/20151204130539849.png"></p><p><img src="https://gitee.com/zhangsubao/studynotes/raw/master/notes/images/20151204130539849.png"></p><h1 id="redis的持久化策略"><a href="#redis的持久化策略" class="headerlink" title="redis的持久化策略"></a>redis的持久化策略</h1><blockquote><p>视频：<a href="https://www.bilibili.com/video/BV1qF41157D1">https://www.bilibili.com/video/BV1qF41157D1</a></p></blockquote><p>概述</p><p>Redis是基于内存的非关系型K-V数据库，既然它是基于内存的，如果Redis服务器挂了，数据就会丢失，为了避免数据丢失，Redis提供了持久化，即把数据保存到磁盘。</p><p>持久化机制：RDB和AOF</p><h2 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h2><p>RDB（Redis database）持久化，是指在指定的时间间隔内将内存中的数据集快照写入磁盘，也就是Snapshot快照，它是Redis默认的持久化方式，执行完操作后，在指定目录下生成一个dump.rdb，Redis重启的时候，通过加载dump.rdb文件来恢复数据。</p><h3 id="配置（redis-conf）"><a href="#配置（redis-conf）" class="headerlink" title="配置（redis.conf）"></a>配置（redis.conf）</h3><p>Redis默认提供了三种会触发rdb持久化的条件</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 关闭rdb持久化功能</span><br><span class="hljs-attribute">save</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-comment"># 900秒之内至少有一个key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">900</span> <span class="hljs-number">1</span><br><span class="hljs-comment"># 300秒之内至少有十个key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">300</span> <span class="hljs-number">10</span><br><span class="hljs-comment"># 60秒之内有一万次key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">60</span> <span class="hljs-number">10000</span><br><br><span class="hljs-comment"># rdb默认配置文件名称</span><br><span class="hljs-attribute">dbfilename</span> dump.rdb<br></code></pre></td></tr></table></figure><h3 id="触发机制"><a href="#触发机制" class="headerlink" title="触发机制"></a>触发机制</h3><h4 id="手动触发"><a href="#手动触发" class="headerlink" title="手动触发"></a>手动触发</h4><p>save：（同步）save时只管保存，其他不管，save是一个阻塞式命令，即当服务器接收了一条save命令之后就会开始拍摄快照，在此期间不会再去处理其他的请求，其他请求会被挂起直到备份结束，应该避免使用。</p><p>bgsave：（异步）Redis会在后台进行快照操作，快照操作同时还可以响应客户端请求，与save命令区别就在于bgsave不会阻塞主进程处理的操作。Redis会单独创建（Fork）一个子进程来进行持久化，先将数据写入到一个临时文件中，待持久化过程都结束了，再用这个临时文件替换上次持久化好的文件。</p><h4 id="自动触发"><a href="#自动触发" class="headerlink" title="自动触发"></a>自动触发</h4><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs excel"># m秒内数据集存在<span class="hljs-built_in">n</span>次修改时，自动触发bgsave（异步）<br>save m <span class="hljs-built_in">n</span><br></code></pre></td></tr></table></figure><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>① 如果需要进行大规模的数据恢复，且对于数据恢复的完整性不是非常敏感，那么RDB方式要比AOF方式更加的高效</p><p>② 与AOF相比，在恢复大的数据集的时候，RDB方式会更快一些</p><p>③ RDB很适用于灾备，单文件很方便就能传输到远程的服务器上</p><p>④ 可以定期备份RDB文件，直接写个脚本就可以，很方便</p><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>① 没有办法做到实时持久化&#x2F;秒级持久化</p><p>② 最后一次持久化后的数据可能丢失</p><p>③ RDB需要经常fork子进程来保存数据集到硬盘上，当数据集比较大的时候，fork的进程是非常耗时的，可能导致Redis在一些毫秒级不能响应客户端请求</p><h2 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h2><p>全称“append only file”，AOF是以日志的形式来记录每个写操作，将Redis执行过的所有写指令记录下来（读操作不记录），只许追加文件但不可以改写文件，Redis启动之初会读取该文件重新构建数据，Redis重启的话根据日志文件的内容将写指令从头到尾执行一次以完成数据的恢复。AOF方式持久化默认保存的是appendonly.aof文件，它主要解决数据持久化的实时性问题，默认是不开启的。</p><h3 id="配置（redis-conf）-1"><a href="#配置（redis-conf）-1" class="headerlink" title="配置（redis.conf）"></a>配置（redis.conf）</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># AOF持久化开关，默认是关闭的</span><br><span class="hljs-attribute">appendonly</span> no<br><br><span class="hljs-comment"># AOF备份文件的名称</span><br><span class="hljs-attribute">appendfilename</span> <span class="hljs-string">&quot;appendonly.aof&quot;</span><br><br><span class="hljs-comment"># AOF持久化策略</span><br><span class="hljs-comment"># Always：同步持久化，每次发生数据变更会立即记录到磁盘，性能较差但数据完整性较好</span><br><span class="hljs-comment"># appendfsync always</span><br><span class="hljs-comment"># Everysec：默认配置，异步操作，每秒记录，如果一秒内宕机，有数据丢失</span><br><span class="hljs-attribute">appendfsync</span> everysec<br><br><span class="hljs-comment"># 默认配置是当AOF文件大小是上次rewrite后大小的一倍且文件大于64M时触发重写</span><br><span class="hljs-attribute">auto</span>-aof-rewrite-percentage <span class="hljs-number">100</span><br><span class="hljs-attribute">auto</span>-aof-rewrite-min-size <span class="hljs-number">64</span>mb<br></code></pre></td></tr></table></figure><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>AOF方式持久化通过保存Redis执行时候的所有写操作命令，注意，读操作命令不追加，将写命令追加到appendonly.aof文件中，理论上只要保存了所有写操作命令，那么恢复时将这些命令从头到尾再执行一次就可以从正常恢复数据。</p><h3 id="AOF持久化策略"><a href="#AOF持久化策略" class="headerlink" title="AOF持久化策略"></a>AOF持久化策略</h3><ul><li>appendfsync always：always（同步持久化），每次发生数据变更会立即记录到磁盘，性能较差但数据完整性较好，always会严重影响服务器的性能</li><li>appendfsync everysec：everysec，默认方式，异步操作，每秒记录，如果一秒内宕机，有数据丢失</li><li>appendfsync no：从不同步</li></ul><h3 id="重写机制"><a href="#重写机制" class="headerlink" title="重写机制"></a>重写机制</h3><p>AOF采用文件追加方式，文件会越来越大，为避免出现此种情况，Redis新增了重写机制，当AOF文件的大小超过所设定的阈值时，Redis就会启动AOF文件的内容压缩，只保留可以恢复数据的最小指令集。当然我们也可以使用命令bgrewriteaof手动告诉Redis进行AOF文件的重写，这样可以有效减少AOF文件的体积。</p><h3 id="重写原理"><a href="#重写原理" class="headerlink" title="重写原理"></a>重写原理</h3><ul><li><p>Redis会fork出一个子进程来对AOF文件进行重写，原理跟快照持久化命令bgsave的工作原理类似，值得注意的是，进行AOF文件重写时，如果原来的AOF文件体积已经非常大，那么重写AOF并删除旧的AOF文件的过程将会对Redis的性能造成较大的影响。</p></li><li><p>auto-aof-rewrite-percentage：配置当AOF文件需要比旧AOF文件增大多少时才进行重写</p></li><li><p>auto-aof-rewrite-min-size：配置当AOF文件需要达到多大体积时才进行重写</p></li><li><p>只有这两个配置的条件都达到时，才会进行重写。</p></li></ul><h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><p>① 数据的一致性和完整性更高</p><p>② 使用默认的持久化策略：每秒同步一次，Redis数据最多只会丢失1秒的数据</p><p>③ AOF文件的格式可读性较强，同时还可以检查AOF文件中的错误并进行修复</p><h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><p>① 对相同的数据集来说，AOF文件的体积通常要大于RDB文件的体积，恢复速度慢于RDB</p><p>加载流程</p><p><img src="/../images/redis%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B.png" alt="redis加载流程"></p><p>如果存在dump.rdb文件和aof文件的话，会优先加载aof文件</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>Redis允许同时存在rdb和aof两种持久化方式，但是重启时会优先加载aof文件</li><li>如果在项目中只是将redis作为缓存服务器的话，我们可以不用进行持久化，因为缓存对数据敏感性没那么强</li><li>aof持久化方式最多只会丢失一秒的数据，但是这带来了很多额外的IO操作，其次就是重写造成的阻塞不可避免，所以应该尽量减少aof重写的频率，建议将参数auto-aof-rewrite-min-size修改为5G或者更大</li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>youtube-dl使用介绍</title>
    <link href="/2022/06/13/java/youtube-dl%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
    <url>/2022/06/13/java/youtube-dl%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="【备份】youtube-dl使用介绍"><a href="#【备份】youtube-dl使用介绍" class="headerlink" title="【备份】youtube-dl使用介绍"></a>【备份】youtube-dl使用介绍</h1><p><a href="https://www.jianshu.com/u/36a21d20d831"><img src="https://upload.jianshu.io/users/upload_avatars/1294473/245972fd-8b0d-484b-abea-44c6cd699b02.jpg?imageMogr2/auto-orient/strip%7CimageView2/1/w/96/h/96/format/webp" alt="img"></a></p><p><a href="https://www.jianshu.com/u/36a21d20d831">江南之恋</a>关注</p><p>42019.01.03 21:10:56字数 1,244阅读 136,731</p><p>去年12月18日，那篇介绍youtube-dl的文章突然被封，修改申诉未得到任何回复。下面是后台的备份。</p><hr><blockquote><p><a href="https://www.jianshu.com/p/6bae57859325">https://www.jianshu.com/p/6bae57859325</a></p></blockquote><h1 id="下载安装所需软件"><a href="#下载安装所需软件" class="headerlink" title="下载安装所需软件"></a>下载安装所需软件</h1><h4 id="Step1-下载与安装Python"><a href="#Step1-下载与安装Python" class="headerlink" title="Step1 下载与安装Python"></a>Step1 下载与安装Python</h4><p>1.访问<a href="https://links.jianshu.com/go?to=https://www.python.org/">Python官网</a>下载最新版本的Python</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-83af12768c40f2c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>Python官网</p><p>2.安装<a href="https://links.jianshu.com/go?to=https://www.python.org/ftp/python/3.5.2/python-3.5.2.exe">Python 3.5.2</a>,注意勾选下面的<code>Add Python 3.5 to PATH</code></p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-7e7961778136f4ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/670/format/webp" alt="img"></p><p>安装Python</p><p>3.按<code>Win+R</code>键打开运行，输入<code>cmd</code>，再输入<code>python</code>并回车执行，如果出现如下界面，则代表安装成功</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-21caa19540d84149.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>Python</p><h4 id="Step2-安装youtube-dl"><a href="#Step2-安装youtube-dl" class="headerlink" title="Step2 安装youtube-dl"></a>Step2 安装youtube-dl</h4><ul><li><p><strong>方式一</strong> 下载Windows exe程序使用<br>从<a href="https://links.jianshu.com/go?to=http://rg3.github.io/youtube-dl/">官网</a>下载<a href="https://links.jianshu.com/go?to=https://yt-dl.org/downloads/2016.10.02/youtube-dl.exe">youtube-dl.exe</a>然后放在电脑的任意目录下(比如我这里的C:\Users\LOLO)即可使用;可以通过下面的命令来更新youtube-dl</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">youtube-dl -U<br></code></pre></td></tr></table></figure></li><li><p><strong>方式二</strong> 直接使用命令行来安装<strong>（推荐）</strong><br>在安装了Python之后,按<code>Win+R</code>键打开运行，输入<code>cmd</code>，再输入下面的代码即可自动下载安装youtube-dl</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">pip install youtube-dl <span class="hljs-comment">//直接安装youtube-dl</span><br>pip install --upgrade youtube-dl <span class="hljs-comment">//安装youtube-dl并更新</span><br></code></pre></td></tr></table></figure></li></ul><p>安装完之后,输入<code>youtube-dl</code>,如果出现下面的提示,则表明youtube-dl已经安装好啦</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-e766c991e95fe903.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>youtube-dl</p><h4 id="Step3-安装ffmpeg"><a href="#Step3-安装ffmpeg" class="headerlink" title="Step3 安装ffmpeg"></a>Step3 安装ffmpeg</h4><p><a href="https://links.jianshu.com/go?to=https://ffmpeg.org/">FFmpeg</a>主要用来合并视频分段以及对视频重新编码&#x2F;封装，与youtube-dl配合使用；不是必须的，但建议安装。<br>1.进入<a href="https://links.jianshu.com/go?to=https://ffmpeg.org/download.html">FFmpeg官网</a>,进入下载页面,根据自己的操作系统选择下载最新的32位或64位static版本</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-0a76315c2296c2f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>选择下面对应的操作系统，比如中间的Windows</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-c40760b1c4a52d63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>FFmpeg 64-bit Static</p><p>2.下载之后解压出来,将会看到这么一堆文件夹</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-f8599a1ad0fac743.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/699/format/webp" alt="img"></p><p>FFmpeg</p><p>不用管它,直接把这个文件夹改个名字改成”ffmpeg”然后移到C盘根目录</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-5e9fa3d6aa3d09ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/650/format/webp" alt="img"></p><p>FFmpeg</p><p>3.打开系统属性&gt;高级系统设置&gt;环境变量</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-be3ee87474a50cc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1124/format/webp" alt="img"></p><p>环境变量</p><p>4.在环境变量&gt;系统变量 里找到Path,点击编辑&gt;新建,然后把刚才那个文件夹里的bin路径(C:\ffmpeg\bin)复制到这里</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-96115f82aa23d76b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1119/format/webp" alt="img"></p><p>添加Path</p><p>5.打开Win+R,输入cmd,回车,输入以下命令:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs undefined">ffmpeg -version<br></code></pre></td></tr></table></figure><p>如果出现如下图所示的版本号信息,则表明FFmpeg安装成功了，你可以在命令提示行中任意文件夹下运行FFmpeg</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-9734296ba4a849b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>FFmpeg版本</p><hr><h1 id="代理设置"><a href="#代理设置" class="headerlink" title="代理设置"></a>代理设置</h1><p>以SS为例（其他的请自行查阅相关资料，不过多介绍）<br>开启全局模式之后，无需代理设置，本步骤略过</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-be0d40052e2ef1d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/376/format/webp" alt="img"></p><p>SS全局代理模式</p><p>如果用PAC模式，那么后文提到的命令都需要加上这样的代理设置</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">--proxy <span class="hljs-string">&quot;https://127.0.0.1:1080&quot;</span><br><span class="hljs-comment">//或者直接这样</span><br>--proxy <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">1080</span><br></code></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/1294473-75d000f7b4520ca7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/977/format/webp" alt="img"></p><p>加上SS代理设置</p><hr><h1 id="下载YouTube视频"><a href="#下载YouTube视频" class="headerlink" title="下载YouTube视频"></a>下载YouTube视频</h1><ul><li>查看视频所有类型,只看不下载<br><code>youtube-dl -F [url]</code><br>或者<br><code>youtube-dl --list-formats [url]</code><br>这是一个列清单参数，执行后并不会下载视频，但能知道这个目标视频都有哪些格式存在，这样就可以有选择的下载啦！</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/1294473-5c8620972c0957c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>查看YouTube视频所有类型</p><ul><li>下载指定质量的视频和音频并自动合并<br><code>youtube-dl -f [format code] [url]</code><br>通过上一步获取到了所有视频格式的清单，最左边一列就是编号对应着不同的格式.<br>由于YouTube的1080p及以上的分辨率都是音视频分离的,所以我们需要分别下载视频和音频,可以使用137+140这样的组合.<br>如果系统中安装了ffmpeg的话, youtube-dl 会自动合并下下好的视频和音频, 然后自动删除单独的音视频文件</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/1294473-5fabdc8817bb3135.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>下载1080p的视频</p><ul><li><p>下载字幕<br>youtube-dl –write-sub [url] &#x2F;&#x2F;这样会下载一个vtt格式的英文字幕和mkv格式的1080p视频下来</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">youtube-dl --write-sub --skip-download [url] <span class="hljs-comment">//下载单独的vtt字幕文件,而不会下载视频</span><br><br>youtube-dl --write-sub --all-subs [url] <span class="hljs-comment">//下载所有语言的字幕(如果有的话)</span><br><br>youtube-dl --write-<span class="hljs-keyword">auto</span>-sub [url] <span class="hljs-comment">//下载自动生成的字幕(YouTube only)</span><br></code></pre></td></tr></table></figure></li></ul><p><img src="https://upload-images.jianshu.io/upload_images/1294473-191ff153e45eea04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>下载字幕和视频</p><ul><li><p>下载视频列表<br>youtube-dl -f [format code] [palylist_url] &#x2F;&#x2F;这种方式可以下载制定清晰度的mp4视频</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">youtube-dl [playlist_url] <span class="hljs-comment">//下载视频列表,这种方式下载的视频可能是mkv格式或者webm格式</span><br><br>youtube-dl -cit [playlist_url] <span class="hljs-comment">//下载视频列表,这种方式下载的视频可能是mkv格式或者webm格式</span><br><br>youtube-dl --yes-playlist [url] <span class="hljs-comment">//当链接为视频列表,则下载该列表视频,跟上面的一样,可能是mkv或者webm格式</span><br></code></pre></td></tr></table></figure></li></ul><hr><h1 id="下载Vimeo视频"><a href="#下载Vimeo视频" class="headerlink" title="下载Vimeo视频"></a>下载Vimeo视频</h1><p>Vimeo的视频下载起来比较方便,因为没有分离,可以直接下载1080p带音频的视频<br>命令与下载YouTube的基本一致;下面贴几张图</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-4e1b9f4b18e94700.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>解查看Vimeo视频所有类型</p><p><img src="https://upload-images.jianshu.io/upload_images/1294473-5720dba2d2ab972e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/979/format/webp" alt="img"></p><p>直接下载Vimeo最高质量视频</p><hr><p>youtube-dl支持的网站很多,大家可以从作者整理的<a href="https://links.jianshu.com/go?to=https://rg3.github.io/youtube-dl/supportedsites.html">这个列表</a>里查看支持的网站(不过由于有的网站接口算法升级,可能当初支持的网站现在不能很好的支持了),如果您要下载的视频网站现在不能用youtube-dl下载的,不妨试试另外一个同样基于Python开发的下载工具You-Get~</p><blockquote><p>youtube-dl官网：<a href="https://links.jianshu.com/go?to=https://yt-dl.org/">https://yt-dl.org/</a><br>GitHub项目：<a href="https://links.jianshu.com/go?to=https://github.com/rg3/youtube-dl/">https://github.com/rg3/youtube-dl/</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>YouTube</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>いいアゴ乗ってんね</title>
    <link href="/2022/06/13/%E5%85%B6%E4%BB%96/%E3%81%84%E3%81%84%E3%82%A2%E3%82%B4%E4%B9%97%E3%81%A3%E3%81%A6%E3%82%93%E3%81%AD/"/>
    <url>/2022/06/13/%E5%85%B6%E4%BB%96/%E3%81%84%E3%81%84%E3%82%A2%E3%82%B4%E4%B9%97%E3%81%A3%E3%81%A6%E3%82%93%E3%81%AD/</url>
    
    <content type="html"><![CDATA[<p>《いいアゴ乗ってんね》</p><p><strong>【歌詞和訳】Count On Me &#x2F; Bruno Mars - カウント オン ミー &#x2F; ブルーノ マーズ</strong></p><p>Count On Me &#x2F; Bruno Mars - カウント オン ミー &#x2F; ブルーノ マーズ の歌詞和訳です。Tik Tokで有名な「いいアゴ乗ってんね」の原曲ですね。Tik Tok では Connie Talbot のカバーバージョンが流れます。強い絆で結ばれた友情を歌った歌です。まさに友達と一緒に笑いながら作る動画にぴったりの曲ですね。</p><p>Oh uh-huh</p><p>If you ever find yourself stuck in the middle of the sea</p><p>もしもきみが海の真ん中で遭難してしまったのなら</p><p>I’ll sail the world to find you</p><p>僕が世界中の海をまわってでもきみを見つけてみせるよ</p><p>If you ever find yourself lost in the dark and you can’t see</p><p>もしもきみが暗闇の中に迷い込んで何も見えなくなってしまったのなら</p><p>I’ll be the light to guide you</p><p>僕がきみを導くための光になってみせるよ</p><p>We find out what we’re made of</p><p>自分たちを形作るものに気付くのはいつだって</p><p>When we are called to help our friends in need</p><p>困っている友達に助けを求められたときなのさ</p><p>You can count on me like 1, 2, 3</p><p>僕を頼っていいんだよ １、２、３って数字を数えれば</p><p>I’ll be there</p><p>ほら、もうすぐそばに僕はいるから</p><p>And I know when I need it</p><p>そして、僕も困ったときには</p><p>I can count on you like 4, 3, 2</p><p>きみに頼るから ４、３、２って数字を数えれば</p><p>You’ll be there</p><p>ほら、もうすぐそばにきみはいるんだ</p><p>‘Cause that’s what friends are supposed to do, oh yeah</p><p>だって、それが友達だからね</p><p>Oh, oh yeah, yeah</p><p>If you’re tossin’ and you’re turnin’</p><p>寝返りを打っても</p><p>And you just can’t fall asleep</p><p>寝付けない夜は</p><p>I’ll sing a song beside you</p><p>きみの隣で僕が歌をうたうよ</p><p>And if you ever forget how much you really mean to me</p><p>二人の関係の大切さを忘れたときは、そのときは</p><p>Every day I will remind you</p><p>いつでも僕が思い出させてあげるよ</p><p>Oh</p><p>We find out what we’re made of</p><p>自分たちを形作るものに気付くのはいつだって</p><p>When we are called to help our friends in need</p><p>困っている友達に助けを求められたときなのさ</p><p>You can count on me like 1, 2, 3</p><p>僕を頼っていいんだよ １、２、３って数字を数えれば</p><p>I’ll be there</p><p>ほら、もうすぐそばに僕はいるから</p><p>And I know when I need it</p><p>そして、僕も困ったときには</p><p>I can count on you like 4, 3, 2</p><p>きみに頼るから ４、３、２って数字を数えれば</p><p>You’ll be there</p><p>ほら、もうすぐそばにきみはいるんだ</p><p>‘Cause that’s what friends are supposed to do, oh yeah</p><p>だって、それが友達だからね</p><p>Oh, oh yeah, yeah</p><p>You’ll always have my shoulder when you cry</p><p>泣きたくなったら、いつでも呼んでよ</p><p>I’ll never let go, never say goodbye</p><p>別れの言葉も必要ないさ</p><p>You know…</p><p>だって、いつでも</p><p>You can count on me like 1, 2, 3</p><p>僕を頼っていいんだよ １、２、３って数字を数えれば</p><p>I’ll be there</p><p>ほら、もうすぐそばに僕はいるから</p><p>And I know when I need it</p><p>そして、僕も困ったときには</p><p>I can count on you like 4, 3, 2</p><p>きみに頼るから ４、３、２って数字を数えれば</p><p>You’ll be there</p><p>ほら、もうすぐそばにきみはいるんだ</p><p>‘Cause that’s what friends are supposed to do, oh yeah</p><p>だって、それが友達だからね</p><p>Oh, oh</p><p>You can count on me ‘cause I can count on you</p><p>困ったときは頼っていいんだよ、僕もきみに頼るから</p>]]></content>
    
    
    <categories>
      
      <category>音乐</category>
      
    </categories>
    
    
    <tags>
      
      <tag>音乐</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>狂神说Redis笔记（CSDN整理版）</title>
    <link href="/2022/06/11/java/%E7%8B%82%E7%A5%9E%E8%AF%B4Redis%E7%AC%94%E8%AE%B0%EF%BC%88CSDN%E6%95%B4%E7%90%86%E7%89%88%EF%BC%89/"/>
    <url>/2022/06/11/java/%E7%8B%82%E7%A5%9E%E8%AF%B4Redis%E7%AC%94%E8%AE%B0%EF%BC%88CSDN%E6%95%B4%E7%90%86%E7%89%88%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id="一、Nosql概述"><a href="#一、Nosql概述" class="headerlink" title="一、Nosql概述"></a>一、Nosql概述</h2><h3 id="为什么使用Nosql"><a href="#为什么使用Nosql" class="headerlink" title="为什么使用Nosql"></a>为什么使用Nosql</h3><blockquote><p>1、单机Mysql时代</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020082010365930.png#pic_center" alt="在这里插入图片描述"></p><p>90年代,一个网站的访问量一般不会太大，单个数据库完全够用。随着用户增多，网站出现以下问题</p><ol><li>数据量增加到一定程度，单机数据库就放不下了</li><li>数据的索引（B+ Tree）,一个机器内存也存放不下</li><li>访问量变大后（读写混合），一台服务器承受不住。</li></ol><blockquote><p>2、Memcached(缓存) + Mysql + 垂直拆分（读写分离）</p></blockquote><p>网站80%的情况都是在读，每次都要去查询数据库的话就十分的麻烦！所以说我们希望减轻数据库的压力，我们可以使用缓存来保证效率！</p><p><img src="https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>优化过程经历了以下几个过程：</p><ol><li>优化数据库的数据结构和索引(难度大)</li><li>文件缓存，通过IO流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO流也承受不了</li><li>MemCache,当时最热门的技术，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升。</li></ol><blockquote><p>3、分库分表 + 水平拆分 + Mysql集群</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>4、如今最近的年代</p></blockquote><p> 如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等），大数据的背景下关系型数据库（RDBMS）无法满足大量数据要求。Nosql数据库就能轻松解决这些问题。</p><blockquote><p>目前一个基本的互联网项目</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><blockquote><p>为什么要用NoSQL ？</p></blockquote><p>用户的个人信息，社交网络，地理位置。用户自己产生的数据，用户日志等等爆发式增长！<br>这时候我们就需要使用NoSQL数据库的，Nosql可以很好的处理以上的情况！</p><h3 id="什么是Nosql"><a href="#什么是Nosql" class="headerlink" title="什么是Nosql"></a>什么是Nosql</h3><p><strong>NoSQL &#x3D; Not Only SQL（不仅仅是SQL）</strong></p><p>Not Only Structured Query Language</p><p>关系型数据库：列+行，同一个表下数据的结构是一样的。</p><p>非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展。</p><p>NoSQL泛指非关系型数据库，随着web2.0互联网的诞生，传统的关系型数据库很难对付web2.0时代！尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，Redis是发展最快的。</p><h3 id="Nosql特点"><a href="#Nosql特点" class="headerlink" title="Nosql特点"></a>Nosql特点</h3><ol><li><p>方便扩展（数据之间没有关系，很好扩展！）</p></li><li><p>大数据量高性能（Redis一秒可以写8万次，读11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能会比较高！）</p></li><li><p>数据类型是多样型的！（不需要事先设计数据库，随取随用）</p></li><li><p>传统的 RDBMS 和 NoSQL</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">传统的 RDBMS(关系型数据库)<br><span class="hljs-bullet">- </span>结构化组织<br><span class="hljs-bullet">- </span>SQL<br><span class="hljs-bullet">- </span>数据和关系都存在单独的表中 row col<br><span class="hljs-bullet">- </span>操作，数据定义语言<br><span class="hljs-bullet">- </span>严格的一致性<br><span class="hljs-bullet">- </span>基础的事务<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">Nosql<br><span class="hljs-bullet">- </span>不仅仅是数据<br><span class="hljs-bullet">- </span>没有固定的查询语言<br><span class="hljs-bullet">- </span>键值对存储，列存储，文档存储，图形数据库（社交关系）<br><span class="hljs-bullet">- </span>最终一致性<br><span class="hljs-bullet">- </span>CAP定理和BASE<br><span class="hljs-bullet">- </span>高性能，高可用，高扩展<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure></li></ol><blockquote><p>了解：3V + 3高</p></blockquote><p>大数据时代的3V ：主要是<strong>描述问题</strong>的</p><ol><li>海量Velume</li><li>多样Variety</li><li>实时Velocity</li></ol><p>大数据时代的3高 ： 主要是<strong>对程序的要求</strong></p><ol><li>高并发</li><li>高可扩</li><li>高性能</li></ol><p>真正在公司中的实践：NoSQL + RDBMS 一起使用才是最强的。</p><h3 id="阿里巴巴演进分析"><a href="#阿里巴巴演进分析" class="headerlink" title="阿里巴巴演进分析"></a>阿里巴巴演进分析</h3><p>推荐阅读：阿里云的这群疯子<a href="https://yq.aliyun.com/articles/653511">https://yq.aliyun.com/articles/653511</a></p><p><img src="https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="1"></p><p><img src="https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 商品信息</span><br>- 一般存放在关系型数据库：Mysql,阿里巴巴使用的Mysql都是经过内部改动的。<br><br><span class="hljs-comment"># 商品描述、评论(文字居多)</span><br>- 文档型数据库：MongoDB<br><br><span class="hljs-comment"># 图片</span><br>- 分布式文件系统 FastDFS<br>- 淘宝：TFS<br>- Google: GFS<br>- Hadoop: HDFS<br>- 阿里云: oss<br><br><span class="hljs-comment"># 商品关键字 用于搜索</span><br>- 搜索引擎：solr,elasticsearch<br>- 阿里：Isearch 多隆<br><br><span class="hljs-comment"># 商品热门的波段信息</span><br>- 内存数据库：Redis，Memcache<br><br><span class="hljs-comment"># 商品交易，外部支付接口</span><br>- 第三方应用<br></code></pre></td></tr></table></figure><h3 id="Nosql的四大分类"><a href="#Nosql的四大分类" class="headerlink" title="Nosql的四大分类"></a>Nosql的四大分类</h3><blockquote><p><strong>KV键值对</strong></p></blockquote><ul><li>新浪：<strong>Redis</strong></li><li>美团：Redis + Tair</li><li>阿里、百度：Redis + Memcache</li></ul><blockquote><p><strong>文档型数据库（bson数据格式）：</strong></p></blockquote><ul><li><strong>MongoDB</strong>(掌握)<ul><li>基于分布式文件存储的数据库。C++编写，用于处理大量文档。</li><li>MongoDB是RDBMS和NoSQL的中间产品。MongoDB是非关系型数据库中功能最丰富的，NoSQL中最像关系型数据库的数据库。</li></ul></li><li>ConthDB</li></ul><blockquote><p><strong>列存储数据库</strong></p></blockquote><ul><li><strong>HBase</strong>(大数据必学)</li><li>分布式文件系统</li></ul><blockquote><p><strong>图关系数据库</strong></p></blockquote><p>用于广告推荐，社交网络</p><ul><li><strong>Neo4j</strong>、InfoGrid</li></ul><table><thead><tr><th><strong>分类</strong></th><th><strong>Examples举例</strong></th><th><strong>典型应用场景</strong></th><th><strong>数据模型</strong></th><th><strong>优点</strong></th><th><strong>缺点</strong></th></tr></thead><tbody><tr><td><strong>键值对（key-value）</strong></td><td>Tokyo Cabinet&#x2F;Tyrant, Redis, Voldemort, Oracle BDB</td><td>内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等。</td><td>Key 指向 Value 的键值对，通常用hash table来实现</td><td>查找速度快</td><td>数据无结构化，通常只被当作字符串或者二进制数据</td></tr><tr><td><strong>列存储数据库</strong></td><td>Cassandra, HBase, Riak</td><td>分布式的文件系统</td><td>以列簇式存储，将同一列数据存在一起</td><td>查找速度快，可扩展性强，更容易进行分布式扩展</td><td>功能相对局限</td></tr><tr><td><strong>文档型数据库</strong></td><td>CouchDB, MongoDb</td><td>Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容）</td><td>Key-Value对应的键值对，Value为结构化数据</td><td>数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构</td><td>查询性能不高，而且缺乏统一的查询语法。</td></tr><tr><td><strong>图形(Graph)数据库</strong></td><td>Neo4J, InfoGrid, Infinite Graph</td><td>社交网络，推荐系统等。专注于构建关系图谱</td><td>图结构</td><td>利用图结构相关算法。比如最短路径寻址，N度关系查找等</td><td>很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群</td></tr></tbody></table><h2 id="二、Redis入门"><a href="#二、Redis入门" class="headerlink" title="二、Redis入门"></a>二、Redis入门</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><blockquote><p>Redis是什么？</p></blockquote><p>Redis（Remote Dictionary Server )，即远程字典服务。</p><p>是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、<strong>Key-Value数据库</strong>，并提供多种语言的API。</p><p>与memcached一样，为了保证效率，<strong>数据都是缓存在内存中</strong>。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。</p><blockquote><p>Redis能该干什么？</p></blockquote><ol><li>内存存储、持久化，内存是断电即失的，所以需要持久化（RDB、AOF）</li><li>高效率、用于高速缓冲</li><li>发布订阅系统</li><li>地图信息分析</li><li>计时器、计数器(eg：浏览量)</li><li>。。。</li></ol><blockquote><p>特性</p></blockquote><ol><li><p>多样的数据类型</p></li><li><p>持久化</p></li><li><p>集群</p></li><li><p>事务</p><p>…</p></li></ol><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><p>官网：<a href="https://redis.io/">https://redis.io/</a></p><p>推荐使用Linux服务器学习。</p><p>windows版本的Redis已经停更很久了…</p><h3 id="Windows安装"><a href="#Windows安装" class="headerlink" title="Windows安装"></a>Windows安装</h3><p><a href="https://github.com/dmajkic/redis">https://github.com/dmajkic/redis</a></p><ol><li>解压安装包<br><img src="https://img-blog.csdnimg.cn/20200820103922318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></li><li>开启redis-server.exe</li><li>启动redis-cli.exe测试<img src="https://img-blog.csdnimg.cn/20200820103950934.png#pic_center" alt="在这里插入图片描述"></li></ol><h3 id="Linux安装"><a href="#Linux安装" class="headerlink" title="Linux安装"></a>Linux安装</h3><ol><li><p>下载安装包！<code>redis-5.0.8.tar.gz</code></p></li><li><p>解压Redis的安装包！程序一般放在 <code>/opt</code> 目录下</p><p><img src="https://img-blog.csdnimg.cn/20200820104016426.png#pic_center" alt="在这里插入图片描述"></p></li><li><p>基本环境安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install gcc-c++<br><span class="hljs-comment"># 然后进入redis目录下执行</span><br>make<br><span class="hljs-comment"># 然后执行</span><br>make install<br></code></pre></td></tr></table></figure></li></ol><p><img src="https://img-blog.csdnimg.cn/20200820104048327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><ol><li><p>redis默认安装路径 <code>/usr/local/bin</code><img src="https://img-blog.csdnimg.cn/20200820104140692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p></li><li><p>将redis的配置文件复制到 程序安装目录 <code>/usr/local/bin/kconfig</code>下</p><p><img src="https://img-blog.csdnimg.cn/20200820104157817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-hxvGQ47d-1597890996509)(狂神说 Redis.assets/image-20200813114000868.png)]"></p></li><li><p>redis默认不是后台启动的，需要修改配置文件！</p><p><img src="https://img-blog.csdnimg.cn/20200820104213706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-dDdKTUgd-1597890996510)(狂神说 Redis.assets/image-20200813114019063.png)]"></p></li><li><p>通过制定的配置文件启动redis服务</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs perl">[root@10 bin]<span class="hljs-comment"># pwd</span><br>/usr/<span class="hljs-keyword">local</span>/bin<br>[root@10 bin]<span class="hljs-comment"># redis-server rdconf/redis.conf </span><br>[root@10 bin]<span class="hljs-comment"># ps -ef|grep redis</span><br>root       <span class="hljs-number">91425</span>       <span class="hljs-number">1</span>  <span class="hljs-number">0</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span> ?        <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> redis-server <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">6379</span><br>root       <span class="hljs-number">99226</span>    <span class="hljs-number">2639</span>  <span class="hljs-number">0</span> <span class="hljs-number">10</span>:<span class="hljs-number">07</span> pts/<span class="hljs-number">0</span>    <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-keyword">grep</span> --color=auto redis<br>[root@10 bin]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200820104228556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-jOypL57Z-1597890996511)(狂神说 Redis.assets/image-20200813114030597.png)]"></p></li><li><p>使用redis-cli连接指定的端口号测试，Redis的默认端口6379</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tap">[root@10 bin]<span class="hljs-comment"># redis-cli -p 6379</span><br>127.0.0.1:6379&gt; <br>[root@10 ~]<span class="hljs-comment"># ps -ef|grep redis</span><br>root      <span class="hljs-number"> 91425 </span>     <span class="hljs-number"> 1 </span><span class="hljs-number"> 0 </span>10:04 ?        00:00:00 redis-server 127.0.0.1:6379<br>root     <span class="hljs-number"> 101011 </span>  <span class="hljs-number"> 2639 </span><span class="hljs-number"> 0 </span>10:08 pts/0    00:00:00 redis-cli -p 6379<br>root     <span class="hljs-number"> 105207 </span><span class="hljs-number"> 104194 </span><span class="hljs-number"> 0 </span>10:09 pts/2    00:00:00 grep --color=auto redis<br>[root@10 ~]<span class="hljs-comment"># </span><br><br><span class="hljs-comment"># 新系统中应先判断 firewalld 是否在运行（Centos8 查看服务命令）</span><br>systemctl status firewalld<br><span class="hljs-comment"># 开放端口</span><br>firewall-cmd --permanent --zone=public --add-port=6379/tcp<br><span class="hljs-comment"># 使规则生效</span><br>firewall-cmd --reload<br><span class="hljs-comment"># 查看所有端口</span><br>firewall-cmd --list-all<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200820104243223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LnDaISQ4-1597890996512)(狂神说 Redis.assets/image-20200813114045299.png)]"></p></li><li><p>查看redis进程是否开启</p><p><img src="https://img-blog.csdnimg.cn/20200820104300532.png#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PhN1jC1-1597890996513)(狂神说 Redis.assets/image-20200813114103769.png)]"></p></li><li><p>关闭Redis服务 <code>shutdown</code></p><p><img src="https://img-blog.csdnimg.cn/20200820104314297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Y54EuOYm-1597890996514)(狂神说 Redis.assets/image-20200813114116691.png)]"></p></li><li><p>再次查看进程是否存在</p></li><li><p>后面我们会使用单机多Redis启动集群测试</p></li></ol><h3 id="测试性能"><a href="#测试性能" class="headerlink" title="测试性能"></a>测试性能</h3><p><strong>redis-benchmark：</strong>Redis官方提供的性能测试工具，参数选项如下：</p><p><img src="https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><p><strong>简单测试：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 测试：100个并发连接 100000请求</span><br>redis-benchmark -h localhost -p 6379 -c 100 -n 100000<br>12<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200820104343472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-plMshjFg-1597890996515)(狂神说 Redis.assets/image-20200813114143365.png)]"></p><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><blockquote><p>redis默认有16个数据库</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820104357466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-v2S3n3Si-1597890996516)(狂神说 Redis.assets/image-20200813114158322.png)]"></p><p>默认使用的第0个;</p><p>16个数据库为：DB 0~DB 15<br>默认使用DB 0 ，可以使用<code>select n</code>切换到DB n，<code>dbsize</code>可以查看当前数据库的大小，与key数量相关。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; config get databases <span class="hljs-comment"># 命令行查看数据库数量databases</span><br>1) <span class="hljs-string">&quot;databases&quot;</span><br>2) <span class="hljs-string">&quot;16&quot;</span><br><br>127.0.0.1:6379&gt; select 8 <span class="hljs-comment"># 切换数据库 DB 8</span><br>OK<br>127.0.0.1:6379[8]&gt; dbsize <span class="hljs-comment"># 查看数据库大小</span><br>(<span class="hljs-built_in">integer</span>) 0<br><br><span class="hljs-comment"># 不同数据库之间 数据是不能互通的，并且dbsize 是根据库中key的个数。</span><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> name sakura <br>OK<br>127.0.0.1:6379&gt; SELECT 8<br>OK<br>127.0.0.1:6379[8]&gt; get name <span class="hljs-comment"># db8中并不能获取db0中的键值对。</span><br>(nil)<br>127.0.0.1:6379[8]&gt; DBSIZE<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379[8]&gt; SELECT 0<br>OK<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;counter:__rand_int__&quot;</span><br>2) <span class="hljs-string">&quot;mylist&quot;</span><br>3) <span class="hljs-string">&quot;name&quot;</span><br>4) <span class="hljs-string">&quot;key:__rand_int__&quot;</span><br>5) <span class="hljs-string">&quot;myset:__rand_int__&quot;</span><br>127.0.0.1:6379&gt; DBSIZE <span class="hljs-comment"># size和key个数相关</span><br>(<span class="hljs-built_in">integer</span>) 5<br></code></pre></td></tr></table></figure><p><code>keys *</code> ：查看当前数据库中所有的key。</p><p><code>flushdb</code>：清空当前数据库中的键值对。</p><p><code>flushall</code>：清空所有数据库的键值对。</p><blockquote><p><strong>Redis是单线程的，Redis是基于内存操作的。</strong></p></blockquote><p>所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。</p><p>那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+</p><blockquote><p><strong>Redis为什么单线程还这么快？</strong></p></blockquote><ul><li>误区1：高性能的服务器一定是多线程的？</li><li>误区2：多线程（CPU上下文会切换！）一定比单线程效率高！</li></ul><p>核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的，在内存存储数据情况下，单线程就是最佳的方案。</p><h2 id="三、五大数据类型"><a href="#三、五大数据类型" class="headerlink" title="三、五大数据类型"></a>三、五大数据类型</h2><p> Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作<strong>数据库</strong>，<strong>高速缓存</strong>和<strong>消息队列代理</strong>。它支持<a href="https://www.redis.net.cn/tutorial/3508.html">字符串</a>、<a href="https://www.redis.net.cn/tutorial/3509.html">哈希表</a>、<a href="https://www.redis.net.cn/tutorial/3510.html">列表</a>、<a href="https://www.redis.net.cn/tutorial/3511.html">集合</a>、<a href="https://www.redis.net.cn/tutorial/3512.html">有序集合</a>，<a href="https://www.redis.net.cn/tutorial/3508.html">位图</a>，<a href="https://www.redis.net.cn/tutorial/3513.html">hyperloglogs</a>等数据类型。内置复制、<a href="https://www.redis.net.cn/tutorial/3516.html">Lua脚本</a>、LRU收回、<a href="https://www.redis.net.cn/tutorial/3515.html">事务</a>以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动<a href="https://www.redis.net.cn/tutorial/3524.html">分区</a>。</p><blockquote><p>官方文档：<a href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></p></blockquote><h3 id="Redis-key"><a href="#Redis-key" class="headerlink" title="Redis-key"></a>Redis-key</h3><blockquote><p>在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</p></blockquote><p>下面学习的命令：</p><ul><li><code>exists key</code>：判断键是否存在</li><li><code>del key</code>：删除键值对</li><li><code>move key db</code>：将键值对移动到指定数据库</li><li><code>expire key second</code>：设置键值对的过期时间</li><li><code>type key</code>：查看value的数据类型</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; keys * <span class="hljs-comment"># 查看当前数据库所有key</span><br>(empty list or <span class="hljs-built_in">set</span>)<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> name qinjiang <span class="hljs-comment"># set key</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> age 20<br>OK<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;age&quot;</span><br>2) <span class="hljs-string">&quot;name&quot;</span><br>127.0.0.1:6379&gt; move age 1 <span class="hljs-comment"># 将键值对移动到指定数据库</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; EXISTS age <span class="hljs-comment"># 判断键是否存在</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># 不存在</span><br>127.0.0.1:6379&gt; EXISTS name<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 存在</span><br>127.0.0.1:6379&gt; SELECT 1<br>OK<br>127.0.0.1:6379[1]&gt; keys *<br>1) <span class="hljs-string">&quot;age&quot;</span><br>127.0.0.1:6379[1]&gt; del age <span class="hljs-comment"># 删除键值对</span><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 删除个数</span><br><br><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> age 20<br>OK<br>127.0.0.1:6379&gt; EXPIRE age 15 <span class="hljs-comment"># 设置键值对的过期时间</span><br><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 设置成功 开始计数</span><br>127.0.0.1:6379&gt; ttl age <span class="hljs-comment"># 查看key的过期剩余时间</span><br>(<span class="hljs-built_in">integer</span>) 13<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) 11<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) 9<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) -2 <span class="hljs-comment"># -2 表示key过期，-1表示key未设置过期时间</span><br><br>127.0.0.1:6379&gt; get age <span class="hljs-comment"># 过期的key 会被自动delete</span><br>(nil)<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;name&quot;</span><br><br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> name <span class="hljs-comment"># 查看value的数据类型</span><br>string<br></code></pre></td></tr></table></figure><p>关于<code>TTL</code>命令</p><p>Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：</p><ol><li>当前key没有设置过期时间，所以会返回-1.</li><li>当前key有设置过期时间，而且key已经过期，所以会返回-2.</li><li>当前key有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.</li></ol><p>关于重命名<code>RENAME</code>和<code>RENAMENX</code></p><ul><li><code>RENAME key newkey</code>修改 key 的名称</li><li><code>RENAMENX key newkey</code>仅当 newkey 不存在时，将 key 改名为 newkey 。</li></ul><p>更多命令学习：<a href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wBVZtGVm-1597890996517)(狂神说 Redis.assets&#x2F;image-20200813114228439.png)]</p><h3 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String(字符串)"></a>String(字符串)</h3><p>普通的set、get直接略过。</p><table><thead><tr><th>命令</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td><code>APPEND key value</code></td><td>向指定的key的value后追加字符串</td><td>127.0.0.1:6379&gt; set msg hello OK 127.0.0.1:6379&gt; append msg “ world” (integer) 11 127.0.0.1:6379&gt; get msg “hello world”</td></tr><tr><td><code>DECR/INCR key</code></td><td>将指定key的value数值进行+1&#x2F;-1(仅对于数字)</td><td>127.0.0.1:6379&gt; set age 20 OK 127.0.0.1:6379&gt; incr age (integer) 21 127.0.0.1:6379&gt; decr age (integer) 20</td></tr><tr><td><code>INCRBY/DECRBY key n</code></td><td>按指定的步长对数值进行加减</td><td>127.0.0.1:6379&gt; INCRBY age 5 (integer) 25 127.0.0.1:6379&gt; DECRBY age 10 (integer) 15</td></tr><tr><td><code>INCRBYFLOAT key n</code></td><td>为数值加上浮点型数值</td><td>127.0.0.1:6379&gt; INCRBYFLOAT age 5.2 “20.2”</td></tr><tr><td><code>STRLEN key</code></td><td>获取key保存值的字符串长度</td><td>127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; STRLEN msg (integer) 11</td></tr><tr><td><code>GETRANGE key start end</code></td><td>按起止位置获取字符串（闭区间，起止位置都取）</td><td>127.0.0.1:6379&gt; get msg “hello world” 127.0.0.1:6379&gt; GETRANGE msg 3 9 “lo worl”</td></tr><tr><td><code>SETRANGE key offset value</code></td><td>用指定的value 替换key中 offset开始的值</td><td>127.0.0.1:6379&gt; SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379&gt; get msg “tehello”</td></tr><tr><td><code>GETSET key value</code></td><td>将给定 key 的值设为 value ，并返回 key 的旧值(old value)。</td><td>127.0.0.1:6379&gt; GETSET msg test “hello world”</td></tr><tr><td><code>SETNX key value</code></td><td>仅当key不存在时进行set</td><td>127.0.0.1:6379&gt; SETNX msg test (integer) 0 127.0.0.1:6379&gt; SETNX name sakura (integer) 1</td></tr><tr><td><code>SETEX key seconds value</code></td><td>set 键值对并设置过期时间</td><td>127.0.0.1:6379&gt; setex name 10 root OK 127.0.0.1:6379&gt; get name (nil)</td></tr><tr><td><code>MSET key1 value1 [key2 value2..]</code></td><td>批量set键值对</td><td>127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 OK</td></tr><tr><td><code>MSETNX key1 value1 [key2 value2..]</code></td><td>批量设置键值对，仅当参数中所有的key都不存在时执行</td><td>127.0.0.1:6379&gt; MSETNX k1 v1 k4 v4 (integer) 0</td></tr><tr><td><code>MGET key1 [key2..]</code></td><td>批量获取多个key保存的值</td><td>127.0.0.1:6379&gt; MGET k1 k2 k3 1) “v1” 2) “v2” 3) “v3”</td></tr><tr><td><code>PSETEX key milliseconds value</code></td><td>和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，</td><td></td></tr><tr><td><code>getset key value</code></td><td>如果不存在值，则返回nil，如果存在值，获取原来的值，并设置新的值</td><td></td></tr></tbody></table><p>String类似的使用场景：value除了是字符串还可以是数字，用途举例：</p><ul><li>计数器</li><li>统计多单位的数量：uid:123666：follow 0</li><li>粉丝数</li><li>对象存储缓存</li></ul><h3 id="List-列表"><a href="#List-列表" class="headerlink" title="List(列表)"></a>List(列表)</h3><blockquote><p>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）</p><p>一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。</p></blockquote><p>首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等</p><p><img src="https://img-blog.csdnimg.cn/20200820104440398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VPvbIltc-1597890996518)(狂神说 Redis.assets/image-20200813114255459.png)]"></p><p>正如图Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类，有时候L也表示List例如LLEN</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>LPUSH/RPUSH key value1[value2..]</code></td><td>从左边&#x2F;右边向列表中PUSH值(一个或者多个)。</td></tr><tr><td><code>LRANGE key start end</code></td><td>获取list 起止元素&#x3D;&#x3D;（索引从左往右 递增）&#x3D;&#x3D;</td></tr><tr><td><code>LPUSHX/RPUSHX key value</code></td><td>向已存在的列名中push值（一个或者多个）</td></tr><tr><td>&#96;LINSERT key BEFORE</td><td>AFTER pivot value&#96;</td></tr><tr><td><code>LLEN key</code></td><td>查看列表长度</td></tr><tr><td><code>LINDEX key index</code></td><td>通过索引获取列表元素</td></tr><tr><td><code>LSET key index value</code></td><td>通过索引为元素设值</td></tr><tr><td><code>LPOP/RPOP key</code></td><td>从最左边&#x2F;最右边移除值 并返回</td></tr><tr><td><code>RPOPLPUSH source destination</code></td><td>将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部</td></tr><tr><td><code>LTRIM key start end</code></td><td>通过下标截取指定范围内的列表</td></tr><tr><td><code>LREM key count value</code></td><td>List中是允许value重复的 <code>count &gt; 0</code>：从头部开始搜索 然后删除指定的value 至多删除count个 <code>count &lt; 0</code>：从尾部开始搜索… <code>count = 0</code>：删除列表中所有的指定value。</td></tr><tr><td><code>BLPOP/BRPOP key1[key2] timout</code></td><td>移出并获取列表的第一个&#x2F;最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td></tr><tr><td><code>BRPOPLPUSH source destination timeout</code></td><td>和<code>RPOPLPUSH</code>功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><code class="hljs bash">---------------------------LPUSH---RPUSH---LRANGE--------------------------------<br><br>127.0.0.1:6379&gt; LPUSH mylist k1 <span class="hljs-comment"># LPUSH mylist=&gt;&#123;1&#125;</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; LPUSH mylist k2 <span class="hljs-comment"># LPUSH mylist=&gt;&#123;2,1&#125;</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; RPUSH mylist k3 <span class="hljs-comment"># RPUSH mylist=&gt;&#123;2,1,3&#125;</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; get mylist <span class="hljs-comment"># 普通的get是无法获取list值的</span><br>(error) WRONGTYPE Operation against a key holding the wrong kind of value<br>127.0.0.1:6379&gt; LRANGE mylist 0 4 <span class="hljs-comment"># LRANGE 获取起止位置范围内的元素</span><br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 2<br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 1<br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1 <span class="hljs-comment"># 获取全部元素</span><br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LPUSHX---RPUSHX-----------------------------------<br><br>127.0.0.1:6379&gt; LPUSHX list v1 <span class="hljs-comment"># list不存在 LPUSHX失败</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; LPUSHX list v1 v2  <br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; LPUSHX mylist k4 k5 <span class="hljs-comment"># 向mylist中 左边 PUSH k4 k5</span><br>(<span class="hljs-built_in">integer</span>) 5<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;k1&quot;</span><br>5) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------<br><br>127.0.0.1:6379&gt; LINSERT mylist after k2 ins_key1 <span class="hljs-comment"># 在k2元素后 插入ins_key1</span><br>(<span class="hljs-built_in">integer</span>) 6<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;ins_key1&quot;</span><br>5) <span class="hljs-string">&quot;k1&quot;</span><br>6) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LLEN mylist <span class="hljs-comment"># 查看mylist的长度</span><br>(<span class="hljs-built_in">integer</span>) 6<br>127.0.0.1:6379&gt; LINDEX mylist 3 <span class="hljs-comment"># 获取下标为3的元素</span><br><span class="hljs-string">&quot;ins_key1&quot;</span><br>127.0.0.1:6379&gt; LINDEX mylist 0<br><span class="hljs-string">&quot;k5&quot;</span><br>127.0.0.1:6379&gt; LSET mylist 3 k6 <span class="hljs-comment"># 将下标3的元素 set值为k6</span><br>OK<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;k6&quot;</span><br>5) <span class="hljs-string">&quot;k1&quot;</span><br>6) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LPOP--RPOP--------------------------<br><br>127.0.0.1:6379&gt; LPOP mylist <span class="hljs-comment"># 左侧(头部)弹出</span><br><span class="hljs-string">&quot;k5&quot;</span><br>127.0.0.1:6379&gt; RPOP mylist <span class="hljs-comment"># 右侧(尾部)弹出</span><br><span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------RPOPLPUSH--------------------------<br><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>3) <span class="hljs-string">&quot;k6&quot;</span><br>4) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; RPOPLPUSH mylist newlist <span class="hljs-comment"># 将mylist的最后一个值(k1)弹出，加入到newlist的头部</span><br><span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE newlist 0 -1<br>1) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>3) <span class="hljs-string">&quot;k6&quot;</span><br><br>---------------------------LTRIM--------------------------<br><br>127.0.0.1:6379&gt; LTRIM mylist 0 1 <span class="hljs-comment"># 截取mylist中的 0~1部分</span><br>OK<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br><br><span class="hljs-comment"># 初始 mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2</span><br>---------------------------LREM--------------------------<br><br>127.0.0.1:6379&gt; LREM mylist 3 k2 <span class="hljs-comment"># 从头部开始搜索 至多删除3个 k2</span><br>(<span class="hljs-built_in">integer</span>) 3<br><span class="hljs-comment"># 删除后：mylist: k2,k2,k2,k4,k2,k2,k2,k2</span><br><br>127.0.0.1:6379&gt; LREM mylist -2 k2 <span class="hljs-comment">#从尾部开始搜索 至多删除2个 k2</span><br>(<span class="hljs-built_in">integer</span>) 2<br><span class="hljs-comment"># 删除后：mylist: k2,k2,k2,k4,k2,k2</span><br><br><br>---------------------------BLPOP--BRPOP--------------------------<br><br>mylist: k2,k2,k2,k4,k2,k2<br>newlist: k1<br><br>127.0.0.1:6379&gt; BLPOP newlist mylist 30 <span class="hljs-comment"># 从newlist中弹出第一个值，mylist作为候选</span><br>1) <span class="hljs-string">&quot;newlist&quot;</span> <span class="hljs-comment"># 弹出</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; BLPOP newlist mylist 30<br>1) <span class="hljs-string">&quot;mylist&quot;</span> <span class="hljs-comment"># 由于newlist空了 从mylist中弹出</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>127.0.0.1:6379&gt; BLPOP newlist 30<br>(30.10s) <span class="hljs-comment"># 超时了</span><br><br>127.0.0.1:6379&gt; BLPOP newlist 30 <span class="hljs-comment"># 我们连接另一个客户端向newlist中push了test, 阻塞被解决。</span><br>1) <span class="hljs-string">&quot;newlist&quot;</span><br>2) <span class="hljs-string">&quot;test&quot;</span><br>(12.54s)<br></code></pre></td></tr></table></figure><blockquote><p>小结</p></blockquote><ul><li>list实际上是一个链表，before Node after , left, right 都可以插入值</li><li><strong>如果key不存在，则创建新的链表</strong></li><li>如果key存在，新增内容</li><li>如果移除了所有值，空链表，也代表不存在</li><li>在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</li></ul><p><strong>应用：</strong></p><p><strong>消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</strong></p><h3 id="Set-集合"><a href="#Set-集合" class="headerlink" title="Set(集合)"></a>Set(集合)</h3><blockquote><p>Redis的Set是<strong>string类型</strong>的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</p><p>Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</p><p>集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>SADD key member1[member2..]</code></td><td>向集合中无序增加一个&#x2F;多个成员</td></tr><tr><td><code>SCARD key</code></td><td>获取集合的成员数</td></tr><tr><td><code>SMEMBERS key</code></td><td>返回集合中所有的成员</td></tr><tr><td><code>SISMEMBER key member</code></td><td>查询member元素是否是集合的成员,结果是无序的</td></tr><tr><td><code>SRANDMEMBER key [count]</code></td><td>随机返回集合中count个成员，count缺省值为1</td></tr><tr><td><code>SPOP key [count]</code></td><td>随机移除并返回集合中count个成员，count缺省值为1</td></tr><tr><td><code>SMOVE source destination member</code></td><td>将source集合的成员member移动到destination集合</td></tr><tr><td><code>SREM key member1[member2..]</code></td><td>移除集合中一个&#x2F;多个成员</td></tr><tr><td><code>SDIFF key1[key2..]</code></td><td>返回所有集合的差集 key1- key2 - …</td></tr><tr><td><code>SDIFFSTORE destination key1[key2..]</code></td><td>在SDIFF的基础上，将结果保存到集合中&#x3D;&#x3D;(覆盖)&#x3D;&#x3D;。不能保存到其他类型key噢！</td></tr><tr><td><code>SINTER key1 [key2..]</code></td><td>返回所有集合的交集</td></tr><tr><td><code>SINTERSTORE destination key1[key2..]</code></td><td>在SINTER的基础上，存储结果到集合中。覆盖</td></tr><tr><td><code>SUNION key1 [key2..]</code></td><td>返回所有集合的并集</td></tr><tr><td><code>SUNIONSTORE destination key1 [key2..]</code></td><td>在SUNION的基础上，存储结果到及和张。覆盖</td></tr><tr><td><code>SSCAN KEY [MATCH pattern] [COUNT count]</code></td><td>在大量数据环境下，使用此命令遍历集合中元素，每次遍历部分</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------<br><br>127.0.0.1:6379&gt; SADD myset m1 m2 m3 m4 <span class="hljs-comment"># 向myset中增加成员 m1~m4</span><br>(<span class="hljs-built_in">integer</span>) 4<br>127.0.0.1:6379&gt; SCARD myset <span class="hljs-comment"># 获取集合的成员数目</span><br>(<span class="hljs-built_in">integer</span>) 4<br>127.0.0.1:6379&gt; smembers myset <span class="hljs-comment"># 获取集合中所有成员</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>4) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SISMEMBER myset m5 <span class="hljs-comment"># 查询m5是否是myset的成员</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># 不是，返回0</span><br>127.0.0.1:6379&gt; SISMEMBER myset m2<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 是，返回1</span><br>127.0.0.1:6379&gt; SISMEMBER myset m3<br>(<span class="hljs-built_in">integer</span>) 1<br><br>---------------------SRANDMEMBER--SPOP----------------------------------<br><br>127.0.0.1:6379&gt; SRANDMEMBER myset 3 <span class="hljs-comment"># 随机返回3个成员</span><br>1) <span class="hljs-string">&quot;m2&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m4&quot;</span><br>127.0.0.1:6379&gt; SRANDMEMBER myset <span class="hljs-comment"># 随机返回1个成员</span><br><span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; SPOP myset 2 <span class="hljs-comment"># 随机移除并返回2个成员</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m4&quot;</span><br><span class="hljs-comment"># 将set还原到&#123;m1,m2,m3,m4&#125;</span><br><br>---------------------SMOVE--SREM----------------------------------------<br><br>127.0.0.1:6379&gt; SMOVE myset newset m3 <span class="hljs-comment"># 将myset中m3成员移动到newset集合</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; SMEMBERS myset<br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m2&quot;</span><br>3) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SMEMBERS newset<br>1) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; SREM newset m3 <span class="hljs-comment"># 从newset中移除m3元素</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; SMEMBERS newset<br>(empty list or <span class="hljs-built_in">set</span>)<br><br><span class="hljs-comment"># 下面开始是多集合操作,多集合操作中若只有一个参数默认和自身进行运算</span><br><span class="hljs-comment"># setx=&gt;&#123;m1,m2,m4,m6&#125;, sety=&gt;&#123;m2,m5,m6&#125;, setz=&gt;&#123;m1,m3,m6&#125;</span><br><br>-----------------------------SDIFF------------------------------------<br><br>127.0.0.1:6379&gt; SDIFF setx sety setz <span class="hljs-comment"># 等价于setx-sety-setz</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>127.0.0.1:6379&gt; SDIFF setx sety <span class="hljs-comment"># setx - sety</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SDIFF sety setx <span class="hljs-comment"># sety - setx</span><br>1) <span class="hljs-string">&quot;m5&quot;</span><br><br><br>-------------------------SINTER---------------------------------------<br><span class="hljs-comment"># 共同关注（交集）</span><br><br>127.0.0.1:6379&gt; SINTER setx sety setz <span class="hljs-comment"># 求 setx、sety、setx的交集</span><br>1) <span class="hljs-string">&quot;m6&quot;</span><br>127.0.0.1:6379&gt; SINTER setx sety <span class="hljs-comment"># 求setx sety的交集</span><br>1) <span class="hljs-string">&quot;m2&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br><br>-------------------------SUNION---------------------------------------<br><br>127.0.0.1:6379&gt; SUNION setx sety setz <span class="hljs-comment"># setx sety setz的并集</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br>3) <span class="hljs-string">&quot;m3&quot;</span><br>4) <span class="hljs-string">&quot;m2&quot;</span><br>5) <span class="hljs-string">&quot;m1&quot;</span><br>6) <span class="hljs-string">&quot;m5&quot;</span><br>127.0.0.1:6379&gt; SUNION setx sety <span class="hljs-comment"># setx sety 并集</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>4) <span class="hljs-string">&quot;m1&quot;</span><br>5) <span class="hljs-string">&quot;m5&quot;</span><br></code></pre></td></tr></table></figure><h3 id="Hash（哈希）"><a href="#Hash（哈希）" class="headerlink" title="Hash（哈希）"></a>Hash（哈希）</h3><blockquote><p>Redis hash 是一个string类型的field和value的映射表，hash特别适合用于存储对象。</p><p>Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>HSET key field value</code></td><td>将哈希表 key 中的字段 field 的值设为 value 。重复设置同一个field会覆盖,返回0</td></tr><tr><td><code>HMSET key field1 value1 [field2 value2..]</code></td><td>同时将多个 field-value (域-值)对设置到哈希表 key 中。</td></tr><tr><td><code>HSETNX key field value</code></td><td>只有在字段 field 不存在时，设置哈希表字段的值。</td></tr><tr><td><code>HEXISTS key field</code></td><td>查看哈希表 key 中，指定的字段是否存在。</td></tr><tr><td><code>HGET key field value</code></td><td>获取存储在哈希表中指定字段的值</td></tr><tr><td><code>HMGET key field1 [field2..]</code></td><td>获取所有给定字段的值</td></tr><tr><td><code>HGETALL key</code></td><td>获取在哈希表key 的所有字段和值</td></tr><tr><td><code>HKEYS key</code></td><td>获取哈希表key中所有的字段</td></tr><tr><td><code>HLEN key</code></td><td>获取哈希表中字段的数量</td></tr><tr><td><code>HVALS key</code></td><td>获取哈希表中所有值</td></tr><tr><td><code>HDEL key field1 [field2..]</code></td><td>删除哈希表key中一个&#x2F;多个field字段</td></tr><tr><td><code>HINCRBY key field n</code></td><td>为哈希表 key 中的指定字段的整数值加上增量n，并返回增量后结果 一样只适用于整数型字段</td></tr><tr><td><code>HINCRBYFLOAT key field n</code></td><td>为哈希表 key 中的指定字段的浮点数值加上增量 n。</td></tr><tr><td><code>HSCAN key cursor [MATCH pattern] [COUNT count]</code></td><td>迭代哈希表中的键值对。</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs bash">------------------------HSET--HMSET--HSETNX----------------<br>127.0.0.1:6379&gt; HSET studentx name sakura <span class="hljs-comment"># 将studentx哈希表作为一个对象，设置name为sakura</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; HSET studentx name gyc <span class="hljs-comment"># 重复设置field进行覆盖，并返回0</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; HSET studentx age 20 <span class="hljs-comment"># 设置studentx的age为20</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; HMSET studentx sex 1 tel 15623667886 <span class="hljs-comment"># 设置sex为1，tel为15623667886</span><br>OK<br>127.0.0.1:6379&gt; HSETNX studentx name gyc <span class="hljs-comment"># HSETNX 设置已存在的field</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># 失败</span><br>127.0.0.1:6379&gt; HSETNX studentx email 12345@qq.com<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 成功</span><br><br>----------------------HEXISTS--------------------------------<br>127.0.0.1:6379&gt; HEXISTS studentx name <span class="hljs-comment"># name字段在studentx中是否存在</span><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># 存在</span><br>127.0.0.1:6379&gt; HEXISTS studentx addr<br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># 不存在</span><br><br>-------------------HGET--HMGET--HGETALL-----------<br>127.0.0.1:6379&gt; HGET studentx name <span class="hljs-comment"># 获取studentx中name字段的value</span><br><span class="hljs-string">&quot;gyc&quot;</span><br>127.0.0.1:6379&gt; HMGET studentx name age tel <span class="hljs-comment"># 获取studentx中name、age、tel字段的value</span><br>1) <span class="hljs-string">&quot;gyc&quot;</span><br>2) <span class="hljs-string">&quot;20&quot;</span><br>3) <span class="hljs-string">&quot;15623667886&quot;</span><br>127.0.0.1:6379&gt; HGETALL studentx <span class="hljs-comment"># 获取studentx中所有的field及其value</span><br> 1) <span class="hljs-string">&quot;name&quot;</span><br> 2) <span class="hljs-string">&quot;gyc&quot;</span><br> 3) <span class="hljs-string">&quot;age&quot;</span><br> 4) <span class="hljs-string">&quot;20&quot;</span><br> 5) <span class="hljs-string">&quot;sex&quot;</span><br> 6) <span class="hljs-string">&quot;1&quot;</span><br> 7) <span class="hljs-string">&quot;tel&quot;</span><br> 8) <span class="hljs-string">&quot;15623667886&quot;</span><br> 9) <span class="hljs-string">&quot;email&quot;</span><br>10) <span class="hljs-string">&quot;12345@qq.com&quot;</span><br><br><br>--------------------HKEYS--HLEN--HVALS--------------<br>127.0.0.1:6379&gt; HKEYS studentx <span class="hljs-comment"># 查看studentx中所有的field</span><br>1) <span class="hljs-string">&quot;name&quot;</span><br>2) <span class="hljs-string">&quot;age&quot;</span><br>3) <span class="hljs-string">&quot;sex&quot;</span><br>4) <span class="hljs-string">&quot;tel&quot;</span><br>5) <span class="hljs-string">&quot;email&quot;</span><br>127.0.0.1:6379&gt; HLEN studentx <span class="hljs-comment"># 查看studentx中的字段数量</span><br>(<span class="hljs-built_in">integer</span>) 5<br>127.0.0.1:6379&gt; HVALS studentx <span class="hljs-comment"># 查看studentx中所有的value</span><br>1) <span class="hljs-string">&quot;gyc&quot;</span><br>2) <span class="hljs-string">&quot;20&quot;</span><br>3) <span class="hljs-string">&quot;1&quot;</span><br>4) <span class="hljs-string">&quot;15623667886&quot;</span><br>5) <span class="hljs-string">&quot;12345@qq.com&quot;</span><br><br>-------------------------HDEL--------------------------<br>127.0.0.1:6379&gt; HDEL studentx sex tel <span class="hljs-comment"># 删除studentx 中的sex、tel字段</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; HKEYS studentx<br>1) <span class="hljs-string">&quot;name&quot;</span><br>2) <span class="hljs-string">&quot;age&quot;</span><br>3) <span class="hljs-string">&quot;email&quot;</span><br><br>-------------HINCRBY--HINCRBYFLOAT------------------------<br>127.0.0.1:6379&gt; HINCRBY studentx age 1 <span class="hljs-comment"># studentx的age字段数值+1</span><br>(<span class="hljs-built_in">integer</span>) 21<br>127.0.0.1:6379&gt; HINCRBY studentx name 1 <span class="hljs-comment"># 非整数字型字段不可用</span><br>(error) ERR <span class="hljs-built_in">hash</span> value is not an <span class="hljs-built_in">integer</span><br>127.0.0.1:6379&gt; HINCRBYFLOAT studentx weight 0.6 <span class="hljs-comment"># weight字段增加0.6</span><br><span class="hljs-string">&quot;90.8&quot;</span><br></code></pre></td></tr></table></figure><p> Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！<strong>Hash更适合于对象的存储，Sring更加适合字符串存储！</strong></p><h3 id="Zset（有序集合）"><a href="#Zset（有序集合）" class="headerlink" title="Zset（有序集合）"></a>Zset（有序集合）</h3><blockquote><p>不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</p><p>score相同：按字典顺序排序</p><p>有序集合的成员是唯一的,但分数(score)却可以重复。</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>ZADD key score member1 [score2 member2]</code></td><td>向有序集合添加一个或多个成员，或者更新已存在成员的分数</td></tr><tr><td><code>ZCARD key</code></td><td>获取有序集合的成员数</td></tr><tr><td><code>ZCOUNT key min max</code></td><td>计算在有序集合中指定区间score的成员数</td></tr><tr><td><code>ZINCRBY key n member</code></td><td>有序集合中对指定成员的分数加上增量 n</td></tr><tr><td><code>ZSCORE key member</code></td><td>返回有序集中，成员的分数值</td></tr><tr><td><code>ZRANK key member</code></td><td>返回有序集合中指定成员的索引</td></tr><tr><td><code>ZRANGE key start end</code></td><td>通过索引区间返回有序集合成指定区间内的成员</td></tr><tr><td><code>ZRANGEBYLEX key min max</code></td><td>通过字典区间返回有序集合的成员</td></tr><tr><td><code>ZRANGEBYSCORE key min max</code></td><td>通过分数返回有序集合指定区间内的成员&#x3D;&#x3D;-inf 和 +inf分别表示最小最大值，只支持开区间()&#x3D;&#x3D;</td></tr><tr><td><code>ZLEXCOUNT key min max</code></td><td>在有序集合中计算指定字典区间内成员数量</td></tr><tr><td><code>ZREM key member1 [member2..]</code></td><td>移除有序集合中一个&#x2F;多个成员</td></tr><tr><td><code>ZREMRANGEBYLEX key min max</code></td><td>移除有序集合中给定的字典区间的所有成员</td></tr><tr><td><code>ZREMRANGEBYRANK key start stop</code></td><td>移除有序集合中给定的排名区间的所有成员</td></tr><tr><td><code>ZREMRANGEBYSCORE key min max</code></td><td>移除有序集合中给定的分数区间的所有成员</td></tr><tr><td><code>ZREVRANGE key start end</code></td><td>返回有序集中指定区间内的成员，通过索引，分数从高到底</td></tr><tr><td><code>ZREVRANGEBYSCORRE key max min</code></td><td>返回有序集中指定分数区间内的成员，分数从高到低排序</td></tr><tr><td><code>ZREVRANGEBYLEX key max min</code></td><td>返回有序集中指定字典区间内的成员，按字典顺序倒序</td></tr><tr><td><code>ZREVRANK key member</code></td><td>返回有序集合中指定成员的排名，有序集成员按分数值递减(从大到小)排序</td></tr><tr><td><code>ZINTERSTORE destination numkeys key1 [key2 ..]</code></td><td>计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中，numkeys：表示参与运算的集合数，将score相加作为结果的score</td></tr><tr><td><code>ZUNIONSTORE destination numkeys key1 [key2..]</code></td><td>计算给定的一个或多个有序集的交集并将结果集存储在新的有序集合 key 中</td></tr><tr><td><code>ZSCAN key cursor [MATCH pattern\] [COUNT count]</code></td><td>迭代有序集合中的元素（包括元素成员和元素分值）</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><code class="hljs bash">-------------------ZADD--ZCARD--ZCOUNT--------------<br>127.0.0.1:6379&gt; ZADD myzset 1 m1 2 m2 3 m3 <span class="hljs-comment"># 向有序集合myzset中添加成员m1 score=1 以及成员m2 score=2..</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZCARD myzset <span class="hljs-comment"># 获取有序集合的成员数</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZCOUNT myzset 0 1 <span class="hljs-comment"># 获取score在 [0,1]区间的成员数量</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZCOUNT myzset 0 2<br>(<span class="hljs-built_in">integer</span>) 2<br><br>----------------ZINCRBY--ZSCORE--------------------------<br>127.0.0.1:6379&gt; ZINCRBY myzset 5 m2 <span class="hljs-comment"># 将成员m2的score +5</span><br><span class="hljs-string">&quot;7&quot;</span><br>127.0.0.1:6379&gt; ZSCORE myzset m1 <span class="hljs-comment"># 获取成员m1的score</span><br><span class="hljs-string">&quot;1&quot;</span><br>127.0.0.1:6379&gt; ZSCORE myzset m2<br><span class="hljs-string">&quot;7&quot;</span><br><br>--------------ZRANK--ZRANGE-----------------------------------<br>127.0.0.1:6379&gt; ZRANK myzset m1 <span class="hljs-comment"># 获取成员m1的索引，索引按照score排序，score相同索引值按字典顺序顺序增加</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; ZRANK myzset m2<br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZRANGE myzset 0 1 <span class="hljs-comment"># 获取索引在 0~1的成员</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; ZRANGE myzset 0 -1 <span class="hljs-comment"># 获取全部成员</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br><br><span class="hljs-comment">#testset=&gt;&#123;abc,add,amaze,apple,back,java,redis&#125; score均为0</span><br>------------------ZRANGEBYLEX---------------------------------<br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + <span class="hljs-comment"># 返回所有成员</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>4) <span class="hljs-string">&quot;apple&quot;</span><br>5) <span class="hljs-string">&quot;back&quot;</span><br>6) <span class="hljs-string">&quot;java&quot;</span><br>7) <span class="hljs-string">&quot;redis&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 0 3 <span class="hljs-comment"># 分页 按索引显示查询结果的 0,1,2条记录</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 3 3 <span class="hljs-comment"># 显示 3,4,5条记录</span><br>1) <span class="hljs-string">&quot;apple&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;java&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset (- [apple <span class="hljs-comment"># 显示 (-,apple] 区间内的成员</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>4) <span class="hljs-string">&quot;apple&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset [apple [java <span class="hljs-comment"># 显示 [apple,java]字典区间的成员</span><br>1) <span class="hljs-string">&quot;apple&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;java&quot;</span><br><br>-----------------------ZRANGEBYSCORE---------------------<br>127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 10 <span class="hljs-comment"># 返回score在 [1,10]之间的的成员</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 5<br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br><br>--------------------ZLEXCOUNT-----------------------------<br>127.0.0.1:6379&gt; ZLEXCOUNT testset - +<br>(<span class="hljs-built_in">integer</span>) 7<br>127.0.0.1:6379&gt; ZLEXCOUNT testset [apple [java<br>(<span class="hljs-built_in">integer</span>) 3<br><br>------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------<br>127.0.0.1:6379&gt; ZREM testset abc <span class="hljs-comment"># 移除成员abc</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZREMRANGEBYLEX testset [apple [java <span class="hljs-comment"># 移除字典区间[apple,java]中的所有成员</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZREMRANGEBYRANK testset 0 1 <span class="hljs-comment"># 移除排名0~1的所有成员</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZREMRANGEBYSCORE myzset 0 3 <span class="hljs-comment"># 移除score在 [0,3]的成员</span><br>(<span class="hljs-built_in">integer</span>) 2<br><br><br><span class="hljs-comment"># testset=&gt; &#123;abc,add,apple,amaze,back,java,redis&#125; score均为0</span><br><span class="hljs-comment"># myzset=&gt; &#123;(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)&#125;</span><br>----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------<br>127.0.0.1:6379&gt; ZREVRANGE myzset 0 3 <span class="hljs-comment"># 按score递减排序，然后按索引，返回结果的 0~3</span><br>1) <span class="hljs-string">&quot;m9&quot;</span><br>2) <span class="hljs-string">&quot;m7&quot;</span><br>3) <span class="hljs-string">&quot;m4&quot;</span><br>4) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGE myzset 2 4 <span class="hljs-comment"># 返回排序结果的 索引的2~4</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGEBYSCORE myzset 6 2 <span class="hljs-comment"># 按score递减顺序 返回集合中分数在[2,6]之间的成员</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGEBYLEX testset [java (add <span class="hljs-comment"># 按字典倒序 返回集合中(add,java]字典区间的成员</span><br>1) <span class="hljs-string">&quot;java&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;apple&quot;</span><br>4) <span class="hljs-string">&quot;amaze&quot;</span><br><br>-------------------------ZREVRANK------------------------------<br>127.0.0.1:6379&gt; ZREVRANK myzset m7 <span class="hljs-comment"># 按score递减顺序，返回成员m7索引</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZREVRANK myzset m2<br>(<span class="hljs-built_in">integer</span>) 4<br><br><br><span class="hljs-comment"># mathscore=&gt;&#123;(xm,90),(xh,95),(xg,87)&#125; 小明、小红、小刚的数学成绩</span><br><span class="hljs-comment"># enscore=&gt;&#123;(xm,70),(xh,93),(xg,90)&#125; 小明、小红、小刚的英语成绩</span><br>-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------<br>127.0.0.1:6379&gt; ZINTERSTORE sumscore 2 mathscore enscore <span class="hljs-comment"># 将mathscore enscore进行合并 结果存放到sumscore</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZRANGE sumscore 0 -1 withscores <span class="hljs-comment"># 合并后的score是之前集合中所有score的和</span><br>1) <span class="hljs-string">&quot;xm&quot;</span><br>2) <span class="hljs-string">&quot;160&quot;</span><br>3) <span class="hljs-string">&quot;xg&quot;</span><br>4) <span class="hljs-string">&quot;177&quot;</span><br>5) <span class="hljs-string">&quot;xh&quot;</span><br>6) <span class="hljs-string">&quot;188&quot;</span><br><br>127.0.0.1:6379&gt; ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN <span class="hljs-comment"># 取两个集合的成员score最小值作为结果的</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZRANGE lowestscore 0 -1 withscores<br>1) <span class="hljs-string">&quot;xm&quot;</span><br>2) <span class="hljs-string">&quot;70&quot;</span><br>3) <span class="hljs-string">&quot;xg&quot;</span><br>4) <span class="hljs-string">&quot;87&quot;</span><br>5) <span class="hljs-string">&quot;xh&quot;</span><br>6) <span class="hljs-string">&quot;93&quot;</span><br></code></pre></td></tr></table></figure><p>应用案例：</p><ul><li>set排序 存储班级成绩表 工资表排序！</li><li>普通消息，1.重要消息 2.带权重进行判断</li><li>排行榜应用实现，取Top N测试</li></ul><h2 id="四、三种特殊数据类型"><a href="#四、三种特殊数据类型" class="headerlink" title="四、三种特殊数据类型"></a>四、三种特殊数据类型</h2><h3 id="Geospatial-地理位置"><a href="#Geospatial-地理位置" class="headerlink" title="Geospatial(地理位置)"></a>Geospatial(地理位置)</h3><blockquote><p>使用经纬度定位地理坐标并用一个<strong>有序集合zset保存</strong>，所以zset命令也可以使用</p><p>官方文档：<a href="https://www.redis.net.cn/order/3685.html">https://www.redis.net.cn/order/3685.html</a></p><p>经纬度查询：<a href="https://jingweidu.bmcx.com/">https://jingweidu.bmcx.com/</a></p><p>经度：111.06602742181892，纬度：38.43624789860152</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>geoadd key longitud(经度) latitude(纬度) member [..]</code></td><td>将具体经纬度的坐标存入一个有序集合</td></tr><tr><td><code>geopos key member [member..]</code></td><td>获取集合中的一个&#x2F;多个成员坐标</td></tr><tr><td><code>geodist key member1 member2 [unit]</code></td><td>返回两个给定位置之间的距离。默认以米作为单位。</td></tr><tr><td>&#96;georadius key longitude latitude radius m</td><td>km</td></tr><tr><td><code>GEORADIUSBYMEMBER key member radius...</code></td><td>功能与GEORADIUS相同，只是中心位置不是具体的经纬度，而是使用结合中已有的成员作为中心点。</td></tr><tr><td><code>geohash key member1 [member2..]</code></td><td>返回一个或多个位置元素的Geohash表示。使用Geohash位置52点整数编码。</td></tr></tbody></table><p><strong>有效经纬度</strong></p><blockquote><ul><li>有效的经度从-180度到180度。</li><li>有效的纬度从-85.05112878度到85.05112878度。</li></ul></blockquote><p>指定单位的参数 <strong>unit</strong> 必须是以下单位的其中一个：</p><ul><li><strong>m</strong> 表示单位为米。</li><li><strong>km</strong> 表示单位为千米。</li><li><strong>mi</strong> 表示单位为英里。</li><li><strong>ft</strong> 表示单位为英尺。</li></ul><p><strong>关于GEORADIUS的参数</strong></p><blockquote><p>通过<code>georadius</code>就可以完成 <strong>附近的人</strong>功能</p><p>withcoord:带上坐标</p><p>withdist:带上距离，单位与半径单位相同</p><p>COUNT n : 只显示前n个(按距离递增排序)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">----------------georadius---------------------<br>127.0.0.1:6379&gt; GEORADIUS china:city 120 30 500 km withcoord withdist <span class="hljs-comment"># 查询经纬度(120,30)坐标500km半径内的成员</span><br>1) 1) <span class="hljs-string">&quot;hangzhou&quot;</span><br>   2) <span class="hljs-string">&quot;29.4151&quot;</span><br>   3) 1) <span class="hljs-string">&quot;120.20000249147415&quot;</span><br>      2) <span class="hljs-string">&quot;30.199999888333501&quot;</span><br>2) 1) <span class="hljs-string">&quot;shanghai&quot;</span><br>   2) <span class="hljs-string">&quot;205.3611&quot;</span><br>   3) 1) <span class="hljs-string">&quot;121.40000134706497&quot;</span><br>      2) <span class="hljs-string">&quot;31.400000253193539&quot;</span><br>     <br>------------geohash---------------------------<br>127.0.0.1:6379&gt; geohash china:city yichang shanghai <span class="hljs-comment"># 获取成员经纬坐标的geohash表示</span><br>1) <span class="hljs-string">&quot;wmrjwbr5250&quot;</span><br>2) <span class="hljs-string">&quot;wtw6ds0y300&quot;</span><br></code></pre></td></tr></table></figure><h3 id="Hyperloglog-基数统计"><a href="#Hyperloglog-基数统计" class="headerlink" title="Hyperloglog(基数统计)"></a>Hyperloglog(基数统计)</h3><blockquote><p>Redis HyperLogLog 是用来做基数统计的算法，HyperLogLog 的优点是，在输入元素的数量或者体积非常非常大时，计算基数所需的空间总是固定的、并且是很小的。</p><p>花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数。</p><p>因为 HyperLogLog 只会根据输入元素来计算基数，而不会储存输入元素本身，所以 HyperLogLog 不能像集合那样，返回输入的各个元素。</p><p>其底层使用string数据类型</p></blockquote><p><strong>什么是基数？</strong></p><blockquote><p>数据集中不重复的元素的个数。</p></blockquote><p><strong>应用场景：</strong></p><p>网页的访问量（UV）：一个用户多次访问，也只能算作一个人。</p><blockquote><p>传统实现，存储用户的id,然后每次进行比较。当用户变多之后这种方式及其浪费空间，而我们的目的只是<strong>计数</strong>，Hyperloglog就能帮助我们利用最小的空间完成。</p></blockquote><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>PFADD key element1 [elememt2..]</code></td><td>添加指定元素到 HyperLogLog 中</td></tr><tr><td><code>PFCOUNT key [key]</code></td><td>返回给定 HyperLogLog 的基数估算值。</td></tr><tr><td><code>PFMERGE destkey sourcekey [sourcekey..]</code></td><td>将多个 HyperLogLog 合并为一个 HyperLogLog</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">----------PFADD--PFCOUNT---------------------<br>127.0.0.1:6379&gt; PFADD myelemx a b c d e f g h i j k <span class="hljs-comment"># 添加元素</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> myelemx <span class="hljs-comment"># hyperloglog底层使用String</span><br>string<br>127.0.0.1:6379&gt; PFCOUNT myelemx <span class="hljs-comment"># 估算myelemx的基数</span><br>(<span class="hljs-built_in">integer</span>) 11<br>127.0.0.1:6379&gt; PFADD myelemy i j k z m c b v p q s<br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; PFCOUNT myelemy<br>(<span class="hljs-built_in">integer</span>) 11<br><br>----------------PFMERGE-----------------------<br>127.0.0.1:6379&gt; PFMERGE myelemz myelemx myelemy <span class="hljs-comment"># 合并myelemx和myelemy 成为myelemz</span><br>OK<br>127.0.0.1:6379&gt; PFCOUNT myelemz <span class="hljs-comment"># 估算基数</span><br>(<span class="hljs-built_in">integer</span>) 17<br></code></pre></td></tr></table></figure><p>如果允许容错，那么一定可以使用Hyperloglog !</p><p>如果不允许容错，就使用set或者自己的数据类型即可 ！</p><h3 id="BitMaps-位图"><a href="#BitMaps-位图" class="headerlink" title="BitMaps(位图)"></a>BitMaps(位图)</h3><blockquote><p>使用位存储，信息状态只有 0 和 1</p><p>Bitmap是一串连续的2进制数字（0或1），每一位所在的位置为偏移(offset)，在bitmap上可执行AND,OR,XOR,NOT以及其它位操作。</p></blockquote><p><strong>应用场景</strong></p><p>签到统计、状态统计</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>setbit key offset value</code></td><td>为指定key的offset位设置值</td></tr><tr><td><code>getbit key offset</code></td><td>获取offset位的值</td></tr><tr><td><code>bitcount key [start end]</code></td><td>统计字符串被设置为1的bit数，也可以指定统计范围按字节</td></tr><tr><td><code>bitop operration destkey key[key..]</code></td><td>对一个或多个保存二进制位的字符串 key 进行位元操作，并将结果保存到 destkey 上。</td></tr><tr><td><code>BITPOS key bit [start] [end]</code></td><td>返回字符串里面第一个被设置为1或者0的bit位。start和end只能按字节,不能按位</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">------------setbit--getbit--------------<br>127.0.0.1:6379&gt; setbit sign 0 1 <span class="hljs-comment"># 设置sign的第0位为 1 </span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 2 1 <span class="hljs-comment"># 设置sign的第2位为 1  不设置默认 是0</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 3 1<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 5 1<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> sign<br>string<br><br>127.0.0.1:6379&gt; getbit sign 2 <span class="hljs-comment"># 获取第2位的数值</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; getbit sign 3<br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; getbit sign 4 <span class="hljs-comment"># 未设置默认是0</span><br>(<span class="hljs-built_in">integer</span>) 0<br><br>-----------bitcount----------------------------<br>127.0.0.1:6379&gt; BITCOUNT sign <span class="hljs-comment"># 统计sign中为1的位数</span><br>(<span class="hljs-built_in">integer</span>) 4<br></code></pre></td></tr></table></figure><p><strong>bitmaps的底层</strong></p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9PlszjhS-1597890996519)(D:\我\MyBlog\狂神说 Redis.assets\image-20200803234336175.png)]</p><p>这样设置以后你能get到的值是：<strong>\xA2\x80</strong>，所以bitmaps是一串从左到右的二进制串</p><h2 id="五、事务"><a href="#五、事务" class="headerlink" title="五、事务"></a>五、事务</h2><p>Redis的单条命令是保证原子性的，但是redis事务不能保证原子性</p><blockquote><p>Redis事务本质：一组命令的集合。</p><p>—————– 队列 set set set 执行 ——————-</p><p>事务中每条命令都会被序列化，执行过程中按顺序执行，不允许其他命令进行干扰。</p><ul><li>一次性</li><li>顺序性</li><li>排他性</li></ul><hr><ol><li>Redis事务没有隔离级别的概念</li><li>Redis单条命令是保证原子性的，但是事务不保证原子性！</li></ol></blockquote><h3 id="Redis事务操作过程"><a href="#Redis事务操作过程" class="headerlink" title="Redis事务操作过程"></a>Redis事务操作过程</h3><ul><li>开启事务（<code>multi</code>）</li><li>命令入队</li><li>执行事务（<code>exec</code>）</li></ul><p>所以事务中的命令在加入时都没有被执行，直到提交时才会开始执行(Exec)一次性完成。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi <span class="hljs-comment"># 开启事务</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1 <span class="hljs-comment"># 命令入队</span><br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2 <span class="hljs-comment"># ..</span><br>QUEUED<br>127.0.0.1:6379&gt; get k1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k3 v3<br>QUEUED<br>127.0.0.1:6379&gt; keys *<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span> <span class="hljs-comment"># 事务执行</span><br>1) OK<br>2) OK<br>3) <span class="hljs-string">&quot;v1&quot;</span><br>4) OK<br>5) 1) <span class="hljs-string">&quot;k3&quot;</span><br>   2) <span class="hljs-string">&quot;k2&quot;</span><br>   3) <span class="hljs-string">&quot;k1&quot;</span><br></code></pre></td></tr></table></figure><p><strong>取消事务(<code>discurd</code>)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; DISCARD <span class="hljs-comment"># 放弃事务</span><br>OK<br>127.0.0.1:6379&gt; EXEC <br>(error) ERR EXEC without MULTI <span class="hljs-comment"># 当前未开启事务</span><br>127.0.0.1:6379&gt; get k1 <span class="hljs-comment"># 被放弃事务中命令并未执行</span><br>(nil)<br></code></pre></td></tr></table></figure><h3 id="事务错误"><a href="#事务错误" class="headerlink" title="事务错误"></a>事务错误</h3><blockquote><p>代码语法错误（编译时异常）所有的命令都不执行</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; error k1 <span class="hljs-comment"># 这是一条语法错误命令</span><br>(error) ERR unknown <span class="hljs-built_in">command</span> `error`, with args beginning with: `k1`, <span class="hljs-comment"># 会报错但是不影响后续命令入队 </span><br>127.0.0.1:6379&gt; get k2<br>QUEUED<br>127.0.0.1:6379&gt; EXEC<br>(error) EXECABORT Transaction discarded because of previous errors. <span class="hljs-comment"># 执行报错</span><br>127.0.0.1:6379&gt; get k1 <br>(nil) <span class="hljs-comment"># 其他命令并没有被执行</span><br></code></pre></td></tr></table></figure><blockquote><p>代码逻辑错误 (运行时异常) **其他命令可以正常执行 ** &gt;&gt;&gt; 所以不保证事务原子性</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; INCR k1 <span class="hljs-comment"># 这条命令逻辑错误（对字符串进行增量）</span><br>QUEUED<br>127.0.0.1:6379&gt; get k2<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span><br>1) OK<br>2) OK<br>3) (error) ERR value is not an <span class="hljs-built_in">integer</span> or out of range <span class="hljs-comment"># 运行时报错</span><br>4) <span class="hljs-string">&quot;v2&quot;</span> <span class="hljs-comment"># 其他命令正常执行</span><br><br><span class="hljs-comment"># 虽然中间有一条命令报错了，但是后面的指令依旧正常执行成功了。</span><br><span class="hljs-comment"># 所以说Redis单条指令保证原子性，但是Redis事务不能保证原子性。</span><br></code></pre></td></tr></table></figure><h3 id="监控"><a href="#监控" class="headerlink" title="监控"></a>监控</h3><p><strong>悲观锁：</strong></p><ul><li>很悲观，认为什么时候都会出现问题，无论做什么都会加锁</li></ul><p><strong>乐观锁：</strong></p><ul><li>很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据</li><li>获取version</li><li>更新的时候比较version</li></ul><p>使用<code>watch key</code>监控指定数据，相当于乐观锁加锁。</p><blockquote><p>正常执行</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> money 100 <span class="hljs-comment"># 设置余额:100</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> use 0 <span class="hljs-comment"># 支出使用:0</span><br>OK<br>127.0.0.1:6379&gt; watch money <span class="hljs-comment"># 监视money (上锁)</span><br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; DECRBY money 20<br>QUEUED<br>127.0.0.1:6379&gt; INCRBY use 20<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span> <span class="hljs-comment"># 监视值没有被中途修改，事务正常执行</span><br>1) (<span class="hljs-built_in">integer</span>) 80<br>2) (<span class="hljs-built_in">integer</span>) 20<br></code></pre></td></tr></table></figure><blockquote><p>测试多线程修改值，使用watch可以当做redis的乐观锁操作（相当于getversion）</p></blockquote><p>我们启动另外一个客户端模拟插队线程。</p><p>线程1：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; watch money <span class="hljs-comment"># money上锁</span><br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; DECRBY money 20<br>QUEUED<br>127.0.0.1:6379&gt; INCRBY use 20<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-comment"># 此时事务并没有执行</span><br></code></pre></td></tr></table></figure><p>模拟线程插队，线程2：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; INCRBY money 500 <span class="hljs-comment"># 修改了线程一中监视的money</span><br>(<span class="hljs-built_in">integer</span>) 600<br>12<br></code></pre></td></tr></table></figure><p>回到线程1，执行事务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; EXEC <span class="hljs-comment"># 执行之前，另一个线程修改了我们的值，这个时候就会导致事务执行失败</span><br>(nil) <span class="hljs-comment"># 没有结果，说明事务执行失败</span><br><br>127.0.0.1:6379&gt; get money <span class="hljs-comment"># 线程2 修改生效</span><br><span class="hljs-string">&quot;600&quot;</span><br>127.0.0.1:6379&gt; get use <span class="hljs-comment"># 线程1事务执行失败，数值没有被修改</span><br><span class="hljs-string">&quot;0&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>解锁获取最新值，然后再加锁进行事务。</p><p><code>unwatch</code>进行解锁。</p></blockquote><p>注意：每次提交执行exec后都会自动释放锁，不管是否成功</p><h2 id="六、Jedis"><a href="#六、Jedis" class="headerlink" title="六、Jedis"></a>六、Jedis</h2><p>使用Java来操作Redis，Jedis是Redis官方推荐使用的Java连接redis的客户端。</p><ol><li><p>导入依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--导入jredis的包--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--fastjson--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.70<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>编码测试</p><ul><li><p>连接数据库</p><ol><li><p>修改redis的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /usr/local/bin/myconfig/redis.conf<br>1<br></code></pre></td></tr></table></figure><ol><li><p>将只绑定本地注释</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-4IRUFJ95-1597890996520)(狂神说 Redis.assets&#x2F;image-20200813161921480.png)]</p></li><li><p>保护模式改为 no</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oKjIVapw-1597890996521)(狂神说 Redis.assets&#x2F;image-20200813161939847.png)]</p></li><li><p>允许后台运行</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-c2IMvpZL-1597890996522)(狂神说 Redis.assets&#x2F;image-20200813161954567.png)]</p></li></ol></li></ol></li></ul></li><li><p>开放端口6379</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --zone=public --add-port=6379/tcp --permanet<br>1<br></code></pre></td></tr></table></figure><p>重启防火墙服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl restart firewalld.service<br>1<br></code></pre></td></tr></table></figure><ol><li><p>阿里云服务器控制台配置安全组</p></li><li><p>重启redis-server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@AlibabaECS bin]<span class="hljs-comment"># redis-server myconfig/redis.conf </span><br>1<br></code></pre></td></tr></table></figure></li></ol></li></ol><ul><li><p>操作命令</p><p><strong>TestPing.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPing</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">&quot;192.168.xx.xxx&quot;</span>, <span class="hljs-number">6379</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> jedis.ping();<br>        System.out.println(response); <span class="hljs-comment">// PONG</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>断开连接</p></li></ul><ol><li><p><strong>事务</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestTX</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">&quot;39.99.xxx.xx&quot;</span>, <span class="hljs-number">6379</span>);<br><br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();<br>        jsonObject.put(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>);<br>        jsonObject.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;kuangshen&quot;</span>);<br>        <span class="hljs-comment">// 开启事务</span><br>        <span class="hljs-type">Transaction</span> <span class="hljs-variable">multi</span> <span class="hljs-operator">=</span> jedis.multi();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> jsonObject.toJSONString();<br>        <span class="hljs-comment">// jedis.watch(result)</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            multi.set(<span class="hljs-string">&quot;user1&quot;</span>, result);<br>            multi.set(<span class="hljs-string">&quot;user2&quot;</span>, result);<br>            <span class="hljs-comment">// 执行事务</span><br>            multi.exec();<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            <span class="hljs-comment">// 放弃事务</span><br>            multi.discard();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-comment">// 关闭连接</span><br>            System.out.println(jedis.get(<span class="hljs-string">&quot;user1&quot;</span>));<br>            System.out.println(jedis.get(<span class="hljs-string">&quot;user2&quot;</span>));<br>            jedis.close();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="七、SpringBoot整合"><a href="#七、SpringBoot整合" class="headerlink" title="七、SpringBoot整合"></a>七、SpringBoot整合</h2><ol><li>导入依赖</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>springboot 2.x后 ，原来使用的 Jedis 被 lettuce 替换。</p><blockquote><p>jedis：采用的直连，多个线程操作的话，是不安全的。如果要避免不安全，使用jedis pool连接池！更像BIO模式</p><p>lettuce：采用netty，实例可以在多个线程中共享，不存在线程不安全的情况！可以减少线程数据了，更像NIO模式</p></blockquote><p>我们在学习SpringBoot自动配置的原理时，整合一个组件并进行配置一定会有一个自动配置类xxxAutoConfiguration,并且在spring.factories中也一定能找到这个类的完全限定名。Redis也不例外。</p><p><img src="https://img-blog.csdnimg.cn/20200513214531573.png" alt="在这里插入图片描述"></p><p>那么就一定还存在一个RedisProperties类</p><p><img src="https://img-blog.csdnimg.cn/20200513214554661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>之前我们说SpringBoot2.x后默认使用Lettuce来替换Jedis，现在我们就能来验证了。</p><p>先看Jedis:</p><p><img src="https://img-blog.csdnimg.cn/20200513214607475.png" alt="在这里插入图片描述"></p><p>@ConditionalOnClass注解中有两个类是默认不存在的，所以Jedis是无法生效的</p><p>然后再看Lettuce：</p><p><img src="https://img-blog.csdnimg.cn/20200513214618179.png" alt="在这里插入图片描述"></p><p>完美生效。</p><p>现在我们回到RedisAutoConfiguratio</p><p><img src="https://img-blog.csdnimg.cn/2020051321462777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><p>只有两个简单的Bean</p><ul><li><strong>RedisTemplate</strong></li><li><strong>StringRedisTemplate</strong></li></ul><p>当看到xxTemplate时可以对比RestTemplat、SqlSessionTemplate,通过使用这些Template来间接操作组件。那么这俩也不会例外。分别用于操作Redis和Redis中的String数据类型。</p><p>在RedisTemplate上也有一个条件注解，说明我们是可以对其进行定制化的</p><p>说完这些，我们需要知道如何编写配置文件然后连接Redis，就需要阅读RedisProperties</p><p><img src="https://img-blog.csdnimg.cn/20200513214638238.png" alt="在这里插入图片描述"></p><p>这是一些基本的配置属性。</p><p><img src="https://img-blog.csdnimg.cn/20200513214649380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>还有一些连接池相关的配置。注意使用时一定使用Lettuce的连接池。</p><p><img src="https://img-blog.csdnimg.cn/20200513214700372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><ol><li><p>编写配置文件</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment"># 配置redis</span><br><span class="hljs-attr">spring.redis.host</span>=<span class="hljs-string">39.99.xxx.xx</span><br><span class="hljs-attr">spring.redis.port</span>=<span class="hljs-string">6379</span><br></code></pre></td></tr></table></figure></li><li><p>使用RedisTemplate</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Redis02SpringbootApplicationTests</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> RedisTemplate redisTemplate;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextLoads</span><span class="hljs-params">()</span> &#123;<br><br>        <span class="hljs-comment">// redisTemplate 操作不同的数据类型，api和我们的指令是一样的</span><br>        <span class="hljs-comment">// opsForValue 操作字符串 类似String</span><br>        <span class="hljs-comment">// opsForList 操作List 类似List</span><br>        <span class="hljs-comment">// opsForHah</span><br><br>        <span class="hljs-comment">// 除了基本的操作，我们常用的方法都可以直接通过redisTemplate操作，比如事务和基本的CRUD</span><br><br>        <span class="hljs-comment">// 获取连接对象</span><br>        <span class="hljs-comment">//RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span><br>        <span class="hljs-comment">//connection.flushDb();</span><br>        <span class="hljs-comment">//connection.flushAll();</span><br><br>        redisTemplate.opsForValue().set(<span class="hljs-string">&quot;mykey&quot;</span>,<span class="hljs-string">&quot;kuangshen&quot;</span>);<br>        System.out.println(redisTemplate.opsForValue().get(<span class="hljs-string">&quot;mykey&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>测试结果</p><p><strong>此时我们回到Redis查看数据时候，惊奇发现全是乱码，可是程序中可以正常输出：</strong></p><p><img src="https://img-blog.csdnimg.cn/20200513214734520.png" alt="在这里插入图片描述"></p><p> 这时候就关系到存储对象的序列化问题，在网络中传输的对象也是一样需要序列化，否者就全是乱码。</p><p>我们转到看那个默认的RedisTemplate内部什么样子：</p><p><img src="https://img-blog.csdnimg.cn/20200513214746506.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>在最开始就能看到几个关于序列化的参数。</p><p>默认的序列化器是采用JDK序列化器</p><p><img src="https://img-blog.csdnimg.cn/20200513214757247.png" alt="在这里插入图片描述"></p><p>而默认的RedisTemplate中的所有序列化器都是使用这个序列化器：</p><p><img src="https://img-blog.csdnimg.cn/20200513214809494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>后续我们定制RedisTemplate就可以对其进行修改。</p><p><code>RedisSerializer</code>提供了多种序列化方案：</p><ul><li><p>直接调用RedisSerializer的静态方法来返回序列化器，然后set</p><p><img src="https://img-blog.csdnimg.cn/20200513214818682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li><li><p>自己new 相应的实现类，然后set</p><p><img src="https://img-blog.csdnimg.cn/20200513214827233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></li></ul></li><li><p><strong>定制RedisTemplate的模板：</strong></p><p>我们创建一个Bean加入容器，就会触发RedisTemplate上的条件注解使默认的RedisTemplate失效。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisConfig</span> &#123;<br><br>   <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="hljs-title function_">redisTemplate</span><span class="hljs-params">(RedisConnectionFactory redisConnectionFactory)</span> <span class="hljs-keyword">throws</span> UnknownHostException &#123;<br>        <span class="hljs-comment">// 将template 泛型设置为 &lt;String, Object&gt;</span><br>        RedisTemplate&lt;String, Object&gt; template = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisTemplate</span>();<br>        <span class="hljs-comment">// 连接工厂，不必修改</span><br>        template.setConnectionFactory(redisConnectionFactory);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * 序列化设置</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">// key、hash的key 采用 String序列化方式</span><br>        template.setKeySerializer(RedisSerializer.string());<br>        template.setHashKeySerializer(RedisSerializer.string());<br>        <span class="hljs-comment">// value、hash的value 采用 Jackson 序列化方式</span><br>        template.setValueSerializer(RedisSerializer.json());<br>        template.setHashValueSerializer(RedisSerializer.json());<br>        template.afterPropertiesSet();<br>        <br>        <span class="hljs-keyword">return</span> template;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>这样一来，只要实体类进行了序列化，我们存什么都不会有乱码的担忧了。</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oc8kJP08-1597890996523)(狂神说 Redis.assets&#x2F;image-20200817175638086.png)]</p></li></ol><h2 id="八、自定义Redis工具类"><a href="#八、自定义Redis工具类" class="headerlink" title="八、自定义Redis工具类"></a>八、自定义Redis工具类</h2><p>使用RedisTemplate需要频繁调用<code>.opForxxx</code>然后才能进行对应的操作，这样使用起来代码效率低下，工作中一般不会这样使用，而是将这些常用的公共API抽取出来封装成为一个工具类，然后直接使用工具类来间接操作Redis,不但效率高并且易用。</p><p>工具类参考博客：</p><p><a href="https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html">https://www.cnblogs.com/zeng1994/p/03303c805731afc9aa9c60dbbd32a323.html</a></p><p><a href="https://www.cnblogs.com/zhzhlong/p/11434284.html">https://www.cnblogs.com/zhzhlong/p/11434284.html</a></p><h2 id="九、Redis-conf"><a href="#九、Redis-conf" class="headerlink" title="九、Redis.conf"></a>九、Redis.conf</h2><blockquote><p>容量单位不区分大小写，G和GB有区别</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020051321485460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><blockquote><p>可以使用 include 组合多个配置问题</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214902552.png" alt="在这里插入图片描述"></p><blockquote><p>网络配置</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214912813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>日志输出级别</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214923678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><blockquote><p>日志输出文件</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214933713.png" alt="在这里插入图片描述"></p><blockquote><p>持久化规则</p></blockquote><p>由于Redis是基于内存的数据库，需要将数据由内存持久化到文件中</p><p>持久化方式：</p><ul><li>RDB</li><li>AOF</li></ul><p><img src="https://img-blog.csdnimg.cn/20200513214944964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>RDB文件相关</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513214955679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200513215006207.png" alt="在这里插入图片描述"></p><blockquote><p>主从复制</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215016371.png" alt="在这里插入图片描述"></p><blockquote><p>Security模块中进行密码设置</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215026143.png" alt="在这里插入图片描述"></p><blockquote><p>客户端连接相关</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">maxclients 10000  最大客户端数量<br>maxmemory &lt;bytes&gt; 最大内存限制<br>maxmemory-policy noeviction <span class="hljs-comment"># 内存达到限制值的处理策略</span><br></code></pre></td></tr></table></figure><p>redis 中的<strong>默认</strong>的过期策略是 <strong>volatile-lru</strong> 。</p><p><strong>设置方式</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">config <span class="hljs-built_in">set</span> maxmemory-policy volatile-lru <br>1<br></code></pre></td></tr></table></figure><h4 id="maxmemory-policy-六种方式"><a href="#maxmemory-policy-六种方式" class="headerlink" title="maxmemory-policy 六种方式"></a><strong>maxmemory-policy 六种方式</strong></h4><p><strong>1、volatile-lru：</strong>只对设置了过期时间的key进行LRU（默认值）</p><p><strong>2、allkeys-lru ：</strong> 删除lru算法的key</p><p><strong>3、volatile-random：</strong>随机删除即将过期key</p><p><strong>4、allkeys-random：</strong>随机删除</p><p><strong>5、volatile-ttl ：</strong> 删除即将过期的</p><p><strong>6、noeviction ：</strong> 永不过期，返回错误</p><blockquote><p>AOF相关部分</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215037918.png" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200513215047999.png" alt="在这里插入图片描述"></p><h2 id="十、持久化—RDB"><a href="#十、持久化—RDB" class="headerlink" title="十、持久化—RDB"></a>十、持久化—RDB</h2><p>RDB：Redis Databases</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-C0mm1D4A-1597890996524)(狂神说 Redis.assets&#x2F;image-20200818122236614.png)]</p><h3 id="什么是RDB"><a href="#什么是RDB" class="headerlink" title="什么是RDB"></a>什么是RDB</h3><hr><p>在指定时间间隔后，将内存中的数据集快照写入数据库 ；在恢复时候，直接读取快照文件，进行数据的恢复 ；</p><p><img src="https://img-blog.csdnimg.cn/20200513215126515.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>默认情况下， Redis 将数据库快照保存在名字为 dump.rdb的二进制文件中。文件名可以在配置文件中进行自定义。</p><h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><hr><p>在进行 <strong><code>RDB</code></strong> 的时候，**<code>redis</code>** 的主线程是不会做 <strong><code>io</code></strong> 操作的，主线程会 <strong><code>fork</code></strong> 一个子线程来完成该操作；</p><ol><li>Redis 调用forks。同时拥有父进程和子进程。</li><li>子进程将数据集写入到一个临时 RDB 文件中。</li><li>当子进程完成对新 RDB 文件的写入时，Redis 用新 RDB 文件替换原来的 RDB 文件，并删除旧的 RDB 文件。</li></ol><p>这种工作方式使得 Redis 可以从写时复制（copy-on-write）机制中获益(因为是使用子进程进行写操作，而父进程依然可以接收来自客户端的请求。)</p><p><img src="https://img-blog.csdnimg.cn/20200513215141519.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="触发机制"><a href="#触发机制" class="headerlink" title="触发机制"></a>触发机制</h3><hr><ol><li>save的规则满足的情况下，会自动触发rdb原则</li><li>执行flushall命令，也会触发我们的rdb原则</li><li>退出redis，也会自动产生rdb文件</li></ol><h4 id="save"><a href="#save" class="headerlink" title="save"></a>save</h4><p>使用 <code>save</code> 命令，会立刻对当前内存中的数据进行持久化 ,但是会阻塞，也就是不接受其他操作了；</p><blockquote><p>由于 <code>save</code> 命令是同步命令，会占用Redis的主进程。若Redis数据非常多时，<code>save</code>命令执行速度会非常慢，阻塞所有客户端的请求。</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215150892.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h4 id="flushall命令"><a href="#flushall命令" class="headerlink" title="flushall命令"></a>flushall命令</h4><p><code>flushall</code> 命令也会触发持久化 ；</p><h4 id="触发持久化规则"><a href="#触发持久化规则" class="headerlink" title="触发持久化规则"></a>触发持久化规则</h4><p>满足配置条件中的触发条件 ；</p><blockquote><p>可以通过配置文件对 Redis 进行设置， 让它在“ N 秒内数据集至少有 M 个改动”这一条件被满足时， 自动进行数据集保存操作。</p><p><img src="https://img-blog.csdnimg.cn/20200513215205970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200513215220858.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h4 id="bgsave"><a href="#bgsave" class="headerlink" title="bgsave"></a>bgsave</h4><p><code>bgsave</code> 是异步进行，进行持久化的时候，<code>redis</code> 还可以将继续响应客户端请求 ；</p><p><img src="https://img-blog.csdnimg.cn/2020051321523151.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>bgsave和save对比</strong></p><table><thead><tr><th>命令</th><th>save</th><th>bgsave</th></tr></thead><tbody><tr><td>IO类型</td><td>同步</td><td>异步</td></tr><tr><td>阻塞？</td><td>是</td><td>是（阻塞发生在fock()，通常非常快）</td></tr><tr><td>复杂度</td><td>O(n)</td><td>O(n)</td></tr><tr><td>优点</td><td>不会消耗额外的内存</td><td>不阻塞客户端命令</td></tr><tr><td>缺点</td><td>阻塞客户端命令</td><td>需要fock子进程，消耗内存</td></tr></tbody></table><h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><p><strong>优点：</strong></p><ol><li>适合大规模的数据恢复</li><li>对数据的完整性要求不高</li></ol><p><strong>缺点：</strong></p><ol><li>需要一定的时间间隔进行操作，如果redis意外宕机了，这个最后一次修改的数据就没有了。</li><li>fork进程的时候，会占用一定的内容空间。</li></ol><h2 id="十一、持久化AOF"><a href="#十一、持久化AOF" class="headerlink" title="十一、持久化AOF"></a>十一、持久化AOF</h2><p><strong>Append Only File</strong></p><p>将我们所有的命令都记录下来，history，恢复的时候就把这个文件全部再执行一遍</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Z8wr9lBW-1597890996525)(狂神说 Redis.assets&#x2F;image-20200818123711375.png)]</p><blockquote><p>以日志的形式来记录每个写的操作，将Redis执行过的所有指令记录下来（读操作不记录），只许追加文件但不可以改写文件，redis启动之初会读取该文件重新构建数据，换言之，redis重启的话就根据日志文件的内容将写指令从前到后执行一次以完成数据的恢复工作。</p></blockquote><h3 id="什么是AOF"><a href="#什么是AOF" class="headerlink" title="什么是AOF"></a>什么是AOF</h3><p> 快照功能（RDB）并不是非常耐久（durable）： 如果 Redis 因为某些原因而造成故障停机， 那么服务器将丢失最近写入、以及未保存到快照中的那些数据。 从 1.1 版本开始， Redis 增加了一种完全耐久的持久化方式： AOF 持久化。</p><p>如果要使用AOF，需要修改配置文件：</p><p><img src="https://img-blog.csdnimg.cn/20200513215247113.png" alt="在这里插入图片描述"></p><p><code>appendonly no yes</code>则表示启用AOF</p><p>默认是不开启的，我们需要手动配置，然后重启redis，就可以生效了！</p><p>如果这个aof文件有错位，这时候redis是启动不起来的，我需要修改这个aof文件</p><p>redis给我们提供了一个工具<code>redis-check-aof --fix</code></p><blockquote><p>优点和缺点</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">appendonly <span class="hljs-built_in">yes</span>  <span class="hljs-comment"># 默认是不开启aof模式的，默认是使用rdb方式持久化的，在大部分的情况下，rdb完全够用</span><br>appendfilename <span class="hljs-string">&quot;appendonly.aof&quot;</span><br><br><span class="hljs-comment"># appendfsync always # 每次修改都会sync 消耗性能</span><br>appendfsync everysec <span class="hljs-comment"># 每秒执行一次 sync 可能会丢失这一秒的数据</span><br><span class="hljs-comment"># appendfsync no # 不执行 sync ,这时候操作系统自己同步数据，速度最快</span><br></code></pre></td></tr></table></figure><p><strong>优点</strong></p><ol><li>每一次修改都会同步，文件的完整性会更加好</li><li>没秒同步一次，可能会丢失一秒的数据</li><li>从不同步，效率最高</li></ol><p><strong>缺点</strong></p><ol><li>相对于数据文件来说，aof远远大于rdb，修复速度比rdb慢！</li><li>Aof运行效率也要比rdb慢，所以我们redis默认的配置就是rdb持久化</li></ol><h2 id="十二、RDB和AOP选择"><a href="#十二、RDB和AOP选择" class="headerlink" title="十二、RDB和AOP选择"></a>十二、RDB和AOP选择</h2><h3 id="RDB-和-AOF-对比"><a href="#RDB-和-AOF-对比" class="headerlink" title="RDB 和 AOF 对比"></a>RDB 和 AOF 对比</h3><table><thead><tr><th>RDB</th><th>AOF</th><th></th></tr></thead><tbody><tr><td>启动优先级</td><td>低</td><td>高</td></tr><tr><td>体积</td><td>小</td><td>大</td></tr><tr><td>恢复速度</td><td>快</td><td>慢</td></tr><tr><td>数据安全性</td><td>丢数据</td><td>根据策略决定</td></tr></tbody></table><h3 id="如何选择使用哪种持久化方式？"><a href="#如何选择使用哪种持久化方式？" class="headerlink" title="如何选择使用哪种持久化方式？"></a>如何选择使用哪种持久化方式？</h3><p>一般来说， 如果想达到足以媲美 PostgreSQL 的数据安全性， 你应该同时使用两种持久化功能。</p><p>如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失， 那么你可以只使用 RDB 持久化。</p><p>有很多用户都只使用 AOF 持久化， 但并不推荐这种方式： 因为定时生成 RDB 快照（snapshot）非常便于进行数据库备份， 并且 RDB 恢复数据集的速度也要比 AOF 恢复的速度要快。</p><h2 id="十三、Redis发布与订阅"><a href="#十三、Redis发布与订阅" class="headerlink" title="十三、Redis发布与订阅"></a>十三、Redis发布与订阅</h2><p>Redis 发布订阅(pub&#x2F;sub)是一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-IBT2pjCa-1597890996526)(狂神说 Redis.assets&#x2F;image-20200818162849693.png)]</p><p>下图展示了频道 channel1 ， 以及订阅这个频道的三个客户端 —— client2 、 client5 和 client1 之间的关系：</p><p><img src="https://img-blog.csdnimg.cn/20200513215523258.png" alt="在这里插入图片描述"></p><p>当有新消息通过 PUBLISH 命令发送给频道 channel1 时， 这个消息就会被发送给订阅它的三个客户端：</p><p><img src="https://img-blog.csdnimg.cn/2020051321553483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>PSUBSCRIBE pattern [pattern..]</code></td><td>订阅一个或多个符合给定模式的频道。</td></tr><tr><td><code>PUNSUBSCRIBE pattern [pattern..]</code></td><td>退订一个或多个符合给定模式的频道。</td></tr><tr><td><code>PUBSUB subcommand [argument[argument]]</code></td><td>查看订阅与发布系统状态。</td></tr><tr><td><code>PUBLISH channel message</code></td><td>向指定频道发布消息</td></tr><tr><td><code>SUBSCRIBE channel [channel..]</code></td><td>订阅给定的一个或多个频道。</td></tr><tr><td><code>SUBSCRIBE channel [channel..]</code></td><td>退订一个或多个频道</td></tr></tbody></table><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">------------订阅端----------------------<br>127.0.0.1:6379&gt; SUBSCRIBE sakura <span class="hljs-comment"># 订阅sakura频道</span><br>Reading messages... (press Ctrl-C to quit) <span class="hljs-comment"># 等待接收消息</span><br>1) <span class="hljs-string">&quot;subscribe&quot;</span> <span class="hljs-comment"># 订阅成功的消息</span><br>2) <span class="hljs-string">&quot;sakura&quot;</span><br>3) (<span class="hljs-built_in">integer</span>) 1<br>1) <span class="hljs-string">&quot;message&quot;</span> <span class="hljs-comment"># 接收到来自sakura频道的消息 &quot;hello world&quot;</span><br>2) <span class="hljs-string">&quot;sakura&quot;</span><br>3) <span class="hljs-string">&quot;hello world&quot;</span><br>1) <span class="hljs-string">&quot;message&quot;</span> <span class="hljs-comment"># 接收到来自sakura频道的消息 &quot;hello i am sakura&quot;</span><br>2) <span class="hljs-string">&quot;sakura&quot;</span><br>3) <span class="hljs-string">&quot;hello i am sakura&quot;</span><br><br>--------------消息发布端-------------------<br>127.0.0.1:6379&gt; PUBLISH sakura <span class="hljs-string">&quot;hello world&quot;</span> <span class="hljs-comment"># 发布消息到sakura频道</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; PUBLISH sakura <span class="hljs-string">&quot;hello i am sakura&quot;</span> <span class="hljs-comment"># 发布消息</span><br>(<span class="hljs-built_in">integer</span>) 1<br><br>-----------------查看活跃的频道------------<br>127.0.0.1:6379&gt; PUBSUB channels<br>1) <span class="hljs-string">&quot;sakura&quot;</span><br></code></pre></td></tr></table></figure><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>每个 Redis 服务器进程都维持着一个表示服务器状态的 redis.h&#x2F;redisServer 结构， 结构的 pubsub_channels 属性是一个字典， 这个字典就用于保存订阅频道的信息，其中，字典的键为正在被订阅的频道， 而字典的值则是一个链表， 链表中保存了所有订阅这个频道的客户端。</p><p><img src="https://img-blog.csdnimg.cn/2020051321554964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>客户端订阅，就被链接到对应频道的链表的尾部，退订则就是将客户端节点从链表中移除。</p><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ol><li>如果一个客户端订阅了频道，但自己读取消息的速度却不够快的话，那么不断积压的消息会使redis输出缓冲区的体积变得越来越大，这可能使得redis本身的速度变慢，甚至直接崩溃。</li><li>这和数据传输可靠性有关，如果在订阅方断线，那么他将会丢失所有在短线期间发布者发布的消息。</li></ol><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ol><li>消息订阅：公众号订阅，微博关注等等（起始更多是使用消息队列来进行实现）</li><li>多人在线聊天室。</li></ol><p>稍微复杂的场景，我们就会使用消息中间件MQ处理。</p><h2 id="十四、Redis主从复制"><a href="#十四、Redis主从复制" class="headerlink" title="十四、Redis主从复制"></a>十四、Redis主从复制</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p> 主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点（Master&#x2F;Leader）,后者称为从节点（Slave&#x2F;Follower）， 数据的复制是单向的！只能由主节点复制到从节点（主节点以写为主、从节点以读为主）。</p><p>默认情况下，每台Redis服务器都是主节点，一个主节点可以有0个或者多个从节点，但每个从节点只能由一个主节点。</p><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ol><li>数据冗余：主从复制实现了数据的热备份，是持久化之外的一种数据冗余的方式。</li><li>故障恢复：当主节点故障时，从节点可以暂时替代主节点提供服务，是一种服务冗余的方式</li><li>负载均衡：在主从复制的基础上，配合读写分离，由主节点进行写操作，从节点进行读操作，分担服务器的负载；尤其是在多读少写的场景下，通过多个从节点分担负载，提高并发量。</li><li>高可用基石：主从复制还是哨兵和集群能够实施的基础。</li></ol><h3 id="为什么使用集群"><a href="#为什么使用集群" class="headerlink" title="为什么使用集群"></a>为什么使用集群</h3><ol><li>单台服务器难以负载大量的请求</li><li>单台服务器故障率高，系统崩坏概率大</li><li>单台服务器内存容量有限。</li></ol><h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>我们在讲解配置文件的时候，注意到有一个<code>replication</code>模块 (见Redis.conf中第8条)</p><p>查看当前库的信息：<code>info replication</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; info replication<br><span class="hljs-comment"># Replication</span><br>role:master <span class="hljs-comment"># 角色</span><br>connected_slaves:0 <span class="hljs-comment"># 从机数量</span><br>master_replid:3b54deef5b7b7b7f7dd8acefa23be48879b4fcff<br>master_replid2:0000000000000000000000000000000000000000<br>master_repl_offset:0<br>second_repl_offset:-1<br>repl_backlog_active:0<br>repl_backlog_size:1048576<br>repl_backlog_first_byte_offset:0<br>repl_backlog_histlen:0<br></code></pre></td></tr></table></figure><p>既然需要启动多个服务，就需要多个配置文件。每个配置文件对应修改以下信息：</p><ul><li>端口号</li><li>pid文件名</li><li>日志文件名</li><li>rdb文件名</li></ul><p>启动单机多服务集群：</p><p><img src="https://img-blog.csdnimg.cn/20200513215610163.png" alt="在这里插入图片描述"></p><h3 id="一主二从配置"><a href="#一主二从配置" class="headerlink" title="一主二从配置"></a>一主二从配置</h3><p>&#x3D;&#x3D;默认情况下，每台Redis服务器都是主节点；&#x3D;&#x3D;我们一般情况下只用配置从机就好了！</p><p>认老大！一主（79）二从（80，81）</p><p>使用<code>SLAVEOF host port</code>就可以为从机配置主机了。</p><p><img src="https://img-blog.csdnimg.cn/20200513215637483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>然后主机上也能看到从机的状态：</p><p><img src="https://img-blog.csdnimg.cn/20200513215645778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>我们这里是使用命令搭建，是暂时的，&#x3D;&#x3D;真实开发中应该在从机的配置文件中进行配置，&#x3D;&#x3D;这样的话是永久的。</p><p><img src="https://img-blog.csdnimg.cn/20200513215654634.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="使用规则"><a href="#使用规则" class="headerlink" title="使用规则"></a>使用规则</h3><ol><li><p>从机只能读，不能写，主机可读可写但是多用于写。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"> 127.0.0.1:6381&gt; <span class="hljs-built_in">set</span> name sakura <span class="hljs-comment"># 从机6381写入失败</span><br>(error) READONLY You can<span class="hljs-string">&#x27;t write against a read only replica.</span><br><span class="hljs-string"></span><br><span class="hljs-string">127.0.0.1:6380&gt; set name sakura # 从机6380写入失败</span><br><span class="hljs-string">(error) READONLY You can&#x27;</span>t write against a <span class="hljs-built_in">read</span> only replica.<br><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> name sakura<br>OK<br>127.0.0.1:6379&gt; get name<br><span class="hljs-string">&quot;sakura&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>当主机断电宕机后，默认情况下从机的角色不会发生变化 ，集群中只是失去了写操作，当主机恢复以后，又会连接上从机恢复原状。</p></li><li><p>当从机断电宕机后，若不是使用配置文件配置的从机，再次启动后作为主机是无法获取之前主机的数据的，若此时重新配置称为从机，又可以获取到主机的所有数据。这里就要提到一个同步原理。</p></li><li><p>第二条中提到，默认情况下，主机故障后，不会出现新的主机，有两种方式可以产生新的主机：</p><ul><li>从机手动执行命令<code>slaveof no one</code>,这样执行以后从机会独立出来成为一个主机</li><li>使用哨兵模式（自动选举）</li></ul></li></ol><blockquote><p>如果没有老大了，这个时候能不能选择出来一个老大呢？手动！</p></blockquote><p>如果主机断开了连接，我们可以使用<code>SLAVEOF no one</code>让自己变成主机！其他的节点就可以手动连接到最新的主节点（手动）！如果这个时候老大修复了，那么久重新连接！</p><h2 id="十五、哨兵模式"><a href="#十五、哨兵模式" class="headerlink" title="十五、哨兵模式"></a>十五、哨兵模式</h2><p>更多信息参考博客：<a href="https://www.jianshu.com/p/06ab9daf921d">https://www.jianshu.com/p/06ab9daf921d</a></p><p><strong>主从切换技术的方法是：当主服务器宕机后，需要手动把一台从服务器切换为主服务器，这就需要人工干预，费事费力，还会造成一段时间内服务不可用。</strong>这不是一种推荐的方式，更多时候，我们优先考虑<strong>哨兵模式</strong>。</p><p>单机单个哨兵</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2ENYVAPp-1597890996527)(狂神说 Redis.assets&#x2F;image-20200818233231154.png)]</p><p>哨兵的作用：</p><ul><li>通过发送命令，让Redis服务器返回监控其运行状态，包括主服务器和从服务器。</li><li>当哨兵监测到master宕机，会自动将slave切换成master，然后通过<strong>发布订阅模式</strong>通知其他的从服务器，修改配置文件，让它们切换主机。</li></ul><p>多哨兵模式</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Ga1RyfVc-1597890996528)(狂神说 Redis.assets&#x2F;image-20200818233316478.png)]</p><p>哨兵的核心配置</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs smali">sentinel<span class="hljs-built_in"> monitor </span>mymaster 127.0.0.1 6379 1<br></code></pre></td></tr></table></figure><ul><li>数字1表示 ：当一个哨兵主观认为主机断开，就可以客观认为主机故障，然后开始选举新的主机。</li></ul><blockquote><p>测试</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-sentinel xxx/sentinel.conf<br></code></pre></td></tr></table></figure><p>成功启动哨兵模式</p><p><img src="https://img-blog.csdnimg.cn/20200513215752444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>此时哨兵监视着我们的主机6379，当我们断开主机后：</p><p><img src="https://img-blog.csdnimg.cn/20200513215806972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>哨兵模式优缺点</p></blockquote><p><strong>优点：</strong></p><ol><li>哨兵集群，基于主从复制模式，所有主从复制的优点，它都有</li><li>主从可以切换，故障可以转移，系统的可用性更好</li><li>哨兵模式是主从模式的升级，手动到自动，更加健壮</li></ol><p><strong>缺点：</strong></p><ol><li>Redis不好在线扩容，集群容量一旦达到上限，在线扩容就十分麻烦</li><li>实现哨兵模式的配置其实是很麻烦的，里面有很多配置项</li></ol><blockquote><p>哨兵模式的全部配置</p></blockquote><p>完整的哨兵模式配置文件 sentinel.conf</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Example sentinel.conf</span><br> <br><span class="hljs-comment"># 哨兵sentinel实例运行的端口 默认26379</span><br>port 26379<br> <br><span class="hljs-comment"># 哨兵sentinel的工作目录</span><br><span class="hljs-built_in">dir</span> /tmp<br> <br><span class="hljs-comment"># 哨兵sentinel监控的redis主节点的 ip port </span><br><span class="hljs-comment"># master-name  可以自己命名的主节点名字 只能由字母A-z、数字0-9 、这三个字符&quot;.-_&quot;组成。</span><br><span class="hljs-comment"># quorum 当这些quorum个数sentinel哨兵认为master主节点失联 那么这时 客观上认为主节点失联了</span><br><span class="hljs-comment"># sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;</span><br>sentinel monitor mymaster 127.0.0.1 6379 1<br> <br><span class="hljs-comment"># 当在Redis实例中开启了requirepass foobared 授权密码 这样所有连接Redis实例的客户端都要提供密码</span><br><span class="hljs-comment"># 设置哨兵sentinel 连接主从的密码 注意必须为主从设置一样的验证密码</span><br><span class="hljs-comment"># sentinel auth-pass &lt;master-name&gt; &lt;password&gt;</span><br>sentinel auth-pass mymaster MySUPER--secret-0123passw0rd<br> <br> <br><span class="hljs-comment"># 指定多少毫秒之后 主节点没有应答哨兵sentinel 此时 哨兵主观上认为主节点下线 默认30秒</span><br><span class="hljs-comment"># sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;</span><br>sentinel down-after-milliseconds mymaster 30000<br> <br><span class="hljs-comment"># 这个配置项指定了在发生failover主备切换时最多可以有多少个slave同时对新的master进行 同步，</span><br>这个数字越小，完成failover所需的时间就越长，<br>但是如果这个数字越大，就意味着越 多的slave因为replication而不可用。<br>可以通过将这个值设为 1 来保证每次只有一个slave 处于不能处理命令请求的状态。<br><span class="hljs-comment"># sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;</span><br>sentinel parallel-syncs mymaster 1<br> <br> <br> <br><span class="hljs-comment"># 故障转移的超时时间 failover-timeout 可以用在以下这些方面： </span><br><span class="hljs-comment">#1. 同一个sentinel对同一个master两次failover之间的间隔时间。</span><br><span class="hljs-comment">#2. 当一个slave从一个错误的master那里同步数据开始计算时间。直到slave被纠正为向正确的master那里同步数据时。</span><br><span class="hljs-comment">#3.当想要取消一个正在进行的failover所需要的时间。  </span><br><span class="hljs-comment">#4.当进行failover时，配置所有slaves指向新的master所需的最大时间。不过，即使过了这个超时，slaves依然会被正确配置为指向master，但是就不按parallel-syncs所配置的规则来了</span><br><span class="hljs-comment"># 默认三分钟</span><br><span class="hljs-comment"># sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;</span><br>sentinel failover-timeout mymaster 180000<br> <br><span class="hljs-comment"># SCRIPTS EXECUTION</span><br> <br><span class="hljs-comment">#配置当某一事件发生时所需要执行的脚本，可以通过脚本来通知管理员，例如当系统运行不正常时发邮件通知相关人员。</span><br><span class="hljs-comment">#对于脚本的运行结果有以下规则：</span><br><span class="hljs-comment">#若脚本执行后返回1，那么该脚本稍后将会被再次执行，重复次数目前默认为10</span><br><span class="hljs-comment">#若脚本执行后返回2，或者比2更高的一个返回值，脚本将不会重复执行。</span><br><span class="hljs-comment">#如果脚本在执行过程中由于收到系统中断信号被终止了，则同返回值为1时的行为相同。</span><br><span class="hljs-comment">#一个脚本的最大执行时间为60s，如果超过这个时间，脚本将会被一个SIGKILL信号终止，之后重新执行。</span><br> <br><span class="hljs-comment">#通知型脚本:当sentinel有任何警告级别的事件发生时（比如说redis实例的主观失效和客观失效等等），将会去调用这个脚本，</span><br><span class="hljs-comment">#这时这个脚本应该通过邮件，SMS等方式去通知系统管理员关于系统不正常运行的信息。调用该脚本时，将传给脚本两个参数，</span><br><span class="hljs-comment">#一个是事件的类型，</span><br><span class="hljs-comment">#一个是事件的描述。</span><br><span class="hljs-comment">#如果sentinel.conf配置文件中配置了这个脚本路径，那么必须保证这个脚本存在于这个路径，并且是可执行的，否则sentinel无法正常启动成功。</span><br><span class="hljs-comment">#通知脚本</span><br><span class="hljs-comment"># sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;</span><br>  sentinel notification-script mymaster /var/redis/notify.sh<br> <br><span class="hljs-comment"># 客户端重新配置主节点参数脚本</span><br><span class="hljs-comment"># 当一个master由于failover而发生改变时，这个脚本将会被调用，通知相关的客户端关于master地址已经发生改变的信息。</span><br><span class="hljs-comment"># 以下参数将会在调用脚本时传给脚本:</span><br><span class="hljs-comment"># &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;</span><br><span class="hljs-comment"># 目前&lt;state&gt;总是“failover”,</span><br><span class="hljs-comment"># &lt;role&gt;是“leader”或者“observer”中的一个。 </span><br><span class="hljs-comment"># 参数 from-ip, from-port, to-ip, to-port是用来和旧的master和新的master(即旧的slave)通信的</span><br><span class="hljs-comment"># 这个脚本应该是通用的，能被多次调用，不是针对性的。</span><br><span class="hljs-comment"># sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;</span><br>sentinel client-reconfig-script mymaster /var/redis/reconfig.sh<br></code></pre></td></tr></table></figure><h2 id="十六、缓存穿透与雪崩"><a href="#十六、缓存穿透与雪崩" class="headerlink" title="十六、缓存穿透与雪崩"></a>十六、缓存穿透与雪崩</h2><h3 id="缓存穿透（查不到）"><a href="#缓存穿透（查不到）" class="headerlink" title="缓存穿透（查不到）"></a>缓存穿透（查不到）</h3><blockquote><p>概念</p></blockquote><p>在默认情况下，用户请求数据时，会先在缓存(Redis)中查找，若没找到即缓存未命中，再在数据库中进行查找，数量少可能问题不大，可是一旦大量的请求数据（例如秒杀场景）缓存都没有命中的话，就会全部转移到数据库上，造成数据库极大的压力，就有可能导致数据库崩溃。网络安全中也有人恶意使用这种手段进行攻击被称为洪水攻击。</p><blockquote><p>解决方案</p></blockquote><p><strong>布隆过滤器</strong></p><p>对所有可能查询的参数以Hash的形式存储，以便快速确定是否存在这个值，在控制层先进行拦截校验，校验不通过直接打回，减轻了存储系统的压力。</p><p><img src="https://img-blog.csdnimg.cn/20200513215824722.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>缓存空对象</strong></p><p>一次请求若在缓存和数据库中都没找到，就在缓存中方一个空对象用于处理后续这个请求。</p><p><img src="https://img-blog.csdnimg.cn/20200513215836317.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p> 这样做有一个缺陷：存储空对象也需要空间，大量的空对象会耗费一定的空间，存储效率并不高。解决这个缺陷的方式就是设置较短过期时间</p><p>即使对空值设置了过期时间，还是会存在缓存层和存储层的数据会有一段时间窗口的不一致，这对于需要保持一致性的业务会有影响。</p><h3 id="缓存击穿（量太大，缓存过期）"><a href="#缓存击穿（量太大，缓存过期）" class="headerlink" title="缓存击穿（量太大，缓存过期）"></a>缓存击穿（量太大，缓存过期）</h3><blockquote><p>概念</p></blockquote><p> 相较于缓存穿透，缓存击穿的目的性更强，一个存在的key，在缓存过期的一刻，同时有大量的请求，这些请求都会击穿到DB，造成瞬时DB请求量大、压力骤增。这就是缓存被击穿，只是针对其中某个key的缓存不可用而导致击穿，但是其他的key依然可以使用缓存响应。</p><p> 比如热搜排行上，一个热点新闻被同时大量访问就可能导致缓存击穿。</p><blockquote><p>解决方案</p></blockquote><ol><li><p><strong>设置热点数据永不过期</strong></p><p>这样就不会出现热点数据过期的情况，但是当Redis内存空间满的时候也会清理部分数据，而且此种方案会占用空间，一旦热点数据多了起来，就会占用部分空间。</p></li><li><p><strong>加互斥锁(分布式锁)</strong></p><p>在访问key之前，采用SETNX（set if not exists）来设置另一个短期key来锁住当前key的访问，访问结束再删除该短期key。保证同时刻只有一个线程访问。这样对锁的要求就十分高。</p></li></ol><h3 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h3><blockquote><p>概念</p></blockquote><p>大量的key设置了相同的过期时间，导致在缓存在同一时刻全部失效，造成瞬时DB请求量大、压力骤增，引起雪崩。</p><p><img src="https://img-blog.csdnimg.cn/20200513215850428.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><blockquote><p>解决方案</p></blockquote><ul><li><p>redis高可用</p><p>这个思想的含义是，既然redis有可能挂掉，那我多增设几台redis，这样一台挂掉之后其他的还可以继续工作，其实就是搭建的集群</p></li><li><p>限流降级</p><p>这个解决方案的思想是，在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询数据和写缓存，其他线程等待。</p></li><li><p>数据预热</p><p>数据加热的含义就是在正式部署之前，我先把可能的数据先预先访问一遍，这样部分可能大量访问的数据就会加载到缓存中。在即将发生大并发访问前手动触发加载缓存不同的key，设置不同的过期时间，让缓存失效的时间点尽量均匀。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>编程语言</tag>
      
      <tag>数据库</tag>
      
      <tag>NoSQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>并发和并行的区别（图解）</title>
    <link href="/2022/06/08/java/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%B9%B6%E8%A1%8C%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%88%E5%9B%BE%E8%A7%A3%EF%BC%89/"/>
    <url>/2022/06/08/java/%E5%B9%B6%E5%8F%91%E5%92%8C%E5%B9%B6%E8%A1%8C%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%88%E5%9B%BE%E8%A7%A3%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="并发和并行的区别（图解）"><a href="#并发和并行的区别（图解）" class="headerlink" title="并发和并行的区别（图解）"></a>并发和并行的区别（图解）</h1><blockquote><p><a href="http://c.biancheng.net/view/9486.html">http://c.biancheng.net/view/9486.html</a></p></blockquote><p>在学习多线程&#x2F;进程编程时，我们经常会遇到并发和并行这两个名词，它们看起来是一个概念，都是“多个线程&#x2F;进程同时执行”的意思，但实际上它们是有区别的，甚至说不是一码事。</p><p>很多教材也都解释了并发和并行的区别，例如：</p><ul><li>并行是指两个或者多个事件在同一时刻发生，而并发是指两个或多个事件在同一时间间隔发生。</li><li>并行是在不同实体上的多个事件，并发是在同一实体上的多个事件。</li></ul><p>不过这种解释非常晦涩难懂，估计只有作者自己才能搞明白。这篇文章，我将站在一个大叔程序员的视角，使用通俗易懂的语言来重新剖析并发和并行的区别，并配上优雅的图片，以加深读者的理解。</p><h2 id="并发（Concurrency）"><a href="#并发（Concurrency）" class="headerlink" title="并发（Concurrency）"></a>并发（Concurrency）</h2><p>早期计算机的 CPU 都是单核的，一个 CPU 在同一时间只能执行一个进程&#x2F;线程，当系统中有多个进程&#x2F;线程等待执行时，CPU 只能执行完一个再执行下一个。</p><p>为了表述简单，下文我们将不再区分进程和线程，而将它们统一称为“任务”。在不同的场景下，一个任务可能是进程，也可能是线程。</p><p>计算机在运行过程中，有很多指令会涉及 I&#x2F;O 操作，而 I&#x2F;O 操作又是相当耗时的，速度远远低于 CPU，这导致 CPU 经常处于空闲状态，只能等待 I&#x2F;O 操作完成后才能继续执行后面的指令。</p><p>为了提高 CPU 利用率，减少等待时间，人们提出了一种 CPU 并发工作的理论。</p><p>所谓并发，就是通过一种算法将 CPU 资源合理地分配给多个任务，当一个任务执行 I&#x2F;O 操作时，CPU 可以转而执行其它的任务，等到 I&#x2F;O 操作完成以后，或者新的任务遇到 I&#x2F;O 操作时，CPU 再回到原来的任务继续执行。</p><p>下图展示了两个任务并发执行的过程：</p><p><img src="http://c.biancheng.net/uploads/allimg/211207/1515363219-0.gif" alt="img"><br>图1：单核 CPU 执行两个任务</p><p>虽然 CPU 在同一时刻只能执行一个任务，但是通过将 CPU 的使用权在恰当的时机分配给不同的任务，使得多个任务在视觉上看起来是一起执行的。CPU 的执行速度极快，多任务切换的时间也极短，用户根本感受不到，所以并发执行看起来才跟真的一样。</p><p>操作系统负责将有限的 CPU 资源分配给不同的任务，但是不同操作系统的分配方式不太一样，常见的有：</p><ul><li>当检测到正在执行的任务进行 I&#x2F;O 操作时，就将 CPU 资源分配给其它任务。</li><li>将 CPU 时间平均分配给各个任务，每个任务都可以获得 CPU 的使用权。在给定的时间内，即使任务没有执行完成，也要将 CPU 资源分配给其它任务，该任务需要等待下次分配 CPU 使用权后再继续执行。</li></ul><p>将 CPU 资源合理地分配给多个任务共同使用，有效避免了 CPU 被某个任务长期霸占的问题，极大地提升了 CPU 资源利用率。</p><h2 id="并行（Parallelism）"><a href="#并行（Parallelism）" class="headerlink" title="并行（Parallelism）"></a>并行（Parallelism）</h2><p>并发是针对单核 CPU 提出的，而并行则是针对多核 CPU 提出的。和单核 CPU 不同，多核 CPU 真正实现了“同时执行多个任务”。</p><p>多核 CPU 内部集成了多个计算核心（Core），每个核心相当于一个简单的 CPU，如果不计较细节，你可以认为给计算机安装了多个独立的 CPU。</p><p>多核 CPU 的每个核心都可以独立地执行一个任务，而且多个核心之间不会相互干扰。在不同核心上执行的多个任务，是真正地同时运行，这种状态就叫做并行。</p><p>例如，同样是执行两个任务，双核 CPU 的工作状态如下图所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/211207/15153644a-1.gif" alt="img"><br>图2：双核 CPU 执行两个任务</p><p>双核 CPU 执行两个任务时，每个核心各自执行一个任务，和单核 CPU 在两个任务之间不断切换相比，它的执行效率更高。</p><h2 id="并发-并行"><a href="#并发-并行" class="headerlink" title="并发+并行"></a>并发+并行</h2><p>在图2中，执行任务的数量恰好等于 CPU 核心的数量，是一种理想状态。但是在实际场景中，处于运行状态的任务是非常多的，尤其是电脑和手机，开机就几十个任务，而 CPU 往往只有 4 核、8 核或者 16 核，远低于任务的数量，这个时候就会同时存在并发和并行两种情况：所有核心都要并行工作，并且每个核心还要并发工作。</p><p>例如一个双核 CPU 要执行四个任务，它的工作状态如下图所示：</p><p><img src="http://c.biancheng.net/uploads/allimg/211207/15153613F-2.gif" alt="img"></p><p>每个核心并发执行两个任务，两个核心并行的话就能执行四个任务。当然也可以一个核心执行一个任务，另一个核心并发执行三个任务，这跟操作系统的分配方式，以及每个任务的工作状态有关系。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>并发针对单核 CPU 而言，它指的是 CPU 交替执行不同任务的能力；并行针对多核 CPU 而言，它指的是多个核心同时执行多个任务的能力。</p><p>单核 CPU 只能并发，无法并行；换句话说，并行只可能发生在多核 CPU 中。</p><p>在多核 CPU 中，并发和并行一般都会同时存在，它们都是提高 CPU 处理任务能力的重要手段。</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows新增右键打开方式</title>
    <link href="/2022/06/03/%E6%8A%80%E6%9C%AF/Windows%E6%96%B0%E5%A2%9E%E5%8F%B3%E9%94%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F/"/>
    <url>/2022/06/03/%E6%8A%80%E6%9C%AF/Windows%E6%96%B0%E5%A2%9E%E5%8F%B3%E9%94%AE%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="一、添加右键菜单"><a href="#一、添加右键菜单" class="headerlink" title="一、添加右键菜单"></a>一、添加右键菜单</h1><h2 id="1-注册表打开"><a href="#1-注册表打开" class="headerlink" title="1.注册表打开"></a>1.注册表打开</h2><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">注册表编辑器</span><br><span class="hljs-attribute">win + R</span><span class="hljs-punctuation">:</span> <span class="hljs-string">regedit</span><br></code></pre></td></tr></table></figure><h2 id="2-修改项"><a href="#2-修改项" class="headerlink" title="2.修改项"></a>2.修改项</h2><blockquote><p>参考：<a href="https://zhuanlan.zhihu.com/p/428704111">https://zhuanlan.zhihu.com/p/428704111</a><br>计算机\HKEY_CLASSES_ROOT\*\shell  # 右击文件时弹出的菜单<br>计算机\HKEY_CLASSES_ROOT\Directory\shell  # 右击文件夹时弹出的菜单<br>计算机\HKEY_CLASSES_ROOT\Directory\Background\shell  # 右击文件夹空白处时弹出的菜单</p></blockquote><h2 id="3-示例"><a href="#3-示例" class="headerlink" title="3.示例"></a>3.示例</h2><h3 id="1-右击文件时弹出的菜单"><a href="#1-右击文件时弹出的菜单" class="headerlink" title="1) 右击文件时弹出的菜单"></a>1) 右击文件时弹出的菜单</h3><ol><li><p>Win+R 打开运行，输入regedit，打开注册表，找到”计算机\HKEY_CLASSES_ROOT\*\shell”分支，如果没有shell分支，则在*下点击右键，选择“新建－项”，建立shell分支。</p><p><img src="/../images/image-20221107205945333.png" alt="image-20221107205945333"></p></li><li><p>在shell下新建”VSCode”项，在右侧窗口的“默认”双击，在数据里输入“Edit with Visual Studio Code”。这是右键上显示的文字，可以随便写，只是为了方便查看。</p></li><li><p>在“VSCode”下再新建Command项，在右侧窗口的“默认”键值栏内输入程序所在的安装路径：</p><p>D:\Program Files\Microsoft VS Code\Code.exe “%1”</p><p>或者  “D:\Program Files\Microsoft VS Code\Code.exe” “%1”</p><p>其中的%1表示要打开的文件参数。</p><p><img src="/../images/image-20221107211216648.png" alt="image-20221107211216648"></p></li><li><p>配置缩略图。在VSCode项上新建可扩充字符串值，命名为Icon，双击，把”D:\Program Files\Microsoft VS Code\Code.exe”放进数据就可以了。</p><p><img src="/../images/image-20221107211830191.png" alt="image-20221107211830191"></p></li><li><p>关闭注册表，即可生效。</p></li></ol><p><img src="/../images/image-20221107210535995.png" alt="image-20221107210535995"></p><h3 id="2-右击文件夹时弹出的菜单"><a href="#2-右击文件夹时弹出的菜单" class="headerlink" title="2) 右击文件夹时弹出的菜单"></a>2) 右击文件夹时弹出的菜单</h3><ol><li><p>Win+R 打开运行，输入regedit，打开注册表，找到”计算机\HKEY_CLASSES_ROOT\Directory\shell”分支</p><p><img src="/../images/image-20221107211057575.png" alt="image-20221107211057575"></p></li><li><p>同上面的2一样，数据内的值为“Open with Visual Studio Code”。</p></li><li><p>在“VSCode”下再新建Command项，在右侧窗口的“默认”键值栏内输入程序所在的安装路径：</p><p>D:\Program Files\Microsoft VS Code\Code.exe “%V”</p><p><img src="/../images/image-20221107211519616.png" alt="image-20221107211519616"></p></li><li><p>配置缩略图。在VSCode项上新建可扩充字符串值，命名为Icon，双击，把”D:\Program Files\Microsoft VS Code\Code.exe”放进数据就可以了。</p></li><li><p>关闭注册表，即可生效。</p></li></ol><h3 id="3-右击文件夹空白处时弹出的菜单"><a href="#3-右击文件夹空白处时弹出的菜单" class="headerlink" title="3) 右击文件夹空白处时弹出的菜单"></a>3) 右击文件夹空白处时弹出的菜单</h3><ol><li><p>Win+R 打开运行，输入regedit，打开注册表，找到”计算机\HKEY_CLASSES_ROOT\Directory\Background\shell”分支</p><p><img src="/../images/image-20221107212231214.png" alt="image-20221107212231214"></p></li><li><p>同上面的2一样，数据内的值为“Open with Visual Studio Code”。</p></li><li><p>同上，把 %1 改为%V，例如：</p><p>D:\Program Files\Microsoft VS Code\Code.exe “%V”</p></li></ol><p><img src="/../images/image-20221107212354088.png" alt="image-20221107212354088"></p><p>4、5同上，完全一样</p><h3 id="4-说明"><a href="#4-说明" class="headerlink" title="4) 说明"></a>4) 说明</h3><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs llvm">Windows Registry Editor Version <span class="hljs-number">5.00</span><br><br>[HKEY_CLASSES_ROOT\*\shell\VSCode] <span class="hljs-comment">;右击文件时弹出的菜单</span><br>@<span class="hljs-operator">=</span><span class="hljs-string">&quot;Edit with Visual Studio Code&quot;</span> <span class="hljs-comment">;显示的文字</span><br><span class="hljs-string">&quot;Icon&quot;</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;D:\Program Files\Microsoft VS Code\Code.exe&quot;</span> <span class="hljs-comment">;显示的图标</span><br><br>[HKEY_CLASSES_ROOT\*\shell\VSCode\command] <span class="hljs-comment">;要执行的命令</span><br>@<span class="hljs-operator">=</span><span class="hljs-string">&quot;\&quot;</span>D:\Program Files\Microsoft VS Code\Code.exe<span class="hljs-string">&quot; \&quot;</span><span class="hljs-variable">%1</span>\<span class="hljs-string">&quot;&quot;</span> <span class="hljs-comment">;具体的命令代码，%1代表第一个参数，即右击选中的那个文件的路径</span><br><br>Windows Registry Editor Version <span class="hljs-number">5.00</span><br><br>[HKEY_CLASSES_ROOT\Directory\shell\VSCode] <span class="hljs-comment">;右击文件夹时弹出的菜单</span><br>@<span class="hljs-operator">=</span><span class="hljs-string">&quot;Open with Visual Studio Code&quot;</span><br><span class="hljs-string">&quot;Icon&quot;</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;D:\Program Files\Microsoft VS Code\Code.exe&quot;</span><br><br>[HKEY_CLASSES_ROOT\Directory\shell\VSCode\command]<br>@<span class="hljs-operator">=</span><span class="hljs-string">&quot;\&quot;</span>D:\Program Files\Microsoft VS Code\Code.exe<span class="hljs-string">&quot; \&quot;</span><span class="hljs-variable">%V</span>\<span class="hljs-string">&quot;&quot;</span> <span class="hljs-comment">;%V意思同%1，只不过在路径为空时替换为当前工作路径</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Windows</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTML工具集</title>
    <link href="/2022/06/03/%E5%89%8D%E7%AB%AF/HTML%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    <url>/2022/06/03/%E5%89%8D%E7%AB%AF/HTML%E5%B7%A5%E5%85%B7%E9%9B%86/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>哔哩哔哩视频解析</title>
    <link href="/2022/06/03/%E6%8A%80%E6%9C%AF/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90/"/>
    <url>/2022/06/03/%E6%8A%80%E6%9C%AF/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="一、根据av-id获取视频详细信息"><a href="#一、根据av-id获取视频详细信息" class="headerlink" title="一、根据av id获取视频详细信息"></a>一、根据av id获取视频详细信息</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">参考：https:<span class="hljs-regexp">//</span>cloud.tencent.com<span class="hljs-regexp">/developer/</span>article/<span class="hljs-number">1961851</span><br>API：https:<span class="hljs-regexp">//</span>api.bilibili.com<span class="hljs-regexp">/x/</span>web-interface/view?bvid=BV19J411376H<br>练习视频链接：https:<span class="hljs-regexp">//</span>www.bilibili.com<span class="hljs-regexp">/video/</span>BV19J411376H?spm_id_from=<span class="hljs-number">333.999</span>.<span class="hljs-number">0.0</span><br></code></pre></td></tr></table></figure><p>获得一串json，从而获得这条视频的参数aid 俗称AV号就是 455956933、参数cid就是 199198887<br>最后就得到了上文的视频直链。</p>]]></content>
    
    
    <categories>
      
      <category>哔哩哔哩</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RabbitMQ</title>
    <link href="/2022/05/30/java/RabbitMQ/"/>
    <url>/2022/05/30/java/RabbitMQ/</url>
    
    <content type="html"><![CDATA[<blockquote><p>官方文档：<a href="https://www.rabbitmq.com/documentation.html">https://www.rabbitmq.com/documentation.html</a></p><p>入门教程：<a href="https://www.toutiao.com/article/6811460945009705479">https://www.toutiao.com/article/6811460945009705479</a></p><p><a href="https://juejin.cn/post/6844904113788944397">https://juejin.cn/post/6844904113788944397</a></p></blockquote><h1 id="一、安装RabbitMQ"><a href="#一、安装RabbitMQ" class="headerlink" title="一、安装RabbitMQ"></a>一、安装RabbitMQ</h1><h2 id="1-基础依赖安装"><a href="#1-基础依赖安装" class="headerlink" title="1.基础依赖安装"></a>1.基础依赖安装</h2><p>如果你的操作系统是Linux的最小安装包，那么应该有很多基础的依赖包没有安装，在安装RabbitMQ之前，需要安装好这些基础依赖包，可以运行如下命令：</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">yum install openssl openssl</span><span class="hljs-literal">-</span><span class="hljs-comment">devel make gcc gcc</span><span class="hljs-literal">-</span><span class="hljs-comment">c</span><span class="hljs-literal">++</span> <span class="hljs-comment">kernel</span><span class="hljs-literal">-</span><span class="hljs-comment">devel</span><br></code></pre></td></tr></table></figure><h2 id="2-安装Socat"><a href="#2-安装Socat" class="headerlink" title="2.安装Socat"></a>2.安装Socat</h2><p>RabbitMQ依赖于Socat，因此在安装RabbitMQ前要安装Socat，如下：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y socat<br></code></pre></td></tr></table></figure><h2 id="3-安装Erlang"><a href="#3-安装Erlang" class="headerlink" title="3.安装Erlang"></a>3.安装Erlang</h2><p>因为RabbitMQ是用Erlang语言开发，所以在安装RabbitMQ前，要先安装Erlang运行环境，我们使用Erlang语言的rpm安装包。</p><blockquote><p><a href="https://github.com/rabbitmq/erlang-rpm">https://github.com/rabbitmq/erlang-rpm</a></p></blockquote><h3 id="3-1-Erlang依赖相关"><a href="#3-1-Erlang依赖相关" class="headerlink" title="3.1 Erlang依赖相关"></a>3.1 Erlang依赖相关</h3><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tap">[root@10 wollo]<span class="hljs-comment"># ll</span><br>总用量 878916<br><span class="hljs-comment"># Erlang相关</span><br>-rw-r--r--.<span class="hljs-number"> 1 </span>root     root     <span class="hljs-number"> 21117240 </span>5月 <span class="hljs-number"> 30 </span>18:00 erlang-25.0-1.el8.x86_64.rpm<br>-rw-r--r--.<span class="hljs-number"> 1 </span>root     root      <span class="hljs-number"> 1537652 </span>5月 <span class="hljs-number"> 30 </span>18:00 openssl-libs-1.1.1k-6.el8.x86_64.rpm<br><br><span class="hljs-comment"># RabbitMQ</span><br>-rw-r--r--.<span class="hljs-number"> 1 </span>root     root     <span class="hljs-number"> 14797137 </span>5月 <span class="hljs-number"> 30 </span>18:22 rabbitmq-server-3.10.2-1.el8.noarch.rpm<br>[root@10 wollo]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h2 id="4-安装RabbitMQ"><a href="#4-安装RabbitMQ" class="headerlink" title="4.安装RabbitMQ"></a>4.安装RabbitMQ</h2><p>上面所说的依赖安装完成后，最后我们可以运行下面的命令安装RabbitMQ：</p><blockquote><p><a href="https://github.com/rabbitmq/rabbitmq-server">https://github.com/rabbitmq/rabbitmq-server</a></p></blockquote><h1 id="二、使用RabbitMQ"><a href="#二、使用RabbitMQ" class="headerlink" title="二、使用RabbitMQ"></a>二、使用RabbitMQ</h1><h2 id="1-启动命令（方式一）"><a href="#1-启动命令（方式一）" class="headerlink" title="1.启动命令（方式一）"></a>1.启动命令（方式一）</h2><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs autoit"><span class="hljs-meta"># CentOS Stream 8  https://www.centos.org/centos-stream/</span><br><span class="hljs-meta"># 启动命令</span><br>[root<span class="hljs-symbol">@10</span> ~]<span class="hljs-meta"># systemctl start rabbitmq-server.service</span><br><span class="hljs-meta"># 查看运行状态</span><br>[root<span class="hljs-symbol">@10</span> ~]<span class="hljs-meta"># systemctl status rabbitmq-server.service</span><br><span class="hljs-meta"># 停止命令</span><br>[root<span class="hljs-symbol">@10</span> ~]<span class="hljs-meta"># systemctl stop rabbitmq-server.service</span><br></code></pre></td></tr></table></figure><blockquote><p>Web管理程序的端口号是15672，在浏览器中输入<a href="http://localhost:15672，即可以访问。">http://localhost:15672，即可以访问。</a></p></blockquote><h3 id="1-1-插件管理"><a href="#1-1-插件管理" class="headerlink" title="1.1 插件管理"></a>1.1 插件管理</h3><p>上面我们使用rabbitmq-server启动服务器，也可以使用rabbitmqctl命令管理服务器，包括创建交换机、队列、用户管理等操作，除了命令管理工具，RabbitMQ还提供了Web管理工具，而Web管理工具作为RabbitMQ的插件，如果要开启，可以使用下面的命令 ：</p><blockquote><p>rabbitmq-plugins是RabbitMQ管理插件的命令。</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell">[root@10 ~]# rabbitmq-plugins enable rabbitmq_management<br>Enabling plugins on node rabbit@localhost:<br>rabbitmq_management<br>The following plugins have been configured:<br>  rabbitmq_management<br>  rabbitmq_management_agent<br>  rabbitmq_web_dispatch<br>Applying plugin configuration to rabbit@localhost...<br>The following plugins have been enabled:<br>  rabbitmq_management<br>  rabbitmq_management_agent<br>  rabbitmq_web_dispatch<br><br>set 3 plugins.<br>Offline change; changes will take effect at broker restart.<br>[root@10 ~]# <br></code></pre></td></tr></table></figure><p>启动插件后，我们再启动服务器，最后一行显示运行了3个插件，如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs awk">[root@<span class="hljs-number">10</span> ~]<span class="hljs-comment"># systemctl status rabbitmq-server.service</span><br>● rabbitmq-server.service - RabbitMQ broker<br>   Loaded: loaded (<span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/systemd/</span>system/rabbitmq-server.service; disabled; vendor preset: disabled)<br>   Active: active (running) since Mon <span class="hljs-number">2022</span>-<span class="hljs-number">05</span>-<span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">12</span> CST; <span class="hljs-number">8</span>s ago<br> Main PID: <span class="hljs-number">359125</span> (beam.smp)<br>    Tasks: <span class="hljs-number">23</span> (limit: <span class="hljs-number">23504</span>)<br>   Memory: <span class="hljs-number">96.2</span>M<br>   CGroup: <span class="hljs-regexp">/system.slice/</span>rabbitmq-server.service<br>           ├─<span class="hljs-number">359125</span> <span class="hljs-regexp">/usr/</span>lib64<span class="hljs-regexp">/erlang/</span>erts-<span class="hljs-number">13.0</span><span class="hljs-regexp">/bin/</span>beam.smp -W w -MBas ageffcbf -MHas ageffcbf -MBlmbcs <span class="hljs-number">512</span> -MHlmbcs <span class="hljs-number">512</span> -MMmcs <span class="hljs-number">30</span> -P <span class="hljs-number">1048576</span> -t <span class="hljs-number">5000000</span> -stbt db -zdbbl <span class="hljs-number">128000</span> -sbwt none -sbwtdcpu none -sbwt&gt;<br>           ├─<span class="hljs-number">359139</span> erl_child_setup <span class="hljs-number">32768</span><br>           ├─<span class="hljs-number">359214</span> <span class="hljs-regexp">/usr/</span>lib64<span class="hljs-regexp">/erlang/</span>erts-<span class="hljs-number">13.0</span><span class="hljs-regexp">/bin/i</span>net_gethost <span class="hljs-number">4</span><br>           └─<span class="hljs-number">359215</span> <span class="hljs-regexp">/usr/</span>lib64<span class="hljs-regexp">/erlang/</span>erts-<span class="hljs-number">13.0</span><span class="hljs-regexp">/bin/i</span>net_gethost <span class="hljs-number">4</span><br><br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Doc guides:  https:<span class="hljs-regexp">//</span>rabbitmq.com/documentation.html<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Support:     https:<span class="hljs-regexp">//</span>rabbitmq.com/contact.html<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Tutorials:   https:<span class="hljs-regexp">//</span>rabbitmq.com/getstarted.html<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Monitoring:  https:<span class="hljs-regexp">//</span>rabbitmq.com/monitoring.html<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Logs: <span class="hljs-regexp">/var/</span>log<span class="hljs-regexp">/rabbitmq/</span>rabbit@localhost.log<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:         <span class="hljs-regexp">/var/</span>log<span class="hljs-regexp">/rabbitmq/</span>rabbit@localhost_upgrade.log<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:         &lt;stdout&gt;<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">11</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Config file(s): (none)<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">12</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> rabbitmq-server[<span class="hljs-number">359125</span>]:   Starting broker... completed with <span class="hljs-number">3</span> plugins.<br><span class="hljs-number">5</span>月 <span class="hljs-number">30</span> <span class="hljs-number">19</span>:<span class="hljs-number">10</span>:<span class="hljs-number">12</span> <span class="hljs-number">10.0</span>.<span class="hljs-number">2.15</span> systemd[<span class="hljs-number">1</span>]: Started RabbitMQ broker.<br>lines <span class="hljs-number">1</span>-<span class="hljs-number">22</span>/<span class="hljs-number">22</span> (<span class="hljs-keyword">END</span>)<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220530191053041.png" alt="image-20220530191053041"></p><p>重新启动服务器后，可以打开浏览器访问RabbitMQ的Web管理界面</p><blockquote><p><a href="http://192.168.56.103:15672/">http://192.168.56.103:15672/</a></p></blockquote><p><img src="/../images/image-20220530191437584.png" alt="image-20220530191437584"></p><h2 id="2-启动命令（方式二）"><a href="#2-启动命令（方式二）" class="headerlink" title="2.启动命令（方式二）"></a>2.启动命令（方式二）</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-comment"># 直接启动</span><br><span class="hljs-variable">$ </span>sudo rabbitmq-server<br>-detached为可选参数，表示后台开启<br><span class="hljs-variable">$ </span>sudo rabbitmq-server -detached<br><span class="hljs-comment">#关闭RabbitMQ服务：  </span><br><span class="hljs-variable">$ </span>sudo rabbitmqctl stop  <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>消息队列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx学习</title>
    <link href="/2022/05/27/%E6%8A%80%E6%9C%AF/Nginx%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/05/27/%E6%8A%80%E6%9C%AF/Nginx%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="Nginx学习"><a href="#Nginx学习" class="headerlink" title="Nginx学习"></a>Nginx学习</h1><h2 id="一、Nginx反向代理"><a href="#一、Nginx反向代理" class="headerlink" title="一、Nginx反向代理"></a>一、Nginx反向代理</h2><h3 id="1-配置代理组"><a href="#1-配置代理组" class="headerlink" title="1.配置代理组"></a>1.配置代理组</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">upstream</span> ssmp &#123;<br>    <span class="hljs-attribute">server</span> <span class="hljs-number">127.0.0.1:8080</span>;<br>    <span class="hljs-attribute">server</span> <span class="hljs-number">127.0.0.1:8081</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-在location中配置proxy-pass"><a href="#2-在location中配置proxy-pass" class="headerlink" title="2.在location中配置proxy_pass"></a>2.在location中配置proxy_pass</h3><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">location</span> / &#123;<br>    root   html;<br>    <span class="hljs-keyword">index</span>  <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br><br>    <span class="hljs-meta"># Nginx负载均衡配置</span><br>    proxy_pass http:<span class="hljs-comment">//ssmp;</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>参考：<a href="https://blog.csdn.net/zxd1435513775/article/details/102508463">https://blog.csdn.net/zxd1435513775/article/details/102508463</a></p><p>此处的意思为：<code>nginx </code>反向代理服务监听 <code>192.168.17.129</code>的<code>80</code>端口，如果有请求过来，则转到<code>proxy_pass</code>配置的对应服务器上，仅此而已。<br>在location下，同时配置root和proxy_pass选项时，两个选项只会二选一执行</p></blockquote><p>示例：</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs axapta">...<br><br>http &#123;<br>    ...<br>    upstream ssmp &#123;<br>        <span class="hljs-keyword">server</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">8080</span>;<br>    <span class="hljs-keyword">server</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">8081</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">server</span> &#123;<br>        listen       <span class="hljs-number">80</span>;<br>        server_name  localhost;<br><br>        <span class="hljs-meta">#charset koi8-r;</span><br><br>        <span class="hljs-meta">#access_log  logs/host.access.log  main;</span><br><br>        location / &#123;<br>            root   html;<br>            <span class="hljs-keyword">index</span>  <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>            <br>        <span class="hljs-meta"># Nginx负载均衡配置</span><br>        proxy_pass http:<span class="hljs-comment">//ssmp;</span><br>        &#125;<br>    ...<br>    &#125;<br>...<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="二、Nginx动静分离"><a href="#二、Nginx动静分离" class="headerlink" title="二、Nginx动静分离"></a>二、Nginx动静分离</h2><h3 id="1-配置location匹配静态资源"><a href="#1-配置location匹配静态资源" class="headerlink" title="1.配置location匹配静态资源"></a>1.配置location匹配静态资源</h3><blockquote><p>参考：<a href="https://blog.csdn.net/WangChuan_HHH/article/details/124761892">https://blog.csdn.net/WangChuan_HHH/article/details/124761892</a></p></blockquote><p>① 根据文件后缀匹配</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><span class="hljs-comment"># 动静分离</span><br>location ~<span class="hljs-symbol">*</span> \.(html|<span class="hljs-string">css</span>|<span class="hljs-string">js</span>|<span class="hljs-string">otf</span>|<span class="hljs-string">eot</span>|<span class="hljs-string">ttf</span>|<span class="hljs-string">woff</span>|<span class="hljs-string">woff2</span>|<span class="hljs-string">svg</span>|<span class="hljs-string">jpg</span>|<span class="hljs-string">png</span>|<span class="hljs-string">gif</span>|<span class="hljs-string">swf</span>|<span class="hljs-string">flv</span>|<span class="hljs-string">wma</span>|<span class="hljs-string">wmv</span>|<span class="hljs-string">asf</span>|<span class="hljs-string">mp3</span>|<span class="hljs-string">mp4</span>|<span class="hljs-string">mmf</span>|<span class="hljs-string">zip</span>|<span class="hljs-string">rar</span>|<span class="hljs-string">7z)$ &#123;</span><br><span class="hljs-string">    root html;</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure><p>② 根据目录匹配</p><p>同时也要把images文件夹，js文件夹，css文件夹放到nginx文件夹下的html目录里</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">location</span> /css &#123;<br>    root html;<br>    <span class="hljs-keyword">index</span> <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>&#125;<br><br><span class="hljs-keyword">location</span> /images &#123;<br>    root html;<br>    <span class="hljs-keyword">index</span> <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>&#125;<br><br><span class="hljs-keyword">location</span> /js &#123;<br>    root html;<br>    <span class="hljs-keyword">index</span> <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>&#125;<br></code></pre></td></tr></table></figure><p>③ 使用正则表达式匹配目录</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs glsl"><span class="hljs-keyword">location</span> ~*/(js|css|images) &#123;<br>    root html;<br>    <span class="hljs-keyword">index</span> <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Nginx</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>paopao</title>
    <link href="/2022/05/27/%E6%8A%80%E6%9C%AF/paopao/"/>
    <url>/2022/05/27/%E6%8A%80%E6%9C%AF/paopao/</url>
    
    <content type="html"><![CDATA[<hr><blockquote><p>开原地址：<a href="https://github.com/rocboss/paopao-ce">https://github.com/rocboss/paopao-ce</a></p><p><a href="http://c.biancheng.net/view/6046.html">http://c.biancheng.net/view/6046.html</a></p></blockquote><hr><h1 id="一、后端（服务端）"><a href="#一、后端（服务端）" class="headerlink" title="一、后端（服务端）"></a>一、后端（服务端）</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim">PS E:\otherdemo\paopao-<span class="hljs-keyword">ce</span>&gt; <span class="hljs-keyword">go</span> build<br><br>PS E:\otherdemo\paopao-<span class="hljs-keyword">ce</span>&gt; .\paopao-<span class="hljs-keyword">ce</span>.<span class="hljs-keyword">exe</span><br></code></pre></td></tr></table></figure><h1 id="二、前端"><a href="#二、前端" class="headerlink" title="二、前端"></a>二、前端</h1><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-comment"># D:\dev\nginx-1.20.2</span><br>.<span class="hljs-string">\nginx.exe</span><br></code></pre></td></tr></table></figure><h1 id="三、访问"><a href="#三、访问" class="headerlink" title="三、访问"></a>三、访问</h1><blockquote><p><a href="http://127.0.0.1/#/">http://127.0.0.1/#/</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Go</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitHub技巧</title>
    <link href="/2022/05/12/git/GitHub%E6%8A%80%E5%B7%A7/"/>
    <url>/2022/05/12/git/GitHub%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="1-GitHub下载单个文件："><a href="#1-GitHub下载单个文件：" class="headerlink" title="1.GitHub下载单个文件："></a>1.GitHub下载单个文件：</h2><blockquote><p><a href="https://github.com/coolfishstudio/cfs.snow.js/blob/master/CFS.Snow.js">https://github.com/coolfishstudio/cfs.snow.js/blob/master/CFS.Snow.js</a></p></blockquote><p>① 将 github.com 替换 为 raw.githubusercontent.com</p><p>② 去掉  &#x2F;blob</p><p>即可。</p>]]></content>
    
    
    <categories>
      
      <category>Github</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Restful</title>
    <link href="/2022/05/11/java/Restful/"/>
    <url>/2022/05/11/java/Restful/</url>
    
    <content type="html"><![CDATA[<h1 id="REST风格简介"><a href="#REST风格简介" class="headerlink" title="REST风格简介"></a>REST风格简介</h1><ul><li>按照REST风格访问资源时，使用<strong>行为动作</strong>区分对资源进行了何种操作<ul><li><a href="http://127.0.0.1/users">http://127.0.0.1/users</a>   查询全部用户信息GET（查询）</li><li><a href="http://127.0.0.1/users/1">http://127.0.0.1/users/1</a>查询指定用户信息GET（查询）</li><li><a href="http://127.0.0.1/users">http://127.0.0.1/users</a>   添加用户信息       POST（新增&#x2F;保存）</li><li><a href="http://127.0.0.1/users">http://127.0.0.1/users</a>   修改用户信息       PUT（修改&#x2F;更新）</li><li><a href="http://127.0.0.1/users/1">http://127.0.0.1/users/1</a>删除用户信息       DELETE（删除）</li></ul></li></ul><p>上述行为是约定方式，约定不是规范，可以打破，所以称为REST风格，而不是REST规范。</p><p>描述模块的名称通常使用复数，也就是加s的格式描述，表示此类资源，而非单个资源，例如：users、books、accounts…</p><p>请求路径：</p><h2 id="1-查询"><a href="#1-查询" class="headerlink" title="1. 查询"></a>1. 查询</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8080</span>/books<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220511213634336.png" alt="image-20220511213634336"></p><h2 id="2-新增"><a href="#2-新增" class="headerlink" title="2. 新增"></a>2. 新增</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8080</span>/books<br>&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;《三体》&quot;</span>,<span class="hljs-string">&quot;author&quot;</span>:<span class="hljs-string">&quot;刘慈欣&quot;</span>,<span class="hljs-string">&quot;price&quot;</span>:<span class="hljs-string">&quot;13.5&quot;</span>&#125;<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220511213807404.png" alt="image-20220511213807404"></p><h2 id="3-删除"><a href="#3-删除" class="headerlink" title="3. 删除"></a>3. 删除</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8080</span><span class="hljs-regexp">/books/</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220511213844315.png" alt="image-20220511213844315"></p><h2 id="4-更新"><a href="#4-更新" class="headerlink" title="4. 更新"></a>4. 更新</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8080</span>/books<br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220511213913847.png" alt="image-20220511213913847"></p><p>实例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.controller;<br><br><span class="hljs-keyword">import</span> com.shubao.domain.Book;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: SpringBoot2022</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: BookController 控制器类  Rest模式</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-05-11 19:07</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-comment">// @Controller + @ResponseBody = @RestController</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/books&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br><br>    <span class="hljs-comment">// 查询所有 RequestMethod.GET</span><br>    <span class="hljs-meta">@GetMapping</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAll</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;SpringBoot is running...2&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello Books2&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 根据id查询，使用@PathVariable注解接收参数 RequestMethod.GET</span><br>    <span class="hljs-comment">// @RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.GET)</span><br>    <span class="hljs-meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;book getById...&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;&#x27;module&#x27;:&#x27;book getById&#x27;, &#x27;status&#x27;:&#x27;success&#x27;&#125;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 新增、保存 RequestMethod.POST</span><br>    <span class="hljs-comment">// @RequestMapping(method = RequestMethod.POST) 相当于 @PostMapping</span><br>    <span class="hljs-meta">@PostMapping</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">save</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;book save...&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;book = &quot;</span> + book);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;&#x27;module&#x27;:&#x27;book save&#x27;, &#x27;status&#x27;:&#x27;success&#x27;&#125;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 更新、修改 RequestMethod.PUT</span><br>    <span class="hljs-comment">// @RequestMapping(method = RequestMethod.PUT)</span><br>    <span class="hljs-meta">@PutMapping</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;book update...&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;book = &quot;</span> + book);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;&#x27;module&#x27;:&#x27;book update&#x27;, &#x27;status&#x27;:&#x27;success&#x27;&#125;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 删除 RequestMethod.DELETE</span><br>    <span class="hljs-comment">// @PathVariable: 形参注解，作用：绑定路径参数与处理器方法参数间的映射关系，要求路径参数和处理器方法参数名称一致，使用&#123;参数名称&#125;描述路径参数</span><br>    <span class="hljs-comment">// @RequestBody: 用于接收JSON数据，并转换为对象</span><br>    <span class="hljs-comment">// @RequestParam: 用于接收URL地址中的参数或者表单中的参数</span><br>    <span class="hljs-comment">// @RequestMapping(value = &quot;/&#123;id&#125;&quot;, method = RequestMethod.DELETE)</span><br>    <span class="hljs-meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">delete</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;book delete...&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;&#x27;module&#x27;:&#x27;book delete&#x27;, &#x27;status&#x27;:&#x27;success&#x27;&#125;&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java面试资料(PDF)</title>
    <link href="/2022/05/06/java/Java%E9%9D%A2%E8%AF%95%E8%B5%84%E6%96%99-PDF/"/>
    <url>/2022/05/06/java/Java%E9%9D%A2%E8%AF%95%E8%B5%84%E6%96%99-PDF/</url>
    
    <content type="html"><![CDATA[<div class="row">    <embed src="/pdf/CoreJava面试题汇总.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Java</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java基础(完整)</title>
    <link href="/2022/05/05/java/Java%E5%9F%BA%E7%A1%80(%E5%AE%8C%E6%95%B4)/"/>
    <url>/2022/05/05/java/Java%E5%9F%BA%E7%A1%80(%E5%AE%8C%E6%95%B4)/</url>
    
    <content type="html"><![CDATA[<h1 id="java基础"><a href="#java基础" class="headerlink" title="java基础"></a>java基础</h1><blockquote><p><a href="https://app.yinxiang.com/shard/s10/nl/41034272/d2bd137e-ae35-42f0-b79d-a58f3f7f7ef4?title=java">https://app.yinxiang.com/shard/s10/nl/41034272/d2bd137e-ae35-42f0-b79d-a58f3f7f7ef4?title=java</a></p></blockquote><p>。作业领悟：</p><p>1.成员变量不需要初始化，局部变量必须初始化</p><p>2.对集合的遍历和删减不可同时进行，因为删减过后集合的长度会发生变化</p><p>3.一个迭代器只能用一次</p><p>4.从pdf文件中复制中文，可能会出现个别中文乱码的现象</p><p>java配置环境变量</p><p>JAVA_HOME java安装位置</p><p>PATH %JAVA_HOME%\bin</p><p>Java学习记录</p><p><a href="https://learn.kaikeba.com/">https://learn.kaikeba.com</a></p><p>idea使用快捷键</p><p>ctrl+Y 删除光标所在行</p><p>ctrl+D 复制光标所在行，并插入到光标所在位置下面spring</p><p>ctrl+alt+L 格式化代码</p><p>ctrl+&#x2F; 单行注释</p><p>ctrl+shift+&#x2F; 多行注释</p><p>alt+shift+上下键 选中代码可以上下移动</p><p>ctrl +r (replace)  出来替换操作</p><p>sout</p><p>psvm</p><p>soutv </p><p>int i &#x3D; 1200;</p><p>按soutv自动生成   System.out.println(“i &#x3D; “ + i);</p><p>fori</p><p>nfori</p><p>nforr</p><p>数组名.fori</p><p>  for (int i &#x3D; 0; i &lt; array2.length; i++) {</p><p>​      </p><p>  }</p><p>类中的快捷键</p><p>alt + insert </p><p>code-》generate-》constructor 自动生成构造方法</p><p>code-》generate-》get set  自动生成get set 方法</p><p>需要修改 代码提示 alt &#x2F;</p><p>补充代码末尾； ctrl shift enter</p><p>alt enter 导包</p><p>ctrl + i 父类方法的覆写 和 重写接口中的抽象和默认方法</p><p>ctrl + o 调出父类中可以重写的方法</p><p>敲完右边代码自动生成左边的变量 ctrl alt v alt insert</p><p>alt insert 导包</p><p>ctrl h 查看类的上下继承关系</p><p>数组名和集合名.for  生成增强for循环</p><p>for (String s : collection) {</p><p>​      </p><p>​    }</p><p>shift shift 出现搜索框，搜索类的源码</p><p>ctrl 鼠标左键单击 出现语法提示语句</p><p>ctrl z 回退一步操作</p><p>shift enter 另起一行</p><p>ctrl shift enter 另起一行</p><p>ctrl a  然后按空格 全部打勾</p><p>在resource层新建多层文件夹com&#x2F;kkb&#x2F;dao</p><p>在java层新建多层文件夹com.kka.dao</p><p>java语言严格区分大小写</p><p>在下载好新版本的jdk后要删除旧的jdk</p><p>package 声明包的关键字</p><p>public 公共的（修饰符）</p><p>static 静态的（修饰符）</p><p>void 无返回值类型</p><p>main 方法名（函数名）</p><p>args 数组名</p><p>system 系统</p><p>out 输出</p><p>print 打印</p><p>jdk:开发工具包，包含运行环境，核心类库，源码，Jvm标准实现</p><p>jre:java运行环境，一些核心类库，jvm</p><p>一个java文件中可以有多个类，但只能有一个public修饰的类。</p><p>jvm:虚拟机，用于解释执行字节码文件，使java程序可以在不同操作系统上运行</p><p>字节 byte或B</p><p>1B&#x3D;8 bit</p><p>1kB&#x3D;1024B</p><p>MB GB</p><p>&#x2F;&#x2F; 单行注释</p><p>&#x2F;*   *&#x2F; 多行注释</p><p>&#x2F;**   *&#x2F; java特有的多行注释</p><p>特殊的注释 &#x2F;**  *&#x2F; 放在类和方法定义处，可以用于自动创建文档</p><p>包名（文件夹）：全部小写，格式xxx.yyy.zzz</p><p>命名法：</p><p>类和接口：每个单词首字母都大写  HelloWorld</p><p>方法和变量：只有一个单词时，小写 name</p><p>​          有多个单词时，第一个单词小写，其余单词首字母大写 nameNext</p><p>常量：只有一个单词时大写 MONEY</p><p>​     有多个单词时，第一个单词小写其余都大写 heightWEIGHT</p><p>​     或者用下划线隔开 HEIGHT_WEIGHT</p><p>关键字：publib class static void int package import</p><p>保留字：goto const</p><p>把路径写进路径变量中，在dos命令中就可以不用考虑路径运行。</p><p>Java源文件名要与类名相同</p><p>关键字：被java语言赋予特殊含义的单词，全部为小写。</p><p>标识符：由字母、数字、下划线、美元符号组成，不能以数字开头，区分大小写</p><p>java程序中自己命名的名称都是标识符</p><p>public class HelloWord{</p><p>​      public static void main(String[] args){</p><p>​            System.out.println(“Hello Word”);</p><p>​      }</p><p>}</p><p>print 打印</p><p>println 打印并换行</p><p>数据类型</p><p>基本数据类型：整数，小数，字符（输出时用’’,’’里只能有一个字符，一个字符包括一个字母，一个汉字），布尔（输出的只有俩种值，true和false）</p><p>引用数据类型：字符串（输出时用””）</p><p>常量</p><p>整数: byte  1</p><p>​     short 2</p><p>​     int   4</p><p>​     long  8</p><p>小数（浮点型）：float 4</p><p>​             double 8</p><p>字符：char  2</p><p>布尔：boolean 1</p><p>字符串：String</p><p>在声明float类型的时候结尾一定要加f或F ,否则默认为double类型</p><p>float a&#x3D;33.3f</p><p>布尔类型只能赋俩个值true或flase</p><p>浮点型还可以这样赋值</p><p>char c&#x3D;65;</p><p>在定义变量时，字符要加’’，字符串要加””；在输出变量时只需要写变量名即可。</p><p>例：         char d&#x3D;’1’;</p><p>​            System.out.println(d);</p><p>​             String f&#x3D;”abc”;</p><p>​            System.out.println(f);</p><p>运算符</p><p>算术运算符：+（在字符串中起连接作用）、-、*、&#x2F;、%、++、–</p><p>赋值运算符：&#x3D;，+&#x3D;（加后赋值），-&#x3D;，*&#x3D;，&#x2F;&#x3D;，%&#x3D;</p><p>例：a&#x3D;2,a+&#x3D;2相当于a&#x3D;a+2</p><p>比较运算符：结果为布尔类型。&#x3D;&#x3D;，！&#x3D;，&lt;,&gt;,&lt;&#x3D;,&gt;&#x3D;。</p><p>逻辑运算符：用于布尔值进行运算的，结果是true或false。</p><p>&amp;（与），俩者都为真，值才为真。</p><p>|（或），俩者有一个为真即为真。</p><p>！（非），取反。</p><p>&amp;&amp;（短路与），比&amp;返回更快捷，节省时间。</p><p>||（短路或），比|返回值更快。</p><p>转义字符</p><p>\t 加一个制表符（tab）</p><p>第一天</p><p>定义long 类型时在结尾加L，否则默认是int类型</p><p>long a &#x3D; 100L</p><p>16进制表示的整型以0x开头</p><p>int a &#x3D; 0xff00000</p><p>10进制表示的整型以0b开头</p><p>int a &#x3D; 0b900000</p><p>使用常量便于理解程序意图</p><p>移位运算</p><p>&lt;&lt; 左移</p><p>&gt;&gt;  不带符号右移（最高位位符号位）</p><p>&gt;&gt;&gt; 带符号右移</p><p>位运算</p><p>&amp;运算：都是1结果才是1（保留某些位，将其余位全部置为0）</p><p>|运算：只要有一个是1就是（保留某些位，将其余位全部置为1</p><p>^异或运算：俩个操作数不相同时为1，相同时为0</p><p>~非运算：单目运算符 将0和1互换</p><p>不同整型类型进行运算时，结果为较大类型的整型</p><p>short s &#x3D; 10</p><p>int i &#x3D; 20</p><p>long L &#x3D; 30</p><p>a &#x3D;s+i 结果为int类型</p><p>b &#x3D; i+L 结果为long类型</p><p>浮点数运算：</p><p>浮点数可能无法精确表示</p><p>浮点数运算结果可能会有误差</p><p>浮点数与整型运算，结果是浮点型</p><p>布尔运算</p><p>三元运算符</p><p>b?x:y 根据条件B计算X或y的值</p><p>X，Y只计算一个</p><p>且X，Y的类型要相同</p><p>字符和字符串</p><p>引用类型的理解</p><p>变量是指向某个字符串，而不是持有某个字符串</p><p>null是个空值</p><p>String s &#x3D; null  指的是S不指向任何字符串</p><p>空字符串  “”</p><p>方法：把具有独立功能的代码块看做一个整体，避免了编写重复的代码</p><p>语法格式：</p><p>1.无参定义</p><p>修饰符 返回值类型 方法名（）{</p><p>​           代码</p><p>​          return 结果；（没有返回值不用写）          </p><p>}</p><p>2.有一个参数的定义</p><p>修饰符 返回值类型 方法名（参数）{</p><p>​           代码</p><p>​          return 结果；（没有返回值不用写）          </p><p>}</p><p>3.有多个参数的定义</p><p>修饰符 返回值类型 方法名（参数1，参数2，参数3）{</p><p>​           代码</p><p>​          return 结果；（没有返回值不用写）          </p><p>}</p><p>4.有返回值时</p><p>修饰符 返回值类型 方法名（参数）{</p><p>​           代码</p><p>​          return 包含返回值的变量；          </p><p>}</p><p>方法的调用：</p><p>1.无返回值时</p><p>方法名（）</p><p>2S</p><p>关系运算符</p><p>结果皆为布尔类型</p><p>逻辑运算符</p><p>^异或运算：俩边表达式真假相同时为false，不相同时为true</p><p>! 取相反值</p><p>&amp;&amp; 左边表达式为假，右边的表达式就不参与运算</p><p>||   左边表达式为真，右边的表达式就不参与运算</p><p>​    int x &#x3D; 1;</p><p>​    int y &#x3D; 1;</p><p>​    System.out.println((x++&gt;3&amp;&amp;(y++&gt;5)));</p><p>​    System.out.println(x);  2</p><p>​    System.out.println(y);  1</p><p>​    </p><p>​     int x &#x3D; 1;</p><p>​    int y &#x3D; 1;</p><p>​    System.out.println((x++&gt;0)||(y++&gt;4));</p><p>​    System.out.println(x);  2</p><p>​    System.out.println(y);  1</p><p>​       </p><p>三元运算符</p><p>数据类型 变量名 &#x3D; 布尔表达式？结果1：结果2</p><p>真 把结果1赋给变量</p><p>假 把结果2赋给变量</p><p>结果类型与变量类型要一样</p><p>俩个值比大小</p><p>String s &#x3D; 5&#x3D;&#x3D;9? “相等”:”不相等”;</p><p>三个值中找出最大值</p><p>​    int a &#x3D; 5;</p><p>​    int b &#x3D; 7;</p><p>​    int c&#x3D; 2;</p><p>​    int d &#x3D; a&gt;b? a:b;</p><p>​    int e &#x3D; c&gt;d? c:d;</p><p>​    System.out.println(“abc中的最大值是:”+e);</p><p>​    </p><p>方法</p><p>1.遇到return,程序就会结束，不会再继续往下执行</p><p>第五天</p><p>格式化输出</p><p>不自动换行</p><p>System.out.printf()   &#x2F;&#x2F;format 格式化</p><p>\r 回车 将光标置于本行开头 如果继续输出就会覆盖\r前面的内容</p><p>System.out.println(“ssss\raaa”);  输出结果：aaa</p><p>%x(hex) 十六进制数 </p><p>%d 整数</p><p>%f 浮点数  %.2f 保留俩位小数   %7.2f 前面有三个空格   %e 使用科学计数法打印浮点数  %+.2f 打印出符号位</p><p>%s 字符串  %1$s 表示第一参数</p><p>%% %</p><p>if 判断语句</p><p>if （…..）{</p><p>   。。。。。。。</p><p>   }</p><p>else{</p><p>   。。。。。。。</p><p>   }</p><p>if （….）{</p><p>   。。。。。。。</p><p>   }</p><p>else if（…..）{</p><p>   。。。。。。。</p><p>   }</p><p>else if（ …..）{</p><p>   。。。。。。。</p><p>   }</p><p>else{</p><p>   。。。。。。。</p><p>   }</p><p>判断浮点数是否相等</p><p>浮点数用&#x3D;&#x3D;判断是不准确的</p><p>double d &#x3D; 1-0.9;</p><p>​    if (d &#x3D;&#x3D; 0.1){</p><p>​      System.out.println(“计算结果精确”);</p><p>​    }</p><p>​    else{</p><p>​      System.out.println(“计算结果不准确”);</p><p>​      System.out.println(d);</p><p>​      }</p><p>输出结果：计算结果不准确  0.09999999      </p><p>Math.abs()  用于返回一个数的绝对值</p><p>判断浮点数与一个数是否相等：利用Math.abs() 方法计算浮点数与该数的差值的绝对值，与小数0.00001（误差范围）做比较，小于这个小数就认为俩数相等</p><p>double d &#x3D; 1-0.9;</p><p>​    if (Math.abs(d-0.1)&lt;0.000001){</p><p>​      System.out.println(“计算结果精确”);</p><p>​    }</p><p>​    else{</p><p>​      System.out.println(“计算结果不准确”);</p><p>​      System.out.println(d);</p><p>​    }</p><p>引用类型的判断</p><p>&#x3D;&#x3D; ： 判断是否指向同一个对象</p><p>equals() 判断内容是否相等</p><p>变量1.equals(变量2)  </p><p>如果变量1为null,那么调用equals()会报错</p><p>解决办法</p><p>1.短路&amp;&amp;</p><p>if （变量1 !&#x3D; null &amp;&amp; 变量1.equals(变量2) ）</p><p>2.把不是null的变量置于变量1的位置</p><p>switch 多重选择 （尽量少用，基本可以用其他代替）</p><p>switch(表达式){     &#x2F;&#x2F;表达式只能是整型，字符串，枚举类型  具有穿透性</p><p>​    case 1：         &#x2F;&#x2F;表达式为整型的情况</p><p>​         执行语句</p><p>​         break;      &#x2F;&#x2F;在每个case后必须加break语句，否则会一直执行下去，直到遇到break</p><p>​    case 2: </p><p>​        执行语句</p><p>​        break；</p><p>​    default：</p><p>​        执行语句   &#x2F;&#x2F;case 条件都不满足的时候执行default语句   </p><p>​                 </p><p>}</p><p>while 循环</p><p>while （表达式）{   &#x2F;&#x2F;满足表达式就循环，不满足就不进入循环</p><p>​      语句执行</p><p>}</p><p>for循环</p><p>1.通过计数器进行循环</p><p>2.计数器变量最好放在循环体内</p><p>语句结构</p><p>for(计数器变量初始化赋值；布尔表达式；布进表达式){  &#x2F;&#x2F;最好就按照这种结构写，不容易出现错误  布进表达式是用来更新计数器的值 </p><p>​      循环体                              &#x2F;&#x2F;循环体中尽量不修改计数器的值</p><p>}</p><p>数组长度 利用length关键字</p><p>for each 循环</p><p>1.可以更简单的遍历数组，和迭代（同一条代码一直重复执行，一直到满足条件为止）数据类型</p><p>2.无法指定遍历的顺序，只能从左到右</p><p>3.无法获得数组索引</p><p>for (int n : 数组名){</p><p>​     System.out.println(n);  &#x2F;&#x2F;n代表数组中的元素</p><p>}</p><p>break 和continue</p><p>第七天</p><p>数组</p><p>数组</p><p>创建数组</p><p>默认数据类型  整型：0  浮点型：0.0 字符型：’\u0000’  引用类型：null</p><p>数组在创建好后，可以存储的数据量是固定的,后期是无法修改的</p><p>1.数组中存放数据的数据类型[] 数组名 &#x3D; new 数据类型[ 数组长度 ]</p><p>int[] num &#x3D; new int[]; 只定义数组长度</p><p>&#x2F;&#x2F; int[] array &#x3D; new int[]{数据1，数据2}   int[] 不能写长度</p><p>2.数组中存放数据的数据类型[] 数组名 &#x3D; {数据1，数据2}；</p><p>或者 数据类型 数组名[] &#x3D; {元素1，元素2} ；</p><p>length 关键词   计算出数组的长度</p><p>数组名.length </p><p>访问数组中的元素</p><p>数组名[索引]</p><p>为数组中的元素赋值</p><p>数组名[索引] &#x3D; 值</p><p>java 中的程序是在jvm中执行的</p><p>   java编译器            jvm</p><p>.java  -&gt;  .class  -&gt;jvm类加载器 -&gt;执行引擎    在程序执行过程中，数据存储在 运行数据区 中</p><p>运行数据区包括：堆内存（用于存放对象和数组） 方法区(存放运行时的类，方法)</p><p>数组名变量存放的是数组元素在堆内存中的地址，是16进制地址</p><p>String[] array &#x3D; new String[3];</p><p>System.out.println(array);   结果：[Ljava.lang.String;@4554617c</p><p>int array1[] &#x3D; new int[2];</p><p>System.out.println(array1);  结果：[I@1b6d3586</p><p>arr1把数组在堆内存的地址给了arr2，arr2 数组与arr1指向堆内存中的同一个数组，arr2就可以访问arr1所指向的这个数组</p><p>int array2[] &#x3D; {1,2};</p><p>System.out.println(array1);      结果：[I@1b6d3586</p><p>int[] array2 &#x3D; array1;</p><p>System.out.println(array2);      结果：[I@1b6d3586</p><p>System.out.println(array6[1]);    结果：2</p><p>遍历数组</p><p>1.for循环 带索引</p><p>int[] array &#x3D; {1,2,3,4};</p><p>​    System.out.println(array); &#x2F;&#x2F;结果是数组在JVM中的引用地址</p><p>​    for (int i &#x3D; 0; i &lt; array.length; i++){</p><p>​      System.out.println(array[i]);</p><p>​    }</p><p>2.for each 不带索引</p><p>int[] array &#x3D; {1,2,3,4};</p><p>​    for (int n : array){   &#x2F;&#x2F;变量n用来接收数组中的元素</p><p>​      System.out.println(n);</p><p>​    }</p><p>快速打印数组元素</p><p>Arrays.toString()  需要先导入Arrays类</p><p>import java.util.Arrays;</p><p>int[] array &#x3D; {1,2,3,4};</p><p>​    System.out.println(Arrays.toString(array));</p><p>对数组元素进行排序</p><p>1.冒泡排序 对小数组排序</p><p>依次比较俩个元素的大小，然后交换</p><p>有升序和降序俩种排序方法</p><p>2.利用Arrays.sort 对大数组进行快速排序</p><p>多维数组</p><p>二维数组</p><p>int[] [] array &#x3D; {</p><p>{         }，</p><p>{        }，</p><p>{        }，</p><p>}</p><p>1.数组中的元素是数组，数组的长度是其所包含的数组个数</p><p>2.用Arrays.deepToString() 打印出数组中的全部内容</p><p>3.访问二维数组中的元素：数组名[][]</p><p>命令行参数</p><p>1.是String[] 数组</p><p>return 结束return所在方法的所有执行语句欧阳娜娜</p><p>参数传递</p><p>\1. 方法中创建的基本数据类型变量只在本方法中有效 ，存在于方法栈</p><p>2.把引用数据数组传入方法，相当于把数组在堆内存中的地址传入方法</p><p>第八天</p><p>面向对象</p><p>创建的类就相当于对象的一个模型，要使用类中的功能先得创建一个对象实例</p><p>new创建的数据都放在堆内存中</p><p>对象创建的理解</p><p>把一个类的实例赋值给了类 这种数据类型的变量，这个变量就是对象名</p><p>新建一个类，类中存放成员变量和方法标记（通过方法标记找到方法栈中的方法），把类在堆内存中的地址赋值给对象（对象的类型是类）</p><p>成员变量有默认值，局部变量没有默认值，必须先定义并赋值</p><p>创建类</p><p>实际上是定义了一种新的数据类型</p><p>类：对一类事物的抽象描述</p><p>对象：相当于一类事物的一个实例</p><p>类中创建方法一般不加static</p><p>public class Student类名{</p><p>   &#x2F;&#x2F;成员变量（类的特征，特点）字段  默认修饰词是public</p><p>   用private封装成员变量后，外部访问需要通过专门的方法</p><p>   String name;</p><p>   int age;</p><p>   String sex;</p><p>   &#x2F;&#x2F;成员方法 (类的功能)</p><p>   public void study(){</p><p>   }  </p><p>创建对象 在主方法中</p><p>  Student(类名) s(对象名) &#x3D; new Student()</p><p>  &#x2F;&#x2F; 通过对象对成员变量赋值</p><p>  s.age &#x3D;</p><p>  s.name &#x3D;</p><p>  s.sex &#x3D;</p><p>  System.out.println(“s&#x3D;”+s);</p><p>  &#x2F;&#x2F;打印出来时对象的地址值</p><p>访问变量，通过创建的对象访问</p><p>  System.out.println(s.name);</p><p>  System.out.println(s.age);   </p><p>   public void play(){</p><p>}</p><p>}</p><p>方法调用：s.study()</p><p>​        s.age()</p><p>成员变量的默认值：</p><p>整型：0  浮点型：0.0 字符型：’\u0000’ 布尔型：false 引用类型：Null</p><p>null 空常量</p><p>封装：</p><p>设置为私有成员变量 用到private关键字</p><p>  private String brand;</p><p>  private String colour;</p><p>获取成员变量要定义一个专门的方法</p><p>  public String getBrand(){</p><p>​    return brand;</p><p>}</p><p>设置成员变量的值，也需要定义一个专门的方法</p><p>  &#x2F;&#x2F;定义主方法时，创建变量需要变量类型[] args</p><p>  &#x2F;&#x2F;定义其他方法时，则不需要加[]</p><p>  public void setBrand(String brand){</p><p>​    this.brand &#x3D; brand; &#x2F;&#x2F;为了区别接收变量和成员变量需要用到this关键字</p><p>​                    &#x2F;&#x2F;this.变量名是指对象的变量，是用户成员变量</p><p>​                    &#x2F;&#x2F;而后面这个变量是接收变量</p><p>​                     </p><p>  }</p><p>构造方法</p><p>在对象创建的同时，构造方法会被默认调用</p><p>构造方法的名称必须与类名相同</p><p> &#x2F;&#x2F;构造方法没有返回值，也不写void</p><p> 用于在创建对象的时候初始化成员变量</p><p> 构造方法可以定义多个，编译器会根据参数的差异来选择构造方法  </p><p>\1. &#x2F;&#x2F;如果没有创建构造方法，系统会默认创建一个构造方法，没有参数，也没有执行语句</p><p>  public 类名（）{</p><p>  } </p><p>2.&#x2F;&#x2F;定义无参数的构造方法</p><p>  public 类名（）{</p><p>   执行语句    </p><p>  }</p><p>  &#x2F;**无参数的构造方法创建对象的语法：类名 对象名 &#x3D; new 类名（n）n表示这个对象数组中有几个对象</p><p>  *&#x2F;</p><p>3.&#x2F;&#x2F;定义有参数的构造方法</p><p>  &#x2F;&#x2F;语法：public 类名（参数类型 参数名，参数类型 参数名）{}</p><p>  &#x2F;&#x2F;有参数的构造方法创建对象的语法：；；类名 对象名 &#x3D; new 类名（”华为”,1999）</p><p>  &#x2F;&#x2F;可以直接对用户变量进行初始化</p><p>  public Phone(String brand,int price){</p><p>​    this.brand &#x3D; brand;</p><p>​    this.price &#x3D; price;</p><p>  }</p><p>\4. &#x2F;&#x2F;用private也可以创建私有方法，私有方法需要通过其他方法间接调用</p><p>   private void 方法名（）{</p><p>   }</p><p>\5. 构造方法中也可以调用其他构造方法，用到的语法是 this() ，this语句在构造方法中必须是第一个语句</p><p>6.方法重载 overload</p><p>1.在同一个类中，有一个以上方法名相同的方法存在，且它们的参数类型、数量，位置不同</p><p>2..方法的是否是重载与方法的修饰词、返回值类型、参数名称无关 </p><p>3.重载方法应该完成相同的功能，返回值也应该相同（书写规范）   </p><p>Arraylist类</p><p>是一个集合，可以存放多个元素，类似于数组</p><p>创建ArrayList集合</p><p>import java.util.ArrayList;  使用ArrayList之前需要先输入ArrayList类</p><p>ArrayList&lt;集合存放的元素类型&gt; 集合名 &#x3D; new Arraylist&lt;元素类型&gt;（）</p><p>&#x2F;&#x2F;往集合中添加元素 集合名.add(元素)</p><p>​    list.add(“张文斌”);</p><p>​    list.add(“贺博鑫”);</p><p>&#x2F;往集合指定位置添加元素 集合名.add(下标，元素)</p><p>​    list.add(0,”李静”);</p><p>JavaBean 标准类</p><p>1.private 变量</p><p>2.构造方法</p><p>无参的，满参的</p><p>3.成员方法</p><p>4.get set 方法</p><p>API </p><p>Application Program Interface 应用程序接口</p><p>需要先创建对象</p><p>然后通过对象调用类中的方法</p><p>通过对象，调用类的功能方法</p><p>类的功能方法需要了解</p><p>Scanner 类</p><p>在创建对象时，必须传入参数</p><p>System.in 键盘录入参数</p><p>猜数字练习</p><p>BigInteger</p><p>创建对象的时候必须传入整数字符串</p><p>让大整数做加减乘除，不限制整数的长度，构造方法中采用字符串类型表示整数</p><p>四大运算：</p><p>语法：</p><p>add()</p><p>subtract()</p><p>multiply()</p><p>divide()  </p><p>​    BigInteger bigNum1 &#x3D; new BigInteger(“22554896654”);</p><p>​    System.out.println(bigNum1);    &#x2F;&#x2F;传入的参数存储在对象名中</p><p>​     </p><p>​    BigInteger bigNum2 &#x3D; new BigInteger(“23659874123655412”);</p><p>​    System.out.println(bigNum2);</p><p>​    </p><p>​    BigInteger add &#x3D; bigNum1.add(bigNum2); &#x2F;&#x2F;加法语法，bigNum1调用add方法，方法中传入bigNum2对象参数</p><p>​    System.out.println(add);</p><p>​    </p><p>​    BigInteger sbutract &#x3D; bigNum2.subtract(bigNum1);   &#x2F;&#x2F;最后运算结果也要用BigInteger类型的变量来存储</p><p>​    System.out.println(sbutract);</p><p>​    </p><p>​    BigInteger multiply &#x3D; bigNum2.multiply(bigNum1);</p><p>​    System.out.println(multiply);</p><p>​    </p><p>​    BigInteger divide &#x3D; bigNum2.divide(bigNum1);&#x2F;&#x2F;自动取整数部分</p><p>​    System.out.println(divide);</p><p>BigDecimal 类</p><p>实现超大浮点数的准确运算</p><p>构造方法中以字符串形式存储浮点数</p><p>​    BigDecimal bigDec1 &#x3D; new BigDecimal(“5.3265244”);  &#x2F;&#x2F;对象中存储传入的参数</p><p>​    System.out.println(bigDec1);           &#x2F;&#x2F;结果：5.3265244</p><p>​    BigDecimal bigDec2 &#x3D; new BigDecimal(“9.25331425257412”);</p><p>​    System.out.println(bigDec2);</p><p>​    </p><p>​    BigDecimal add &#x3D; bigDec2.add(bigDec1);</p><p>​    System.out.println(add);</p><p>​    </p><p>​    BigDecimal subtract &#x3D; bigDec2.subtract(bigDec1);</p><p>​    System.out.println(subtract);</p><p>​    </p><p>​    BigDecimal multiply &#x3D; bigDec2.multiply(bigDec1);</p><p>​    System.out.println(multiply);</p><p>​    除法语法：对象名.divide(除数对象名，保留几位小数，小数取舍方式)</p><p>​    小数取舍方式有三种：BigDecimal.ROUND_UP    BigDecimal.ROUND_DOWN     BigDecimal.ROUND_HALF_UP</p><p>​    </p><p>​    BigDecimal divide1 &#x3D; bigDec2.divide(bigDec1,3,BigDecimal.ROUND_UP);&#x2F;&#x2F;向上取整</p><p>​    System.out.println(divide1);</p><p>​    BigDecimal divide2 &#x3D; bigDec2.divide(bigDec1,3,BigDecimal.ROUND_DOWN);&#x2F;&#x2F;舍去小数</p><p>​    System.out.println(divide2);</p><p>​    BigDecimal divide3 &#x3D; bigDec2.divide(bigDec1,3,BigDecimal.ROUND_HALF_UP);&#x2F;&#x2F;四舍五入</p><p>​    System.out.println(divide3);</p><p>第九天</p><p>继承</p><p>代码复用的一种方式</p><p>类1包含类2已有的字段和方法，那么类1就可以通过extends关键字继承类2的这些字段和方法，这个类1就获得了类2的所有功能</p><p>类2 ：超类super 父类 基类</p><p>类1：子类subclass  扩展类</p><p>Object 所有类的根类</p><p>如果创建类的时候没有写类的父类，那么系统会默认添加Object父类</p><p>除了Object外，一个类只能有一个父类</p><p>Object中的几个重要方法：</p><p>toString() : 把instance(实例) 输出为String</p><p>public String toString() {</p><p>  执行语句</p><p>}</p><p>equals(): 判断俩个instance是否逻辑相等</p><p>hashCode: 计算一个instance的哈希值</p><p>父类中用private修饰的成员变量无法被子类访问</p><p>父类中用protected（被保护的）修饰的变量可以被子类访问</p><p>构造方法</p><p>父类中的构造方法要通过子类中的构造方法来调用</p><p>子类构造方法的第一行语句，默认调用super() 代表调用父类中的构造方法</p><p>子类默认的构造方法只能调用父类中默认的构造方法</p><p>1.调用空参的构造方法super（） 可以不写，默认会调用</p><p>2.调用有参数的构造方法：</p><p>调用的时候使用super(参数) 将参数传入父类</p><p>public Student(String name) {</p><p>​    super(name); &#x2F;&#x2F;父类构造方法中有参数数，子类中调用父类构造方法要传入参数</p><p>  }            &#x2F;&#x2F;一层一层的传递参数</p><p>组合</p><p>一个类中可以声明一个另一个类中的实例</p><p>private Book book;</p><p>方法覆写 Override</p><p>1.方法的返回值，参数，方法名一样，执行语句不一样</p><p>2.可以在子类的方法上一行加上 @Override ,可以让编译器帮我们检测是否进行了准确的覆写</p><p>子类覆写的方法中也可以调用父类被覆写的方法</p><p>语法：super.方法（） </p><p>public void run() {</p><p>​    System.out.println(“ren”);</p><p>​    super.run();</p><p>  }</p><p>实际对象的调用的方法总是其实际类型的方法</p><p>People people1 &#x3D; new Student();</p><p>​    People people2 &#x3D; new People();</p><p>​    people1.run() ;  执行的是Student类的run()</p><p>​    people2.run();  执行的是People类型的ran()</p><p>​    </p><p>final关键字</p><p>1.用final修饰的方法不能被子类覆写，但可以使用</p><p>public final void eat() {</p><p>​    System.out.println(“人都会吃”);</p><p>  }</p><p>2.用final修饰的类不能被子类继承</p><p>public final class Book {</p><p>  private String name;</p><p>}</p><p>在final修饰的类中，用final修饰的此类的对象一旦被赋予实例后，无法被重新赋予实例</p><p>final Book book &#x3D; new Book()</p><p>会报错：book &#x3D; new Book()</p><p>3.用final修饰的变量在初始化后不能重写赋值</p><p>private final double weight;</p><p>抽象类</p><p>1.是用来实现多态的</p><p>2.无法实例化</p><p>3.用于被子类继承</p><p>4.子类覆写抽象方法，也可以没有执行语句</p><p>5.抽象方法相当于定义了规范</p><p>6.非抽象子类必须覆写抽象父类的所有抽象方法</p><p>7.可以有抽象方法。也可以有非抽象方法</p><p>8.抽象类中可以不包含抽象方法，但包含抽象方法的类，一定是抽象类</p><p>父类</p><p>9.可以定义成员变量</p><p>10.抽象类也可以有构造方法，用于子类创建对象时，初始化父类变量</p><ol start="11"><li></li></ol><p>父类一般会定义为抽象类</p><p>public abstract class People {</p><p>  public abstract void printName(); &#x2F;&#x2F;抽象方法不能有身体（大括号），以分号结尾</p><p>}</p><p>子类</p><p>public class Student extends People {</p><p>  private String name;</p><p>  public Student(String name) {</p><p>​    this.name &#x3D; name;</p><p>  }</p><p>  public void printName() {</p><p>​    System.out.println(“name &#x3D; “+name);</p><p>  }</p><p>测试类</p><p>public class TestClass1 {</p><p>  public static void main(String[] args) {</p><p>​    People people &#x3D; new Student(“baiyulong”); &#x2F;&#x2F;给父类对象赋值一个子类实例</p><p>​    people.printName();</p><p>  }</p><p>} </p><p>抽象方法</p><p>1.用abstract修饰</p><p>2.没有任何执行语句</p><p>3.含抽象方法的类也必须声明为抽象类，也是用abstract修饰</p><p>面向抽象编程</p><p>1.上层代码值定义了规范</p><p>2.父类只负责调用子类</p><p>3.功能由子类实现</p><p>成员变量重名</p><p>子类父类变量重名，子类会使用自身的变量</p><p>super 和this关键字</p><p>this.变量  子类变量</p><p>super.变量  父类变量</p><p>方法使用方法相同</p><p>方法重名</p><p>重写后如果需要父类原方法的代码，直接在子类方法中用super调用即可</p><p>super() 调用父类中的构造方法</p><p>第十天</p><p>接口</p><p>接口可以定义的内容：</p><p>1.常量（一般不需要定义）</p><p>接口中的常量默认是由 public static final  修饰的，因此其值一旦定义不可改变</p><p>完整定义 ：public static final 变量类型 变量名 &#x3D; 值</p><p>​         public static final 常量类型 常量名 &#x3D; 值</p><p>2.方法(从jdk8开始才可以定义默认方法和静态方法)</p><p>静态方法和默认方法一般用于框架设计，平常写程序用不到，尽量不写</p><p>抽象方法 public abstract</p><p>默认方法  public default</p><p>静态方法  public static</p><p>类中如何使用接口中的内容：</p><p>1.常量和变量  会被其实现类所 继承  通过对象名可以引用</p><p>\2.  类中必须重写接口和接口父类中的所有抽象方法</p><p>   类要实现的俩个接口中有方法名一样的抽象方法，只需要重写一个</p><p>​     </p><p>   调用接口的默认方法 ：直接用对象名调用即可，可以继承也可以重写</p><p>   类要实现的俩个接口中有方法名一样的默认方法，则必须重写该默认方法</p><p>  调用接口中的静态方法 ：只能使用接口名调用，不能被重写</p><p>接口的定义：</p><p>1.接口定义的抽象方法默认修饰词是 public abstract,因此在接口中定义抽象方法时，public abstract 可以省略</p><p>2.语法 public interfance 接口名{</p><p>​    抽象方法语法： 返回值类型 方法名；</p><p>}</p><p>3.类实现接口，需要使用implements关键字</p><p>语法：</p><p>public class 类名 implements 接口1，接口n{</p><p>}</p><p>4.除了可以定义抽象方法外，还可以定义default方法，defaule方法有身体</p><p>语法：</p><p>default 返回值类型 方法名（）{</p><p>}</p><p>继承接口的类不用必须覆写defaule方法就可以实现接口</p><p>default方法可直接被继承类调用</p><p>5.一个接口也可以继承另一个接口</p><p>语法：public interface 接口名 extends 接口名{</p><p>}</p><p>静态字段和方法</p><p>静态字段：</p><p>1.用static修饰的字段</p><p>2.不同对象所使用的普通字段都有自己独自的存储空间，而静态字段只有一个共享空间，所以对象都共享这段空间</p><p>3.实例中并没静态字段，静态字段是用来描述类本身的，在调用静态字段时，推荐需要用 类名.静态字段名</p><p>4.静态变量称为类变量,全部对象共享一个静态变量</p><p>一般是多个对象具有相同的属性值，那么这个属性就可以设置为静态变量，让多个对象共享这个变量，只占用一个内存，节省内存空间</p><p>5.堆内存中存放的是静态变量的静态标记，而静态变量的值存放在方法区中与其所属类放在一起</p><p>6.既可以使用对象调用，也可以用类名调用，但一般用类名调用</p><p>静态方法：</p><p>1.用Static修饰的方法</p><p>2.调用静态方法可以通过对象，但最好用类名直接调用</p><p>类名.静态方法名（）</p><p>3.静态方法只能使用静态变量（用Static修饰的变量），不能使用实例变量（没有用static 修饰的变量）</p><p>4.静态方法中只能调用静态方法</p><p>5.静态方法常用于工具类,辅助方法</p><p>例如：Arrays.sort()</p><p>​      Math.random()</p><p>​      </p><p>静态代码块</p><p>类中，方法外，与变量一个级别</p><p>随着类的加载而执行且只执行一次，优先于构造方法执行，在类的第一次加载的时候执行一次</p><p>static{</p><p>   执行语句</p><p>}</p><p>​      </p><p>包</p><p>定义：package 包名</p><p>1.为了解决类名冲突</p><p>2.完整类名：包名.类名</p><p>只有包名不同，类就不同</p><p>3.class文件中显示的都是完整类名</p><p>包作用域：不用public,private,protected,修饰的字段和方法</p><p>import</p><p>导入类</p><p>语法 ：import 完整类名</p><p>import java.util.*  导入包下的所有类</p><p>引用其他类时有俩种方法</p><p>1.直接用完整类名</p><p>2.可以先用import导入</p><p>定义类名时：</p><p>不与java.long下的类重名 例如：String,System,runtime</p><p>也不与jdk常用类重名  例如：list,format,BigInteger</p><p>作用域</p><p>访问权限：在一个类的内部能否访问另一个类的字段和方法</p><p>有四种：public protected private package</p><p>public修饰的：可以被其他类访问,但得通过创建对象访问</p><p>private修饰的：只能在类内部使用</p><p>内部类：定义在一个类的内部，用private修饰</p><p>protected用于继承类：用protected修饰的字段和方法可以被子类使用</p><p>package修饰的</p><p>包作用域：指一个类可以访问同一个包下的不用public,private修饰的类，和不用public private protected 修饰的字段和方法</p><p>局部变量：方法内的定义的变量</p><p>1.方法中传入的变量：从方法传入开始到方法结束</p><p>2.方法开头定义的变量：从定义处开始到方法结束</p><p>3.循环和判断语句中定义的变量：从定义处开始到循环和判断结束</p><p>一个.java文件只能包含一个public class ,但可以包含多个非public class</p><p>clssspath 和jar</p><p>classpath是一个环境变量，提供搜索路径让jvm去搜索class，classpath设置的搜索路径与操作系统有关</p><p>windows上类路径的间隔用; 而mac上类路径之间的间隔用：</p><p>如果classpath中有空格，就必须用双引号括起</p><p>jar</p><p>是一种压缩文件，包含若干.class文件，也相当于一个目录</p><p>使用jar包是为了减少大量的目录</p><p>创建jar包</p><p>使用jdk提供的jar命令</p><p>使用构建工具Maven</p><p>jvm在运行时会自动加载jdk自带的class文件，因此有些文件不需要设置环境变量</p><p>编码</p><p>计算机只能表示数字，因此要表示字符，要把字符转换为数字</p><p>每个国家都有自己的编码方式，把国语编码为数字，因此各个国家之间会有冲突</p><p>Unicode全球统一编码 </p><p>一个Unicode字符占用俩个字节，而一个英文通常只需要一个字节，因此当程序中英文过多时会浪费空间</p><p>UTF-8 加长编码</p><p>英文编码与ASCII编码相同，占用一个字节，其他字符需要2-6个字节不等</p><p>字符串和数组进行转换时，优先使用UTF-8编码</p><p>StringBuilder类 不需要导入</p><p>append() insert() 按索引插入 toString() 返回一个String变量</p><p>高效拼接字符串</p><p>先创建一个对象</p><p>StringBuilder sb &#x3D; new StringBuilder(1024)</p><p>链式操作</p><p>StringBuilder sb &#x3D; new StringBuilder(1024);</p><p>​    String s &#x3D; sb.append(“bai”)</p><p>​        .append(“yu”)</p><p>​        .insert(3,”name”)</p><p>​        .toString();</p><p>​    System.out.println(sb);</p><p>​    System.out.println(s);</p><p>StringBuffer是StringBuilder的线程安全版本，很少使用    </p><p>第十一天</p><p>枚举类</p><p>定义常量</p><p>完整写法</p><p>public static final 常量类型 常量名 &#x3D; 值</p><p>enum</p><p>通过enum关键字定义常量类型(枚举类),enum关键字其实定义的是class,继承自java.lang.Enum,</p><p>但是enum定义的类不能通过new创建实例,每一个常量都是一个实例，属于引用类型</p><p>public enum 常量类型 {</p><p>​     常量1，常量n;</p><p>}</p><p>常用工具类</p><p>Math类</p><p>abs() 求绝对值 &#x2F; max() &#x2F; min()</p><p>提供了俩个常量：PI &#x3D; 3.14259…..  E &#x3D; 2.71828</p><p>第十二天</p><p>类和接口的关系：类实现接口</p><p>类与类的关系：继承</p><p>接口与接口的关系：继承</p><p>接口也可以继承接口，还可以继承多个接口</p><p>如果继承的接口中有相同的默认方法，需要重写</p><p>多态</p><p>同一种行为，不同的表现形式</p><p>实现多态的前提：</p><p>1.继承或实现</p><p>2.方法重写（如果没有方法重写，多态没有任何意义）</p><p>3.父类对象指向了子类实例</p><p>子类对象既是子类类型也是父类类型</p><p>java实际方法的调用是基于运行时实际类型的动态调用 ，这种动态调用就叫多态</p><p>对象运行的方法取决于运行时实际类型的方法</p><p>好处：允许添加更多功能的子类来实现功能扩展</p><p>如果给父类类型的对象赋值一个子类类型的实例，那么父类类型的对象就可以执行子类中的方法</p><p>引用类型转换：</p><p>向上转型：父类类型指向子类实例，是安全的</p><p>向下转型：子类类型指向父类实例，是强制的，进行转化时，可以先进行判断是否是同一种类型</p><p>父类对象可以调用子类覆写父类的方法，如果要调用子类特有的方法，需要向下转型</p><p>向上转型</p><p>把一个子类型的实例安全的转化为更抽象的父类型的实例</p><p>People people3 &#x3D; student2;  &#x2F;&#x2F;把一个子类型的对象赋值给父类的对象</p><p>instanceof可以判断对象的类型，对象属于哪个类</p><p>对象名 instanceof 类名</p><p>子类中的对象既属于子类，也输入父类</p><p>System.out.println(student2 instanceof People);</p><p>System.out.println(student2 instanceof Student);</p><p>向下转型</p><p>需要强制转型 在要转型的对象前加要转的类名</p><p>直接可能会报错</p><p>Student student3 &#x3D; (Student)people2;</p><p>可以先用instanceof判断对象的类型</p><p>if (people1 instanceof Student) {</p><p>​      Student student4 &#x3D; (Student)people1;</p><p>​      </p><p>​    }</p><p>第十三天</p><p>修饰符的访问权限</p><p>public 同一类，同一包，不同包的子类，不同包的无关类</p><p>protected 同一类，同一包，不同包的子类</p><p>default 同一类，同一包</p><p>只有在接口中才能使用default修饰方法</p><p>在类中，不加修饰词的方法就是默认方法</p><p>private  同一类</p><p>**成员变量一般用private修饰</p><p>**构造方法和成员方法一般用public 修饰</p><p>内部类和匿名内部类在编译时都会生成.class文件</p><p>内部类（实际开发中几户不用）</p><p>类中类</p><p>class 外部类{</p><p>   class 内部类{</p><p>   }</p><p>}</p><p>内部类可以直接访问外部类的成员，包括私有成员</p><p>外部类要访问内部类的成员，必须通过内部类的对象访问</p><p>内部类对象的创建：</p><p>外部类名.内部类名 对象名&#x3D; new 外部类().new 内部类()</p><p>外部类名.内部类名 对象名&#x3D; 外部对象.new 内部类()</p><p>Waiclass.Neiclass nei &#x3D; wai.new Neiclass();</p><p>Waiclass.Neiclass nei1 &#x3D; new Waiclass().new Neiclass();</p><p>匿名内部类</p><p>接口中的抽象方法仅调用一次，可以用匿名内部类</p><p>不新建实现类可以直接实现接口中的抽象方法</p><p>内部类的简写</p><p>前提：</p><p>1.存在一个类或接口</p><p>匿名内部类调用方法：</p><p>1.相当于创建一个实现类的对象</p><p>父类名或接口名 对象名 &#x3D; new 父类名或接口名（）{</p><p>​    方法重写</p><p>}；</p><p>对象名.方法名（）</p><ol start="2"><li></li></ol><p>new 父类名或接口名（）{</p><p>​    方法重写</p><p>}.方法名（）；</p><p>lambda</p><p>jdk8中出现的新语法</p><p>对匿名内部类的简化</p><p>第十四天</p><p>API</p><p>Java API是一本程序员的 字典 ，是JDK中提供给我们使用的类的说明文档</p><p>API帮助文档：</p><p>**API学习步骤：</p><p>1.打开帮助文档</p><p>2.搜索框可以进行搜索需要的类和接口</p><p>3.java.lang下的类不需要导包</p><p>4.看类的解释和语法</p><p>5.学习构造方法</p><p>6.学习成员方法</p><p>java的输入</p><p>Scanner 键盘输入</p><p>1.将java中的库类输入到程序中：import 类所在路径</p><p>例：import java.util.Scanner;(放在首行)</p><p>2.创建键盘录入：Scanner scanner&#x3D;new Scanner(System.in);  使用构造方法创建对象，使用的是有参数的构造方法需要传入参数System.in</p><p>3.接收键盘录入数据：double 变量名&#x3D;scanner.nextDouble(); 浮点数接收</p><p>​                int 变量名&#x3D;scanner.nextInt();   整数接收</p><p>​                String 变量名&#x3D;scanner.nextLine()  字符串接收  String str &#x3D; scanner.next()</p><p>​                boolean 变量名 &#x3D; scanner.nextBoolean();</p><p>​             </p><p>Random 类</p><p>生成伪随机数</p><p>1.导入Random类</p><p>import java.util.Random;</p><p>2.创建Random实例 </p><p>Random r &#x3D; new Random(seed种子);  可以给定一个种子，如果不给定种子系统会使用当前的时间戳作为种子</p><p>3.通过实例调用方法</p><p>​    random()              生成（0,1）之间的一个伪随机数</p><p>​    int i &#x3D; 对象名.nextInt();   生成整数范围内的随机数</p><p>​    int ii &#x3D; 对象名.nextInt(n))  生成一个[0,n)的随机整数</p><p>​    random.nextInt(n) + 1;   生成一个[1,n]的随机整数</p><p>​    double d &#x3D; 对象名.nextDouble()); </p><p>​    boolean b &#x3D; 对象名.nextBoolean();</p><p>​    </p><p>​    </p><p>SecureRandom类</p><p>生成安全的随机数</p><p>1.导入类</p><p>import java.security.SecureRandom;</p><p>2.创建对象</p><p>SecureRandom sr &#x3D; new SecureRandom();</p><p>3.使用方法</p><p>System.out.println(sr.nextInt(n));</p><p>String  </p><p>被final修饰的类</p><p>常用构造方法：</p><p>1.public String();</p><p>2.public String(char[] value);</p><p>3.public String(byte[] bytes);  将字节数组中的整数用ASKII表转换为字符写入字符串中</p><p>4.public String(byte[] bytes, int offset, int length) 将字节数组中从指定索引开始到指定长度的字节转换为字符串</p><p>String Str &#x3D; “sss” 最常用</p><p>**俩种创建字符串对象的存储方式不同</p><p>1.String Str &#x3D; “sss” 如果字符串的值相同，字符串是指向同一个地址值的</p><p>2.通过构造方法创建的对象，每一个对象对应一个地址值</p><p>常用方法</p><p>*****使用String方法后都会生成一个新的字符串</p><p>判断功能的方法：</p><p>1.equals()</p><p>2.equalsIgnoreCase() 忽略大小写</p><p>字符串的比较：&#x3D;&#x3D;和equals的不同</p><p>1.&#x3D;&#x3D;比较基本数据类型，比较的是具体的值</p><p>  &#x3D;&#x3D;比较引用数据类型，比较的是对象地址值</p><p>2.equals() 比较String类型，比较的是对象的内容是否相同  </p><p>获取功能的方法：在帮助文档中找一遍</p><p>1.length 返回字符串长度</p><p>2.concat（）连接俩字符串</p><p>3.charAt(索引) 返回索引处的char值</p><p>  char(s.length-1) 返回最后一个char值</p><p>4.indexOf(String) 返回字符串第一次出现的索引位置，如果没有返回-1</p><p>5.subString(int) 从指定位置开始到末尾返回一个子串</p><p>  subString(int m,int n) 返回从m开始到n-1结束的子串</p><p>转换功能的方法</p><p>1.toCharArray() 将字符串放到字符数组中</p><p>2.getBytes() 将字符串中的字符用AskIIS码转换为字节整数，放到字节数组中</p><p>3.replace()</p><p>replace(char,char) 将字符串中的一个字符转换为另一个字符</p><p>replace(String,String)  将字符串中的子串转换为另一个子串</p><p>分割功能的方法：</p><p>1.split() 将字符串按照给定的规则（字符中的）切割成字符串数组</p><p>String str4 &#x3D; “h,e,l,l,o,w,o,r,l,d”;</p><p>String[] strings &#x3D; str4.split(“,”);</p><p>1.contains() 方法 查看一个字符串中是否包含另一个字符串</p><p>语法：字符串.contains(字符串)</p><p>\2. indexOf（）返回子串的索引位置 从前向后找</p><p>  lastIndexOf() 从后往前找</p><p>3.startsWith() 查看字符串是否由某个字符串开始</p><p>  endsWith()  查看字符串是否由某个字符串结束 </p><p>4.trim（） 移除首尾空白字符（空格 \t \n \r） 返回一个新字符串 trim 修整</p><p>5.substring() 提取一个子串</p><p>substring(n) 从下标为n开始提取</p><p>substring(n,m)  提取n 到m-1的串</p><p>6.toUpperCase() 将字符串全部转换为大写</p><p> toLowerCase() 将字符串全部转换为小写</p><p>8.String join() 拼接字符串</p><p>语法：String.join(“”,可迭代对象或者多个单字符串)</p><p>第一个双引号中放的是字符串之间的间隔符</p><p>9.String.valueOf() 将任何类型转换为字符串</p><p>instanceof 关键字 判断变量类型是否是字符串类型</p><p>语法：要判断的变量 instanceof String</p><p>stem.out.println(String.valueOf(123) instanceof String);</p><p>10.Integer.parseInt(String)  将字符串转换为整型 parse 解析</p><p>字符串拼接：</p><p>对字符串进行拼接操作，每次拼接，都会构建一个新的String对象，既耗时，又浪费空</p><p>Object</p><p>java.lang.Object 类是Java语言中的根类，每个类都使用 Object 作为超类。所有对象（包括数组）都实现这个 类的方法。</p><p>如果一个类没有特别指定父类， 那么默认则继承自Object类</p><p>有native修饰的方法是本地方法，一般是由c++语言编写的</p><p>此方法中只有一个静态代码块，静态代码块中调用此方法</p><p>因此此方法一被调用静态代码块就会执行，调用此方法，这样就实现了java调用C的操作</p><p>private static native void registerNatives();</p><p>  static {</p><p>​    registerNatives();</p><p>  }</p><p>Object中的常用方法：</p><p>1.toString</p><p>直接打印对象名默认会调用Object类中的toString方法，得到的是完整类名和对象在内存中的16进制地址</p><p>Object类中的toString方法： public String toString() {</p><p>​                             return getClass().getName() + “@” + Integer.toHexString(hashCode());</p><p>}</p><p>People people &#x3D; new People();</p><p>​    System.out.println(people);</p><p>相当于 System.out.println(people.toString());</p><p>重写toString方法：打印类的成员信息，返回一个字符串</p><p>public String toString() {</p><p>​    return “People{“+”name &#x3D; “+name+’,’+”age &#x3D; “+age+’}’;</p><p>  }</p><p>重写toString方法后打印对象名会调用新的toString方法</p><p>2.equals()</p><p>内部是用&#x3D;&#x3D;做比较的，比较是是俩个对象的地址</p><p>源码：public boolean equals(Object obj) {</p><p>​             return (this &#x3D;&#x3D; obj);</p><p>​    }</p><p>如果要比较俩个对象的内容，需要重写equal()方法</p><p>public boolean equals(Object o) {</p><p>​    if (this &#x3D;&#x3D; o) return true;</p><p>​    if (o &#x3D;&#x3D; null || getClass() !&#x3D; o.getClass()) return false;</p><p>​    People people &#x3D; (People) o;</p><p>​    return age &#x3D;&#x3D; people.age &amp;&amp;</p><p>​        Objects.equals(name, people.name);</p><p>  }</p><p>Date</p><p>java.util.Date 类 表示特定的瞬间，精确到毫秒。1000毫秒等于1秒</p><p>构造方法</p><p>1.public Date()</p><p>Date date &#x3D; new Date();</p><p>​    System.out.println(“date &#x3D; “ + date); &#x2F;&#x2F;对toString方法进行了重写</p><p>​    结果：date &#x3D; Sun Jul 05 16:51:03 CST 2020</p><p>2.public Date(long date)</p><p>Date date1 &#x3D; new Date(0);</p><p>​    System.out.println(“date1 &#x3D; “ + date1); &#x2F;&#x2F;打印的是计算机的起始时间</p><p>​    结果：date1 &#x3D; Thu Jan 01 08:00:00 CST 1970</p><p>常用方法：</p><p>1.public long getTime() 把时间日期转换成对应的时间毫秒值。</p><p>long L &#x3D; date.getTime();</p><p>​    System.out.println(“L &#x3D; “ + L);</p><p>​    结果：L &#x3D; 1593939881012</p><p>2.public void setTime(long time) 把方法参数给定的毫秒值转换成时间日期</p><p>date1.setTime(1593939697455L);</p><p>​    System.out.println(“date1 &#x3D; “ + date1);</p><p>​    结果：date1 &#x3D; Sun Jul 05 17:01:37 CST 2020</p><p>DateFormat 抽象类</p><p>对日期进行格式化，转化中国的日期表现形式</p><p>需要通过其子类SimpleDateFormat中的构造方法来创建实例  运用了多态</p><p>public class SimpleDateFormat extends DateFormat{}</p><p>构造方法：</p><p>public SimpleDateFormat(String pattern)  pattern:日期的格式</p><p>标识字母（区分大小写） 含义</p><p>y   年</p><p>M  月</p><p>d  日</p><p>H  时</p><p>m  分</p><p>s  秒</p><p>常用方法：</p><p>1.String format(Date date)  传 入日期对象，返回格式化后的字符串。</p><p>Date date &#x3D; new Date();</p><p>​    DateFormat dateFormat &#x3D; new SimpleDateFormat(“yyyy-MM-dd HH:mm:ss”); &#x2F;&#x2F;传入日期的显示格式</p><p>​    String s &#x3D; dateFormat.format(date); &#x2F;&#x2F;传入的是日期对象，返回的是字符串</p><p>​    System.out.println(“s &#x3D; “ + s);  结果：s &#x3D; 2020-07-05 18:06:11</p><p>2.Date parse(String str）   传入字符串，返回日期对象。</p><p>使用解析方法时，需要声明可能出现的解析错误</p><p>public static void main(String[] args) throws ParseException {  &#x2F;&#x2F;声明可能出现的解析错误</p><p>​    DateFormat dateFormat1 &#x3D; new SimpleDateFormat(“yyyy-MM-dd HH:mm:ss”); &#x2F;&#x2F;此处个日期格式要与parse()方法中传入的格式相同，否则会出翔解析错误</p><p>​    Date date1 &#x3D; dateFormat1.parse(“2020-07-05 18:01:06”);</p><p>​    System.out.println(“date1 &#x3D; “ + date1);     结果：date1 &#x3D; Sun Jul 05 18:01:06 CST 2020    </p><p>  }</p><p>Calendar日历类</p><p>作用： java.util.Calendar 是日历类，在Date后出现，替换掉了许多Date的方法。该类将所有可能用到的时间信息封装 为静态成员变量，方便获取。日历类就是方便获取各个时间属性的。</p><p>成员变量皆为静态成员变量，可以通过类名进行调用</p><p>通过调用getInstance()创建Calendar对象  &#x2F;&#x2F;getInstance()方法中调用其创建对象</p><p>public static Calendar getInstance()；&#x2F;&#x2F;getInstance()是静态方法</p><p>Calendar calendar &#x3D; Calendar.getInstance();</p><p>常用的方法：</p><p>1.public int get(int field) ：返回给定日历字段的值</p><p>int year &#x3D; calendar.get(Calendar.YEAR);</p><p>​    System.out.println(“year &#x3D; “ + year);</p><p>​    int i &#x3D; calendar.get(Calendar.MONTH ) + 1;&#x2F;&#x2F;打印月份是从0开始的，需要进行加1打印真实月份</p><p>​    System.out.println(“i &#x3D; “ + i);</p><p>​    int i1 &#x3D; calendar.get(Calendar.DAY_OF_MONTH);</p><p>​    System.out.println(“i1 &#x3D; “ + i1);</p><p>​    int i2 &#x3D; calendar.get(Calendar.DAY_OF_WEEK ) - 1;&#x2F;&#x2F;从周日开始，可以-1使用，打印出星期几</p><p>​    System.out.println(“i2 &#x3D; “ + i2);</p><p>2.public void set(int field, int value) ：将给定的日历字段更改为特定的值。</p><p>calendar.set(Calendar.YEAR,2021);  &#x2F;&#x2F;给一个字段设置值，无返回值</p><p>​    int i3 &#x3D; calendar.get(Calendar.YEAR);</p><p>​    System.out.println(“i3 &#x3D; “ + i3);</p><p>​    </p><p>   ***  calendar.set(2010,2,1); &#x2F;&#x2F;0代表1月，1代表2月，以此类推  依次设置年月日</p><p>​    </p><p>3.public abstract void add(int field, int amount) ：根据日历的规则，为给定的日历字段添加或减去指定的时间量。</p><p>calendar.add(Calendar.MONTH,1);  &#x2F;&#x2F;给月加1</p><p>​    int i4 &#x3D; calendar.get(Calendar.MONTH);</p><p>​    System.out.println(“i4 &#x3D; “ + i4);</p><p>​    calendar.add(Calendar.MONTH,-1); &#x2F;&#x2F;给月减一</p><p>​    int i5 &#x3D; calendar.get(Calendar.MONTH);</p><p>​    System.out.println(“i5 &#x3D; “ + i5);</p><p>4.public Date getTime() ：返回一个表示此Calendar时间值（从历元到现在的毫秒偏移量）的Date对象</p><p>Date date &#x3D; calendar.getTime();</p><p>​    System.out.println(“date &#x3D; “ + date);</p><p>Calendar类中提供很多静态成员，直接类名调用，代表给定的日历字段：</p><p>字段值            含义</p><p>YEAR            年</p><p>MONTH          月（从0开始，可以+1使用）</p><p>DAY_OF_MONTH   月中的天（几号）</p><p>HOUR           时（12小时制）</p><p>HOUR_OF_DAY    时（24小时制）</p><p>MINUTE         分</p><p>SECOND         秒</p><p>DAY_OF_WEEK    周中的天（周几，周日为1，可以-1使用）</p><p>基本类型包装类</p><p>包装类中默认值都为Null</p><p>像对象一样操作基本类型</p><p>基本类型  对应的包装类（位于java.lang包中）</p><p>byte     Byte</p><p>short    Short</p><p>**int      Integer </p><p>long     Long</p><p>foat     Float</p><p>double  Double</p><p>**char    Character</p><p>boolean  Boolean</p><p>Integer(int 包装类)</p><p>*****Integer对象在使用时与Int类型使用一样，其中包含了自动装箱和自动拆箱</p><p>包装一个对象中的原始类型 int 的值</p><p>构造方法：</p><p>前二个是根据构造方法创建对象，已过时</p><p>1.public Integer(int  value) 根据 int 值创建 Integer 对象(过时)</p><p>Integer integer &#x3D; new Integer(100);</p><p>2.public Integer(String s) 根据 String 值创建 Integer 对象(过时)</p><p>Integer integer1 &#x3D; new Integer(“100”);</p><p>3,4是调用类中的静态方法创建对象</p><p>3.public static Integer valueOf(int i) 返回表示指定的 int 值的 Integer  实例</p><p>Integer integer2 &#x3D; Integer.valueOf(100);</p><p>4.public static Integer valueOf(String s) 返回一个保存指定值的 Integer 对象 String</p><p>Integer integer3 &#x3D; Integer.valueOf(“100”);</p><p>*****5.直接给对象赋值，最常用</p><p>Integer integer4 &#x3D; 100;</p><p>常用默认方法：</p><p>1.parseInt(String s)   将字符串参数解析为带符号的十进制整数。  </p><p>  parseUnsignedInt(String s)  将字符串参数解析为无符号十进制整数。</p><p>装箱与拆箱</p><p>装箱：从基本类型转换为对应的包装类对象。</p><p>​    Integer integer &#x3D; Integer.valueOf(4); &#x2F;&#x2F;将int类型装箱到Integer对象中</p><p>****    Integer integer1 &#x3D; 5;         &#x2F;&#x2F;将int类型自动装箱到Integer对象中</p><p>拆箱：从包装类对象转换为对应的基本类型。</p><p>int i &#x3D; integer.intValue();  &#x2F;&#x2F;integer是Integer对象</p><p>自动装箱与自动拆箱</p><p>Integer integer2 &#x3D; 6;  自动装箱。相当于Integer i &#x3D; Integer.valueOf(6);</p><p>******integer2 &#x3D; integer2 + 1;  等号右边：将integer2对象转成基本数值(自动拆箱) i.intValue() + 5; &#x2F;&#x2F;加法运算完成后，再次装箱，把基本数值转成对象。</p><p>StringBuilder</p><p>java.lang.StringBuilder</p><p>是个字符串的缓冲区，即它是一个容器，容器中可以装很多字符串。并且能够对其中的字符串进行各种操作。</p><p>它的内部拥有一个数组用来存放字符串内容，进行字符串拼接时，直接在数组中加入新内容</p><p>构造方法：</p><p>1.public StringBuilder() ：构造一个空的StringBuilder可变字符串容器</p><p>2.public StringBuilder(String str)</p><p>常用方法</p><p>1.public StringBuilder append(…) ：添加任意类型数据的字符串形式，将返回值赋给当前对象自身。</p><p>例： builder.append(“ssss”).append(“aaaaaa”);</p><p>2.public StringBuilder reverse() ：返回反转的字符序列</p><p>3.public String toString() ：将当前StringBuilder对象转换为String对象。</p><p>System</p><p>java.lang.System</p><p>System类包含几个有用的类字段和方法,它不能被实例化,直接用类名调用</p><p>常用方法：</p><p>1.public static void exit(int status)  终止当前运行的 Java 虚拟机，非零表示异常终止</p><p>2.public static long currentTimeMillis()  返回当前时间(以毫秒为单位)</p><p>3.public static void arrayCopy(Object src, int srcPos, Object dest, int destPos, int length)    从指定源数组中复制元素到另一个数组</p><p>​                       （源数组，源数组索引，目的数组，索引，复制的元素个数）</p><p>4.public static void gc()  JVM将从堆内存中清理对象，清理对象的同时会调用对象的finalize()方法</p><p>Arrays类</p><p>所有 方法均为静态方法</p><p>常用方法：</p><p>1.public static void sort(int[] a) 对指定的int数组进行升序排列</p><p>2.public static int binarySearch(int[] a,int key) 对数组进行二分查找法</p><p>如果数组中有此元素，则返回此元素的索引，找不到元素返回(-插入点)-1 </p><p>***在使用此方法前，必须对数组进行排序 </p><p>3.public static String toString(int[] a) 将数组以字符串形式输出，可以实现快速打印数组中的元素</p><p>Math类</p><p>所有 方法均为静态方法</p><p>1.public static int  abs(int a) 返回参数的绝对值</p><p>2.public static double ceil(double a) 向上取整，返回大于或等于参数的小double值，等于一个整数</p><p>3.public static double ?oor(double a) 向下取整，返回小于或等于参数的大double值，等于一个整数</p><p>4.public  static int round(?oat a) 按照四舍五入返回接近参数的int</p><p>第十五天</p><p>集合</p><p>对象数组：存储了引用数据类型的数组称为对象数组</p><p>数组的弊端</p><p>1.数组长度是固定的，一旦创建不可修改。</p><p>2.需要添加元素，只能创建新的数组，将原数组中的元素进行复制。</p><p>Collection接口（单列集合）</p><p>集合：集合是java中提供的一种容器，可以用来存储多个数据。</p><p>集合和数组的不同：</p><p>1.数组的长度是固定的。集合的长度是可变的。</p><p>2.数组中存储的是同一类型的元素，可以存储任意类型数据。</p><p>集合存储的都是引用数据类型，如果想存储基本类型数据需要存储对应的包装类型。</p><p>接口类的继承体系</p><p>Collection（结合类顶层接口）（单列集合）:</p><p>​                      list（接口）可以存储重复的数据:  ArrayList（实现类）</p><p>​                                                LinkedList（实现类）</p><p>​                      set（接口）不能存储重复的数据：HashSet:</p><p>​                                                      LinkedHashSet</p><p>​                                          </p><p>Map接口（双列集合）:  HashMap:</p><p>​             LinkedHashMap             </p><p>​         ConcurrentHashMap:</p><p>​         </p><p>Collection中的常用方法（子接口和子接口的继承类都可以的使用的方法）：</p><p>方法返回值要留意</p><p>public boolean add(E e)：把给定的对象添加到当前集合中</p><p>boolean boo &#x3D; collection.add(“aa”);</p><p>public boolean addAll(Collection&lt;? extends E&gt;)将另一个集合元素添加到当前集合中</p><p>boolean b &#x3D; collection1.addAll(collection); 把集合collection中的元素全部添加到集合collection1中</p><p>public void clear() :清空集合中所有的元素</p><p>collection.clear(); 无返回值</p><p>public boolean remove(E e): 把给定的对象在当前集合中删除</p><p>boolean aa &#x3D; collection.remove(“aa”);</p><p>public boolean contains(Object obj): 判断当前集合中是否包含给定的对象</p><p>boolean boo1 &#x3D; collection.contains(“aaa”);</p><p>public boolean isEmpty(): 判断当前集合是否为空</p><p>boolean boo2 &#x3D; collection.isEmpty();</p><p>public int size(): 返回集合中元素的个数</p><p>int a &#x3D; collection.size();</p><p>public Object[] toArray(): 把集合中的元素，存储到数组中</p><p>Object[] s &#x3D; collection.toArray();</p><p>集合的遍历：</p><p>1.迭代器</p><p>Iterator接口 （collection接口的父类）</p><p>并发修改异常</p><p>在使用迭代器遍历集合中，不能改变集合的长度，一旦改变就会抛出异常</p><p>获取迭代器的方法：使用接口对象调用iterator()方法</p><p>public Iterator iterator(): 获取集合对应的迭代器，用来遍历集合中的元素的。</p><p>Collection<String> collection &#x3D; new ArrayList<String>();</p><p>​    collection.add(“add”);</p><p>​    collection.add(“aaa”);</p><p>​    Iterator<String> iterator &#x3D; collection.iterator();  </p><p>​    while (iterator.hasNext()) {                 &#x2F;&#x2F;迭代器的hasNext()方法从o索引开始判断集合中是否有元素，按照索引依次判断</p><p>​      String next &#x3D; iterator.next();              &#x2F;&#x2F;next()按照索引依次输出集合中的元素</p><p>​      System.out.println(next);</p><p>​    }</p><p>2.for循环</p><p>*****3.增强for循环：用于数组的遍历和集合的遍历</p><p>底层是迭代器，因此也不能进行增删操作</p><p>数组遍历</p><p>for (元素类型 元素名（创建变量接收数组合集合中元素）：集合名和数组名) {</p><p>​    System.out.println(元素名)；     </p><p>}</p><p>for (String s: collection) {</p><p>​      System.out.println(“s &#x3D; “ + s);  &#x2F;&#x2F;底层运用了迭代器遍历</p><p>​    }</p><p>​    </p><p>数据结构：</p><p>1.栈：入口和出口都在栈顶，先进后出，从栈顶开始存储数据，依次往下压，最开始的在最下面，仅允许在标的一端进行插入和删除操作</p><p>压栈：就是存元素</p><p>弹栈：就是取元素</p><p>2.队列：入口-出口分别在俩端，先进先出，仅允许在表的一端进行插入，而在表的另一端进行删除</p><p>3.数组（Arraylist接口实现类运用的数据结构）：</p><p>增加元素和删除元素比较麻烦，查询元素比较快，可根据索引快速查询</p><p>​           </p><p>4.链表（LinkedList）：</p><p>把多个节点链接</p><p>节点：有数据域和指针域组成</p><p>有单向链表和双向链表</p><p>增加和删除元素比较方便</p><p>List集合</p><p>特点：</p><p>1.是有序的集合，存储和取出的顺序一致</p><p>2.允许存放重复的元素</p><p>3.每个元素都具有索引</p><p>特有方法</p><p>1.public void add(int index,E element)在列表的指定位置上插入元素</p><p>list.add(1,”ccc”); 无返回值</p><p>2.public E get(int index)返回列表中指定位置的元素。</p><p>String s &#x3D; list.get(1); 返回获取到的元素</p><p>3.public E set(int index,E element)用指定元素替换列表中指定位置的元素，并返回替换前的元素。</p><p>*****String aaa &#x3D; list.set(0, “dddd”); 返回更改前的元素</p><p>4.public E remove(int index)移除列表中指定位置的元素，并返回被移除之前的元素。</p><p>String remove &#x3D; list.remove(1);  返回移除的元素</p><p>5.public E remove(E element) 删除某个指定元素</p><p>6toArray() 返回一个Object类型的数组，将集合装换为数组</p><p> toArray()</p><p>LinkedList</p><p>特有的方法：</p><p>对第一个元素和最后一个元素进行操作</p><p>1.public void addFirst(E e):将指定元素插入此列表的开头。</p><p>2.public void addLast(E e):将指定元素添加到此列表的结尾。</p><p>3.public E getFirst():返回此列表的第一个元素。</p><p>3.public E getLast():返回此列表的最后一个元素。</p><p>4.public E removeFirst():移除并返回此列表的第一个元素。</p><p>5.public E removeLast():移除并返回此列表的最后一个元素</p><p>set接口下的集合：</p><p>不能存储重复元素</p><p>遍历：迭代器和增强for循环</p><p>***HashSet集合：</p><p>1.HashSet底层数据结构是单向哈希表</p><p>2.元素添加顺序和元素存储顺序不同（与底层存储结构有关）</p><p>****3.此集合不允许存储重复元素，因此需要重写存储对象类中的hashCode和equals方法</p><p>String类中重写了hashCode和equals方法，因此存入String类型时，可以不用重写hashCode和equals方法</p><p>存储自定义类型时，需要重写hashCode和equals方法，才能保证集合中不存储重复元素</p><p>判断俩个对象内容是否相等，比较的是成员变量的值</p><p>4.具有数组，链表，红黑树（特殊二叉树）三种结构特点</p><p>5.只能用加强for循环和迭代器遍历</p><p>哈希表（待理解）:</p><p>1.哈希值不同的存在数组中，哈希值相同比较成员变量的值，不同的话存储在链表中，每一个链表都存储在一个数组元素中</p><p>2.当链表长度超过8后，链表会转换成红黑树</p><p>3.哈希表的初始化容量，数组长度为16个，当数组容量不够时，扩容为原数组长度的2倍，指当数组的容量被使用到长度的75%时，进行扩容。</p><p>LinkedHashSet集合（HashSet的子集合）：</p><p>可以判断元素添加的前后顺序：双层链表数据结构</p><p>Map接口(双列集合)：</p><p>成对出现的数据</p><p>值可以有重复，键不能重复</p><p>常用方法：</p><p>1.public V put(K key, V value): 把指定的键与指定的值添加到Map集合中。</p><p>若指定的键(key)在集合中没有，则没有这个键对应的值，返回null，并把指定的键值添加到集合中；</p><p>若指定的键(key)在集合中存在，则返回值为集合中键对应的值（该值为替换前的值），并把指定键所对应的值，替换成指定的新值</p><p>在不改变键的情况下改变值，可以用这种添加方式</p><p>2.public V remove(Object key): 把指定的键所对应的键值对元素在Map集合中删除，返回被删除元素的值。</p><p>3.public V get(Object key)根据指定的键，在Map集合中获取对应的值。</p><p>4.public Set<K> keySet(): 获取Map集合中所有的键，存储到Set集合中。</p><p>5.public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet(): 把Map集合中键值对封装成一个Entry对象，存储到Set集合</p><p>6.public boolean containKey(Object key):判断该集合中是否有此键</p><p>  public boolean containsValue(Objece value) :判断集合中是否由该值</p><p>7.public Collection<V> values()返回Map集合中的所有值到Collection集合</p><p>Entry接口</p><p>1.是Map中的内部接口</p><p>2.常用方法：</p><p>getKey()</p><p>getValue()</p><p>*Map集合的遍历</p><p>1.键找值</p><p>keySet()</p><p>增强for循环</p><p>get()</p><p>HashMap&lt;Integer,String&gt; hashMap &#x3D; new HashMap&lt;&gt;();</p><p>Set<Integer> set &#x3D; hashMap.keySet();</p><p>​    for (Integer integer : set) {</p><p>​      String s &#x3D; hashMap.get(integer);</p><p>​      System.out.println(integer+”&#x3D;”+s);</p><p>​    }</p><p>2.通过键值对找键和值</p><p>entrySet()  把键值对封装成一个Entry对象放到set集合中</p><p>使用Map.Entry对象中的getKey()和getValue()</p><p>Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set1 &#x3D; hashMap.entrySet();</p><p>​    for (Map.Entry&lt;Integer,String&gt; mapentry:set1) {</p><p>​      Integer key &#x3D; mapentry.getKey();</p><p>​      String value &#x3D; mapentry.getValue();</p><p>​      System.out.println(key+”&#x3D;”+value);</p><p>​    }</p><p>HashMap集合：</p><p>键为自定义类型时，不重写俩方法时键相同时，，后面的值会替代前面的值</p><p>LinkedHashMap:</p><p>添加元素顺序和存储元素顺序相同</p><p>可变参数：</p><p>1.如果我们定义一个方法需要接受多个参数，并且多个参数类型一致,可以定义一个可变参数</p><p>2.可变参数的本质是数组，不传递参数，数组的长度是0,传递几个参数，数组的长度就是几</p><p>3.一个方法中只能有一个可变参数。如果方法中有多个参数，可变参数只能写在最后一位。</p><p>public class Test6 {</p><p>  public static void main(String[] args) {</p><p>​     getSum(1,2,3,4,6);</p><p>  }</p><p>  public static int getSum(int… arr) {</p><p>​    int sum &#x3D; 0;</p><p>​    for (int i : arr) {</p><p>​      sum +&#x3D; i;</p><p>​    }</p><p>​    System.out.println(sum);</p><p>​    return sum;</p><p>  }</p><p>}</p><p>向collection接口下的集合批量添加元素</p><p>Collections类</p><p>public static <T> boolean addAll(Collection<T> c, T… elements)</p><p>addAll()方法 用的是可变参数</p><p>泛型</p><p>1.如果没有给集合中的传入的数据类型做指定即没有指定泛型时，那么传入的元素会默认提升为Object类型</p><p>2.泛型可以理解为一种新的数据类型，代表的是引用类型中的任意一种</p><p>3.***由于集合中可以存放各种类型的引用对象，但是一般集合中放同一种类型的对象，因此可以通过设置泛型来规定集合可以存储的引用对象的类型，保证集合中多存储的是同一种类型的对象</p><p>4.定义时候不具体，使用的时候确定泛型的具体类型</p><p>5.定义一种不确定的数据类型，使用这种数据类型可以进行其他数据类型进行的一系列操作，在使用变量的时候为泛型赋予真实的数据类型</p><p>根据传入的值确定值的数据类型</p><p>集合中的泛型</p><p>1.不加泛型默认存放的Object类型的元素</p><p>2.&lt;&gt; 设定集合中存储的数据类型，只能是引用数据</p><p>类泛型：</p><p>在创建对象的时候确定泛型的类型</p><p>public class Student<e> {}</p><p>Student<String> student &#x3D; new Student<String>(“bbbb”,21);</p><p>泛型方法：</p><p>根据传入的参数确定泛型的类型</p><p>public class Dog {</p><p>  public <e> e run(e name) {</p><p>​    return name;</p><p>  }</p><p>}</p><p>​    Dog dog &#x3D; new Dog();</p><p>​    String aaa &#x3D; dog.run(“aaa”);</p><p>​    Integer run &#x3D; dog.run(123);</p><p>​    Double run1 &#x3D; dog.run(12.3);</p><p>泛型接口：</p><p>public abstract interface Interfance<e>{}</p><p>1.在创建实现类的时候确定泛型的类型</p><p>public class Implement<String> implements Interfance<String></p><p>2.在创建对象的时候确定泛型的类型</p><p>Implement<String> implement &#x3D; new Implement<String>();</p><p>泛型通配符：</p><p>1.&lt;?&gt;</p><p>2.泛型的上限</p><? extends 类>只能接收该类型和其子类的对象3.泛型的下限<? super 类>只能接收该类型的和其父类的对象第十六天异常：Throwable类中的方法：1.public String getMessage() 打印出异常的描述信息2.pulic void printStackTrace()  打印出异常的所有信息Throwable（异常的根类）：Error Error是指发生了严重错误，与程序无关​                     Exception(例外) Exception是指运行时发生了逻辑错误，可以进行处理​                                 Exception下有俩种子类异常：编译异常（checked） 必须解决的​                                 运行异常（runtime）只需要声明异常，可以不解决1.异常是class,本身带有类型信息2.异常可以任何地方抛出3.产生异常就是创建一个异常对象并抛出异常对象5.使用try {} catch() {} 捕获异常try {  可能出现异常的语句  执行语句} catch（错误类型 e）{    catch语句中也可以放多个异常类型，用或 | 逻辑运算隔开  System.out.println(e)    异常1 | 异常2  执行语句  } catch（错误类型 e）{  System.out.println(e)  e.printStackTrace()   //打印出方法的调用栈（即异常所处的包中的具体位置）  执行语句catch语句只会执行一个，因此子类异常要放在父类异常前面  }  finally {  执行语句}**finally 语句可有可无，不论有无异常出现总是最后执行6.声明异常：可延后捕获，或不捕获throws 异常类型 {​    异常语句}7.抛出异常语法：throw new 异常名（参数）***自定义异常：1.创建编译异常 继承Exception  必须进行捕获2.创建运行异常 继承RuntimeException 在方法中声明异常即可，可捕获可不捕获重写父类中的空参构造方法和传入字符串的构造方法，并在此构造方法中调用父类构造方法public class Practice2 extends RuntimeException {  public Practice2() {  }  public Practice2(String message) {​    super(message);  }}看到第四节第十七天IO流(文件字节流 字节缓冲流)File类1.主要用于文件和目录的创建、查找和删除等操作2.File类将文件，文件夹和路径封装成了对象，提供大量方法来操作这些对象3.一个File对象代表硬盘中实际存在的一个文件或者目录\4. 无论该路径下是否存在文件或者目录，都不影响File对象的创建构造方法：\\ 表示一个\1.public File(String pathname)：传入文件路径名字符串​    String pathName = "D:\\practice\\a1.txt";​    File file = new File(pathName);2.public File(String parent, String child)：传入父路径名字符串和子路径名字符串3.public File(File parent, String child)：传入代表父抽象路径名的file对象和子路径名字符串常用方法：1.public String getAbsolutePath()：返回此File的绝对路径名字符串。2.public String getPath()：将File对象转换为路径名字符串，是相对路径3.public String getName()：返回由此File表示的文件或目录的名称。4.public long length()：返回由此File表示的文件的长度。（以字节为单位）5.public File getParentFile()返回父目录，若没有父目录，则返回Null6.public boolean exists() 测试此抽象路径名表示的文件或目录是否存在。***绝对路径和相对路径：绝对路径：从盘符开始的路径，这是一个完整的路径，绝对路径具有唯一性。相对路径：相对于项目目录的路径，这是一个便捷的路径，开发中经常使用IO流把这种数据的传输，按照流动的方向，以内存为基准，分为输入input和输出output，即流向内存是输入流，流出内存的输出流IO的分类1.根据数据的流向分为：输入流和输出流。（内存到硬盘，硬盘到内存）输入流：把数据从其他设备上读取到内存中的流。输出流：把数据从内存中写出到其他设备上的流。2.根据数据的类型分为：字节流和字符流。字节流：以字节为单位，读写数据的流。字符流：以字符为单位，读写数据的流***3.对非文本文档进行操作用字节流，对文本文档进行操作用字符流文本文档：使用记事本打开不乱码的就是文本文档4.任何文件本身都是以二进制存储的IO流顶层父类对文件本身操作1.java.io.OutputStream字节输出流顶层父类，抽象类，定义了写出数据方法write2.java.io.InputStream字节输入流顶层父类，抽象类，定义了读取数据方法read()对文件内容进行操作3.java.io.Writer字符输出流顶层父类，抽象类，定义了写出数据方法write()。4.java.io.Reader字符输入流顶层父类，抽象类，定义了读取数据方法read()字节Io流1.字节流可以传输任意文件数据（以二进制形式保存的）2.对文件本身操作3.一切数据都是以二进制存储的**OutputStream字节流输出抽象类字节输出流的基本共性功能方法1.public void close()：关闭此输出流并释放与此流相关联的任何系统资源。关闭文件2.write(int b)方法，每次可以写出一个字节数据 ，传入字符对应的AsKll码值3.public void write(byte[] b)：将字节数组写入此输出流4.public void write(byte[] b, int off, int len） 从第off索引开始，写入len个字符**写完数据后必须调用用close（）方法关闭输出流FileOutputStream 文件字节输出流子类构造方法当你创建一个流对象时，必须传入一个文件路径。该路径下，如果没有这个文件，会创建该文件。如果有这个文件，会清空这个文件的数据覆盖式写入构造方法：创建一个覆盖式写出的字节输出流对象1.public FileOutputStream(File file)：写入由指定的 File对象表示的文件。2.public FileOutputStream(String name)：传入指定的文件名称如果不指定文件父目录，默认是项目目录数据追加续写：创建一个追加式写出的字节输出流对象1.public FileOutputStream(File file, boolean append)：传入一个布尔类型的变量true 表示追加式写入2.public FileOutputStream(String name, boolean append)：传入一个布尔类型的变量true 表示追加式写入InputStreamjava 字节输入流抽象类方法：1.public void close()：关闭此输入流并释放与此流相关联的任何系统资源。2.public abstract int read()：读取数据的一个字节，从文件开始字节读取，一个字接一个字节读取***返回字符对应的字符集中的值，字节读取完后，返回-1  while循环输入3.public int read(byte[] b)：每次读取数组长度个字节while循环输入new String（数组名，开始索引，长度）改造方法：main方法中变量不需要初始化FileInputStream类 字节输入流子类构造方法：1.FileInputStream(File file)：通过打开与实际文件的连接来创建一个 FileInputStream ，该文件由文件系统中的 File对象 file命名。2.FileInputStream(String name)：通过打开与实际文件的连接来创建一个 FileInputStream ，该文件由文件系统中的路径名 name命名。****文件复制：1.创建输出流对象（把文件从内存中写出）和输入流对象（把文件读入到内存）2.使用while循环先把文件读入到内存，再把文件从内存中写出3.关闭输出流和输入流把D:\\byljavaprogram\\tupain.jpg这个文件复制到tupiaocopy.jpg文件（默认放在模块目录下）中​    InputStream inputStream = new FileInputStream("D:\\byljavaprogram\\tupain.jpg");​    OutputStream outputStream = new FileOutputStream("tupiaocopy.jpg");​    byte[] bytes = new byte[1024]; // 每次写出1KB或1KB的整数倍​    int len;​    while ((len = inputStream.read(bytes)) != -1) {​      outputStream.write(bytes);​    }​    outputStream.close();​    inputStream.close();字节缓冲流1.针对基础流对象进行高效处理的流对象。或者为基础流增加功能。2.在使用缓冲流时，必须传递基础流3.缓冲流比普通流复制更快4.在使用缓冲流时，必须传入普通流字节缓冲输出流BufferedOutputStream(继承OutputStream)构造方法：public BufferedOutputStream(OutputStream out) ： 创建一个新的缓冲输出流。字节缓冲输入流BufferedInputStream(继承InputStream)构造方法：public BufferedInputStream(InputStream in) ：创建一个 新的缓冲输入流。使用缓冲流复制文件​    Long start = System.currentTimeMillis();​    BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream("D:\\byljavaprogram\\book.pdf"));​    BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(new FileOutputStream("bookcopyy.pdf"));​    ​    //用数组进行读取​    byte[] bytes = new byte[1024];​    while ((bufferedInputStream.read(bytes)) != -1) {​      bufferedOutputStream.write(bytes);​    }​    //单个字节读取​     byte[] bytes = new byte[1024];​    while ((bufferedInputStream.read(bytes)) != -1) {​      bufferedOutputStream.write(bytes);​    }​    ​    bufferedInputStream.close();​    bufferedOutputStream.close();​    Long end = System.currentTimeMillis();​    long run = end - start;​    System.out.println(run);字符IO流1.转换流 字符流 字符缓冲流 打印流2.字符流本身作用是转换字节和字符，调用字节流进行输入和输出3.编码表和解码表要相同字符集1.也叫编码表2.常见字符集有ASCII字符集（ASCII编码）、GBK字符集（GBK编码）、Unicode字符集（UTF-8编码）等3.设计到字符和字节之间的转换时需要用到编码表OutputStreamWriter 转换流原理：字符输出流将输出的字符通过编码表转换成字节，把字节给了字节输出流，字节输出流调用write（）将字节写入到文件中1.java.io.OutputStreamwriter类，继承Writer类，他是字符输出流，用于操作文本文件2.使用指定的字符集将字符编码为字节构造方法如果不传入编码表就使用系统默认的编码表1.OutputStreamWriter(OutputStream  in): 需要传入一个字节输入流对象2.OutputStreamWriter(OutputStream in,String  charsetName): 传入字节输入流对象和编码表常用方法1.void write(int c) 写出单个字符。2.void write(char[] ch) 写出字符数组。3.void write(char[] ch,int off,int  len) 写出字符数组一部分，开始索引和写出的个数，写出的数据从开始索引后一个字符开始4.void write(String s) 写出字符串**5.void flush() 刷新该流的缓冲，字符流写数据会先写在内存中，刷新后才会到达目的文件每写出一次，就需要调用一次flush()刷新缓冲流InputStreamReader 转换流原理：字符输入流将输入的字符通过编码表转换成字节，把字节给了字节输入流，字节输入流调用read（）将字节从文件中读到内存1.java.io.InputStreamReader类，继承Reader类，他是字符输入流，只能操作文本文件2.字节流转成字符流，使用指定的字符集将字符编码为字节构造方法如果不传入编码表就使用系统默认的编码表1.InputStreamReader(InputStream in): 创建一个使用默认字符集的字符流。2.InputStreamReader(InputStream in,String charsetName): 创建一个指定字符集的字符流方法1.int read() 读取单个字符，读取到文件末尾时返回-1。2.int read(char[] ch)  读取字符存储到数组中个，返回读取到的字符个数，读取到文件末尾时返回-1***字符流便捷类不能传入编码表只能使用开发工具默认的编码表FileWriter  继承OutputStreamWriter，使用平台默认编码表写出数据构造方法：1.FileWriter(File file)：创建一个新的 FileWriter，给定要读取的File对象。2.FileWriter(String fileName)：创建一个新的 FileWriter，给定要读取的文件的名称。3.FileWriter(String fileName，boolean boo）追加写入FileReader 继承InputStreamReader，使用平台默认编码表读取数据构造方法1.FileWriter(File  file)：创建一个新的 FileWriter，给定要读取的File对象。2.FileWriter(String  fileName)：创建一个新的 FileWriter，给定要读取的文件的名称。字符缓冲流构造方法1.public BufferedReader(Reader in)：创建一个新的缓冲输入流2.public BufferedWriter(Writer  out)：创建一个新的缓冲输出流特有方法：1.BufferedReader： public String  readLine():  读一行，并将读到的内容返回给一个字符串变量读完内容，返回null2.BufferedWriter：  public void  newLine(): 写一行行分隔符，由系统属性定义符号bufferedWriter.write(s1);bufferedWriter.newLine(); bufferedWriter.flush(); 每写完一行都需要刷新一下打印流  是专门负责数据输出打印的流对象1.PrintStream 继承OutputStream，本质上是字节输出流。2.PrintWriter 继承Writer，本质上是字符输出流打印流的特点：1.打印流只负责输出数据，不负责数据来源。2.打印流永远不会抛出IOException。3.使用PrintWriter打印流，可以开启自动刷新功能。调用println，printf，format三个方法中的一个才能自动刷新PrintWriter类构造方法：1.public  PrintWriter(String  fileName)：使用指定的文件名创建一个新的打印流可以传入布尔类型控制自动刷新缓冲区2.public PrintWriter(OutputStream  out)：使用指定的字节输出流构造打印流3.public PrintWriter(Writer writer)：使用指定的字符输出流构造打印流方法：println，printf，format**打印流输出数据是原样输出，打印97，结果看到就是97，而不是a。第十八天java反射与泛型Class类1.class和interface的数据类型是Class**2.jvm每加载一个.class文件就为其创建一个Class类型的实例，并关联起来一个Class实例包括类的完整类名，包名，继承的父类，实现的接口，所有的字段和方法3.是用final修饰的4.一个类在jvm中只有一个Class实例常用方法：1.getName() 获取完整类名2.getSimpleName() 获取简单类名3.getPackage().getName 返回包名4.isInterface() 判断是不是接口类5.isArray() 判断是不是数组类6.isPrimitive() 判读是不是基本类型的包装类7.isEnum() 判断是不是枚举类8.newInstance() 返回一个类对象反射：通过Class实例获取class信息的方法获取Class实例的方法：1.类名.class2.类对象.getClass3.Class.forName(“完整类名”)**Class实例作用：1.判断类的类型2.查看类的完整类名，包名通过Class实例获取字段信息：1.getField(String name) 获取某个public的字段（包括父类中字段）返回一个field 对象2.getDeclaredField(String name) 获取该类中某个字段（不包括父类）返回一个field 对象3.getFields() 打印出该类的所有公共字段（包括其父类） 返回一个field数组4.getDeclaredFields() 打印出该类的所有字段（不包括父类）返回一个field数组Field类1.一个Filed对象一个field的所有信息（名称，类型，字段修饰符）getname()getType()getModifiers()get(类实例) 获取字段的值set(类实例，新值) 为字段赋予新值setAccessible(true) 将非Public字段设置为可以访问其值和更改其值第十九天网络编程多线程和TCP协议进程：是系统运行程序的基本单位；系统运行一个程序即是一个进程从创建、运行到消亡的过程。线程：1.是进程中的一个执行单元，负责当前进程中程序的执行，一个进程中至少有一个线程。一个进程中是可以有多个线程的，这个应用程序也可以称之为多线程程序2.当一个进程中有多个线程时，哪个线程执行完全取决于CPU 的调度，程序员是干涉不了的。而这也就造成的多线程的随机性3.每一个执行线程都有一片自己所属的栈内存空间。进行方法的压栈和弹栈4.一个线程只能被启动一次线程的创建-继承方式Java使用java.lang.Thread类代表线程，所有的线程对象都必须是Thread类或其子类的实例。每个线程的作用是完成一定的任务，实际上就是执行一段程序流即一段顺序执行的代码通过继承Thread类来创建并启动多线程的步骤如下:\1. 定义Thread类的子类，并重写该类的run()方法，该run()方法的方法体就代表了线程需要完成的任务,因此把run()方法称为线程执行体。\2. 创建Thread子类的实例，即创建了线程对象\3. 调用线程对象的start()方法来启动该线程Thread的构造方法1.Thread(Runnable target)Thread类的方法1.setName()2.getName()3.静态方法static Thread currentThread() 获取到当前正在执行的线程对象线程的创建-实现接口方式定义Runnable接口的实现类步骤如下：1. 定义Runnable接口的实现类，并重写该接口的run()方法，该run()方法的方法体同样是该线程的线程执行体。\2. 创建Runnable实现类的实例，然后在创建Thread实例的时候传入此实现类的实例\3. 调用线程对象的start()方法来启动线程实现Runnable接口比继承Thread类所具有的优势：\1. 适合多个相同的程序代码的线程去共享同一个资源。\2. 可以避免java中的单继承的局限性。\3. 增加程序的健壮性，实现解耦操作，代码可以被多个线程共享，代码和线程独立。线程的创建-匿名内部类方式Runnable runnable = new Runnable(){​      public void run() {​        System.out.println("aaa");​      }};​    new Thread(runnable).start();网络编程入门网络编程：在一定的协议下，实现两台计算机的通信的程序网络编程三要素：协议，IP地址，端口号：用两个字节表示的整数，它的取值范围是0~65535。其中，0~1023之间的端口号用于一些知名的网 络服务和应用，普通的应用程序需要使用1024以上的端口号。如果端口号被另外一个服务或应用所占用，会 导致当前程序启动失败1.C/S结构：全称为Client/Server结构，是指客户端和服务器结构2.B/S结构：全称为Browser/Server结构，是指浏览器和服务器结构。网络通讯协议：TCP/IP传输的数据是字节类型，因此要把传输的数据转换成字节在进行传输[java.net](http://java.net/)包中提供了两种常见的网络协议的支持：1.TCP：传输控制协议 (Transmission Control Protocol)客户端： [java.net.Socket](http://java.net.socket/) 类表示。创建 Socket 对象，向服务端发出连接请求，服务端响应请求，两者建 立连接开始通信。服务端： [java.net.ServerSocket](http://java.net.serversocket/) 类表示。创建 ServerSocket 对象，相当于开启一个服务，并等待客户端 的连接。Socket构造方法：public Socket(String host, int port)  传入服务器IP和端口号成员方法套接字指的是两台设备之间通讯的端点1.public InputStream getInputStream() ： 返回此套接字的输入流。 如果此Scoket具有相关联的通道，则生成的InputStream 的所有操作也关联该通道。 关闭生成的InputStream也将关闭相关的Socket。2.public OutputStream getOutputStream() ： 返回此套接字的输出流。 如果此Scoket具有相关联的通道，则生成的OutputStream 的所有操作也关联该通道。 关闭生成的OutputStream也将关闭相关的Socket。3.public void close() ：关闭此套接字。 一旦一个socket被关闭，它不可再使用。 关闭此socket也将关闭相关的InputStream和OutputStream 。4.public void shutdownOutput() ： 禁用此套接字的输出流。 任何先前写出的数据将被发送，随后终止输出流ServerSocket构造方法public ServerSocket(int port) ：传入端口号成员方法public Socket accept() ：侦听并接受连接，返回一个连接服务器的Socket对象，用于和客户端实现通信。UDP：用户数据报协议(User Datagram Protocol)第二十天类加载器1.是将.class文件加载到内存2.java.lang.ClassLoader是类加载器的父类、出现六种情况中的一种，类的加载器就会将这个类的class文件加载到内存中，我们就可以使用这个类了\1. 创建类的实例。\2. 使用类的静态变量，或者为静态变量赋值。\3. 使用类的静态方法。\4. 使用反射方式来强制创建某个类或接口对应的java.lang.Class对象。\5. 初始化某个类的子类。\6. 直接使用java.exe命令来运行某个主类。。类加载器的分类：1.引导类加载器Bootstrap：是C++语言编写，负责加载JDK核心类库，核心类库位置\jdk\jre\lib\下的jar包。2.扩展类加载器ExtClassLoader：Java语言编写的类加载器，负责加载JDK扩展类库，类库位置\jdk\lib\ext\下的jar包3.应用类加载器AppClassLoader：Java语言编写的类加载器，负责加载我们定义的类和第三方jar包中的类反射1.反射的定义：通过Class对象调用类中的成员变量和方法和使用构造方法创建对象的方式2.**Class对象：类加载器将.class文件加载到内存后，会将java代码的各个组成部分（成员变量，成员方法，构造方法）封装为一个Class对象3.**反射是针对.class 文件进行操作获取Class对象的方式：1.Class.forName("全类名") 传入完整类名 返回Class对象2.加载类类名.class 返回Class对象3.对象名.getClass()   使用类对象调用类中的getClass方法 返回Class对象反射获取构造方法使用的是Class中与Constructor相关的方法1.getConstructors() 返回一个Constructor数组，获取所有public修饰的构造方法2.getConstructor(Class... parameterTypes) 返回一个Constructor对象，不传入参数获取的是空参的构造方法3.newInstance(Object... initargs) 创建对象4.newInstance(） 通过反射获取空参构造方法并创建对象1.Class class1 = Class.forName("com.reflex.Practice1");2.Constructor constructor = class1.getConstructor(); //将获取到构造方法封装到Constructor3.Object practice1 = constructor.newInstance();System.out.println(practice1);通过反射使用空参构造方法创建对象的简便方法1.Class class1 = Class.forName("com.reflex.Practice1");2.Object practice3 = class1.newInstance(）System.out.println(practice3);通过反射获取有参构造方法并创建对象1.Class class1 = Class.forName("com.reflex.Practice1");2.Constructor constructor1 = class1.getConstructor(String.class,int.class);   传入的是代表参数类型的Class对象3.Object practice2 = constructor1.newInstance("白雨龙",12);       传入参数值System.out.println(practice2);通过反射调用成员方法使用的是Class中与Method相关的方法1.Method[] getMethods()   获取所有的public修饰的成员方法，包括父类中的方法，返回Method集合2.Method getMethod("方法名", 方法的参数类型... 类型) 根据方法名和参数类型获得一个方法对象，只能是获取public修饰的3.invoke(类对象) 调用方法获取无参方法并调用1.Class class1 = Class.forName("com.reflex.Practice1");2.Constructor constructor = class1.getConstructor(); //将获取到构造方法封装到Constructor3.Object practice1 = constructor.newInstance();4.Method method = class1.getMethod("run"); 只需要传入方法名5.method.invoke(practice1);  传入类对象获取有参方法并调用1.Class class1 = Class.forName("com.reflex.Practice1");2.Constructor constructor = class1.getConstructor(); //将获取到构造方法封装到Constructor3.Object practice1 = constructor.newInstance();4.Method method1 = class1.getMethod("eat",String.class); 传入方法名和代表参数类型的Classd对象5.method1.invoke(practice1,"白雨龙");  传入类对象和参数值写一个"框架"，不能改变该类的任何代码的前提下，可以帮我们创建任意类的对象，并且执行其中任意方法创建配置文件1.在工程下创建一个目录，目录名设为resources,用来存放代码所用到的资源2.将文件的作用改为resources Root 存放资源的文件 作用：编译时会将resources目录和src目录都放到classes目录下3.在resources目录下创建一个后缀名为 .properties 的文件 后缀名必须是.properties写程序\1. 将需要创建的对象的全类名和需要执行的方法定义在配置文件中\2. 在程序中加载读取配置文件A使用ClassLoader中的静态方法getSystemResourceAsStream（要读取的配置文件） 返回一个输入流对象B创建一个properties集合（特殊的Map集合，键和值不能更改）C使用properties集合中的load方法，将流中的数据保存到集合​    InputStream inputStream = ClassLoader.getSystemResourceAsStream("config.properties");​    Properties properties = new Properties();​    properties.load(inputStream);\3. 使用反射技术来加载类文件进内存\4. 创建对象​    Class class1 = Class.forName(properties.getProperty("className"));​    Object pratice2 = class1.newInstance();\5. 执行方法​    Method method = class1.getMethod(properties.getProperty("methodName"));​    method.invoke(pratice2);单元测试1.黑盒测试：不需要写代码，给输入值，看程序是否能够输出期望的值。2.白盒测试：需要写代码的，关注程序具体的执行流程测试：脱离main,单独运行代码Junit1.是一个Java语言的单元测试框架，属于白盒测试，可以用于取代java的main方法。2.Junit属于第三方工具，需要导入jar包后使用。Junit的使用@Test注释的方法要求：修饰词是public 没有返回值（void），方法中不能传入参数，建议方法名以test开头前提工作1.在工程下键一个lib目录，将所需的Junit的jar包传入目录中2.将此目录下的内容添加到可执行内库  右键目录 Add as Library  Ok \1. 编写测试类，简单理解Junit可以用于取代java的main方法\2. 在测试类方法上添加注解 @Test  @Test  public void testRun() {​    System.out.println("run方法运行");  }  Junit测试框架中常用注解@Test，用于修饰需要执行的测试方法。@Before，前提是存在Test注释的方法，修饰的方法会在测试方法之前被自动执行。@After，前提是存在Test注释的方法，修饰的方法会在测试方法执行之后自动被执行。注解1.注解可以写在代码的任意地方2.用来对代码进行说明注释3.注解本质上就是一个接口，该接口默认继承Annotation接口常见注解\1. @author：用来标识作者名\2. @version：用于标识对象的版本号，适用范围：文件、类、方法。\3. @Override：用来修饰方法声明，告诉编译器该方法是重写父类中的方法，如果父类不存在该方法，则编译失败。注释的定义格式元注解public @interface 注解名称{​    属性列表}注解中的属性\1. 属性的作用：可以让用户在使用注解时传递参数，让注解的功能更加强大。\2. 属性的格式格式：A：数据类型 属性名();B：数据类型 属性名() default 默认值;\3. 属性适用的数据类型：八种基本数据类型（int,float,boolean,byte,double,char,long,short)。String类型，Class类型，枚举类型，注解类型。以上所有类型的一维数组zhu**特殊属性value 1.当注解中只有一个属性且名称是value，在使用注解时给value属性赋值可以直接给属性值，无论value是单值元素还是数组类型。\2. 如果注解中除了value属性还有其他属性，且至少有一个属性没有默认值，则在使用注解给属性赋值时，value属性名不能省略。注解中的元注解对注解的使用范围进行限制1.@Target作用：指明此注解用在哪个位置，如果不写默认是任何地方都可以使用可选的参数值在枚举类ElemenetType中包括：TYPE：用在类,接口上FIELD：用在成员变量上METHOD：用在方法上PARAMETER：用在参数上CONSTRUCTOR：用在构造方法上LOCAL_VARIABLE：用在局部变量上2.@Retention作用：定义该注解存在的有效范围SOURCE：注解只存在于Java源代码中，编译生成的字节码文件中就不存在了。CLASS：注解存在于Java源代码、编译以后的字节码文件中，运行的时候内存中没有RUNTIME：注解存在于Ja源代码av中、编译以后的字节码文件中、运行时内存中，程序可以通过反射获取该注解。lombok简化编写javabean使用lombok注解的步骤1.将lombok的jar包放到bin目录下2.在bin目录下 设置 Mark Directory as 设置为Resources Root     作用是将bin目录下的文件添加到可执行内库3.File | Settings | Plugins   在Setting plugins（插件） 搜索lombok插件进行下载4.重启idea5.File | Settings | Build,Execution, Deployment | Compiler（编译） | Annotation Processors（注解处理器）  enable Annotation Processors 打勾常用的注解：如果不写有参数的构造方法，系统默认添加无参构造方法如果写了有参数的构造方法，系统就不会添加无参构造方法@Setter@Getter@ToString@EqualsAndHashCode@NoArgsConstructor@AllArgsConstructor@Data   自动生成get/set，toString，hashCode，equals第二十一天数据库 MySQL数据库：数据库就是存储数据的仓库，其本质是一个文件系统，数据按照特定的格式将数据存储起来。用户可以对数据库中的数据进行增加，修改，删除及查询操作。集合、文件、数据库，三者进行存储数据的对比：\1. 集合：数据存储在内存中；问题是，一旦程序执行完毕了，数据消失了，数据不能永久性的储存\2. 文件：数据储存在磁盘中，可以永久性储存；问题是，当文件储存数据量达到几个G时，文件的打开都成文件，数据的操作就更成问题了\3. 数据库：数据储存的磁盘中，可以永久性储存；当数据量很大时，数据操作起来也很流畅；合适数据的频繁的增删改查的操作数据库管理系统（DataBase Management System，DBMS）：指一种操作数据库、管理数据库的大型软件。作用：用于数据库的建立、使用和维护数据库功能：实现了对多个数据库进行统一管理和控制，以保证数据库的安全性和完整性\1. 用户必须通过数据库管理系统才能访问到数据库中表的数据\2. 数据库中的表，是存储数据的基本单位表记录与java类的对应关系Java                   数据库类                     表成员变量字段            表列对象                   表行一列是一个字段，一行是一个对象或记录常见数据库MYSQL：开源免费的数据库，小型的数据库.Oracle：收费的大型数据库，Oracle公司的产品。DB2：IBM公司的数据库产品,收费的。常应用在银行系统中.SQLServerMicroSoft公司收费的中型的数据库。C#、.net等语言常使用。SyBase：已经淡出历史舞台。提供了一个非常专业数据建模的工具PowerDesigner。SQLite：嵌入式的小型数据库，应用在手机端。MySql数据库5.5 5.7***重装MySql数据库的步骤：1.卸载数据库2.删除c:\ProgramData\MySQL目录下的目录**SQL语句1.用来操作数据库的语句，支持所有关系型数据库2.所有数据类型的默认值都是null3.非数字数据类型用单双引号括起，一般用单引号4.以分号结尾5./*多?注释*/--空格  单行注释\#空格  单行注释6.comment 用在sql语句后面可以跟表中列的解释信息SQL语句分类SQL分类：数据定义语言：来定义数据库对象：数据库，表， 列等。关键字：create（创建），alter（更改），drop（删除）数据控制语言：来定义数据库的访问权限和安全级别，及创建用户数据操作语言：来对数据库中表的记录进行更新。关键字：insert，delete，update等数据查询语言：来查询数据库中表的记录。关键字： select，from，where等SQL语言中数据的常用数据类型 ：类型名称             说明int                 整数类型double              小数类型decimal（m,d）       指定整数位与小数位长度的小数类型date                日期类型，格式为yyyy-MM-dd，包含年月日，不包含时分秒datetime            日期类型，格式为 YYYY-MM-DD HH:MM:SS，包含年月日时分秒日期的范围不同  timestamp           日期类型，时间戳varchar（M）        文本类型， M为0~65535之间的整数char(M)             文本类型, M为0~65535之间的整数varchar 不会占用剩余空间char   会占用全部空间数据库操作: database1.创建数据库create database 数据库名称create database mydb;create database 数据库名称 character set 编码表create database mydb1 character set utf8;2.查询数据库显示出所有存在的数据库 show databases;查看指定数据库的编码表 show creat database 数据库名show create database mydb;3..删除数据库drop database 数据库名drop database mydb1;4.使用数据库使用数据库 use 数据库名use mydb;查询当前正在使用的数据库select database(); ​                                                                                              表操作：table一.创建表创建表 往当前使用的数据库中创建create table 表名 (    ​    字段名 数据类型[?度] [约束],    ​    字段名 数据类型[?度] [约束],    );注:[]中的内容是可选项create table mydbuser (   name varchar(100), # varchar数据类型的长度必须写   age int);二.查看表查看表show tables;查看指定表的建表结构 show create table 表名show create table mydbuser;三.删除表drop table 表名drop table list;四.修改表结构对表中的列进行修改\1. 添加新的列  格式: alter table 表名 add 新列名 数据类型(长度);alter table mydbuser add sex varchar(100);\2. 修改列的数据类型(长度), 格式: alter table 表名 modify 列名 修改后的数据类型(长度);alter table mydbuser modify sex char(100);\3. 修改列的名称, 格式: alter table 表名 change 列名 新列名 新列名的数据类型(长度);alter table mydbuser change sex sss char(100);\4. 删除指定列, 格式: alter table 表名 drop 列名;alter table mydbuser drop sss;对表进行修改\1. 修改表的名称, 格式:  rename table 表名 to 新表名;rename table mydbuser to list;\2. 修改表的字符编码, 格式:  alter table 表名 character set 字符编码;alter table list character set gbk;表中记录操作1.插入表记录方式一为指定的列插入值   格式: insert into 表名(字段1, 字段2, ...) values (值1, 值2, ...);insert into stu value(13,'炸','女');方式二, 对所有字段插入值,  格式: insert into 表名 values(值1, 值2, ...);insert into stu(age,sex) value(12,'男');同时插入多个列insert into stu value(14,'dd','ddd'),(15,'sss','sss');2.更新表记录格式: update 表名 set 字段1=值, 字段2=值... where 条件；update stu set name='wang' where age=11;update stu set sex='伞' where age>12;3.删除表记录delete from 表名 where 条件;delete from stu where age>13;在dos命令行操作中文时会报错show variables like 'character';  查看所有MySQL的编码解决办法：需要修改client、connection、results的编码一致（改为GBK编码）***set names gbk; 只在本窗口有效为临时方案数据库密码重置1.停止MySQL服务2.在cmd下,输入 mysqld  --console --skip-grant-tables 启动服务器3.新打开cmd,输入mysql -uroot 不需要密码, 然后输入以下SQL语句, 完成密码的修改use mysql;update user set password=password('新密码')  WHERE user='root';\4. 关闭两个cmd窗口第二十二天MySQL约束 和 查询(DQL)数据库中的约束：就是指表中的数据内容不能胡乱填写, 必须按照要求填写. 好保证数据的完整性与安全性。一、主键约束 primary key针对单列主键1.主键必须包含唯一的值, 不能重复。2.主键列不能包含 NULL 值，在插入记录时必须为其传入值3.每个表都应该有一个主键，并且每个表只能有一个主键对于多列主键4.联合主键可以包含多列多个字段组合为一个主键作为联合主键的各列的值不是都相等，就不算传入重复的值作为联合主键的各列的值都不能为NUll添加主键约束方式一：创建表时，在字段描述处，声明指定字段为主键：格式: 字段名 数据类型(⻓度) PRIMARY KEY将某个字段设置为主键后，该字段在插入记录时值不能重复，并且值不能为空  方式二：创建表时，在constraint约束区域，声明指定字段为主键：CONSTRAINT 和 名称 可以省略格式：constraint 名称  primary key (字段列表)方式三：通过修改表结构，添加约束区域 CONSTRAINT 和 名称 可以省略格式：alter table 表名 add CONSTRAINT 名称 PRIMARY KEY (字段列表)删除主键约束PRIMARY KEY 约束 相当于更改表结构格式: ALTER TABLE 表名 drop PRIMARY KEY二、自动增⻓列1.auto_increment（自动增⻓列）关键字2.自动增⻓列类型必须是整形3.自动增⻓列必须为键(通常是用于主键)4.默认AUTO_INCREMENT 的开始值是 15.自动增长列不用传入值或传入null格式: 字段名  整数类型() 约束 auto_increment修改默认初始值：alter table persons auto_increment=起始值三、非空约束列不接受 NULL 值要求字段始终包含值创建记录或更新记录时必须为非空列传入值格式: 字段名 数据类型[⻓度]  NOT NULL删除非空约束(修改数据类型) modify（修改）关键词 相当于更改列的数据类型ALTER TABLE 表名 modify 字段名 数据类型 ⻓度四、唯一约束 unique指定列的值不能重复如果添加唯一约束时，没有设置约束名称，默认是当前字段的字段名1.UNIQUE 和 PRIMARY KEY 约束均为列提供了唯一性的保证。PRIMARY KEY 是自动定义的UNIQUE 约束。\2. 每个表可以有多个 unique 约束，但是每个表只能有一个 PRIMARY KEY 约束。\3. UNIQUE不限制 null 值出现的次数方式一：创建表时，在字段描述处，声明唯一格式: 字段名 数据类型[⻓度]  UNIQUE式二：创建表时，在约束区域，声明唯一 constraint 名称可以省略格式：constraint 名称  UNIQUE (单一字段)​     constraint 名称  UNIQUE (字段1，字段2)​     组合唯一约束：只有各个字段的值都相等才算重复的值方式三：创建表后，修改表结构，声明字段唯一格式: ALTER TABLE 表名 ADD CONSTRAINT 名称 UNIQUE (字段)删除唯一约束格式: ALTER TABLE 表名 DROP index 唯一约束名称五、默认约束 default用于指定字段默认值当向表中插入记录时，如果没有明确的为字段赋值，则自动赋予默认值添加默认约束格式: 字段名 数据类型[⻓度] default 默认值删除默认约束格式:ALTER TABLE 表名 MODIFY 字段名 数 据类型[⻓度]SQL语句(DQL)查询语法：select distinct（是否去掉重复的值）  *（整个记录） 或列名,列名（要查询的列）  from 要查询的表  where 条件 distinct:取出重复的值针对单个表的查询1.简单查询-- 查询所有的商品.select * from product;-- 查询商品名和商品价格.select pname,price from product;-- 查询价格,去掉重复值.select distinct price from product;-- 查询结果是表达式（运算查询）：将所有商品的价格+10元进行显示.select price+10 from product;-- 别名查询.使用的关键字是as（as可以省略的）.列别名select price*10 as price from product;select price*10 ppp from product;select pname,price/10 ppp from product;select pname ppp, price pppp from product;-- 别名查询.使用的关键字是as（as可以省略的）.表别名select pname from product as p;select pname from product p;2.条件查询***Mysql 特有的不等于 ！=比较运算符  <  <=  >=  = <>  大于、小于、大于(小于)等于、不等于BETWEEN...AND... 显示在某一区间的值(含头含尾)IN(set)   显示在in列表中的值like     语句中，% 代表零个或多个任意字符， _ 代表一个字符and    多个条件同时成立or     多个条件任一成立not    不成立\# 条件查询\#查询商品名称为“花花公子”的商品所有信息：select * from product where pname='花花公子';\#查询价格为800商品select * from product where price=800;\#查询价格不是800的所有商品select * from product where price<>800;select * from product where price!=800;\#查询商品价格大于60元的所有商品信息select * from product where price>60;\#查询商品价格在200到1000之间所有商品select * from product where price between 200 and 1000;select * from product where price>=200 and price<=2000;\#查询商品价格是200或800的所有商品select * from product where price in(200,800);select * from product where price=200 or price=800;\#like模糊查询 查询商品名称含有'霸'字的所有商品 不能用于数值类的查询select * from product where pname like '%霸%';\#查询商品名称以'香'开头的所有商品select * from product where pname like '香%'\#查询商品名称第二个字为'想'的所有商品select * from product where pname like '_想%'\#商品没有分类id的商品select * from product where category_id is null;\#查询有分类id的商品select * from product where category_id is not null;3.排序查询通过order by语句，可以将查询出的结果进行排序SELECT * FROM 表名 ORDER BY 排序字段  ASC|DESC; asc:升序排列，默认是ascdesc:降序排列\#把查询结果使用价格排序(降序)select * from product order by price desc;\#在价格排序(降序)的基础上，以分类排序(降序)select * from product order by category_id desc;select * from product order by price DESC,category_id desc;  相等的时候按照后面字段排序\#显示商品的价格(去重复)，并排序(降序)select distinct price from product order by price desc;4.聚合查询五个聚合函数：count：统计指定列不为NULL的记录行数； 查看有多少条记录时，一般传入主键列sum：计算指定列的数值和，如果指定列类型不是数值类型，那么计算结果为0；max：计算指定列的最大值，如果指定列是字符串类型，那么使用字符串排序运算；min：计算指定列的最小值，如果指定列是字符串类型，那么使用字符串排序运算；avg：计算指定列的平均值，如果指定列类型不是数值类型，那么计算结果为0；\#查询总记录数select count(pid) from product;\#查询价格大于200商品的总条数select count(price) from product where price>200;\#查询分类为'c001'的所有商品的价格总和select sum(price) from product;select sum(price) from product where category_id='c001';\#查询分类为'c002'所有商品的平均价格select avg(price) from product;select avg(price) from product where category_id='c001';\#查询商品的最大价格和最小价格select max(price),min(price) from product;5.分组查询  使用group by字句对查询信息进行分组，然后输出分组结果格式：SELECT 字段1,字段2...  FROM 表名 GROUP BY  分组字段  HAVING分组条件;操作中的having子语句，是用于在分组结果后对数据进行过滤的having与where的区别:having是在分组操作执行后, 对分组后的数据进行过滤.where是在分组操作执行前, 对分组前的数据只能使用表原始列进行条件过滤having后面可以使用聚合函数where后面不可以使用聚合函数。当一条SQL语句中, 既有where 又有 group by \ having时, 先执行 where, 再执行 group by,最后执行having**分组后直接查询分组字段或聚合字段\#统计各个分类商品的个数select category_id,count(category_id) from product group by category_id;select count(category_id) from product group by category_id;\#统计各个分类商品的个数,且只显示个数大于1的信息select category_id,count(category_id) from product group by category_id having count(category_id)>1;\#统计价格>200元的各个分类商品的个数,且只显示个数大于1的信息select category_id,count(category_id) from product where price>200 group by category_id having count(category_id)>1;6.条数限制查询 限制查询的记录数使用limit关键字，其作用是用于限制查询结果的条数格式: select * from 表名 limit m,nm是指记录开始的index，从0开始，表示第一条记录n是指从开始记录查找n条记录应用场合:分⻚分⻚查询格式: SELECT * FROM 表名 LIMIT startRow,pageSize;elect * from products limit 0,5;  #第一⻚，每⻚显示5条。select * from products limit 5,5;  #第二⻚，每⻚显示5条。select * from products limit 10,5; #第三⻚，每⻚显示5条。起始记录 = （当前页-1）* 页大小startRow = (curPage - 1) * pageSize总页数 = Math.ceil（记录总数*1.0）/ 页大小totalPage = Math.ceil(totalSize * 1.0 / pageSize第二十三天mysql数据库3mysql多表操作外键约束***外键特点：1.**从表外键的值是对主表主键的引用： 从表外键中的值必须用主表中主键中存在的值2.从表外键类型，必须与主表主键类型一致外键名称一般以_fk结尾创建外键约束语法：alter table从表 add [constraint] [外键名称] foreign key (从表外键字段名) references 主表 (主表的主键);删除外键约束的语法：alter table从表 drop foreign key 外键名称***外键约束的作用：通过外键将俩个表联系起来外键约束的限制;从表增加数据：从表外键的值必须使用主表主键中存在的值主表删除数据：不能删除从表中已经引用的数据外键约束的起名规范：从表表名_主表表名_fk多对多加中间表 变成一对多中间表：必须包含俩个字段，分别关联俩个表的主键1.俩个字段分别设置为外键，分别关联俩个表的主键2.把俩个字段设置为联合主键create table user_role (  user_id varchar(32),  role_id varchar(32),  constraint user_role_pk primary key (user_id,role_id);  constraint user_role_user_fk foreign key (user_id) references user (uid);  constraint user_role_role_fk foreign key (role_id) references role (rid););***多表查询1.交叉连接查询(开发中不使用-得到的是两个表的乘积)select * from 表1，表2;效果是：将表1中的每条记录与表2中的所有记录分别连接在交叉连接的基础上加上限制条件2.内连接查询(使用的关键字 inner join -- inner可以省略)隐式内连接：select * from A,B where 条件;显示内连接：select * from A inner join B on 条件;3.外连接查询(使用的关键字 outer join -- outer可以省略)左外连接：left outer join 查询结果包含左边表的所有数据select * from A left outer join B on 条件;右外连接：right outer join 查询结果包含右边表的所有数据select * from A right outer join B on 条件;***子查询（嵌套查询）一条select语句结果作为另一条select语法一部分第二十四天数据库有三种模型：层次模型，网状模型，关系模型关系数据库：采用关系模型的数据库主流的关系数据库有：商业关系数据库：Oracle, SQL Server, DB2， Sybase​                开源的关系数据库：MySQL, PostgreSQL关系数据的基本结构是：表主键的作用是：作为每条记录的唯一标识外键的作用是：通过引用主表中主键的信息来实现俩个表的关联关系模型有三种：一对一，一对多，多对多，都是通过外键引用主表的主键的信息来实现关联的SQL语言：1.是针对关系数据设计的2.各种数据库基本一致3.可以直接根据sql语句进行查询，不必关心数据库底层存储结构JDBC接口1.java程序访问数据库的标准接口，定义了访问数据库的标准规范2.JDBC接口是由jdk定义的连接关系数据库的规范，而具体用来连接数据库的驱动软件(包含jdbc接口的实现类)是由数据库产商定义的JDBC规范（掌握四个核心对象）：DriverManager:用于注册驱动Connection: 表示与数据库创建的连接Statement: 操作数据库sql语句的对象ResultSet: 结果集或一张虚拟表java程序访问数据库的步骤：一、不使用jdbc工具类的步骤\1. 注册驱动加载 Driver 类并在 DriverManager 类中注册后，它们即可用来与数据库建立连接通过创建驱动的Class对象把驱动类加载到jvm中Class.forname("com.mysql.jdbc.Driver")新加载的Driver类会自动调用 DriverManager.registerDriver方法进行自我注册\2. 获得连接.使用驱动管理类DriverManeger中的getConnection方法，传入三个字符串，创建连接对象Connection conn = DriverManager.getConnection(数据库地址，账号，密码);数据库地址的写法标准：mysql数据库: jdbc:mysql://数据库ip地址:3306（端口号）/要连接的数据库 或者  jdbc:mysql:///day04（默认本机连接）如果安装mysql的时候没有指定编码表，在使用java程序插入中文数据时会出现乱码解决办法：在数据库地址后？，？后再加俩个键值对 ，键值对之间有与&运算符连接： ?useUincode=true&characterEncoding=utf-8在5.版本后的驱动程序，还需要在数据库地址后加上时区& serverTimezone=Asia/Shanghai&useSSL=falseoracle数据库: jdbc:oracle:thin:@localhost:1521:sid\3. 获得执行sql语句的对象Statement stat = conn.createStatement();\4. 执行sql语句，并返回结果使用的是Statement类中的方法常用方法：int executeUpdate(String sql);--执行insert update delete语句.int i = statement.executeUpdate(sql); 返回表中记录更改的条数ResultSet executeQuery(String sql); --执行select语句.ResultSet resultSet = statement.executeQuery(sql); 返回Resultset对象\5. 处理结果 处理的是执行select查询语句的结果Resultset类中的方法：String getString(int index) / String getString(String name)获得字符串int getInt(int index) / int getInt(String name)获得整形double getDouble(int index) / double getDouble(String name)获得双精度浮点型boolean next() 如果Resultset对象中有记录就返回ture第一次调用next()方法时，便指向第一行记录的位置, 第二次调用指向第二行记录，以此类推，若指向的位置没有记录了，则返回falsewhile (resultSet.next()) {        ​      String cid = resultSet.getString("cid");​      String cname = resultSet.getString("cname");​      System.out.println("cid="+cid+"cname="+cname);​    }\6. 释放资源关闭的顺序是先得到的后关闭，后得到的先关闭close();把资源文件存储到Properties集合的步骤：1.把资源文件以输入流形式返回InputStream ins = Practice3.class.getClassLoader().getResourceAsStream("后缀为.properties文件");2.创建一个Properties集合，使用集合中的load(),把流中的文件存储到集合中Properties properties = new Properties();properties.load(ins);3.使用集合中的getProperties()方法，通过键找值，返回文件中的值JDBC工具类 JDBCUtils1.创建一个以.properties为后缀的资源文件文件内容：jdbc.driver=com.mysql.jdbc.driver  驱动的完整类名​        jdbc.url=jdbc:[mysql://localhost:3306/mydb](mysql://localhost:3306/mydb) 数据库的地址​        jdbc.user=root​        jdbc.password=root 2.创建 JDBCUtils工具类import java.io.IOException;import java.io.InputStream;import java.sql.*;import java.util.Properties;public class JDBCUtils {  private static String driver;  private static String user;  private static String url;  private static String password;  static {​    try {​      InputStream ins = JDBCUtils.class.getClassLoader().getResourceAsStream("jdbc.properties");​      Properties properties = new Properties();​      properties.load(ins);​      driver = properties.getProperty("jdbc.driver");​      user = properties.getProperty("jdbc.user");​      url = properties.getProperty("jdbc.url");​      password = properties.getProperty("jdbc.password");​      Class.forName(driver);​    } catch (IOException | ClassNotFoundException e) {​      e.getStackTrace();​    }  }  public static Connection getConnection() throws SQLException {​    Connection conn = DriverManager.getConnection(url,user, password);​    return conn;  }  public static void close(Connection conn, Statement stat,ResultSet rs) throws SQLException {​    if (rs != null) {​      rs.close();​    }​    if (stat != null) {​      stat.close();​    }​    if (conn != null) {​      conn.close();​    }  }}二、使用jdbc工具类的的步骤前提：1.写好了资源文件​     2.定义好了JDBCUtils工具类查询代码：​    //直接使用工具类中方法获取连接对象​    Connection conn = JDBCUtils.getConnection();​    Statement statement = conn.createStatement();​    String sql = "select * from category where cid='c003'";​    ResultSet resultSet = statement.executeQuery(sql);​    while (resultSet.next()) {​      String cid = resultSet.getString("cid");​      String cname = resultSet.getString("cname");​      System.out.println("cid=" + cid + "cname=" + cname);​    }   //直接使用工具类中的方法关闭资源​    JDBCUtils.close(conn, statement, resultSet);PreparedStatement预编译对象，是Statement对象的子类引入PreparedStatement的原因：SQL注入问题：**Statement 执行sql语句有Bug：**使用Statement 执行sql语句会把用户输入的内容与单引号''进行字符串拼接例如：如果用户输入 122' or '1=1​     Statement 执行的sql语句就变成：select * from user where user='' and password='122' or '1=1';​     这样的话，无论用户是否输对密码都会登录成功preparedStatement 1.会把sql语句先编译2.每条sql语句中所有的实际参数，都必须使用占位符?替换PreparedStatement使用：\1. 获取PreparedStatement预处理对象：String sql = "select * from category where cid=? or cid=?";传入参数用占位符代替的sql语句PreparedStatement pstat = conn.prepareStatement(sql);2.使用PreparedStatement类中set参数类型() 方法，为sql语句中的参数赋值void setXxx(int index, Xxx xx) 将指定参数设置指定类型的值参数1：index实际参数序列号，从1开始。参数2：xxx 实际参数值，xxx表示具体的类型。3.使用PreparedStatement类中的方法执行sql语句int executeUpdate();   --执行insert update delete语句.ResultSet executeQuery();   --执行select语句.****三、使用JDBCUtils工具类和PreparedStatement的步骤​    Connection conn = JDBCUtils.getConnection();​    String sql = "select * from category where cid=? or cid=?";​    PreparedStatement pstat = conn.prepareStatement(sql);​    pstat.setString(1,"c001");​    pstat.setString(2,"c002");​    ResultSet resultSet = pstat.executeQuery();​    while (resultSet.next()) {​      String cid = resultSet.getString("cid");​      String cname = resultSet.getString("cname");​      System.out.println("cid="+cid+"cname"+cname);​    }​    JDBCUtils.close(conn,pstat,resultSet);VSCode第二十五天连接池Java为数据库连接池提供了公共的接口（定义了连接池的标准和规范）：java.sql.DataSource创建连接池的目的：解决创建连接和销毁连接所消耗的资源，提高性能***连接池的原理：将多个连接放到连接池中，用户要要连接数据库的时候，使用连接池的工具类中的方法从连接池中得到一个连接，在使用完后，再将连接返回给连接池Druid 连接池Druid的下载地址：https://github.com/alibaba/druidDRUID连接池使用的jar包：druid-1.1.16.jarDruid连接池工具类编写（需要手动编写）前提：\1. 导入DRUID jar 包\2. 编写配置文件（后缀是.properties）driverClassName=com.mysql.jdbc.Driverurl=jdbc:[mysql://localhost:3306/mydb](mysql://localhost:3306/mydb)username=rootpassword=root创建DruidUtils工具类1.定义一个静态字段Datasource对象，初始值设为null2.把配置文件加载到内存3.为静态字段Datasource对象赋值4.创建静态方法返回一个Datasource对象5.创建静态方法返回一个Connection对象import javax.sql.DataSource;import java.io.InputStream;import java.sql.Connection;import java.sql.SQLException;import java.util.Properties;public class DruidUtils {  public static DataSource ds = null;  static {​    try {​      InputStream ins = DruidUtils.class.getClassLoader().getResourceAsStream("druiddatesource.properties");​      Properties properties = new Properties();​      properties.load(ins);​      ds = DruidDataSourceFactory.createDataSource(properties);​    } catch (Exception e) {​      e.printStackTrace();​    }  }  public static DataSource getDataSource() {​    return ds;  }  public static Connection getConnection() throws SQLException {​    Connection conn = ds.getConnection();​    return conn;  }}DBUtils1.是java编程中的数据库操作实用工具，DBUtils封装了对JDBC的操作，简化了JDBC操作2.项目需要导入commons-dbutils-1.6.jar才能够正常使用DBUtils工具   依赖于commons-logging-1.1.1.jarDbutils三个核心功能介绍一、QueryRunner：执行Sql语句的类构造方法：QueryRunner(DataSource)   传入连接池对象方法：update(String sql , Object ... params)  执行增删改语句，传入sql语句和sql语句中每个参数的值 或者 传入Object类型的数组（包含每个参数的值）1：  int update = queryRunner.update(sql, 14, "钉钉", 1000, "c0006");2：  Object[] objects = {15,"呜呜",1000,"c006"};​        int update = queryRunner.update(sql,objects);query(String sql , ResultSetHandler , Object ... params)  执行DQL语句传入：sql语句 如何处理结果的ResultSetHandler接口的实现类对象，需要使用泛型 参数的值二、ResultSetHandler：定义如何封装查询结果的接口前提：javabean类必须与数据库中的查询的表相匹配JavaBean具有如下特性\1. 需要实现接口：java.io.Serializable ，通常实现接口这步骤省略了，不会影响程序。\2. 提供私有字段：private 类型字段名;\3. 提供getter/setter方法：\4. 提供无参构造四个实现类1.BeanHandler：将结果集中第一条记录封装到一个指定的javaBean对象中返回一个javaBean对象​    public void testDBUtils4() throws SQLException {​    QueryRunner queryRunner = new QueryRunner(DruidUtils.getDataSource());​    String sql = "select * from product where pid=?";​    Product product = queryRunner.query(sql, new BeanHandler<Product>(Product.class),14);​    System.out.println(product);  }2.BeanListHandler：将结果集中每一条记录封装到指定的javaBean中，将这些javaBean在封装到List集合中返回一个List集合​    QueryRunner queryRunner = new QueryRunner(DruidUtils.getDataSource());​    String sql = "select * from product where pid<?";​    List<Product> list = queryRunner.query(sql,new BeanListHandler<Product>(Product.class),5);​    for (Product p : list) {​      System.out.println(p);​    }3.ScalarHandler：一般用于处理聚合函数的结果，它是用于单数据。***返回的类型是整型，泛型用Long类型***返回的类型是浮点型，泛型用BigDecimal类型​    QueryRunner queryRunner =new QueryRunner(DruidUtils.getDataSource());​    String sql = "select avg(pid) from product";​    BigDecimal bigDecimal = queryRunner.query(sql, new ScalarHandler<BigDecimal>());​    System.out.println("bigDecimal = " + bigDecimal);4.ColumnListHandler：将结果集中指定的列的字段值，封装到一个List集合中***返回一个List集合 列的类型是什么 list集合中的泛型就写什么​    QueryRunner queryRunner =new QueryRunner(DruidUtils.getDataSource());​    String sql = "select * from product";​    List<String> list = queryRunner.query(sql,new ColumnListHandler<String>("pname")); //****​    for (String s : list) {​      System.out.println("s = " + s);​    }三、DbUtils：第二十六天数据库JDBC（事务操作&ThreadLocal）事务：表示一组操作要么全部成功，要么全部失败俩种事务管理方式：自动提交：即执行一条sql语句提交一次事务。手动提交：先开启，再提交mysql默认是自动提交mysql事务操作start transaction 开启事务commit  提交事务，让事务结果生效rollback  回滚事务，让事务结果失效创建工程方式变化：jdbc事务操作模拟转账使用Connection对象的方法名描述conn.setAutoCommit(false)  把自动提交设置为false  开启事务[conn.commit](http://conn.commit/)()   提交事务 让事务结果生效conn.rollback()   回滚事务 让事务结果失效需要手动关闭资源前提：已导入DruidUtils工具类代码：//---------------------------------import org.junit.Test;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.SQLException;public class TestTransaction {  //  jdbc事务操作  /*  1.获得连接​     2.开始事务​     \3. 具体的sql操作(加钱, 减钱)​     \4. 提交事务​     5.如果出现异常, 回滚事务​     6.释放资源*/    private Connection conn = null;  private PreparedStatement pstat = null;  @Test  public void test1() {​    try {​      conn = DruidUtils.getConnection();​      conn.setAutoCommit(false);​      String sql1 = "update account set money=money-? where name=?";​      String sql2 = "update account set money=money+? where name=?";​      pstat = conn.prepareStatement(sql1);​      pstat.setDouble(1,1000);​      pstat.setString(2,"rose");​      int update = pstat.executeUpdate();//    double i = 1/0;​      System.out.println("update = " + update);​      pstat = conn.prepareStatement(sql2);​      pstat.setDouble(1,1000);​      pstat.setString(2,"tom");​      int update1 = pstat.executeUpdate();​      System.out.println("update1 = " + update1);​      [conn.commit();](http://conn.commit()%3B/)​      conn.close();​      pstat.close();​    } catch (Exception e) {​      e.printStackTrace();​      try {​        conn.rollback();​        conn.close();​        pstat.close();​      } catch (SQLException throwables) {​        throwables.printStackTrace();​      }​    }  }}//-------------------------------------DBUtils事务操作Connection对象的方法名描述conn.setAutoCommit(false) 把自动提交设置为false，开启事务new QueryRunner()  创建QueryRunner对象，但是不传入数据源query(conn , sql , handler, params ) 或update(conn, sql , params) 在进行执行sql操作时，传入连接对象***[DbUtils.commitAndCloseQuietly(conn](http://dbutils.commitandclosequietly(conn/)) 提交事务并关闭资源，需要传入连接对象***DbUtils.rollbackAndCloseQuietly(conn）回滚事务并关闭资源，需要传入连接对象//------------------------------------import [org.apache.commons.dbutils.DbUtils;](http://org.apache.commons.dbutils.dbutils%3B/)import [org.apache.commons.dbutils.QueryRunner;](http://org.apache.commons.dbutils.queryrunner%3B/)import org.junit.Test;import java.sql.Connection;//DBUtils 的事务操作public class TestDBUtilsTransaction {   /*   1.获得连接   2.开始事务   3.具体的sql操作(加钱, 减钱)   4.提交事务 ,释放资源   5.如果出现异常, 回滚事务释放资源   */  private Connection conn = null;  @Test  public void test1() {​    try {​      conn = DruidUtils.getConnection();​      QueryRunner qr = new QueryRunner();​      conn.setAutoCommit(false);​      String sql1 = "update account set money=money-? where name=?";​      String sql2 = "update account set money=money+? where name=?";​      int rose = qr.update(conn, sql1, 1000, "rose");​      System.out.println("rose = " + rose);​      int tom = qr.update(conn, sql2, 1000, "tom");​      System.out.println("tom = " + tom);​      [DbUtils.commitAndCloseQuietly(conn);](http://dbutils.commitandclosequietly(conn)%3B/)​    } catch (Exception e) {​      e.printStackTrace();​      DbUtils.rollbackAndCloseQuietly(conn);​    }  }}//--------------------------------------JavaEE分层开发思想使用分层开发思想, 完成转账web端程序：//------------------------------------------import com.practice.server.AccountServer;public class TestAccount {  /** * 程序执行的入口 */  public static void main(String[] args) {​    /*  1. 模拟数据扣款人收款人金额​       \2. 调用AccountService中转账方法​       \3. 打印转账后的结果 ( 成功, 失败)​    */​    String outUser = "rose";​    String inUser = "tom";​    double money = 1000;​    //调用AccountService中的转账方法​    try {​       AccountServer accountServer = new AccountServer();​       accountServer.transferAccount(outUser,inUser,money);​      System.out.println("转账成功");​    } catch (Exception e) {​      e.printStackTrace();​      System.out.println("转账失败");​    }  }}//---------------------------------------server端的程序//------------------------------------------import com.practice.dao.AccountDao;import com.practice.utils.DruidUtils;import [org.apache.commons.dbutils.DbUtils;](http://org.apache.commons.dbutils.dbutils%3B/)import [org.apache.commons.dbutils.QueryRunner;](http://org.apache.commons.dbutils.queryrunner%3B/)import java.sql.Connection;import java.util.Queue;//服务器端进行的操作public class AccountServer {  /*** 转账方法*   \* 参数1 : 扣款人*   \* 参数2 : 收款人*   \* 参数3 : 金额*/  Connection conn = null;  public void transferAccount(String outUsrt, String inUser, double money) {​    try {​      //创建连接，开启事务​      conn = DruidUtils.getConnection();​      conn.setAutoCommit(false);​      //调用AccountDao中的减钱和加钱方法对数据库进行操作​      AccountDao accountDao = new AccountDao();​      accountDao.out(conn,outUsrt,money);​      accountDao.in(conn,inUser,money);​      //提交连接并释放资源​      [DbUtils.commitAndCloseQuietly(conn);](http://dbutils.commitandclosequietly(conn)%3B/)​    } catch (Exception e) {​      e.printStackTrace();​      DbUtils.rollbackAndCloseQuietly(conn);​    }  }}//---------------------------------------数据库中的代码//-----------------------------------------import [org.apache.commons.dbutils.QueryRunner;](http://org.apache.commons.dbutils.queryrunner%3B/)import java.sql.Connection;import java.sql.SQLException;public class AccountDao {  /*** 扣钱方法*   \* @param outUser * 扣钱人   \* @param * money 金额   \* */  QueryRunner queryRunner = null;  public void out(Connection conn, String outUser, double money) throws SQLException {​    queryRunner = new QueryRunner();​    String sql1 = "update account set money=money-? where name=?";​    queryRunner.update(conn, sql1, money,outUser);  }  /*** 加钱方法*   \* @param inUser 收钱人   \* @param money 金额   \* */  public void in(Connection conn,String inUser,double money) throws SQLException {​    queryRunner = new QueryRunner();​    String sql2 = "update account set money=money+? where name=?";​    queryRunner.update(conn, sql2, money,inUser);  }}//-----------------------------------------ThreadLocaljava.lang.ThreadLocal：该类提供了线程局部 (thread-local) 变量，用于在当前线程中共享数据ThreadLocal工具类底层就是相当于一个Map，key存放的当前线程，value存放需要共享的数据ThreadLocal的使用步骤:1.创建ThreadLocal对象，2.使用ThreadLocal中的set()方法，给当前线程设置一个线程局部变量3.在需要使用该线程局部变量的时候，使用ThreadLocal中的get()方法获取***注意：ThreadLocal类定义的线程局部变量只能在本线程中使用一般在线程中不变的变量可以使用ThreadLocal类设置成线程局部变量，方便在线程其他地方使用。使用了ThreadLocla技术的DBUtils工具类//-----------------------------------------import com.alibaba.druid.pool.DruidDataSourceFactory;import javax.sql.DataSource;import java.io.InputStream;import java.sql.Connection;import java.sql.SQLException;import java.util.Properties;public class DruidUtils {  public static DataSource ds = null;  static {​    try {​      InputStream inputStream = DruidUtils.class.getClassLoader().getResourceAsStream("Druid.properties");​      Properties properties = new Properties();​      properties.load(inputStream);​      ds = DruidDataSourceFactory.createDataSource(properties);​    } catch (Exception e) {​      System.out.println("e = " + e);​    }  }  public static DataSource getDataSource() {​    return ds;  }  public static Connection getConnection() throws SQLException {​    ThreadLocal<Connection> threadLocal = new ThreadLocal<>();​      Connection conn = threadLocal.get();​      if (conn == null) {​        conn = ds.getConnection();​        threadLocal.set(conn);​      }​      return conn;  }}//-----------------------------------------web中的代码//----------------------------------------------import com.practice.server.AccountServer;public class AccountWeb {  /** * 程序执行的入口 */  public static void main(String[] args) {​    /*  1. 模拟数据扣款人收款人金额​       \2. 调用AccountService中转账方法​       \3. 打印转账后的结果 ( 成功, 失败)​    */​    String outUser = "rose";​    String inUser = "tom";​    double money = 1000;​    //调用AccountService中的转账方法​    try {​      AccountServer accountServer = new AccountServer();​      accountServer.transferAccount(outUser,inUser,money);​      System.out.println("转账成功");​    } catch (Exception e) {​      e.printStackTrace();​      System.out.println("转账失败");​    }  }}//-------------------------------------------------------server中的代码//--------------------------------------------------------import com.practice.database.AccountDatabase;import com.practice.utils.DruidUtils;import [org.apache.commons.dbutils.DbUtils;](http://org.apache.commons.dbutils.dbutils%3B/)import java.sql.Connection;public class AccountServer {  /*** 转账方法*   \* 参数1 : 扣款人*   \* 参数2 : 收款人*   \* 参数3 : 金额*/  Connection conn = null;  public void transferAccount(String outUsrt, String inUser, double money) {​    try {​      conn = DruidUtils.getConnection();​      conn.setAutoCommit(false);​      //调用AccountDao中的减钱和加钱方法对数据库进行操作​      AccountDatabase accountDatabase = new AccountDatabase();​      accountDatabase.out(outUsrt,money);​      accountDatabase.in(inUser,money);​      [DbUtils.commitAndCloseQuietly(conn);](http://dbutils.commitandclosequietly(conn)%3B/)​    } catch (Exception e) {​      e.printStackTrace();​      DbUtils.rollbackAndCloseQuietly(conn);​    }  }}//-----------------------------------------------------数据库操作的代码//---------------------------------------------------public class AccountDatabase {  /*** 扣钱方法*   \* @param outUser * 扣钱人   \* @param * money 金额   \* */  QueryRunner queryRunner = null;  public void out(String outUser, double money) throws SQLException {​    Connection conn = DruidUtils.getConnection();​    queryRunner = new QueryRunner();​    String sql1 = "update account set money=money-? where name=?";​    queryRunner.update(conn, sql1, money,outUser);  }  /*** 加钱方法*   \* @param inUser 收钱人   \* @param money 金额   \* */  public void in(String inUser,double money) throws SQLException {​    Connection conn = DruidUtils.getConnection();​    queryRunner = new QueryRunner();​    String sql2 = "update account set money=money+? where name=?";​    queryRunner.update(conn, sql2, money,inUser);  }}//--------------------------------------------------第二十七天Tomcat&Http&Servletweb:万维网，一种基于超文本和HTTP的、全球性的、动态交互的、跨平台的分布式图形信息系统java web:使用javas技术来解决web开发的的技术总和Java Web开发中的资源静态web资源:html,js,css动态web资源:Servlet,jspURL:统一资源定位符，是互联网上资源的一种表示，互联网上的每个文件都有唯一的URL完整格式：协议：//域名或ip:端口号/资源位置？请求参数=值软件开发的结构分类1.CS结构的软件cs: client/server客户端/服务器，这种软件需要安装客户端才可以使用优缺点：优点是：可以减轻服务器端压力，将部分代码写到客户端，界面很美观缺点是：一旦服务器更新了，客户端也需要更新，分布式开发比较弱2.BS结构的软件Bs：browser/server 浏览器/服务器 这种软件不需要安装，可以直接通过浏览器访问服务器优缺点：优点：服务器一旦更新，不需要更新客户端，因为客户端就是浏览器，比较强的分布式能力缺点：服务器端压力会比较大。界面效果不如CS结构软件WEB服务器服务器硬件：一台配置非常高的电脑软件：在一台电脑上安装web服务器的软件Tomcat 服务器软件1.把tomcat软件安装到电脑上，这台电脑就可以作为服务器使用2.默认端口号：80803.Tomcat运行需要依赖Java环境，需要配置JAVA_HOME环境变量4.要在idea中使用tomcat,需要先将tomcat与idea进行关联5.可以响应对html页面的访问请求6.支持运行基于Servlet的java程序Tomcat版本   Servlet版本   JavaEE版本9.0.x           4.0         8.08.5.x           3.1         8.08.0.x           3.1         7.07.0.x          3.0         6.06.0.x          2.5         5.0在JavaEE规范中，WEB项目存在一定的目录结构，具体结构如下：项目名称（存放于：Tomcat软件安装目录中，webapps目录下的子文件夹）|-----静态资源 HTML，CSS，JS|-----WEB-INF  （不能直接通过浏览器进行访问）​       |----web.xml 当前WEB项目的核心配置，Servlet2.5必须有，3.0以后可省略​       |----lib当前WEB项目所需要的第三方的jar的存放位置。​       |----classes Java源码编译后生成class文件存放的位置。HTTPHTTP协议:超文本传输协议，用来定义浏览器和web服务器之间交换数据的过程1.默认端口号是80Http请求：客户端向服务器端发起的请求包括四个部分：请求行:请求方式 url 协议/版本​               请求头：请求参数 以键值对形式存在​               空行：​              请求体：表单，用来存放Post请求中带的请求参数Http响应：从服务端到客户端响应也包括四个部分：响应行：协议/版本 状态码 状态码描述​                响应头：参数 以键值对形式存在​                空行：​                响应体：返回给浏览器的内容Servlet（server applet）：服务器端小程序作用：java类，运行时生成动态html网页的java程序Servlet的使用步骤：\1. 编写一个Java类实现Servlet的接口需要重写Servlet中的五个抽象方法每次请求该Sevlet都会执行其中的service方法\2. 在web.xml中，配置Servlet<servlet><servlet-name>Servlet类名</servlet-name><servlet-class>Serblet的完整类名</servlet-class></servlet><servlet-mapping><servlet-name>Servlet类名</servlet-name><url-pattern>/Servlet的别名（用于浏览器中请求Servlet）</url-pattern></servlet-mapping>\3. 访问servletHttpServlet Servlet接口   GenericServlet类     通用的Servlet，是一个与协议无关的Servlet​       HttpServlet类   Http协议专用的Servlet,专⻔用来处理HTTP协议的请求响应​         有俩个方法：doGet方法doPost方法​         继承了HttpServlet之后不需要重写service方法，只需要重写doGet和doPost方法即可​         当浏览器的请求方式是get方式时，会执行doGet方法​         当浏览器的请求方式时post方式时，会执行doPost方法****案例用户登录1.创建数据库表CREATE TABLE `user`(  username VARCHAR(50),  `password` VARCHAR(50));INSERT INTO `user` VALUES('tom','123'),('jerry','456');2.创建WEB项目  添加必要的jar，配置文件，工具类，JavaBean(User类)  创建自己的包  //User类  public class User {  private String username;  private String password;  public String getUsername() {​    return username;  }  public void setUsername(String username) {​    this.username = username;  }  public String getPassword() {​    return password;  }  public void setPassword(String password) {​    this.password = password;  }}3.编写⻚面<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">  <title>用户登录</title></head><body><form action="/tomcat/login" method="post">  用户名：<input type="text" name="username" value=""/> <br/>  密 码：<input type="text" name="password" value=""/> <br/>  <input type="submit"/></form></body></html>4.编写服务器Servletimport com.pojo.User;import com.utils.DruidUtils;import [org.apache.commons.dbutils.QueryRunner;](http://org.apache.commons.dbutils.queryrunner%3B/)import [org.apache.commons.dbutils.handlers.BeanHandler;](http://org.apache.commons.dbutils.handlers.beanhandler%3B/)import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.io.PrintWriter;import java.sql.SQLException;public class LoginServlet extends HttpServlet {  @Override  protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {​    //开发中，get和post请求的处理方式是一样的​    doPost(req,resp);  }  @Override  protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {​    String username = req.getParameter("username");​    String password =req.getParameter("password");​    QueryRunner queryRunner = new QueryRunner(DruidUtils.getDataSource());​    String sql = "select * from user where username=? and password=?";​    try {​      User user = queryRunner.query(sql,new BeanHandler<User>(User.class),username,password);​      if (user == null) {​        System.out.println("登录失败");​        PrintWriter writer = resp.getWriter();​        writer.print("login fail");​      } else {​        System.out.println("登录成功");​        PrintWriter writer = resp.getWriter();​        writer.print("login success");​      }​    } catch (SQLException throwables) {​      throwables.printStackTrace();​    }  }}5.将浏览器与Servlet关联  <servlet>​    <servlet-name>LoginServlet</servlet-name>​    <servlet-class>com.servlet.LoginServlet</servlet-class>  </servlet>  <servlet-mapping>​    <servlet-name>LoginServlet</servlet-name>​    <url-pattern>/login</url-pattern>  </servlet-mapping>6.更新服务器中的内容7.访问login.html页面8.进行用户登录第二十八天ServletContext & Response 这俩个对象是由tomcat创建的ServletContext1.使用ServletContext对象表示WEB应用程序(在Tomcat服务器中的web的项目)2.ServletContext是接口, 此接口的实现类是tomcat引擎提供3.在一个WEB应用程序中，只能存在一个ServletContext对象4.在服务器启动的时候，为每个web应用程序创建一个单独的ServletContext对象5.当web项目从服务器中移除，或者是关闭服务器的时候ServletContext对象会被销毁如何获取ServletContext对象使用ServletConfig中的getServletContext方法创建一个Servlet,让其继承HttpServletHttpServlet的父类GenericServlet中实现了ServletConfig方法ServletContext servletContext = super.getServletContext();作用：1.获取web项目的初始化参数在web.xml配置文件中设置参数参数  <context-param>​    <param-name>bai</param-name>​    <param-value>123</param-value>  </context-param>获取SetvletContext对象ServletContext servletContext = super.getServletContext();使用SetvletContext对象中的getInitParameter()方法public String getInitParameter(String name);  传入键，返回值2.获取web项目下任意资源编译后的绝对路径(out目录下的资源的绝对路径)注意：只有web目录和src目录下的内容才会被编译进tomcat中使用使用SetvletContext对象中的getRealPath()方法public String getRealPath(String path); 传入相对路径，返回绝对路径注意：web1_war_exploded相当于web目录，classes目录相当于src目录out\artifacts\web1_war_exploded\WEB-INF\classes相对路径：以out目录下的out\artifacts\web1_war_exploded为顶层目录web1_war_exploded目录下的文件的相对路径：文件名.后缀WEB-INF目录下的文件的相对路径：WEB-INF//文件名.后缀classes目录下的文件的相对路径：WEB-INF//classes//文件名.后缀3.作为域对象，存储全局数据放在ServletContext中的数据，单前项目中的每个Servlet都可以访问javaweb四大域对象根据有作用范围由小到大：page(jsp有效)------》page域指在当前⻚面中有效, 一旦⻚面超出该⻚面就不能访问了.request(一次请求)---》request域指在本次请求与响应过程中, 都能够访问.session(一次会话)---》session域指在本次打开浏览器访问服务器开始, 到本次浏览器关闭之间访问有效application(当前web应用)---》application域指在当前web项目中均可访问. 由ServletContext代表application域都内置了map集合，都有setAttribute和getAttribute  方法向域对象中存储数据(存储的数据是键值对)public void setAttribute(String name, Object object);得到域对象中存储的数据public Object getAttribute(String name);移除域对象中存储的数据public void removeAttribute(String name);案例 统计用户访问服务器的的次数//init()方法：在用户第一次访问该servlet的时候会先执行一次init()方法，然后再执行doget()方法@Overridepublic void init() throws ServletException {  ServletContext context = super.getServletContext();  context.setAttribute("count",0);}protected void doGet(HttpServletRequest request, HttpServletResponseresponse) throws ServletException, IOException {  //取出数据进行加1操作，再将数据进行更改  ServletContext context = super.getServletContext();  //getAttribute()方法返回的是一个Object对象，需要强转为Integer对象，才能进行自加操作  Integer count = (Integer) context.getAttribute("count");  count++;  System.out.println("welcome " + count);  context.setAttribute("count",count);}ServletServlet 3.0版本时，新增的注解作用：用于简化 Servlet、过滤器（Filter）和监听器（Listener）的声明__________________________________________________________________________注解开发取代web.xml1.直接创建Servlet2.更改注解中的键，改为urlPatterns，并在值的前面加/ 或者直接去掉注解中的键，在值前面加/ 原因：不写键，默认键是urlPatterns方式一、@WebServlet(urlPatterns = "/annotation2")public class annotation2 extends HttpServlet {  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }}方式二、@WebServlet("/annotation2")public class annotation2 extends HttpServlet {  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }}**********更改Servlet注解模板后，直接创建Servlet即可创建Servlet时，name:Servlet在网页中的地址  class:Servlet的完整类名注意：在web项目中修改或增加了内容后，一定要重新部署web项目，要不会报错_____________________________________________________________________________***Response对象1.对浏览器的请求进行响应的对象2.Response对象是由tomcat创建的响应：服务器收到浏览器的请求后，对请求进行处理，并把处理结果返回给浏览器的过程响应内容包括: 响应行,响应头,响应体Response设置响应行设置响应的状态码200        正确302        重定向304        查找本地缓存 浏览器请求的数据跟上一次请求一样，状态码返回304，告诉浏览器去浏览器本地缓存中找404        请求资源不存在500        服务器内部错误使用response对象中的setStatus方法public void setStatus(int sc);response.setStatus(404);Response设置响应头1.响应头的内容是键值对2.响应头的内容包含指导信息，指导浏览器设置响应头的一些方法：addHeader(String key,String value) 无返回值  添加响应头，值为String类型addIntHeader(String key,int value) 无返回值   添加响应头，值为int类型addDateHeader(String key,long l)  无返回值   添加响应头，值为日期类型setHeader(String key,String value) 无返回值   更改响应头，值为String类型setIntHeader(String key,int value)  无返回值   更改响应头，值为int类型setDateHeader(String key,long l)   无返回值   更改响应头，值为日期类型Response设置响应体1.响应体中内容是返回给浏览器页面的内容字符流向浏览器写数据1.使用response对象中getWriter()方法，返回一个PrintWriter对象PrintWriter pw = response.getWriter();2.使用PrintWriter对象中的print()方法和write()方法向浏览器写数据print()方法：原样输出write()方法：输入字符串时原样输出，输入整数时，返回整数在编码表中对应的字符​    pw.print(100);    100​    pw.print("ssss")   ssss​    pw.write("ssdd");  ssdd​    pw.write(97);     a****字符流的中文乱码问题    原因：response底层用的编码表不识别中文方法一:setHeader("Content-Type","text/html;charset=UTF-8")//在响应头加一个键值对 "content-type","text/html;charset=utf-8"response.setHeader("content-type","text/html;charset=utf-8");方法二:setContextType(String type)//使用response对象中的setContentType方法，只需要传入"text/html;charset=utf-8"这个字符串即可response.setContentType("text/html;charset=utf-8");字节流向浏览器写数据使用response对象中的getOutputStream()方法服务器给浏览器传一张照片​    ServletContext sc = getServletContext();​    String realPath = sc.getRealPath("WEB-INF\\classes\\tupian.jpg");​    FileInputStream fis = new FileInputStream(realPath);​    System.out.println(realPath);​    OutputStream os = response.getOutputStream();​    byte[] bytes = new byte[1024];​    int len;​    while ((len =fis.read(bytes)) != -1) {​      os.write(bytes,0,len);​    }​    fis.close();重定向重定向的资源位置可以跨项目重定向的理解:浏览器请求服务器的某个servlet,该servlet中没有浏览器中需要的信息，而该servlet知道浏览器所要的信息的地址，因此该servlet返回给浏览器一个302状态码和所需信息的位置浏览器进行重新的定向:方法一、1.设置302状态码: setStatus(302)2.设置重定向资源的地址: setHeader("location","资源")response.setStatus(302);response.setHeader("location","/annotation/annotation1");方法二、直接是response对象中的sendRedirect()方法sendRedirect(String location) 传入资源位置response.sendRedirect("/annotation/annotation1");\-----------------------------------------------------------------------------------------------------文件下载案例html中的代码​    <a href="/download/download2?filename=照片.jpg" name="">点击下载图片</a>>  servlet中的代码@WebServlet("/download2")public class Download2 extends HttpServlet {  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    //获取请求头中的参数filename所对应的文件路径​    String filepath = request.getParameter("filename");​    //根据浏览器传进来的此文件相对路径得到文件的绝对路径​    String realPath = getServletContext().getRealPath("WEB-INF/" + filepath);​    FileInputStream fis = new FileInputStream(realPath);​    //解决文件名中带中文浏览器下载后文件名乱码问题​    String agent = request.getHeader("User-Agent");​    if (agent.contains("MSIE")) {​      // IE浏览器​      filepath = URLEncoder.encode(filepath, "utf-8");​      filepath = filepath.replace("+", " ");​    } else if (agent.contains("Firefox")) {​      // 火狐浏览器​      BASE64Encoder base64Encoder = new BASE64Encoder();​      filepath = "=?utf-8?B?" + base64Encoder.encode(filepath.getBytes("utf-8")) + "?=";​    } else {​      // 其它浏览器​      filepath = URLEncoder.encode(filepath, "utf-8");​    }​    //通知浏览器该文件进行下载,不要打开​    response.setHeader("Content-Disposition","attachment;filename="+filepath);​    //使用字节流把文件传给浏览器​    OutputStream os = response.getOutputStream();​    int len;​    byte[] bytes = new byte[1024];​    while ((len = fis.read(bytes)) != -1) {​      os.write(bytes,0,len);​    }​    fis.close();  }}\------------------------------------------------------------------------------------------------案例验证码从字符串中生成四个随机字符​     String a = "abcdefghigklmnopqrstuvwxyz0123456789";​    for (int i=0; i<4; i++) {​      Random rd = new Random();​      //生成字符串中的一个随机索引​      int index = rd.nextInt(a.length());​      //使用String中的charAt()方法得到索引处的字符​      char b = a.charAt(index);​      System.out.println("b = " + b);​    }第二十九天request1.⼦接⼝HttpServletRequest, 它继承⾃ServletRequest, 是与HTTP协议相关的Request请求对象2.可以实现客户端向服务器发出请求, 请求内容包括: 请求⾏,请求头,请求体一、使用request获取请求行1.获取请求方式⽅法             返回值    描述getMethod()      String   获取提交的⽅式 (GET,POST)String method = request.getMethod();System.out.println("method = " + method);2.获取WEB项目的虚拟路径getContextPath()  String    获取WEB项目的虚拟路径String path = request.getContextPath();System.out.println("path = " + path);****二、使用request获取post请求中的请求参数\1. 获得提交的参数（⼀个键对应一个值的参数）⽅法                               返回值      描述    getParameter(表单中的name）           String     获得提交的参数（⼀个name对应⼀个value）String vlaue = request.getParameter("username");System.out.println("vlaue = " + vlaue);2.获得提交的参数（⼀个键对应多个值的参数）getParameterValues(表单中的name值)   String[]    获得提交的参数（⼀个name对应多个value）String[] values = request.getParameterValues("hobby");System.out.println(Arrays.toString(values));3.获得提交的参数，将提交的参数名称和对应值存⼊到⼀个Map集合中getParameterMap() Map<String,String[]>   获得提交的参数，将提交的参数名称和对应值存⼊到⼀个Map集合中Map<String,String[]> map = request.getParameterMap();Set<String> set = map.keySet();for (String key : set) {​    String[] strings = map.get(key);​    System.out.println(key+"="+Arrays.toString(strings));}***使用request对象接收post请求中的请求参数时会出现中文乱码解决办法：修改request缓冲区的编码request.setCharacterEncoding("utf-8");Tomcat8.5版本之后, Tomcat⾃动处理了get请求的中⽂乱码问题Request域对象(一次请求域)⼀次请求范围：从客户端浏览器向服务器发送⼀次请求，服务器针对这次请求对浏览器作出响应。当服务器作出响应之后，请求对象就销毁了，保存在其中的数据就⽆效了。⽅法                             返回值                描述setAttribute(String name, Object obj)    void         向Request域中保存数据request.setAttribute("name","bai");getAttribute(String name)             Object       从Request域中获取数据Object name = request.getAttribute("name");System.out.println("name = " + name);removeAttribute(String name)          void        从Request域中移除数据request.removeAttribute("name");****请求转发请求转发后浏览器访问的路径就是转发后的路径，但是可以使用第一个路径中的资源1.⽅法                            返回值             描述getRequestDispatcher(String path)    RequestDispatcher   获得RequestDispatcher对象RequestDispatcher requestDispatcher = request.getRequestDispatcher("/practice2");2.⽅法                                             返回值         描述forward(ServletRequest request, ServletResponse response)   void       进⾏请求转发requestDispatcher.forward(request,response);****请求转发和重定向区别重定向：浏览器进行俩次请求​       浏览器地址栏改变​       重定向后的路径可以是外网​       重定向地址需要写虚拟路径请求转发：浏览器进行一次请求​        浏览器地址栏不变​        不能转发到外网​        不需要写虚拟路径***案例_⽤户登录注册  在web9工程中实例类中基本数据类型都用包装类型第三十天lambda表达式：一种匿名函数，没有声明的方法，即没有修饰符，没有返回值声明和名字作用：用于简化单抽象方法接口的实现​     可以自动识别参数类型语法:() ->{};     函数式接口：单抽象方法接口函数式编程：将函数本身作为参数传递给另一个函数的编程方式，并且返回一个函数函数式接口主要有四个1.Supplier<T> 无输入，返回一个T类型的值get() 获取返回值2.Consumer<T> 输入一个T类型的值，无返回值accept() 传入参数3.Funtion<T,R> 输入一个T类型的值，返回一个R类型的值apply() 获取返回值compose()andThen()​    Function<Integer,Integer> fuction1 = (Integer a) -> {return a+10;};​    Function<Integer,Integer> fuction2 = (Integer a) -> {return a*10;};​    System.out.println(fuction1.apply(10));​    System.out.println([fuction1.compose(fuction2).apply(10));](http://fuction1.compose(fuction2).apply(10))%3B/)​    System.out.println(fuction1.andThen(fuction2).apply(10));4.Predicate<T> 输入一个T类型的值，返回Ture或Falsetest()negate()and()or()​    Predicate<Integer> predicate2 = a -> a>1;​    Predicate<Integer> predicate1 = (Integer a) -> a<5;​    System.out.println(predicate1.test(4));​    System.out.println(predicate1.negate().test(4));​    System.out.println(predicate1.and(predicate2).test(2));​    System.out.println(predicate1.or(predicate2).test(6));Stream流式编程List<Integer> list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);1.串行流 单线程处理list.stream().filter((x) -> x%2 == 1).forEach((y) -> System.out.println(Thread.currentThread().getName()+y));2.并行流 多线程处理list.parallelStream().filter((x) -> x%2 == 1).forEach((y) -> System.out.println(Thread.currentThread().getName()+y));方法引用的五种方式：User user = new User("baiyulong");1.类名::静态方法名Supplier<String> stringSupplier = User::get;System.out.println(stringSupplier.get());2.对象名::方法名3.类名::new 引用类中的构造方法Function<String,User> function = User::new;System.out.println(function.apply("ssss"));Stream流式编程的应用场景：1.集合遍历遍历存放普通数据类型的集合​    List<Integer> list = Arrays.asList(1, 2, 3, 4, 5);​    list.stream().forEach((x) -> System.out.println(x));​    list.stream().forEach(System.out::println);遍历存放引用数据类型的集合​     list1.stream().forEach(System.out::println);  方法引用​    list1.stream().forEach(x -> System.out.println(x.getName())); lambda表达式​    2.list转map                                           age作为键  其他字段作为值  如果键重复，取第一个键所对应的值Map<Integer,User> map = list1.stream().collect(Collectors.toMap(User::getAge, x->x,(k1,k2)->k1));  System.out.println(map);  结果：{1=User{name='a'}, 2=User{name='aa'}, 3=User{name='aaa'}}3.list分组Map<String,List<User>> map = list1.stream().collect(Collectors.groupingBy(User::getSex));System.out.println(map); 结果：{女=[User{name='aa'}, User{name='aaaa'}], 男=[User{name='a'}, User{name='aaa'}]}4.list过滤                     listg过滤                 stream转list方式一：List<User> list2 = list1.stream().filter(x->x.getSex().equals("男")).collect(Collectors.toList());   方式二：list1.stream().filter(x->x.getSex().equals("男")).forEach(x-> System.out.println(x));5.对某个字段进行统计性别为男的年龄和int sum = list1.stream().filter(x -> x.getSex().equals("男")).mapToInt(User::getAge).sum();6.替代Runnable接口创建线程Runnable runnable = () -> {​      for (int i=0;i<100;i++) {​        String name = Thread.currentThread().getName();​        System.out.println(name);​      }};new Thread(runnable).start();第三十一天cookie和sessionweb会话技术会话：打开一个浏览器，访问一个web项目，请求该web项目中的若干个资源，关闭浏览器，这整个过程在Servlet技术中，提供了两个⽤于保存会话数据的对象，分别是Cookie和Session。cookie对象：记录服务器传递给浏览器的一些数据，记录浏览器访问服务器的时间和结束访问的时间session对象：记录同一用户访问服务器的一些数据，实现该⽤户在本次会话中, 可随时获取Session域中的数据, 满⾜多次请求响应之间进⾏数据传递\访问使⽤.session与cookie的区别cookie:1.用于保存服务器想要存储在客户端的数据 2.cookie在浏览器中是以文本的形式保存的作用:1.记录用户的登录信息2.记录着用户第一次访问服务器的时间3.保存上次查看的页面Cookie的基本使⽤：在服务端操作1.创建cookie对象使用Cookie类中的构造⽅法:Cookie(String key, String value) , ⽤于创建Cookie对象, 并指定Cookie中保存的键值对信息Cookie cookie = new Cookie("baiyulong","123456789");2.把cookie对象返回给浏览器使用response对象的方法：addCookie( Cookie c ), ⽤于将指定的Cookie对象 响应回 客户端浏览器response.addCookie(cookie);3.获取浏览器携带的Cookie第一步：使用request对象中的getCookie()方法，返回一个cookie对象数组Cookie[] getCookies()  获取多个Cookie,返回的是Cookie对象数组Cookie[] cookies = request.getCookies();第二步：遍历cookie对象数组，使用Cookie类中俩个方法分别获取cookie对象的键和值String getName()  获取Cookie的键String getValue()  获取Cookie中的值for (Cookie cookie1 : cookies) {​      String key = cookie1.getName();​      String value = cookie1.getValue();​      System.out.println(key+"="+value);}4.在Tomcat8版本之下，Cookie中使⽤中⽂会出现乱码解决办法：1.使用中文之前，要先将中文进行编码，在传入cookie对象中使用URLEncode类中的静态方法：String encode("需要编码的数据","采⽤的编码表") 采⽤指定编码表对数据进⾏编码,返回编码后的字符串Cookie cookie = new Cookie("baiyulong", URLEncoder.encode("白雨龙", "utf-8"));response.addCookie(cookie);2.获取浏览器携带的中文cookie时，要进行解码使用URLDecode类中的静态方法：String decode("需要解码的数据","采⽤的编码表") 采⽤指定编码表对数据进⾏解码,返回解码后的字符串Cookie[] cookies = request.getCookies();​    for (Cookie cookie1 : cookies) {​      if (cookie1.getName().equals("baiyulong")) {​        String value = URLDecoder.decode(cookie1.getValue(), "utf-8");​        System.out.println("baiyulong=" + value);​      } else {​        String key = cookie1.getName();​        String value = cookie1.getValue();​        System.out.println(key + "=" + value);​      }5.设置cookie的携带路径cookie的默认携带路径是：/web项目的虚拟路径/Servlet父类目录设置让指定的Cookie, 可以在WEB应⽤下的任意资源都携带cookie对象中的⽅法:setPath("cookie的携带路径")   ⽤于设置cookie携带路径, 若参数写成 request.getContextPath() 代表web应⽤下任意资源都携带本Cookiecookie.setPath(request.getContextPath());6.设置cookie的存在时间cookie默认的存在时间是：一次会话之内使用cookie对象中的方法setMaxAge(int 秒)  更改Cookie的⽣存时间, 参数单位: 秒Integer.MAX_VALUE：表示整型中的最大值7.删除已存在的Cookie创建一个新的cookie对象，保证键和携带路径与要删除的cookie相同，把cookie的存在数据设置为0即可​      Cookie cookie = new Cookie("byl","dddd");​      cookie.setPath(request.getContextPath());​      cookie.setMaxAge(0);​      response.addCookie(cookie);session1.服务器端的会话技术，把同⼀⽤户与服务器多次请求响应的⼀些数据记录在服务器Session域中2.实现该⽤户在本次会话中, 可随时获取Session域中的数据, 满⾜多次请求响应之间 进⾏数据传递\访问使⽤3.Session的使⽤要求⽤户浏览器必须⽀持Cookie4.30分钟之内没有使用session对象，session对象就会销毁JsessionId1.jsessionid是session对象的标识符,服务器是通过浏览器传递过来的cookie中的JsessionId来找到该用户对应的session对象2.浏览器不携带jsessionid访问服务器，就相当于第一次访问服务器每个用户第一次访问服务器，服务器都会产生一个新的session对象3.获取到session对象后，要把session对应的jsessionid，返回给浏览器的cookie，并设置cookie的存在时间，便于浏览器下次访问服务器可以找到自己对应的session对象Session的基本使⽤1.获取HttpSession对象 使用request对象中的getSession()HttpSession session = request.getSession();2.使用HttpSession对象中的setAttribute()和getAttribute()方法存数据和取数据session.setAttribute("byl","白雨龙");Object byl = session.getAttribute("byl");持久化Session对象1.使用HttpSession对象中的getId()方法得到jsesseionidHttpSession session = request.getSession();String id = session.getId();2.创建cookie对象，把得到的jsesseionid传入cookie对象中，设置cookie对象的携带路径和存在时间，并把cookie对象返回给浏览器Cookie cookie = new Cookie("JSESSIONID",id);cookie.setPath(request.getContextPath());    ***cookie.setMaxAge(Integer.MAX_VALUE);response.addCookie(cookie);session的生命周期session创建时机　　1：这个浏览器在servlet中第⼀次使⽤session时候,通过getSession⽅法创建；　　2：这个浏览器第⼀次访问jsp的时候，服务器也会为这个浏览器创建⼀个session对象；session销毁时机　　1：程序员调⽤invalidate⽅法；（⽴刻销毁）　　2：设置的存活时间到了；（默认是30分钟）　　3：服务器⾮正常关闭；（突然断电）案例 验证码 在Session和cookie课件中第三十二天filter和listenerfilter过滤器作用：如果把web项目下的某个资源的访问网址写到filter的url-pattern中，那么在访问该资源时，会先执行过滤器中的程序，如果过滤器放行，浏览器才可以访问到该资源Filter的⽣命周期：过滤器对象的创建是在Tomcat启动是创建的，在服务器关闭时销毁filter过滤器的使用：1.创建一个类继承javax.servlet.Filter接口,重写该接口中的三个方法（ctrl i）2.在web.xml配置文件中配置要过滤的资源地址   <filter>​    <filter-name>filter1</filter-name>​    <filter-class>com.parctice.filter.RequestFilter</filter-class>  </filter>  <filter-mapping>​    <filter-name>filter1</filter-name>​    <url-pattern>/request</url-pattern>  </filter-mapping>3.在doFilter方法中要放行chain.doFilter(request,response);Filter的url-pattern配置有三种配置方式：1.可以写单个jsp文件或者单个servlet的访问地址2.可以写项目路径下的某个目录  /* 表示过滤该项目下的所有资源3.也可以过滤所有的jsp文件  /*.jsp 只有在xml中可以这么用注解配置Filter1.直接创建filter2.更改@WebFilter注解中的内容 urlPatterns = "要过滤的资源"****利用过滤统一处理中文乱码问题1.创建一个过滤器，让其过滤所有资源2.在过滤器的doFilter方法中处理中文乱码问题​    req.setCharacterEncoding("utf-8");​    resp.setContentType("text/html;charset=utf-8");案例: 物品安全检查 filter工程中FilterChain 过滤器链 由Tomcat引擎创建对象作用：1.维护过滤器执⾏顺序2.对过滤资源进行放行3.传递request和response对象多个过滤器的先后执⾏顺序1.过滤器是由web.xml配置执行顺序：按照web.xml配置文件中url-pattern标签的先后顺序执行的2.过滤器是由注解开发执行顺序：按照过滤器类名的首字母顺序执行（A，B，C）监听器Listener作用：监听request, session, servletcontext域对象的创建和销毁和request, session, servletcontext域对象中存储的数据变化每一个域对象对应一个监听器域对象             监听器request          ServletRequestListenersession          HttpSessionListenerservletcontext     ServletContextListener*****Servlet抽取1.传统⽅式的开发：一个请求对应一个servlet2.改进后的开发：以模块为单位创建servlet开发思想：所有关于商品的请求都去访问ProductServlet,根据传递过来的参数值判断要执行ProductServlet中哪个方法关于商品的所有方法都定义在ProductServlet中Sevlet中执行方法的俩种办法：1.直接调用String method = request.getParameter("method");​    if (method.equals("findall")) {​      findall(request,response);​    } else if (method.equals("add")) {​      add(request,response);​    }2.使用反射调用***this表示当前方法中的类对象String method = request.getParameter("method");Class aClass  = this.getClass();​    try {​      Method method1 = aClass.getMethod(method, HttpServletRequest.class, HttpServletResponse.class);​      method1.invoke(this,request,response);​    } catch (Exception e) {​      e.printStackTrace();​    }3.BaseServlet抽取共性代码的开发开发思想：把多个servlet的共性代码放到BaseServlet中，让其他servlet继承BaseServlet即可\------------------------------------------------------------------------------------------------BaseServlet 中的代码@WebServlet("/base")public class BaseServlet extends HttpServlet {  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  }  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    //共性代码​    String method = request.getParameter("method");​    Class aClass = this.getClass();​    try {​      Method method1 = aClass.getMethod(method, HttpServletRequest.class, HttpServletResponse.class);​      method1.invoke(this,request,response);​    } catch (Exception e) {​      e.printStackTrace();​    }  }}ProductServlet 中的代码@WebServlet("/product")public class ProductServlet extends BaseServlet {  public void findall(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    System.out.println("findall执行了");  }  public void add(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    System.out.println("add执行了");  }}UserServlet中的代码@WebServlet("/user")public class UserServlet extends BaseServlet {  public void findall(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    System.out.println("findall执行了");  }  public void add(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {​    System.out.println("add执行了");  }}\-----------------------------------------------------------------------------------------------第三十三天maven下载地址： http://maven.apache.org/maven的作用：用来创建和管理java项目，统一管理项目中用到的第三方jar包Maven仓库：jar包所在位置本地仓库：本机电脑上配置的存放jar的位置中央仓库（远程仓库）：国外一个存放jar包的网址 网址：http://repo1.maven.org/maven2/远程仓库（私服）：国内存放jar包的网址Maven的坐标：jar包或其他资源的唯一标识坐标的定义元素如下：groupId:项⽬组织唯⼀的标识符，实际对应JAVA的包的结构(⼀般写公司的组织名称 例如:com.baidu, com.alibaba)artifactId: 项目（jar包，插件）名称version：定义项⽬的当前版本在maven要引入一个jar包，只需要在在pom.xml配置⽂件中配置该jar包的坐标即可使用maven的步骤：1.下载maven压缩包解压到没有中文和空格的文件夹即可2.配置本地仓库：在apache-maven-3.6.1\conf下的settings.xml配置文件中第55行，把本地仓库的地址写进去3.在idea中关联maven4.使用maven下载java工程Maven的常⽤命令在界面右侧maven - lifecycle 下 双击执行命令1.clear 清除target目录（存放.class文件的目录）2.compile 对src/main/java目录下的所有java代码进行编译3.test  执⾏src/test/java/下所有junit的测试⽤例\4. package   如果是JavaSe的项⽬,打包成jar包​           如果是JavaWeb的项⽬,打包成war包5.install 把打的包安装到本地仓库执⾏顺序: clean --> compile --> test --> package --> install在执行install命令之前会先执行前四个命令，执行package之前会先执行前三个命令，其他同理jar包坐标的位置：maven仓库网址http://mvnrepository.com/百度搜索 maven仓库*****jar包导入：使用方式：在pom.xml中通过<dependencies>标签导入jar包的坐标jar包使用范围：<scope> </scope>1.compile 编译, 测试 打包部署有效2.provided 编译, 测试 有效, 不会打包进去的  在servlet jar包中要加provided 保证打包是servlet jar包不会打包进去 防止与tomcat中的servlet jar包冲突3.test 测试有效junit jar包要加上test 使用范围4.runtime 编译⽆效, 测试 打包部署有效Maven插件****插件导入方式：在pom.xml中通过plugin标签引⼊maven的功能插件maven3.6.1版本中tomcat插件最高版本是71.jdk编译插件 maven帮我们配好了2.Tomcat7服务端的插件tomcat7插件的坐标<plugin>   <groupId>org.apache.tomcat.maven</groupId>   <artifactId>tomcat7-maven-plugin</artifactId>   <configuration>​     <!-- 指定端⼝ -->​     <port>8080</port>​     <!-- 请求路径 -->​    <path>/</path>  </configuration></plugin>maven中开启tomcat服务：1.在maven导入tomcat插件2.使用tomcat插件中的tomcat:run开启tomcat服务霈哥，您的CSS录播有个小错误，您有一次写h3 {size:20px}没起作用，您解释说是因为h3已经固定了字体大小，其实不是的，是因为不应该用size，而是font-size。第三十四天gitgit:java项目版本控制工具git的作用1.在git本地仓库可以完成代码备份2.每次修改后都会保存为一个项目版本，可以切换到上一个版本，实现代码还原3.可以实现协同修改，如果开发者推送代码到远程仓库，出现代码冲突，可以手动解决冲突4.多版本项目管路，通过创建分支，可以在多个版本之间进行切换5.可以记录提交代码的编写人和编写时间git中的一些常用命令：1.Clone：把远程仓库的完整代码下载到本地，只在第一次获取代码时使用2.Push：把工作区提交到本地仓库的修改和增加的代码，提交到远程仓库3.Pull(fetch merge)：pull命令是fetch merge俩个命令的结合fetch:把本地仓库相比版本库的更新内容下载到本地仓库merge:自动解决代码冲突4.commit：把工作区提交到暂存区的更改或新增代码提交到本地仓库5.add：把工作区更改或新增代码提交到暂存区6.checkout：把本地仓库的代码放到工作区中git下载地址：国外官网地址： https://git-scm.com/download​          国内地址：https://npm.taobao.org/mirrors/git-for-windows/Git远程仓库需要使用代码托管服务来创建git远程仓库常⽤的托管服务:github,码云，gitlab码云的注册地址：https://gitee.com/signupIdea中使⽤Git1.在idea中关联git  File | Settings | Version Control | Git  导入git的安装路径init：初始化feature:新特性霈哥远程仓库位置：https://gitee.com/likepei/git-project_006.git第三十五天Mybatis框架MyBatis官⽹地址：https://mybatis.org/mybatis-3/Mybatis框架做了什么？封装了jdbc底层代码，可以自动实现参数映射和结果映射我们可以利用Mybatis框架干什么？与数据库进行交互Mybatis 架构1俩个配置文件SqlMapConfig.xml:核心配置文件，配置了数据库的运行环境，连接数据所需要的数据Mapper.xml：存放sql语句的配置文件2.SqlSessionFactory：会话⼯⼚，创建会话3.sqlSession：会话，用来执行sql语句4.Executor接⼝：有两个实现，⼀个是基本执⾏器BaseExecutor、⼀个是缓存执⾏器CachingExecutor。\5. MappedStatement：底层封装对象，它包装了mybatis配置信息及sql映射信息等自动实现参数映射和结果映射Mybatis增删改查操作****//在执行增删改时需要提交事务1.增配置文件中内容<insert id="insert" parameterType="com.practice.pojo.User">​    insert into user values(#{id},#{username},#{sex},#{address})​    <selectKey keyProperty="id" resultType="Integer" order="AFTER">​       select LAST_INSERT_ID()​    </selectKey></insert>注意：<selectKey keyProperty="id" resultType="Integer" order="AFTER">​       select LAST_INSERT_ID()​    </selectKey>作用：打印用户对象中的id时，可以打印出插入记录的id值测试类中的代码@Test  public void insert() throws IOException {​    InputStream resourceAsStream = Resources.getResourceAsStream("SqlMapConfig.xml");​    SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);​    SqlSession sqlSession = build.openSession();​    User user = new User();​    user.setUsername("李七");​    user.setSex("男");​    user.setAddress("澳门");​    sqlSession.insert("userMapper.insert",user);​    //在执行增删改时需要提交事务​    [sqlSession.commit();](http://sqlsession.commit()%3B/)​    //获取插入记录的id​    System.out.println(user.getId());​    sqlSession.close();  }2.删<delete id="deleteById" parameterType="Integer">​    delete from user where id=#{id}</delete>@Test  public void delete() throws IOException {​    InputStream resourceAsStream = Resources.getResourceAsStream("SqlMapConfig.xml");​    SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);​    SqlSession sqlSession = build.openSession();​    Integer integer = 8;​    sqlSession.delete("userMapper.deleteById",integer);​    [sqlSession.commit();](http://sqlsession.commit()%3B/)​    sqlSession.close();  }3.改<update id="update" parameterType="com.practice.pojo.User">​    update user set username=#{username}, sex=#{sex}, address=#{address}​    where id=#{id}</update>@Test  public void updateById() throws IOException {​    InputStream resourceAsStream = Resources.getResourceAsStream("SqlMapConfig.xml");​    SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);​    SqlSession sqlSession = build.openSession();​    User user = new User();​    user.setId(6);​    user.setUsername("赵八");​    user.setSex("女");​    user.setAddress("石家庄");​    sqlSession.update("userMapper.update",user);​    [sqlSession.commit();](http://sqlsession.commit()%3B/)​    sqlSession.close();  }4.查   查询时，关键字自动忽略大小写<select id="selectById" parameterType="Integer" resultType="com.practice.pojo.User">​    select * from user where id=#{id}</select>@Test  public void selectById() throws IOException {​    InputStream resourceAsStream = Resources.getResourceAsStream("SqlMapConfig.xml");​    SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);​    SqlSession sqlSession = build.openSession();​    User user = sqlSession.selectOne("userMapper.selectById", 1);​    System.out.println(user);​    sqlSession.close();  }Mybatis映射配置⽂件1). namespce 与SQL语句的ID组合起来成为SQL的唯⼀标识2).  <insert> , <delete> , <update> <select> 标签分别⽤来表示增删改查的操作 。3). resultType 属性表示结果集映射中的单条记录所需要映射的类型 。4). parameterType 属性指SQL语句需要传⼊的参数类型，Mybatis核⼼配置⽂件configuration   |- properties（属性） 标签属性：resource   |- settings（全局配置参数）   |- typeAliases（类型别名）   |- typeHandlers（类型处理器）   |- objectFactory（对象⼯⼚）   |- plugins（插件）   |- environments（环境集合属性对象）   |- environment（环境⼦属性对象）​     |- transactionManager（事务管理）​     |- dataSource（数据源）   |- mappers（映射器）标签的顺序是固定，必须按照顺序来写常用标签1.properties  关联数据库配置信息<properties resource="jdbc.properties"/>2.typeAliases 设置别名为单个文件设置别名<typeAliases>  <typeAlias type="com.kkb.pojo.User" alias="user"></typeAlias></typeAliases>为某个目录下的所有文件设置别名<typeAliases><package name="com.kkb.pojo"/></typeAliases>3.mappers 加载映射文件A. <mapper resource="" />使⽤相对于类路径的资源如：<mapper resource="UserMapper.xml" />B. <mapper class=" " />使⽤mapper接⼝类路径如：<mapper class="com.kkb.mapper.UserMapper"/>注意：此种⽅法要求mapper接⼝名称和mapper映射⽂件名称相同，且放在同⼀个⽬录中。C. <package name=""/>注册指定包下的所有mapper接⼝如：<package name="com.kkb.mapper"/>注意：此种⽅法要求mapper接⼝名称和mapper映射⽂件名称相同，且放在同⼀个⽬录中Mybatis核⼼API\1. Resources ⼯具类InputStream inputStream = Resources.getResourceAsStream("SqlMapConfig.xml");2.SqlSessionFactoryBuilderSqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);3.SqlSessionFactory会默认开启⼀个事务openSession()opSession(boolean autocommit) 可以设置自动提交4.SqlSession<T> T       selectOne(String statement, Object parameter) ；<E> List<E>  selectList(String statement, Object parameter) ；int         insert(String statement, Object parameter)int         update(String statement, Object parameter)int         delete(String statement, Object parameter)void commit() ;void rollback() ;Mybatis 的Mapper代理⽅式开发在java目录下：创建一个mapper接口接口定义的规范：1.接口的类名和包名应与映射文件的相同2.映射文件中的namespce属性值应写接口的完整名3.接口中定义的方法名应与映射文件中的对应sql语句的id值相同4.接口方法中传入参数类型应与sql语句中parameterType属性值相同注意：如果接口方法中传入参数类型是集合，那parameterType值应写集合泛型5.接口方法返回值类型应与sql语句中resultType属性值相同注意：如果接口方法返回值是集合，那么resultType属性应写集合泛型SqlSession工具类\------------------------------------------------------------------------------------------------------------public class SqlSessionUtils {  private static SqlSessionFactory sqlSessionFactory;  static {​    try {​      InputStream resourceAsStream = Resources.getResourceAsStream("mybatis-config.xml");​      sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);​    } catch (IOException e) {​      e.printStackTrace();​    }  }  private SqlSessionUtils(){  }  public static SqlSession openSession() {​    return sqlSessionFactory.openSession(true);  }}\--------------------------------------------------------------------------------------------------------------使用步骤：1.使用SqlSession工具类创建SqlSession对象2.使用SqlSession对象中的getMapper(接口.class),创建接口对象UserDao userdao = sqlSession.getMapper(UserDao.class);3.使用接口对象中定义的方法即可实现增删改查4.释放资源sqlSession.close();Mybatis 动态SQL1.多条件查询(where标签和if标签)<select id="selectByCondition" parameterType="user" resultType="user">​    <include refid="samesql"></include>        //sql片段提取​    <where>​      <if test="username != null">​        and username=#{username}​      </if>​      <if test="sex != null">​        and sex=#{sex}​      </if>​      <if test="address != null">​        and address=#{address}​      </if>​    </where></select>2.根据ID批量查询⽤户信息(where标签和froeach标签)<select id="selectByIds" parameterType="integer" resultType="user">​    <include refid="samesql"></include>    ​    <where>​      <foreach collection="collection" open="id in(" close=")" item="id" separator=",">​        \#{id}​      </foreach>​    </where></select>foreach标签中的属性介绍属性             含义collection        代表要遍历的集合元素，注意编写时不要写#{} ；open           代表语句的开始部分close           代表结束部分item           接收遍历元素的变量名separator       代表分隔符,每⼀次循环都需要拼接该分割符注意：如果传递的参数为List , collection中可写的值为 list, collection ;如果传递的参数为Set , collection中可写的值为 collection ;如果传递的参数为数组 , collection中可写的值为 array ;SQL⽚段抽取：将重复的 sql 提取出来，使⽤时⽤ include 引⽤即可提取重复sql语句用sql标签<sql id="samesql">​    select id,username,sex,address from user</sql>引用sql标签中的sql片段用include标签<include refid="sql标签中的id值"></include>Mybatis 分⻚助⼿ PageHelper使用步骤：1.导入依赖坐标2.在核心配置文件中配置PageHelper插件<plugins>​    <plugin interceptor="com.github.pagehelper.PageInterceptor" /></plugins>3.分⻚代码实现设置分页参数：PageHelper.startPage(page,size);参数: page 代表查询的⻚⾯ ; size 代表每⻚返回的记录数 ;获得分⻚结果：方式一：PageInfo<User> pageInfo = new PageInfo<User>(userList);System.out.println("总条数："+pageInfo.getTotal());System.out.println("总⻚数："+pageInfo.getPages());System.out.println("当前⻚："+pageInfo.getPageNum());System.out.println("每⻚显示⻓度："+pageInfo.getPageSize());System.out.println("是否第⼀⻚："+pageInfo.isIsFirstPage());System.out.println("是否最后⼀⻚："+pageInfo.isIsLastPage())方式二、Page page = (Page) userList;System.out.println("总条数：" + page.getTotal());System.out.println("总⻚数：" + page.getPages());//打印当前⻚结果数据for (User user : result) {List<User> result = page.getResult();System.out.println("user = " + user);}Mybatis 多表关系注意事项：1.核心配置文件中不能写没有用到的东西，例如：如果没有导入日志文件的.properties文件，那就不能导入日志插件2.核心配置文件中有关数据库的信息站位符用  ${}3.在映射配置文件中占位符用 #{}4.一对多查询和多对多查询中，如果俩个表有同名的列，需要为副表中的同名列设置别名5.在插入操作中返回当前插入记录的自增长主键值 用到的sql语句：select last_insert_id()     last_insert_id是一个函数1.⼀对⼀查询(一个表中的一条记录对应另一个表中的一条记录)映射文件中的代码：\---------------------------------------------------------------------<resultMap id="ordersMap" type="orders">               //type:结果映射的pojo类型​    <id column="id" property="id" />                   //主键列用id标签.，其他列用result标签​    <result column="ordertime" property="ordertime"/>    //column:表中列的名称  property:对应的映射类的字段名​    <result column="total" property="total" />​    <result column="userid" property="userid" />​    <association property="user" javaType="user">        //为映射类中单个实体类对象字段赋值，property;映射类中实体类字段名称  javaType:实体类字段类型​      <id column="id" property="id" />​      <result column="username" property="username"/>​      <result column="sex" property="sex"/>​      <result column="address" property="address"/>​    </association></resultMap><select id="selectByOrdersWithUser" resultMap="ordersMap">​    select * from orders o,user u where o.userid=u.id</select>\---------------------------------------------------------------------------一对多查询(一个表中的一条记录对应另一个表中的多条记录)\---------------------------------------------------------------------------------------------------------------------------------------<resultMap id="userMap" type="user">​    <id column="id" property="id"/>​    <result column="username" property="username"/>​    <result column="sex" property="sex"/>​    <result column="address" property="address"/>​    <collection property="list" ofType="orders">          //为映射类中的实体对象集合赋值，property:映射类中集合字段名 ofType:集合中存放的对象类型​      <id column="oid" property="id"/>​      <result column="ordertime" property="ordertime"/>​      <result column="total" property="total"/>​      <result column="userid" property="userid"/>​    </collection></resultMap><select id="selectByUserWithOrders" resultMap="userMap">​    select u.id,u.username,u.sex,u.address,o.id oid,o.ordertime,o.total,o.userid from user u left join orders o on u.id=o.userid</select>\---------------------------------------------------------------------------------------------------------------------------------------------多对多查询(一个表中的一条记录对应另一个表中的多条记录，另一个表中的一条记录也同样对应表中的多条记录)\----------------------------------------------------------------------------<resultMap id="userMap" type="user">​    <id column="id" property="id"/>​    <result column="username" property="username"/>​    <result column="sex" property="sex"/>​    <result column="address" property="address"/>​    <collection property="list" ofType="role">​      <id column="rid" property="id"/>​      <result column="rolename" property="rolename"/>​    </collection></resultMap><select id="selectByUserWithRole" resultMap="userMap">​    select u.id,u.username,u.sex,u.address,r.id rid,r.rolename​    from user u left join user_role ur on u.id=ur.userid​    left join role r on r.id=ur.roleid</select>\-----------------------------------------------------------------------------****************************resultMap 与 resultType区别：1.resultMap:结果映射类中有集合字段或者实体类字段，用resultMap高级映射2.resultType：结果映射类中只有普通字段，用resultType普通映射association 与 collection的区别1.association：为单个实体对象字段赋值 对象类型放在javaType属性中2.collection：为实体对象集合字段赋值  集合中的对象类型放在ofType属性中************************Mybatis 注解开发***注意：在mybatis核心配置文件中加载的是Mapper接口MyBatis的常⽤注解序号         注解              含义1           @Insert       类似于<insert>标签,⽤于声明插⼊操作2          @Update      类似于<update>标签,⽤于声明更新操作3          @Delete       类似于<delete>标签,⽤于声明删除操作4           @Select      类似于<select>标签,⽤于声明查询操作5           @Param      如果你的dao接⼝⽅法的形参有多个，需要使用Param注解为参数命名，该名称需要与Sql语句中占位符中对应的名称相同6          @SelectKey    返回自增长主键的值7           @Result      实现结果集封装 类似于,id ,result 标签8          @Results      可以与@Result ⼀起使⽤，封装多个结果集, 类似于替换 <resultMap>标签9          @One        实现⼀对⼀结果集封装, 类似于association 标签10          @Many      实现⼀对多结果集封装, 类似于collection标签\------------------------------------------------------------------基本增删改查public interface UserDao {   //插入操作，并返回主键值  @Insert("insert into user values(#{id},#{username},#{sex},#{address})")  @SelectKey(keyProperty = "id",resultType = Integer.class,statement = "select last_insert_id()",before = false)  注意：resultType属性值：返回值类型的class对象  void Insert(User user);  //更新  @Update("update user set username=#{username} where id=#{id}")  void Update(User user);  //删除  @Delete("delete from user where id=#{id}")  void delete(Integer id);  //多参数删除  @Delete("delete from user where id=#{id} and username=#{username}")  void delete1(@Param("id") Integer id , @Param("username") String username);  //查询  @Select("select u.id,u.username,u.sex,u.address from user u")  List<User> select();}\--------------------------------------------------------------------使用注解实现一对一查询注意：简单字段可以自动进行映射(只需字段名和表中列名相同)\------------------------------------public interface OrdersDao {  @Select("select * from orders") //第一步：先查询出主表中的所有字段     @Results({​       //为复杂字段进行映射​      @Result(property = "user",javaType = User.class,column = "userid",  //Properties:映射类中的复杂字段名 javaType:复杂字段的class对象 ​                                                           //column：主表与副表关联的表中列名，传递给副表作为查询条件的关联列名​      one=@One(                                            // 为单个对象进行映射，相当于association 标签                                ​          fetchType = FetchType.LAZY,                           //设置延迟加载​          select = "com.practice.dao.UserDao.select"                //select:副表执行sql语句的方法，在副表定义的mapper接口中定义的查询方法​      )​      )  })  List<Orders> selectAll();}public interface UserDao {  @Select("select u.id,u.username,u.sex,u.address from user u where id=#{id}")  User select(Integer userid);}\----------------------------------一对多查询-\-------------------------------------------------------------------------public interface UserDao {  @Select("select * from user")  @Results({​      @Result(column = "id",property = "id"),     注意：//主表作为参数传入副表的列，不会自动赋值，需要手动赋值​      @Result(property = "list",javaType = List.class,   注意：此处要写集合的class对象   properties:复杂字段的名 javaType：复杂字段的class对象​          column = "id",​          many = @Many(                   //many:为多个对象赋值​              fetchType = FetchType.LAZY,​              select = "com.practice.dao.OrdersDao.select"​          )​      )  })  List<User> selectAll();}public interface OrdersDao {  @Select("select * from orders where userid=#{id}")  Orders select(Integer id);}\-----------------------------------------------------------------------多对多\----------------------------------------------------------------------public interface UserDao {  @Select("select * from user")  @Results({​      @Result(column = "id",property = "id"),​      @Result(​          property = "list",javaType = List.class,column = "id",​          many = @Many(​              fetchType = FetchType.LAZY,​              select = "com.practice.dao.RoleDao.select"​          )​      )  })  List<User> select();}public interface RoleDao {  @Select("select * from role r,user_role ur where r.id=ur.roleid and ur.userid=#{id}")  //用内连接查询role和user_role 俩个表  基于主表传过来的id值  Role select();\-----------------------------------------------------------------------第三十六天Spring框架Spring官⽹地址：https://spring.io/Spring：以ioc(Inverse Of Contro)反转控制和aop(Aspect Oriented Programming)面向切面编程为核心，提供了展现层Spring mvc和持久层spring jdbc 以及业务层事务管理等众多企业应用技术，还可以整合众多著名的第三方框架。控制反转IoCioc:是一种思想，把创建对象的从java代码中剥离出去，交给spring仓库工厂去创建IoC的作⽤：降低代码间的依赖关系，减少程序中的耦合Spring的IoC⼊⻔Spring中IoC的配置，⽀持纯XML配置或者纯注解配置以及XML和注解混合配置这三种⽅式Bean标签的对象获取：getBean⽅法1.getBean("id值") 返回object类型的对象2.getBean(接口.class) 返回的是接口实现类对象 注意：接口只有一个实现类时，才能用这种方式AccountService bean = applicationContext.getBean(AccountService.class);3.getBean("id值",接口.class) 返回接口实现类对象AccountService accountService = applicationContext.getBean("accountService", AccountService.class)Bean标签的作⽤和属性作用：把需要创建对象的类完整类名写到bean标签中，让spring完成对象的创建​     默认调用的是无参构造方法​     bean标签中的属性：id： 对象在spring容器中的唯一标识class： 指定类的全限定类名。⽤于反射创建对象。默认情况下调⽤⽆参构造函数。init-method： 指定类中的初始化⽅法名称。 初始化方法：对象创建好后执行的方法Spring的依赖注⼊(DI)：Dependency Injection依赖注入：让spring框架为bean标签中的对象属性赋值， 它是spring 框架核⼼ ioc 的具体实现.spring框架为对象属性赋值的方式：方式一：使用有参构造进行赋值   前提是：必须有有参构造方法使用的是constructor-arg标签标签属性：name :参数名称​        value:参数值，只能为基本数据类型和String赋值​      ***ref:为其他引用类型赋值，而且该引用类型必须在bean标签中配置过<bean id="date" class="java.util.Date"></bean>        <bean id="accountService" class="com.practice.service.impl.AccountServiceImpl" init-method="init">​       <constructor-arg name="name" value="白雨龙"></constructor-arg>​       <constructor-arg name="age" value="11"></constructor-arg>​       <constructor-arg name="date" ref="date"></constructor-arg>  //ref:Date类型在bean标签中的id值</bean>方式二：使用set方法进行赋值  前提是：属性必须有set方法和无参构造方法用到的标签是property标签属性：name :参数名称​        value:参数值，只能为基本数据类型和String赋值​      ***ref:为其他引用类型赋值，而且该引用类型必须在bean标签中配置过​      为类中集合和数组字段传值： 使用set⽅法array , list , set 这三个标签通⽤为整型数组赋值<property name="integers">​      <array>​        <value>1</value>​        <value>2</value>​        <value>3</value>​      </array>为list集合赋值</property>​    <property name="list">​      <list>​        <value>bai</value>​        <value>ba</value>​        <value>ba</value>​      </list></property>为set集合赋值<property name="set">​      <set>​        <value>1</value>​        <value>1</value>​        <value>3</value>​      </set></property>为map集合赋值<property name="map">​      <map>​        <entry key="1" value="sdds"></entry>​        <entry key="1" value="ddddd"></entry>  //map集合键相同时，值覆盖​        <entry key="2" value="ddddd"></entry>​      </map></property>spring和mybatis联合开发一、纯xml开发(crud)   具体代码在D:\byljavaprogram\spring\spring2 项目中spring核心配置文件内容：\----------------------------------------------------------------<?xml version="1.0" encoding="UTF-8"?><p>&lt;beans xmlns&#x3D;”<a href="http://www.springframework.org/schema/beans&quot;">http://www.springframework.org/schema/beans&quot;</a></p><p>​    xmlns:xsi&#x3D;”<a href="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</a></p><p>​    xmlns:context&#x3D;”<a href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></p><p>​    xsi:schemaLocation&#x3D;”<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a> <a href="http://www.springframework.org/schema/beans/spring-beans.xsd">http://www.springframework.org/schema/beans/spring-beans.xsd</a> <a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a> <a href="https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;">https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</a></p><p>​    </p>  <!--加载jdbc属性⽂件--><p>  &lt;context:property-placeholder location&#x3D;”classpath:jdbc.properties” &#x2F;&gt;</p>  <!--配置数据源-->  <bean id="druidDataSource" class="com.alibaba.druid.pool.DruidDataSource"><p>​    <!--驱动, url, ⽤户名,密码--></p><p>​    <property name="driverClassName" value="${jdbc_driver}"/></p><p>​    <property name="url" value="${jdbc_url}"/></p><p>​    <property name="username" value="${jdbc_username}"/></p><p>​    <property name="password" value="${jdbc_password}"/></p>  </bean>    <!--配置SqlSessionFactory--><p>  &lt;bean id&#x3D;”sqlSessionFactory”</p><p>​     class&#x3D;”org.mybatis.spring.SqlSessionFactoryBean”&gt;</p><p>​    <!--关联数据源--></p><p>​    <property name="dataSource" ref="druidDataSource"/>   &#x2F;&#x2F;ref的值是配置数据源中的id值</p><p>​    <!--设置pojo的别名--></p><p>​    <property name="typeAliasesPackage" value="com.practice.pojo"/>  &#x2F;&#x2F;别名设置未生效</p>  </bean>    <!--配置Mapper映射扫描, 扫描所有的Mapper.xml⽂件与 ⽣成dao接⼝的实现类对象存到IOC容  器中--><p>  &lt;bean id&#x3D;”scannerConfigurer”</p><p>​     class&#x3D;”org.mybatis.spring.mapper.MapperScannerConfigurer”&gt;</p>  <!--可省略--><p>  <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/>  &#x2F;&#x2F;value属性值是SqlSessionFactory配置中的id值</p>  <!--dao映射扫描-->  <property name="basePackage" value="com.practice.dao"/>  </bean>    <!--service-->  <bean id="accountService" class="com.practice.service.impl.AccountServiceImpl"><p>​    <!--依赖注⼊dao--></p><p>​    <property name="accountDao" ref="accountDao"/></p>  </bean></beans><p>-————————————————————–</p><p>Spring中的注解</p><p>***注意：使用注解时，必须在核心配置文件中打开注解扫描</p><p>&lt;context:component-scan base-package&#x3D;”扫描的路径”&gt;</context:component-scan></p><p>1.代替bean标签的注解 @Component</p><p>注解属性value：bean标签的id属性</p><p>***不指定value属性，默认就是类名或接口名，⾸字⺟⼩写</p><p>如果接口有一个实现类，注解可以写在接口，也可以卸载实现类</p><p>如果接口有多个实现类，注解写在实现类</p><p>@Controller,@Service,@Repository，⽤法和@Componet⼀致，分别用在控制层，业务层，持久层</p><p>2.依赖注⼊注解 （写在字段上方）</p><p>为类中接口字段赋值时，</p><p>接口有一个实现类时，用@Autowired注解</p><p>接口有多个实现类时，用@Autowired加@Qualifier(“id”) 或者直接用@Resource(name&#x3D;”Id”)</p><p>3.使用注解让测试类加载spring核心配置文件 这样就可以在测试类中使用注解实现依赖注入</p><p>@RunWith(SpringJUnit4ClassRunner.class)</p><p>@ContextConfiguration(locations &#x3D; {“classpath:beans.xml”}) 加载xml文件</p><p>@ContextConfiguration(classes &#x3D; SpringConfig.class)      加载配置类</p><p>二、半注解半xml开发</p><p>自定义的类用注解导入spring库</p><p>使用注解实现依赖注入</p><p>在测试类中使用注解加载核心配置文件</p><p>-————————————————————————–</p><p>spring核心配置文件中的内容</p><?xml version="1.0" encoding="UTF-8"?><p>&lt;beans xmlns&#x3D;”<a href="http://www.springframework.org/schema/beans&quot;">http://www.springframework.org/schema/beans&quot;</a></p><p>​    xmlns:xsi&#x3D;”<a href="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</a></p><p>​    xmlns:context&#x3D;”<a href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></p><p>​    xsi:schemaLocation&#x3D;”<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a> <a href="http://www.springframework.org/schema/beans/spring-beans.xsd">http://www.springframework.org/schema/beans/spring-beans.xsd</a> <a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a> <a href="https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;">https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</a></p>  <!--加载属性⽂件--><p>  &lt;context:property-placeholder location&#x3D;”classpath:jdbc.properties” &#x2F;&gt;</p>  <!--配置数据源-->  <bean id="druidDataSource" class="com.alibaba.druid.pool.DruidDataSource"><p>​    <!--驱动, url, ⽤户名,密码--></p><p>​    <property name="driverClassName" value="${jdbc_driver}"/></p><p>​    <property name="url" value="${jdbc_url}"/></p><p>​    <property name="username" value="${jdbc_username}"/></p><p>​    <property name="password" value="${jdbc_password}"/></p>  </bean>  <!--配置SqlSessionFactory--><p>  &lt;bean id&#x3D;”sqlSessionFactory”</p><p>​     class&#x3D;”org.mybatis.spring.SqlSessionFactoryBean”&gt;</p><p>​    <!--关联数据源--></p><p>​    <property name="dataSource" ref="druidDataSource"/></p><p>​    <!--设置pojo的别名--></p><p>​    <property name="typeAliasesPackage" value="com.practice.pojo"/></p>  </bean>  <!--配置Mapper映射扫描, 扫描所有的Mapper.xml⽂件与 ⽣成dao接⼝的实现类对象存到IOC容  器中--><p>  &lt;bean id&#x3D;”scannerConfigurer”</p><p>​     class&#x3D;”org.mybatis.spring.mapper.MapperScannerConfigurer”&gt;</p>  <!--可省略-->  <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/>  <!--dao映射扫描-->  <property name="basePackage" value="com.practice.dao"/>  </bean>  <!--service--><p>  &lt;context:component-scan base-package&#x3D;”com.practice.service”&gt;</context:component-scan></p></beans><p>-———————————————————————————————————–</p><p>三、纯注解开发</p><p>@Configuration :标识当前类是Spring的⼀个配置类</p><p>@ComponentScan：替代xml中的 <a href="context:component-scan/">context:component-scan/</a> 开启注解扫描标签</p><p>@Import:把副配置类引入到主配置类中,被引⼊的配置类可以不加@Configuration注解</p><p>@PropertySource：引⼊外部properties⽂件，注意文件名前面要加classpath:文件名</p><p>@Value：对配置类中成员变量赋值</p><p>@Bean(“id)：将⼀个⽅法的返回值对象加⼊到Spring的容器当中管理   如果不加id，默认以方法返回值首字母小写为id值</p><p>@Qualifier：为方法的参数进行依赖注入</p><p>***注意：如果要从spring容器中取值，就可以使用依赖注入</p><p>-————————————————————-</p><p>JdbcConfig 有关数据的配置类</p><p>@PropertySource(“classpath:jdbc.properties”)   &#x2F;&#x2F;引入Properties配置文件</p><p>public class JdbcConfig {</p><p>  @Value(“${jdbc_driver}”)   &#x2F;&#x2F;把配置文件的内容赋值给类字段</p><p>  private String jdbc_driver;</p><p>  @Value(“${jdbc_url}”)</p><p>  private String jdbc_url;</p><p>  @Value(“${jdbc_username}”)</p><p>  private String jdbc_username;</p><p>  @Value(“${jdbc_password}”)</p><p>  private String jdbc_password;</p><p>  @Bean(“druidDataSource”)       &#x2F;&#x2F;把druidDataSource对象加入到spring容器中</p><p>  public DruidDataSource creatDruidDataSource() {</p><p>​    DruidDataSource druidDataSource &#x3D; new DruidDataSource();</p><p>​    druidDataSource.setDriverClassName(jdbc_driver);</p><p>​    druidDataSource.setUrl(jdbc_url);</p><p>​    druidDataSource.setUsername(jdbc_username);</p><p>​    druidDataSource.setPassword(jdbc_password);</p><p>​    return druidDataSource;</p><p>  }</p><p>}</p><p>-——————————————————————————-</p><p>-——————————————————————————————————————–</p><p>Mybatis的配置类</p><p>public class MybatisConfig {</p><p>  @Bean(“sqlSessionFactoryBean”)   &#x2F;&#x2F;把sqlSessionFactoryBean对象加入到spring容器中</p><p>  public SqlSessionFactoryBean creatSqlSessionFactoryBean(@Qualifier(“druidDataSource”) DruidDataSource druidDataSource) {  &#x2F;&#x2F;为方法参数进行依赖注入</p><p>​    SqlSessionFactoryBean sqlSessionFactoryBean &#x3D; new SqlSessionFactoryBean();</p><p>​    sqlSessionFactoryBean.setDataSource(druidDataSource);           &#x2F;&#x2F;为DataSource字段进行赋值，需要传入一个连接池对象</p><p>​    sqlSessionFactoryBean.setTypeAliasesPackage(“com.practice.pojo”);  &#x2F;&#x2F;为com.practice.pojo包下的类起别名</p><p>​    return sqlSessionFactoryBean;</p><p>  }</p><p>  @Bean(“mapperScannerConfigurer”)  &#x2F;&#x2F;把mapperScannerConfigurer对象加入到spring容器中</p><p>  public MapperScannerConfigurer creatMapperScannerConfigurer() {  </p><p>​    MapperScannerConfigurer mapperScannerConfigurer &#x3D; new MapperScanner Configurer();  </p><p>​    mapperScannerConfigurer.setBasePackage(“com.practice.dao”);   &#x2F;&#x2F;扫描com.practice.dao包下的所有文件</p><p>​    return mapperScannerConfigurer;</p><p>  }</p><p>}</p><p>-———————————————————————————————————</p><p>第三十七天</p><p>Spring框架3</p><p>AOP的相关概念</p><p>AOP：一种编程思想，把重复性代码提取出来放到切面类中，在需要执行的时候，通过注解或者配置文件的方式执行切面类中的增强方法，实现对已有代码的增强</p><p>AOP优势：1.代码独立性强  2.减少了重复了代码，提高开发效率  3.代码易于维护</p><p>AOP应⽤场景：过滤器，记录访问⽇志，统计⽅法执⾏效率，判断⽤户的访问权限，事务操作</p><p>Aop中的术语：</p><p>连接点：可以加入增强代码的方法的前后位置</p><p>切入点：增强代码执行的位置</p><p>切面：增强代码可以加入的多个类形成的面</p><p>***类中每一个方法是一个连接点，多个连接点成线，每个类是一条线，线成面，叫切面</p><p>目标对象：加入增强代码的方法</p><p>代理：增强代码所在类</p><p>切⼊点表达式：指的是遵循特定语法结构的字符串，其作⽤是⽤于对符合语法格式的连接点进⾏增强</p><p>关键字 ：execution ⽤于匹配⽅法执⾏的连接点</p><p>语法结构：execution(方法修饰符 方法返回值 包名.类名.方法名(参数))</p><p>注意：1.方法修饰符可省略</p><p>​     2.返回值可以使⽤*，表示任意返回值</p><p>​     3.包名可以使⽤”..”表示当前包及其⼦包</p><p>​     4.类名和⽅法名，都可以使⽤*，表示任意类，任意⽅法</p><p>​     5.参数列表，可以使⽤具体类型  </p><p>​       基本类型直接写类型名称 ： int</p><p>​       引⽤类型必须写全限定类名：java.lang.String</p><p>​     6.参数列表可以使⽤*，表示任意参数类型，但是必须有参数</p><p>​     7.参数列表可以使⽤..，表示有⽆参数均可。有参数可以是任意类型</p><p>​     </p><p>aop配置中的标签：</p><p>1.aop:config标签   开始aop配置的标签</p><p>2.aop:aspect标签   配置切面的标签</p><p>属性：id：切面的唯一标识</p><p>​     ref:切面多对应的代理类id</p><p>​     order:为切面设置优先级 值只能去整数，值越小优先级越高</p><p>3.aop:pointcut标签 ⽤于配置通⽤切⼊点表达式</p><p>属性：id：表达式唯一标识</p><p>​     expression：属性值写切面表达式     </p><p>注意： 出现在aop:config标签内部要求必须在所有aop:aspect标签之前。它可以供所有切⾯使⽤</p><p>​      出现在aop:aspect标签内部，它没有顺序要求，但只能供当前切⾯使⽤</p><p>\4. JoinPoin类：</p><p>方法：getArgs() 获取切入点方法的参数  在前置通知中可以用来获取参数</p><p>Throwable类：Exception类的父类  是一个异常类</p><p>方法：printStackTrace() 打印异常信息</p><p>ProceedingJoinPoint类：JoinPoin的子类</p><p>方法：proceed(Objece[ ] orgs)  用于执行业务方法</p><p>​      </p><p>5..五种通知标签</p><p>前置通知：aop:before标签</p><p>属性：method：⽤于指定前置通知的⽅法名称</p><p>​     pointcut：⽤于指定切⼊点表达式</p><p>​     pointcut-ref：⽤于指定切⼊点表达式的id值</p><p>&lt;aop:before method&#x3D;”beforePrintLog” pointcut-ref&#x3D;”pc1”&gt;</aop:before>–&gt;     </p><p>对应的代理类中的增强方法：</p><p>public void beforePrintLog(JoinPoint joinPoint) throws Throwable {</p><p>​    Object[] args &#x3D; joinPoint.getArgs();</p><p>​    System.out.println(“前置通知”+ Arrays.toString(args));</p><p>  }</p><p>后置通知：aop:after-returning标签</p><p>属性：</p><p>​     method:⽤于指定后置通知的⽅法名称</p><p>​     pointcut:⽤于指定切⼊点表达式</p><p>​     pointcut-ref:⽤于指定切⼊点表达式的id值</p><p>​     returning:指定一个Objece变量来接收返回值   可以设定一个变量来接收切入点方法返回值</p><p>&lt;aop:after-returning method&#x3D;”returningPrintLog” returning&#x3D;”reValus” pointcut-ref&#x3D;”pc1”&gt;</aop:after-returning></p><p>对应的代理类中的增强方法：  </p><p>public void returningPrintLog(JoinPoint joinPoint ,Object reValus) throws Throwable {   &#x2F;&#x2F;传入一个Object类型的对象来表示返回值</p><p>​    System.out.println(“后置通知”+reValus);</p><p>  }    </p><p>异常通知：aop:after-throwing</p><p>属性：</p><p>​     method:⽤于指定异常通知的⽅法名称</p><p>​     pointcut:⽤于指定切⼊点表达式</p><p>​     pointcut-ref:⽤于指定切⼊点表达式的id值</p><p>​     throwing:⽤于指定异常通知中异常的变量名称(变量类型是Throwable)</p><p>&lt;aop:after-throwing method&#x3D;”throwingPrintLog” pointcut-ref&#x3D;”pc1” throwing&#x3D;”t”&gt;</aop:after-throwing>  &#x2F;&#x2F;通过throwing属性来定义一个异常变量</p><p>对应的代理类中的增强方法：</p><p>public void throwingPrintLog(JoinPoint joinPoint,Throwable t) throws Throwable {  &#x2F;&#x2F;传入一个Throwable对象来表示异常变量</p><p>​    t.printStackTrace();</p><p>​    System.out.println(“异常通知”);</p><p>  }</p><p>​      </p><p>最终通知：aop:after标签</p><p>属性：method:⽤于指定最终通知的⽅法名称</p><p>​     pointcut:⽤于指定切⼊点表达式</p><p>​     pointcut-ref:⽤于指定切⼊点表达式的id值</p><p>&lt;aop:after method&#x3D;”afterPrintLog” pointcut-ref&#x3D;”pc1”&gt;</aop:after></p><p>对应的代理类中的增强方法：</p><p>public void afterPrintLog(JoinPoint joinPoint) throws Throwable {</p><p>​    System.out.println(“最终通知”);</p><p>  }    </p><p>​     </p><p>环绕通知：aop:around    用代码来配置方法执行的先后顺序，把前四种通知进行整合 通过编码方式控制增强代码何时执行</p><p>属性；</p><p>​    method:⽤于指定环绕通知的⽅法名称</p><p>​    pointcut:⽤于指定切⼊点表达式</p><p>​    pointcut-ref:⽤于指定切⼊点表达式的引⽤</p><p>&lt;aop:around method&#x3D;”aroundPrintLog” pointcut-ref&#x3D;”pc1”&gt;</aop:around> </p><p>对应的代理类中的增强方法：其他四个方法也需要创建，在环绕方法中调用其他四个方法，来控制执行的先后顺序</p><p>ublic Object aroundPrintLog(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {</p><p>​    Object result &#x3D; null;</p><p>​    try {</p><p>​      &#x2F;&#x2F;执行前置通知</p><p>​      this.beforePrintLog(proceedingJoinPoint);</p><p>​      &#x2F;&#x2F;执行业务方法</p><p>​      Object[] args &#x3D; proceedingJoinPoint.getArgs();</p><p>​      result &#x3D; proceedingJoinPoint.proceed(args);</p><p>​      &#x2F;&#x2F;执行后置通知</p><p>​      this.returningPrintLog(proceedingJoinPoint, result);</p><p>​    } catch (Throwable e) {</p><p>​      e.printStackTrace();</p><p>​      &#x2F;&#x2F;执行异常通知</p><p>​      this.throwingPrintLog(proceedingJoinPoint, e);</p><p>​    } finally {</p><p>​      &#x2F;&#x2F;执行最终通知</p><p>​      this.afterPrintLog(proceedingJoinPoint);</p><p>​    }</p><p>​    return result;</p><p>  }</p><p>}</p><p>注意：异常通知和后置通知只执行一个，切入点方法不报异常，执行后置通知，反之执行异常通知</p><p>​     最终通知是肯定会执行的</p><p>基于注解的AOP配置   </p><p>用到的注解：</p><p>1.@EnableAspectJAutoProxy: 开启spring对注解aop的⽀持</p><p>2.@Aspect:声明当前类是⼀个切⾯类。</p><p>3.@Pointcut :⽤于指定切⼊点表达式的</p><p>4.⽤于配置通知的注解</p><p>@Before：前置通知</p><p>@AfterReturning：后置通知</p><p>@AfterThrowing：异常通知</p><p>@After：最终通知</p><p>@Around：环绕通知</p><p>半注解半配置文件</p><p>-———————————————————————————</p><p>切面类中的代码：</p><p>@Component   &#x2F;&#x2F;添加到spring仓库</p><p>@Aspect      &#x2F;&#x2F;设置为切面类</p><p>public class SaveLog {</p><p>  &#x2F;&#x2F;配置切入点表达式</p><p>  @Pointcut(“execution(* com.practice.service.<em>.</em>(..))”)</p><p>  public void pointCut() {}</p><p>&#x2F;&#x2F;  @Before(“pointCut()”)</p><p>  public void beforePrintLog(JoinPoint joinPoint) throws Throwable {</p><p>​    Object[] args &#x3D; joinPoint.getArgs();</p><p>​    System.out.println(“前置通知”+ Arrays.toString(args));</p><p>  }</p><p>&#x2F;&#x2F;  @AfterReturning(value &#x3D; “pointCut()”,returning &#x3D; “reValus”)</p><p>  public void returningPrintLog(JoinPoint joinPoint ,Object reValus) throws Throwable {</p><p>​    System.out.println(“后置通知”+reValus);</p><p>  }</p><p>&#x2F;&#x2F;  @AfterThrowing(value &#x3D; “pointCut()”,throwing &#x3D; “t”)</p><p>  public void throwingPrintLog(JoinPoint joinPoint,Throwable t) throws Throwable {</p><p>​    t.printStackTrace();</p><p>​    System.out.println(“异常通知”);</p><p>  }</p><p>&#x2F;&#x2F;  @After(“pointCut()”)</p><p>  public void afterPrintLog(JoinPoint joinPoint) throws Throwable {</p><p>​    System.out.println(“最终通知”);</p><p>  }</p><p>  @Around(“pointCut()”)</p><p>  public Object aroundPrintLog(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {</p><p>​    Object result &#x3D; null;</p><p>​    try {</p><p>​      &#x2F;&#x2F;执行前置通知</p><p>​      this.beforePrintLog(proceedingJoinPoint);</p><p>​      &#x2F;&#x2F;执行业务方法</p><p>​      Object[] args &#x3D; proceedingJoinPoint.getArgs();</p><p>​      System.out.println(Arrays.toString(args));</p><p>​      result &#x3D; proceedingJoinPoint.proceed(args);</p><p>​      System.out.println(result);</p><p>​      &#x2F;&#x2F;执行后置通知</p><p>​      this.returningPrintLog(proceedingJoinPoint, result);</p><p>​    } catch (Throwable e) {</p><p>​      e.printStackTrace();</p><p>​      &#x2F;&#x2F;执行异常通知</p><p>​      this.throwingPrintLog(proceedingJoinPoint, e);</p><p>​    } finally {</p><p>​      &#x2F;&#x2F;执行最终通知</p><p>​      this.afterPrintLog(proceedingJoinPoint);</p><p>​    }</p><p>​    return result;</p><p>  }</p><p>}</p><p>-————————————————————————–</p><p>全注解</p><p>创建一个配置类</p><p>-————————————————–</p><p>@Configuration</p><p>@ComponentScan(“com.practice”)  </p><p>@EnableAspectJAutoProxy</p><p>public class SpringConfig {</p><p>}</p><p>-———————————-</p><p>注意：如果使用配置文件开发，则使用前置通知，后置通知，异常通知，最终通知  </p><p>​     如果使用注解开发，则只使用环绕通知   原因是：使用注解开发时，最终通知会在后置通知之前执行，因此使用环绕通知来自己设定方法执行的顺序     </p><p>事务注解：@Transactional 类上或者方法上 用于service层</p><p>spring的默认事务回滚是，遇到运行时异常回滚，遇到受查异常提交</p><p>@Transactional(rollbackFor &#x3D; Exception.class) 设置事务遇到哪种异常进行回滚</p><p>用在类上：为类中所有方法开启事务</p><p>生效的需要的配置：</p><p>1.把事务管理器加到spring仓库</p><bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"><p>​    <!--配置数据源--></p><p>​    <property name="dataSource" ref="druidDataSource"></property></p></bean><p>2.开启事务注解扫描</p><p><a href="tx:annotation-driven">tx:annotation-driven</a></tx:annotation-driven>  </p><p><a href="tx:annotation-driven">tx:annotation-driven</a>:需要使用 xmlns:tx&#x3D;”<a href="http://www.springframework.org/schema/tx&quot;">http://www.springframework.org/schema/tx&quot;</a></p><p>Spring下的事务开发</p><p>事务：逻辑上的一组操作</p><p>作用：这组操作要么全部成功，要么全部失败</p><p>事务并发产生的问题</p><p>1.脏读：读到未提交事务中的数据</p><p>2.不可重复读：事务对同一条记录的俩次查询结果不同 原因：在这俩次查询结果之间，该记录进行了更新操作</p><p>3.幻读：事务根据某一条件进行查询，俩次查询结果不同 原因；在俩次查询结果之间，该条件记录进行了增加或删除操作</p><p>spring 事务隔离级别</p><p>1.极端模式：读未提交 Read_uncommited</p><p>2.读已提交 Read_commited 解决了脏读</p><p>3.可重复读 Repeatable_Read 解决了脏读和不可重复读</p><p>4.极端模式：串⾏化 事务串行执行，解决了脏读，不可重复读，幻读</p><p>5.默认：DEFAULT 不同的数据库有不同的默认隔离级别</p><p>mysql数据库默认隔离级别可重复读Repeatable_Read，oracle数据库默认级别读已提交Read_commited</p><p>spring中用到了哪些设计模式？</p><p>在ioc中用到了工厂模式 </p><p>spring中定义的bean默认为单例模式</p><p>aop中用到了代理模式</p><p>第三十八天</p><p>SpringMVC</p><p>经典三层：web表现层（view+controller）+service业务层+dao（数据接⼊访问层）</p><p>SpringMVC：是一个表现层框架，用来写Controller接收请求跳转⻚⾯的</p><p>SpringMVC是对Servlet的封装和增强，简化了servlet的操作</p><p>ModelAndView：</p><p>方法：</p><p>1.setViewName() :设置跳转页面的路径，页面路径从WEB-INF目录开始写</p><p>2.addObject(“返回值的名字(值的键)”,值) : 设置需要返回给页面的值  值会存储到一个map集合中</p><p>springmvc的入门案例</p><p>1.引入需要的jar包坐标  所有spring jar包都用相同版本的  jsp 修改不需要重启tomcat</p><p>2.在controller层创建一个类</p><p>-—————————————————————————-</p><p>@Controller  &#x2F;&#x2F;把该类添加到spring仓库</p><p>public class TimeController {</p><p>  @RequestMapping(value &#x3D; “return”) &#x2F;&#x2F;为该方法做网址映射</p><p>  public ModelAndView returnTime(ModelAndView modelAndView) {   &#x2F;&#x2F;方法返回值和参数都是ModelAndView</p><p>​    &#x2F;&#x2F;设置返回值</p><p>​    modelAndView.addObject(“time”,new Date());</p><p>​    &#x2F;&#x2F;设置跳转页面的路径</p><p>​    modelAndView.setViewName(“WEB-INF\jsp\result.jsp”);</p><p>​    return modelAndView;</p><p>  }</p><p>}</p><p>-—————————————————————————-</p><p>3.spring配置文件中开启注解扫描和springmvc注解驱动</p><p>&lt;context:component-scan base-package&#x3D;”com.practice.controller”&#x2F;&gt;</p><p><a href="mvc:annotation-driven">mvc:annotation-driven</a></mvc:annotation-driven>          &#x2F;&#x2F;作用：SpringMVC会⾃动注册最合适的处理器映射器、处理器适配器</p><p>4.在web.xml中配置一个servlet  把springmvc的前端控制器DispatcherServlet配置为servlet</p><p>-——————————————————————————————–</p><servlet><p>  <servlet-name>dispatcherServlet</servlet-name></p><p>  <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></p><!--  加载SpringMVC的核⼼配置-->  <init-param><p>   <param-name>contextConfigLocation</param-name></p><p>   <param-value>classpath:springmvc.xml</param-value></p>  </init-param>  <!--  设置随着tomcat启动加载此servlet，完成springmvc前端控制器的启动加载--><p>  <load-on-startup>1</load-on-startup></p> </servlet>  <servlet-mapping><p>  <servlet-name>dispatcherServlet</servlet-name></p><p>  <url-pattern>*.do</url-pattern></p> </servlet-mapping><p>-——————————————————————————————</p><p>5.创建一个访问页面jsp文件</p><p>-———————————————————————————————————-</p><p>&lt;%@ page contentType&#x3D;”text&#x2F;html;charset&#x3D;UTF-8” language&#x3D;”java” isELIgnored&#x3D;”false” %&gt;   &#x2F;&#x2F;isELIgnored&#x3D;”false”  忽略el表达式</p><html><head>  <title>结果页面</title></head><body><p>​    ${time}       &#x2F;&#x2F;controller层下的返回值的键名 通过键名找到返回的值</p></body></html><p>-——————————————————————————————————-</p><p>6.启动tomcat</p><p>SpringMVC架构的各大组件</p><p>1.DispatcherServlet：前端控制器</p><p>本质上是一个Servlet,用于接收用户请求，并响应结果。DispatcherServlet是各大组件的核心，用来指挥各大组件进行工作。</p><p>2.HandlerMapping：处理器映射器</p><p>本质上是一个Map&lt;url,Handler&gt;,根据用户的请求url找到对应的Handler处理器</p><p>3.HandlAdapter：处理器适配器</p><p>通过HandlerAdapter对Handler处理器进⾏执⾏</p><p>4.Handler：处理器  需要自行定义</p><p>相当于Controller或者Controller当中的⽅法，Handler相对于前端控制器DispatcherServlet来说是后端控制器，用于执⾏具体业务处理的</p><p>5.ViewResolver：视图解析器  需要自行配置</p><p>把处理器传过来的jsp页面路径简写解析成具体的⻚⾯地址，再⽣成View视图对象</p><bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"><p>​       <property name="prefix" value="/WEB-INF/jsp/"></property>  设置页面路径前缀</p><p>​       <property name="suffix" value=".jsp"></property>           设置页面路径后缀</p></bean><p>6.View：视图</p><p>提供了很多的View视图类型的⽀持，包括：jsp、freemarkerView等</p><p>RequestMapping注解使⽤</p><p>有三个属性：value:映射网址  method：设置请求方法  params:设置请求参数</p><p>⽤法1: 作用在方法上，多个URL路径映射到同⼀个Handler（同⼀个⽅法）</p><p>@RequestMapping(value &#x3D; {“return1”,”return2”})</p><p>⽤法2:作⽤在类上，实现对请求路径的分类管理，为类做网址映射，限定类中⽅法访问的前缀</p><p>⽤法3 method属性限定请求⽅法: 访问同一个url，根据请求方式的不同执行不同的方法</p><p>@RequestMapping(value &#x3D; {“return1”,”return2”},method &#x3D; RequestMethod.POST)  使用method属性设值请求方法</p><p>@RequestMapping(value &#x3D; {“return1”,”return2”},method &#x3D; RequestMethod.GET)</p><p>⽤法4 params属性限定请求参数 : 访问同一个url，根据请求参数的不同执行不同的方法</p><p>params &#x3D; {“id”}  :  请求必须包含id请求参数</p><p>params &#x3D; {“!id”} ： 请求中不包含id请求参数</p><p>params &#x3D; {“id&#x3D;1”,”name&#x3D;bai”} :请求中必须包含id和name俩个请求参数，并且id值为1，name值为白</p><p>params &#x3D; {“id!&#x3D;1”} :请求中必须包含id这个请求参数，并且id的值不为1</p><p>请求参数自动封装到pojo类：</p><p>1.SpringMVC中默认执行sevlet中的api  HttpSession HttpServletRequest HttpServletResponse</p><p>可以在处理器方法中作为参数传入这些类进行使用</p><p>2.绑定简单数据类型 方法中传入参数名与请求参数键名相同，请求参数的键对应的值就会自动赋值给方法中参数</p><p>基本数据类型推荐使⽤包装类，包装类可以为null</p><p>说明：对于布尔类型的参数，请求的参数值为true或false。或者1或0</p><p>3.@RequestParam注解使⽤ 为方法形参和请求参数做手动映射</p><p>@RequestParam(“id”) Integer ids  把id请求参数赋值给形参ids</p><p>\4. 绑定pojo对象 传递过来的请求参数名与实体类中的字段名相同，就会实现自动赋值</p><p>5.绑定pojo对象中的实体字段 请求参数中应该这样写：实体字段名.字段名&#x3D;   实现为实体类中的实体字段赋值  student.name&#x3D;aa&amp;student.age&#x3D;18</p><p>6.为pojo对象中的list集合字段映射，集合中存放的是实体类  集合字段名[0].实体字段&#x3D;</p><p>list[0].name&#x3D;bai&amp;list[0].age&#x3D;18  &amp; list[1].name&#x3D;aaa&amp;list[1].age&#x3D;18</p><p>7.为pojo对象中的map集合字段映射，集合中存放的是实体类 Map&lt;String,Student&gt; map;  集合字段名[map集合的键].实体类字段名</p><p>map[a].name&#x3D;bai&amp;map[a].age&#x3D;18</p><p>web.xml中标签配置有先后顺序</p><p>配置编码过滤器 解决post请求中的中文乱码问题</p><filter><p>  <filter-name>characterEncodingFilter</filter-name></p><p>  <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class></p>  <init-param><p>   <param-name>encoding</param-name></p><p>   <param-value>utf-8</param-value></p>  </init-param></filter><filter-mapping><p>  <filter-name>characterEncodingFilter</filter-name></p><p>  <url-pattern>&#x2F;*</url-pattern></p></filter-mapping>  <p>@RequestHeader注解  注解作⽤在⽅法参数上 获取请求头中的指定信息</p><p>public ModelAndView returnTime10(@RequestHeader(“User-Agent”) String userAgent, ModelAndView modelAndView) {}</p><p>@CookieValue注解 注解⽤于⽅法参数上 获取浏览器携带的Cookie某一个键值对</p><p>public ModelAndView returnTime11(@CookieValue(“JSESSIONID”) String userAgent, ModelAndView modelAndView) {}  </p><p>Controller⽅法（Handler）的返回值</p><p>1.返回值是ModelAndView 参数是ModelAndView       返回ModelAndView 对象</p><p>2.返回值是String         参数是Model             直接返回逻辑视图名</p><p>Model接⼝：⽅法 addAttribute(String key,Object value) 往reques域中添加键值对 </p><p>3.返回值String          参数是ModelMap         直接返回逻辑视图名</p><p>ModelMap(本质是一个map集合) 方法：addAttribute(String key,Object value) 往reques域中添加键值对</p><p>4.无返回值              参数是ModelMap HttpServletRequest HttpServletResponse</p><p>使用request完成请求转发    getRequestDispatcher(“请求转发路径”)</p><p>RequestDispatcher requestDispatcher &#x3D; request.getRequestDispatcher(“return1.do”);</p><p>requestDispatcher.forward(request,response);</p><p>使用response完成重定向    sendRedirect(“重定向网址”)</p><p>response.sendRedirect(“<a href="http://localhost:8080/thread/return1.do">http://localhost:8080/thread/return1.do");</a></p><p>使用response对象给页面返回信息</p><p>PrintWriter writer &#x3D; response.getWriter();</p><p>writer.print(“hello world”);</p><p>5.SpringMVC框架实现重定向和请求转发的字符串写法</p><p>***注意：如果转发到当前方法所在类的方法时，不用加类路径，否则会报错</p><p>请求转发 关键字forward</p><p>public String frowordTest(ModelMap modelMap) {</p><p>​    System.out.println(“froword执行了”);</p><p>​    &#x2F;&#x2F;设置转发的路径</p><p>​    return “forward:&#x2F;thread&#x2F;return1.do”;  </p><p>}</p><p>重定向   关键字redirect</p><p>public String redirectTest(ModelMap modelMap) {</p><p>​    System.out.println(“redirect执行了”);</p><p>​    &#x2F;&#x2F;设置跳转页面的路径</p><p>​    return “redirect:<a href="http://www.baidu.com/">http://www.baidu.com";</a></p><p>}</p><p>JSON:是一种特殊的字符串,易于机器解析和生成</p><p>SON的结构：{“键”:”值“,”键”:”值“}</p><p>Ajax：是一种独立于Web服务器软件的浏览器动态页面生成技术</p><p>AJAX最大的特点：使网页实现异步更新，无需重新加载整个网页的情况下，能够更新部分网页的技术</p><p>Json格式数据实现Ajax交互</p><p>用到的注解：</p><p>1.@RequestBody注解， 将JSON 字符串转换为POJO对象     作用在参数上</p><p>2.@ResponseBody注解  将Controller的⽅法返回的java对象转换为json字符串返回给客户端、</p><p>作用在方法上，把方法返回值转化为json字符串返回给客户端</p><p>作用在类上，把类中所有方法返回值转化为json字符串返回给客户端</p><p>3.@RestController  相当于Controller + ResponseBody</p><p>http请求⽅式：</p><p>get：主要是想做select</p><p>post：主要是想做insert</p><p>put：主要是想做update</p><p>delete：主要是想做delete</p><p>RESTful：⼀个资源定位及资源操作的⻛格 定义url的一种方式  url编写的一种方式</p><p>***具体编写方式：把传递给Controller层方法的参数作为其方法的网址映射，在方法的网址映射上完成了方法传参</p><p>用到的参数：</p><p>1.@PathVariable 把方法网址上传递过来的参数，赋值给方法参数</p><p>@RequestMapping(value &#x3D; “{id}”,method &#x3D; RequestMethod.GET) &#x2F;&#x2F;为该方法做网址映射</p><p>  public String select(@PathVariable(“id”) Integer ids) {</p><p>​    System.out.println(ids);</p><p>​    return “select”;</p><p>}</p><p>HiddenHttpMethodFilter过滤器：</p><p>由于浏览器 form 表单只⽀持 GET 与 POST 请求，⽽DELETE、PUT 等 method 并不⽀持</p><p>Spring3.0之后添加了⼀个过滤器，可以将浏览器请求改为指定的请求⽅式，发送给我们的控制器⽅法，使得⽀持</p><p>GET、POST、PUT 与DELETE请求.</p><filter><p>​       <filter-name>hiddenHttpMethodFilter</filter-name></p><p>​       <filter-class>org.springframework.web.filter.HiddenHttpMethodFilter</filter-class></p></filter><filter-mapping><p>​       <filter-name>hiddenHttpMethodFilter</filter-name></p><p>​       <url-pattern>&#x2F;*</url-pattern></p></filter-mapping><p>SpringMVC拦截器</p><p>拦截器：SpringMVC框架中特有的，可以对handle中的方法进行拦截</p><p>自定义拦截器步骤：</p><p>1.在interceptor目录下创建一个类，让其实现HandleInterceptor接口，并重写接口中的三个方法</p><p>重写⽅法：</p><p>​        preHandle：handler之前执⾏，返回true表示放⾏，返回false表示拦截</p><p>​        postHandle：在Handler⽅法执⾏完毕后 , 进⾏⻚⾯跳转渲染之前 执⾏</p><p>​        afterCompletion：在⻚⾯渲染完毕以后 执⾏</p><p>2.在spring配置文件中配置拦截器</p><p><a href="mvc:interceptors">mvc:interceptors</a></p><p>​     <a href="mvc:interceptor">mvc:interceptor</a></p><p>​        <!--设置拦截路径--></p><p>​        &lt;mvc:mapping path&#x3D;”&#x2F;**”&#x2F;&gt;</p><p>​        <!--把继承了HandlerIntercepto接口的类加载到spring仓库--></p><p>​        <bean id="myInterceptor" class="com.practice.interceptor.MyInterceptor"></bean></p><p>​    </mvc:interceptor></p><p></mvc:interceptors></p><p>拦截器链</p><p>拦截器链都放行时：</p><p>​              preHandle顺序执⾏ ：所有拦截器中的preHandle方法都放行时，才会执行handle方法</p><p>​              postHandle倒序执⾏</p><p>​              afterCompletion倒序执⾏</p><p>拦截器链有中断时：postHandle都不会执行    </p><p>第三十九天</p><p>SpringBoot</p><p>1.内置了tomcat9.0</p><p>SpringBoot工程创建的俩种方式：</p><p>一.Spring Initializr 联网创建</p><p>二.maven 不选骨架</p><p>入门程序：</p><p>\1. 创建Maven⼯程</p><p>\2. pom.xml⽂件中配置起步依赖</p><p>配置一个父pom文件</p><parent><p>​    <groupId>org.springframework.boot</groupId></p><p>​    <artifactId>spring-boot-starter-parent</artifactId></p><p>​    <version>2.1.7.RELEASE</version></p></parent><p>导入相关依赖</p><p>\3. 编写SpringBoot启动引导类</p><p>@SpringBootApplication</p><p>public class HelloWorldAppication {</p><p>  public static void main(String[] args) {</p><p>​    SpringApplication.run(HelloWorldAppication.class,args);</p><p>  }</p><p>}</p><p>\4. 编写Controller</p><p>@RestController</p><p>public class HelloController {</p><p>  @RequestMapping(“&#x2F;hello”)</p><p>  public String HelloWorld() {</p><p>​    return “hello”;</p><p>  }</p><p>}</p><p>5.编写静态页面index.html</p><p>在resource目录下新建一个目录static，在static目录下创建一个index.html页面</p><p>6.. 访问<a href="http://localhost:8080/hello%E6%B5%8B%E8%AF%95">http://localhost:8080/hello测试</a></p><p>SpringBoot⼯程热部署：不需要重启tomcat就可以更新java代码，需要点击锤子按键（build projec）</p><p>需要导入一个jar包依赖</p><dependency><p>​      <groupId>org.springframework.boot</groupId></p><p>​      <artifactId>spring-boot-devtools</artifactId></p></dependency><p>starters的原理:对依赖坐标进行整理，把一系列的依赖坐标整合到一个starter中</p><p>starters的作用：让开发者⽆需关⼼依赖导⼊，依赖冲突，及依赖的版本</p><p>starter为什么不需要写版本：因为springboot工程的pom文件中继承了父pom文件，jar包的版本在父pom文件中进行了指定</p><p>继承了spring-boot-starter-parent 的好处和特点：</p><p>1.默认编译Java 1.8</p><p>2.默认编码UTF-8</p><p>3.通过spring-boot-denpendencies的pom管理所有公共Starter依赖的版本</p><p>4.spring-boot-denpendencies通过Maven的⼀个特性来实现版本管理</p><p>5.随⽤随取，不⽤继承⽗类所有的starter依赖。</p><p>6.如果想使⽤⽗pom⽂件中的任何插件，⽆需配置即可使⽤</p><p>SpringBoot中的打包插件：可以把springboot工程中涉及到的父目录中的插件也都打包进去</p><build>  <plugins><p>​      <plugin></p><p>​      <groupId>org.springframework.boot</groupId></p><p>​      <artifactId>spring-boot-maven-plugin</artifactId></p>  </plugin><p>​      </plugins></p></build><p>***SpringBoot默认从Resource⽬录加载⾃定义配置⽂件</p><p>***SpringBoot的配置文件名必须是application</p><p>SpringBoot的配置⽂件：有三种</p><p>1.xml</p><p>2.properties</p><p>3.yml&#x2F;yaml:支持多种编程语言</p><p>配置⽂件语法：区分大小写</p><p>​            数据值前必须有空格，作为间隔符</p><p>​            使⽤缩进表示层级关系，缩进的空格数不重要，只要相同层级的元素左对⻬即可</p><p>​            缩进不允许使⽤tab，只允许空格</p><p>​            单行注释：#</p><p>值不可以用%开头</p><p>所有写法：person:</p><p>  name: peige</p><p>  age: 31</p><p>  addr: ${name}  引用name的值</p><p>  city:</p><p>   - beijing     多个值前面加横杆，可以放在一个数组中</p><p>   - shanghai</p><p>   - guangzhou</p><p>  animals:</p><p>   - name: ${name}  值是集合元素</p><p>   age: 2</p><p>   - name: tomcat</p><p>   age: 3</p><p>   - name: pig</p><p>   age: 5     </p><p>​         </p><p>SpringBoot的默认配置查看方式：</p><p>1.官网：<a href="https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#common-application-properties">https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#common-application-properties</a></p><p>2.在autoconfigure jar包下的文件中</p><p><a href="https://www.toyaml.com/index.html%EF%BC%9Ayml%E6%96%87%E4%BB%B6%E5%92%8Cproperties%E6%96%87%E4%BB%B6%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2">https://www.toyaml.com/index.html：yml文件和properties文件相互转换</a></p><p>修改SpringBoot的默认配置：在resourse目录下创建application.yml文件或者application.properties文件 文件必须是application</p><p>server:</p><p> port: 9090</p><p> address: 127.0.0.1</p><p> servlet:</p><p>  context-path: &#x2F;springboot</p><p>debug: true</p><p>logging:</p><p> <a href="http://level.com.example/">level.com.example</a>: debug</p><p>SpringBoot中用到的注解：</p><p>1.@SpringBootApplication:标记类为SpringBoot引导类</p><p>2.@MapperScan(“包名”) ：把包下所有接口标记为mapper接口 作用在引导类上</p><p>3.@Transactional：开启事务</p><p>4.@Mapper：把接口标记为mapper接口 作用在mapper层接口上</p><p>注意：SpringBoot中的配置文名必须是application</p><p>5.@SpringBootTest 用在测试类中  整合junit的注解</p><p>SpringBoot中连接数据库的配置信息：</p><p>spring.datasource.url&#x3D;jdbc:<a href="mysql://127.0.0.1:3306/ssm?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai">mysql:&#x2F;&#x2F;127.0.0.1:3306&#x2F;ssm?useUnicode&#x3D;true&amp;characterEncoding&#x3D;UTF-8&amp;serverTimezone&#x3D;Asia&#x2F;Shanghai</a></p><p>spring.datasource.password&#x3D;root</p><p>spring.datasource.username&#x3D;root</p><p>SpringBoot中整合Junit</p><p>1.导入依赖坐标</p><!--spring boot测试依赖--><dependency><p><groupId>org.springframework.boot</groupId></p><p><artifactId>spring-boot-starter-test</artifactId></p><p><scope>test</scope></p></dependency><p>2.测试类中加俩个注解</p><p>@RunWith(SpringRunner.class)</p><p>@SpringBootTest</p><p>739819578</p><p>springboot整合redis</p><p>1.导入springboot整合redis的依赖</p><dependency><p><groupId>org.springframework.boot</groupId></p><p><artifactId>spring-boot-starter-data-redis</artifactId></p></dependency><p>2.修改application.yml配置文件</p><p>spring:</p><p> redis:</p><p>  host: 192.168.223.130</p><p>  post: 6379</p><p> cache:</p><p>  type: <em>redis</em></p><p>  cache-names: reids_service 自定义的缓存名称</p><p>3.涉及的实体类，要实现序列化接口</p><p>implements Serializable</p><p>4.如果要使用redis中的注解开发，需要在启动类在加@EnableCaching</p><p>redis的注解开发：作用在servies层</p><p><em>&#x2F;&#x2F; @Cacheable<strong>：开启</strong>redis<strong>缓存，再进行查询操作时，先去</strong>redis**缓存查，如果</em></p><p><em>&#x2F;&#x2F; redis<strong>缓存没有，再去数据查，然后再写入</strong>redis**缓存中</em></p><p><em>&#x2F;&#x2F; value<strong>：是配置文件配置的</strong>redis<strong>缓存的名称，随意命名的，</strong>key<strong>用来指定插入缓存数据的</strong>key</em></p><p>@Cacheable(value &#x3D; “reids_service”, key &#x3D; “‘student_’+#age”)</p><p>@CacheEvict(value &#x3D; “reids_service”,allEntries &#x3D; true) ：执行 增删改操作后，会清空缓存中的数据</p><p>多环境配置⽂件</p><p>创建四个配置文件</p><p>application.properties 在这个配置文件中选择使用哪个环境 spring.profiles.active&#x3D;dev</p><p>application-dev.properties 开发环境</p><p>application-test.properties 测试环境</p><p>application-pro.properties ⽣产环境</p><p>第四十天</p><p>Redis</p><p>1.是一种key-value形式的nosql数据库(非关系型数据库)</p><p>2.是C语言开发的，建议在linux上运行</p><p>3.内存数据库</p><p>4.提供了五种基本数据类型：</p><p>字符串:string,动态字符串，长度是可变的，当字符串长度增加时，会进行动态扩容</p><p>字典:数组加链表，key存放在数组中，value存放在链表中</p><p>列表:数据结构是链表，是有序的，常用来做异步队列使用，队列是先进先出的数据结构，常用于消息队列和异步逻辑处理，轮询列表中的数据可以保证元素的访问顺序</p><p>集合:无序的，不可重复的，可以存储不可重复的元素 value{key,value,value}</p><p>有序集合: value{score,value},每一个值对应一个分数，因此值是有序</p><p>redis缓存中的数据可以分为俩种：一种是准确性要求高的数据，与数据库中的数据要时刻保持绝对一致性</p><p>​                          一种是准确性要求不高的数据，与数据库中的数据相差不大就行，可以设置失效时间，隔一段时间更新一下</p><p>双重检测机制:可能会有线程安全问题</p><p>造成原因：</p><p>redis的分布式锁:</p><p>目的:解决并发问题，在同一时间有多个用户对数据进行操作</p><p>原理:使用setnx lock命令为元素上锁，然后使用del释放</p><p>为防止造成死锁，可以使用expire命令为锁设置一个过期时间</p><p>2.8版本后</p><p>为防止设置过期时间未执行，导致死锁，可以set和</p><p>expire命令一起使用</p><p>set lock:key value ex 5 nx</p><p>del lock:key</p><p>分布式锁的超时问题:加锁和释放锁之间的逻辑执行有时间限制，一但超过这个时间限制，锁就会自动释放，导致加锁逻辑未执行完就释放了锁，如果此时有另一个线程持有了这把锁，就会出现数据错乱.</p><p>redis的分布式锁不能解决超时问题，因此分布式锁不适用于长时间的任务</p><p>加锁没加成功时，有三种处理方法:</p><p>1.直接抛出异常，通知客户重试</p><p>2.sleep一会，再重试</p><p>3.把该请求放到队列中进行处理</p><p>异步消息队列:redis的列表可以作为异步消息队列使用，用lpush(左)和rpush右入队列，用rpop右和lpop左出队列，</p><p>为了防止队列空了空读现象，可以使用阻塞读brop和blpop代替rpop和lpop</p><p>使用阻塞读时，如果一直没有读，redis的连接就会断开，这时读队列会报异常，因此在编写消息消费者时，如果捕获到异常，还要进行重试</p><p>NoSQL数据库的产生：为了解决高并发，高缓冲，高可用性开发的</p><p>NoSQL数据库的作用：作为关系型数据库的良好补充，但是不能替代关系型数据库</p><p>NoSQL数据库的四大分类：</p><p>1.键值(Key-Value)存储数据库：Redis  主要用于处理大量数据的高访问负载</p><p>优势：快速查询</p><p>劣势：存储的数据结构缺少结构化</p><p>2.列存储数据库</p><p>3.文档型数据库</p><p>4.图形(Graph)数据库</p><p>redis的应用场景：</p><p>1.缓冲</p><p>2.好友列表</p><p>3.任务队列</p><p>在linux中安装Redis：</p><p>1.下载C语言编译器gcc</p><p>yum install gcc-c++ -y</p><p>2.下载Redis源码</p><p>wget <a href="http://download.redis.io/releases/redis-5.0.7.tar.gz">http://download.redis.io/releases/redis-5.0.7.tar.gz</a></p><p>3.解压源码压缩包</p><p>tar zxf redis-5.0.7.tar.gz</p><p>4.进入到解压好的文件夹 编译源码</p><p>make</p><p>5.把编译好的源码下载到 &#x2F;usr&#x2F;local&#x2F;redis</p><p>make install PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;redis</p><p>6.使用守护进程模式启动Redis服务</p><p>复制redis.conf 到 &#x2F;usr&#x2F;local&#x2F;redis&#x2F;bin</p><p>cp &#x2F;root&#x2F;redis-5.0.7&#x2F;redis.conf &#x2F;usr&#x2F;local&#x2F;redis&#x2F;bin</p><p>7.修改redis.conf 文件</p><p>注释 bind 127.0.0.1 这一行  允许所有ip访问</p><p>protected-mode no 不需要指定ip就可以访问</p><p>daemonize yes  把守护进程改为yes</p><p>8.启动服务</p><p>.&#x2F;redis-server redis.conf  使用配好的配置文件启动服务</p><p>9.关闭服务 </p><p>kill 进程id</p><p>查看进程id  ps -ef | grep redis</p><p>10.使用redis自带的命令行客户端</p><p>.&#x2F;redis-cli -h [IP地址]  -p [端口号]</p><p>Redis支持五种数据类型： 都是针对值定义的</p><p>1.String 值是Sring  key value</p><p>对应操作：</p><p>赋值：set key value</p><p>取值：get key</p><p>删值：del key</p><p>判断key是否存在：exists key 存在返回1，不存在返回0</p><p>取值时重新赋值：getset key vlaue</p><p>值为整数的数据，值默认加1： incr key</p><p>值为整数的数据，值加n : incrby key n</p><p>值为整数的数据，值默认减1： decr key</p><p>值为整数的数据，值减n : decrby key n</p><p>该键中没有值时才可以为其赋值：setnx key vlaue 返回0赋值失败，返回1赋值成功</p><p>为value尾部添加内容：append key 要添加的内容</p><p>查看值的长度：strlen key</p><p>同时为多个字符串赋值：mset key vlaue key vlaue</p><p>查看所有的key: keys *</p><p>2.hash  值是键值对形式 key field value</p><p>赋值：hset key field value field value</p><p>取值：hget key field</p><p>取多个值：hmget key field field</p><p>删值：hdel key field</p><p>判断值是否存在：hexists key field</p><p>取field列表：hkeys key</p><p>取value列表：hvals key</p><p>取field和value的列表：hgetall key</p><p>field中没有值才为其赋值：hsetnx key field value</p><p>3.list   值是双向链表结构 key value value value</p><p>添加元素：从左边添加 lpush key value value value</p><p>​        从右边添加 rpush key value value value</p><p>取元素:   从左边开始取 lpop key    元素取出后，list中就没有该元素了</p><p>​        从右边开始取 rpop key</p><p>查看列表中元素:lrange key 开始下标 结束下标</p><p>查看列表长度：llen key</p><p>4.set   值是set集合，不能有重复数据   key value value value</p><p>往集合中添加元素：sadd key value value value ‘</p><p>取集合中元素：smembers key</p><p>查看集合中元素个数：scard key</p><p>查看元素是否在集合中：sismember key value</p><p>删除集合指定元素：srem key value</p><p>随机删除集合中一个元素：spop key</p><p>做运算：</p><p>差集运算 查看key1中存在于key1但不存在于key2的元素 sdiff key1 key2</p><p>交集运算 sinter key1 key2</p><p>并集运算 sunion key1 key2</p><p>5.SortedSet  值是键值对形式，不能有重复数据  key score(double型数据) value</p><p>添加元素：zadd key number value number value</p><p>删除元素: zrem key value</p><p>查看元素数量：zcard key</p><p>查看元素：zrange key start end</p><p>带分数查询元素：zrange key start end withscores</p><p>倒序查询：zrevrange key start end</p><p>查询某个值的score: zscore key vlaue</p><p>服务器命令</p><p>1.查看所有key: key *</p><p>2.删除key：del key  </p><p>3.判断key是否存在：exists key</p><p>4.设置key的存活时间：expire key time(单位是秒)</p><p>5.查看key的存活时间：ttl key 返回-1，代表永久存在；返回-2代表已过期；返回其他数字，代表其存活剩余时间</p><p>6.Redis默认有16个库 db0-db15</p><p>默认打开的库时db0</p><p>切换库：select 库index</p><p>7.清空当前数据库中的数据：flushdb</p><p>  删除所有数据库中的数据：flushall</p><p>redis缓存涉及到的三种现象：缓存穿透、缓存击穿、缓存雪崩</p><p>缓存穿透：查询一个不存在的数据时，由于从数据库查不到数据，因此不会写去缓存，因此每次查询都回去数据库查找，会导致数据瘫痪</p><p>解决方案：数据查询的数据为空时也存入缓存，并设置一个短的过期时间</p><p>缓存击穿：数据库中有数据，而缓存中没数据  当一时间大量的请求访问同一个key时，key刚好失效，就会导致这些请求都去访问数据库</p><p>解决方案：定时更新热点数据的值，设置热点数据用不过时 </p><p>使用互斥锁：当查询的数据缓存中没有时，为该数据上锁</p><p>缓存雪崩，：有大量数据同时到期，而此时刚好查询量巨大时</p><p>解决方案：设置热点数据用不过期，过期时间设置成随机</p><p>Redis数据持久化</p><p>Redis中的数据是保存在内存中的，一旦Redis重启数据就会丢失，因此需要进行数据持久化</p><p>数据的持久化：把数据从内存同步到硬盘</p><p>1.RDB模式：默认模式，快照模式 ，当符合一定条件时Redis会自动将内存中的数据进行快照并持久化到硬盘</p><p>在Redis重写启动后，会把通过快照加载到硬盘中的数据读取过来</p><p>在Redis.conf配置文件中进行持久配置</p><p>save 900 1 在900秒内有一次更新操作就会进行一次快照</p><p>关闭RDB模式</p><p>#  save “” 打开这一行</p><p>**缺点：如果Redis异常关闭，可能造成部分数据丢失</p><p>2.AOF模式:录像，每执行一条会更改Redis中的数据的命令，Redis就会将该命令写入硬盘中的AOF文件</p><p>开启AOF持久化模式：在Redis.conf配置文件中 appendonly yes</p><p>缺点：aof文件中数据过大，影响Redis的启动</p><p>3.混合持久化方式：先把当前的数据以RDB的形式写入文件的开头，再将后续的操作命令以 AOF 的格式存入文件</p><p>查看是否开启混合持久化方式：config get aof-use-rdb-preamble 在Redis客户端执行的命令</p><p>开启混合持久化：使用命令 config set aof-use-rdb-preamble yes 重启后失效</p><p>​             使用配置文件：aof-use-rdb-preamble yes 永久生效   Redis 5.0中默认开启</p><p>主从模式：</p><p>1.为主服务器添加从服务器，如果主服务器出现故障，从服务器可以代替主服务器进行工作，但是只能进行查询操作，如果要进行写操作，需要做主从切换</p><p>2.实现读写分离，从服务器上进行读操作，主服务器上进行写操作，并且从服务器只能进行读操作</p><p>3.哨兵可以帮我们自动进行主从切换</p><p>4.只需要在从服务器上进行数据持久化，减轻主服务器负担</p><p>主从复制：主服务器中的数据会实时更新到从服务器，当主服务器中有数据写入时，会通过主从主从复制机制把数据复制到从服务器上</p><p>主从模式的配置：</p><p>1.复制一个redis的编译文件bin目录即可作为主服务器，主服务器不需要配置</p><p>2.从服务器需要在配置文件中打开从服务器  从服务器只能进行读操作</p><p>在redis.conf配置文件中：打开这一行 replicaof <masterip> <masterport></p><p>replicaof 主服务器ip 主服务器端口号</p><p>info replication :redis客户端上的命令，用于查看主从配置信息</p><p>哨兵模式</p><p>哨兵既不可写，也不可读</p><p>作用：</p><p>\1. 集群监控：负责监控redis 所有的主从服务器是否正常工作</p><p>\2. 消息通知：如果某个redis服务器出现故障，哨兵会给管理员发送报警通知</p><p>\3. 故障转移：如果主服务器挂掉了，会自动实现主从切换</p><p>\4. 配置中心：如果主从切换发生了，会告知client客户端新的master地址</p><p>哨兵模式中的特有名词：</p><p>1.sdown是主观宕机，就一个哨兵如果自己觉得一个master宕机了，那么就是主观宕机</p><p>2.odown是客观宕机，如果quorum数量的哨兵都觉得一个master宕机了，那么就是客观宕机</p><p>\3. quorum：确认odown的最少的哨兵数量</p><p>\4. majority：授权进行主从切换的最少的哨兵数量  值一般设为一半以上的哨兵数量</p><p>三哨兵模式为最经典模式</p><p>哨兵模式的配置文件：sentinel.conf</p><p>修改配置文件：</p><p>1.daemonize yes 以守护进程模式启动redis客户端</p><p>2.logfile “日志文件的存放位置，需要写绝对路径”</p><p>3.sentinel monitor 哨兵名称 主服务器的ip 主服务器的端口号 判定服务器客观下线的哨兵个数</p><p>4.sentinel down-after-milliseconds mymaster 30000 判定ping命令超时的时间，单位是毫秒</p><p>5.sentinel parallel-syncs mymaster 1  主从交换后一次把几个从服务器关联到新的主服务器上</p><p>6.sentinel failover-timeout mymaster 180000 多少毫秒后主从交换被视为失败</p><p>启动哨兵：redis-sentinel sentinel.conf</p><p>**一主多从三哨兵为经典模式</p><p>redis支持高并发 读11万次&#x2F;S 写8.7万次&#x2F;S  从机多少个 每秒每增加10万并发 就增加一台从机</p><p>cluster集群模式：</p><p>1.在cluster集群模式当中，从机默认既不可写，也不可读，仅仅是做备份机</p><p>2.如果超过半数的主节点挂点，则集群不可用 或者 任意一个主节点挂点且该主节点没有从节点，则集群不可用</p><p>3.只要连上集群中任一节点（服务器），就可以使用集群了</p><p>4.集群最低需要创建三个主节点，并且为每个主节点配一个从节点</p><p>5.使用redis-cli客户端方式创建集群</p><p>6.有多个主服务器，每个主服务器又有多个从服务器</p><p>集群创建步骤：</p><p>以三个主节点，三个从节点为例</p><p>1.创建6个redis服务器，端口号分别为8001-8006</p><p>2.更改配置文件</p><p>修改端口号</p><p>开启集群模式：打开这一行cluster-enabled yes</p><p>3.分别启动6个服务器</p><p>以文件形式启动</p><p>创建一个文件，在文件写上需要执行的命令</p><p>cd 8001</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>cd 8002</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>cd 8003</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>cd 8004</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>cd 8005</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>cd 8006</p><p>.&#x2F;redis-server redis.conf</p><p>cd ..</p><p>修改文件的权限：chmod +x 文件名</p><p>执行文件：.&#x2F;文件名</p><p>4.创建集群</p><p>随便进去一个节点服务器目录下</p><p>.&#x2F;redis-cli –cluster create 服务器ip:端口号 服务器ip:端口号 服务器ip:端口号 服务器ip:端口号 –cluster-replicas 1</p><p>–cluster-replicas 1 : 为每个主节点分配一个从节点</p><p>5.连接集群</p><p>随便进去一个服务器目录</p><p>.&#x2F;redis-cli -p 端口号 -c       -c:表示以集群模式连接</p><p>6.查看集群状态</p><p>cluster info :查看集群信息</p><p>cluster nodes:查看集群节点信息</p><p>redis的java客户端：推荐使用Jedis和Redisson</p><p>Jedis学习：</p><p>1.连接单一服务器 Jedis</p><p>Jedis jedis &#x3D; new Jedis(“192.168.200.128”, 6379);  服务器ip和端口号</p><p>​    jedis.set(“sex”,”男”);</p><p>​    String sex &#x3D; jedis.get(“sex”);</p><p>​    jedis.close();        &#x2F;&#x2F;最后都要关闭连接</p><p>2.使用连接池连接单一服务器 JedisPool</p><p>JedisPool jedisPool &#x3D; new JedisPool(“192.168.200.128”, 6379);</p><p>​    Jedis resource &#x3D; jedisPool.getResource();</p><p>​    String name &#x3D; resource.get(“name”);</p><p>​    System.out.println(name);</p><p>​    resource.close();</p><p>3.使用连接池连接哨兵集群 JedisSentinelPool</p><p>Set<String> sentinelSet &#x3D; new HashSet<String>(); 创建一个set集合</p><p>​    sentinelSet.add(“192.168.200.128:26379”);  把哨兵的ip和端口号写入集合中</p><p>​    JedisSentinelPool mymaster &#x3D; new JedisSentinelPool(“mymaster”, sentinelSet); 传入哨兵名和集合名</p><p>​    Jedis resource &#x3D; mymaster.getResource();</p><p>​    resource.set(“name”,”baiyulong”);</p><p>​    String name &#x3D; resource.get(“name”);</p><p>​    System.out.println(“name &#x3D; “ + name);</p><p>​    resource.close();   &#x2F;&#x2F;关闭连接</p><p>4.连接集群  JedisCluster</p><p>Set<HostAndPort> nodes &#x3D; new HashSet&lt;&gt;();  创建一个存放HostAndPort对象的set集合</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8001)); 把每个集群节点写入HostAndPort对象中，添加到集合中</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8002));</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8003));</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8004));</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8005));</p><p>​    nodes.add(new HostAndPort(“192.168.200.128”,8006));</p><p>​    JedisCluster jedisCluster &#x3D; new JedisCluster(nodes);   传入集合名，获取JedisCluster连接对象</p><p>​    jedisCluster.set(“name”,”baiyulong”);</p><p>​    String name &#x3D; jedisCluster.get(“name”);</p><p>​    System.out.println(name);</p><p>​    jedisCluster.close();</p><p>使用SpringBoot整合redis</p><p>用到的类：</p><p>1.StringRedisTemplate：用于操作redis数据库的类，继承自RedisTemplate</p><p>RedisTemplate中的方法</p><p>方法：redisTemplate.opsForValue();　　&#x2F;&#x2F;操作字符串</p><p>​     redisTemplate.opsForHash();　　 &#x2F;&#x2F;操作hash</p><p>​     redisTemplate.opsForList();　　  &#x2F;&#x2F;操作list</p><p>​     redisTemplate.opsForSet();　　  &#x2F;&#x2F;操作set</p><p>​     redisTemplate.opsForZSet();　 　&#x2F;&#x2F;操作有序set</p><p>2.ObjectMapper：用于json字符串和java对象的相互转换</p><p>方法：readValue(String,User.class)  把json字符串转化为User对象</p><p>​     writeValueAsString(user):    把java对象转化为json字符串</p><p>配置文件：application.yml</p><p>spring:</p><p> datasource:</p><p>  url: jdbc:<a href="mysql://127.0.0.1:3306/mybatis?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai">mysql:&#x2F;&#x2F;127.0.0.1:3306&#x2F;mybatis?useUnicode&#x3D;true&amp;characterEncoding&#x3D;UTF-8&amp;serverTimezone&#x3D;Asia&#x2F;Shanghai</a></p><p>  username: root</p><p>  password: root</p><p> redis:</p><p>  host: 192.168.200.128  &#x2F;&#x2F;配置redis服务器的ip和端口号</p><p>  port: 6379</p><p>debug: true</p><p>logging:</p><p> level:</p><p>  com:</p><p>   example: debug</p><p>控制层：</p><p>****思想：服务器接收到查询请求后，先去redis服务器取数据，如果redis服务器有数据，则直接返回给客户端；</p><p>如果redis服务器中没有数据，则去mysql数据库取数据，把取出来的数据存储到redis服务器中，</p><p>并把取出的数据返回给客户端。</p><p>@RestController</p><p>@RequestMapping(“&#x2F;user”)</p><p>public class UserController {</p><p>  @Autowired</p><p>  private UserServer userServer;</p><p>  @Autowired</p><p>  private StringRedisTemplate redisTemplate;  &#x2F;&#x2F;StringRedisTemplate用于操作redis数据库的类，主要是存取数据</p><p>  @Autowired</p><p>  private ObjectMapper objectMapper;       &#x2F;&#x2F;ObjectMapper:用于转换json字符串和java对象</p><p>  @RequestMapping(“&#x2F;{id}”)</p><p>  public User findById(@PathVariable Integer id) throws JsonProcessingException {</p><p>​    String json &#x3D; redisTemplate.opsForValue().get(“user” + id);  &#x2F;&#x2F;接收到客户端请求后先去redis服务器中取数据</p><p>​    if (json !&#x3D; null) {                                   &#x2F;&#x2F;如果取出来的数据不为空，则直接返回</p><p>​      return objectMapper.readValue(json,User.class);</p><p>​    }</p><p>​    User user &#x3D; userServer.findById(id);                    &#x2F;&#x2F;redis数据库中没有数据，去mysql数据库中取数据</p><p>​    redisTemplate.opsForValue().set(“user”+id,objectMapper.writeValueAsString(user)); &#x2F;&#x2F; 把取出来的数据存储到redis数据库中</p><p>​    return user;              &#x2F;&#x2F;返回数据</p><p>  }</p><p>}</p><p>​                      </p><p>第四十一天</p><p>Zookeeper</p><p>集中式系统：一个项目就是一个独立的应用，所有的资源都在这一个应用中，部署到一台服务器上</p><p>分布式系统：把一个大的项目分成多个模块，每个模块处理一个方向的请求，并且每个模块单独在一个tomcat服务器中运行，所有的模块整合起来就是一个大的项目</p><p>有多个服务器，服务器之间通过网络进行通信，服务器之间还可以进行交互，</p><p>ZooKeeper：用于分布式应用程序的高可用协调服务  </p><p>为项目中的服务进行统一命名管理</p><p>zookeeper的应用场景：</p><p>1.注册中心：注册节点  项目中所有服务都需要去注册中心注册节点，为服务器进行统一命名，即在zookeeper客户端创建一个节点，节点名就是服务器的名称</p><p>2.配置中心：配置文件管理 数据发布和订阅 注册了节点的服务器，可以把数据发布到自己节点上，其他服务器可以对该数据进行订阅，当数据有变时，会及时得到变化通知，达到动态获取数据的目的</p><p>3.分布式锁：多服务之间的事务控制  用于控制分布式系统之间同步访问共享资源的一种方式</p><p>4.分布式队列:用来实现跨进程，跨主机，跨网络的数据共享和数据传递</p><p>Zookeeper环境搭建</p><p>Zookeeper服务的默认端口是2181</p><p>1.必须安装jdk1.8以上,配置环境变量 PATH和JAVA_HOME</p><p>2.安装Zookeeper  解压即安装</p><p>下载路径：<a href="https://zookeeper.apache.org/releases.html">https://zookeeper.apache.org/releases.html</a>  </p><p>下载好的压缩包是.tar.gz格式 是linux系统下的压缩包格式  需要使用7-zip打开该压缩包，进行解压缩</p><p>3、修改配置文件</p><p>在conf目录下复制一份zoo_sample.cfg文件，改名为zoo.cfg</p><p>打开zoo.cfg文件，修改其数据存放路径</p><p>dataDir&#x3D;..&#x2F;data 这个目录zookerper会自动创建，也可以自己手动创建</p><p>4.启动Zookeeper服务器   服务启动后不可点击页面，点相当于暂停</p><p>打开bin目录，双击zkServer.cmd</p><p>5.启动Zookeeper客户端</p><p>打开bin目录，双击zkCli.cmd</p><p>Zookeeper数据存储模型：层次模型(树状模型)</p><p>树状中的点称为节点，节点可以保存数据</p><p>Zk节点分类：</p><p>1.持久性节点：存储在硬盘中</p><p>2.临时节点：存储在内存中  不能创建子节点</p><p>3.持久顺序型节点：排序号作为节点名后缀</p><p>4.临时顺序型节点</p><p>客户端命令操作Zookeeper</p><p>1.随便输入一个错误命令，可以查看其所有命令</p><p>2.ls 查看该节点下所有几点   ls 节点路径(要写绝对路径)</p><p>查询顺序节点的时候，要写节点名和其排序号</p><p>3.创建节点  节点名要写绝对路径</p><p>创建持久节点：create &#x2F;节点名 ‘节点值’    值不加’’也可以</p><p>创建持久顺序节点：create -s &#x2F;节点名 ‘节点值’   </p><p>创建临时节点：create -e &#x2F;节点名 ‘节点值’</p><p>创建临时顺序节点：create -e -s &#x2F;节点名 ‘节点值’</p><p>4.查看节点的值 get</p><p>get 节点路径</p><p>5.查看节点状态 stat</p><p>stat 节点路径</p><p># ————————-节点的状态信息，也称为stat结构体———————- ————-</p><p>cZxid &#x3D; 0x17f # 该数据节点被创建时的事务id #其中zxid表示的是zookeeper的事务ID，由64位数字组成，分为高32位和低32位</p><p>ctime &#x3D; Sat Dec 21 19:47:36 CST 2019 # 该数据节点创建时间</p><p>mZxid &#x3D; 0x17f # 该数据节点被修改时最新的事物id</p><p>mtime &#x3D; Sat Dec 21 19:47:36 CST 2019 # 该数据节点最后更新时间</p><p>pZxid &#x3D; 0x183 # 当前节点的父级节点事务ID</p><p>cversion &#x3D; 4 # znode子节点变化号，</p><p>znode子节点修改次数 dataVersion &#x3D; 0 # znode数据变化号</p><p>aclVersion &#x3D; 0 # 访问控制列表的变化号 access control list</p><p>ephemeralOwner &#x3D; 0x0 # 如果临时节点，表示当前节点的拥有者的 sessionI。如果不是临时节点，则值为0</p><p>dataLength &#x3D; 6 # 数据长度</p><p>numChildren &#x3D; 4 # 子节点数据</p><p>6.修改节点的值 set</p><p>set 节点路径 节点值</p><p>7.删除节点 delete</p><p>delete 节点路径</p><p>deleteall 节点路径 递归删除</p><p>通过Java客户端操作Zookeeper</p><p>Apache Curator：目前最好的Zookeeper的Java客户端</p><p>用到的类：</p><p>1.ExponentialBackoffRetry：用来配置重试策略的类</p><p>构造方法：</p><p>ExponentialBackoffRetry(重试的间隔时间(单位是毫秒),重试次数)</p><p>2.CuratorFrameworkFactory：用来创建Zookeeper客户端的类</p><p>方法：CuratorFramework  newClient(“服务ip和端口号”，重试对象)</p><p>1.新增节点 create()</p><p>创建客户端</p><p>ExponentialBackoffRetry exponentialBackoffRetry &#x3D; new ExponentialBackoffRetry(3000, 3);</p><p>CuratorFramework client &#x3D; CuratorFrameworkFactory.newClient(“127.0.0.1:2181”, exponentialBackoffRetry);</p><p>开启客户端</p><p>client.start();</p><p>zookeeper服务中没有设置编码和解码，因此只能传入字节数据</p><p>getBytes()：把字符串转化为字节</p><p>创建一个持久无值节点：client.create().forPath(“&#x2F;app1”);</p><p>创建持久有值节点：client.create().forPath(“&#x2F;app2”,”baiyulong”.getBytes());</p><p>创建多层节点：client.create().creatingParentsIfNeeded().forPath(“&#x2F;app3&#x2F;app1”,”aaa”.getBytes());</p><p>创建临时节点：client.create().withMode(CreateMode.EPHEMERAL).forPath(“&#x2F;app4”,”abbb”.getBytes());</p><p>创建持久有序节点：client.create().withMode(CreateMode.PERSISTENT_SEQUENTIAL).forPath(“&#x2F;app5”,”bbbb”.getBytes());</p><p>创建临时有序节点：client.create().withMode(CreateMode.EPHEMERAL_SEQUENTIAL).forPath(“&#x2F;app7”);</p><p>关闭客户端：client.close();</p><p>2.删除节点 delete().</p><p>创建客户端</p><p>开启客户端</p><p>&#x2F;&#x2F;方式1: 删除一个节点</p><p>client.delete().forPath(“&#x2F;app1”);</p><p>&#x2F;&#x2F;方式2: 递归删除多个节点</p><p>client.delete().deletingChildrenIfNeeded().forPath(“&#x2F;app3”);</p><p>&#x2F;&#x2F;方式3: 强制删除【避免一些因为网络传输导致的删除不成功】</p><p>client.delete().guaranteed().forPath(“&#x2F;app2”);</p><p>关闭客户端</p><p>3.修改节点 setData()</p><p>client.setData().forPath(“&#x2F;app50000000014”,”aaaaaaa”.getBytes());</p><p>4.查看节点的值 getData()</p><p>byte[] bytes &#x3D; client.getData().forPath(“&#x2F;app50000000014”);</p><p>System.out.println(new String(bytes));</p><p>测试类中before注解获取全局客户端</p><p>方法上加@before注解，在执行其他方法前会先执行此方法</p><p>zookeeper中订阅发布功能：在zookeeper中注册了节点的服务器，可以往节点中发布值，而客户端可以根据自己的需求订阅</p><p>需要的节点。</p><p>推：如果客户端订阅的节点发生了变化，那么zookeeper就会推给客户端该节点的节点名和节点变化的描述</p><p>拉：客户端会根据zookerper推过来的节点名和节点变化的描述去服务器端把更新内容拉回来</p><p>zookeeper的watcher机制原理</p><p>由客户端，客户端WatchManager，Zookeeper服务器三部分组成</p><p>监听的步骤：</p><p>\1. Zookeeper客户端向Zookeeper服务器注册watcher</p><p>\2. 注册的同时会将watcher对象存储在客户端的watchManager。</p><p>\3. Zookeeper服务器触发watcher事件后，会向客户端发送通知，客户端线程从watchManager中回调watcher执行相应的功能。</p><p>Curator客户端中使用缓存cache的概念进行监听：</p><p>有三种模式的缓冲：</p><p>模式1-监听某节点内容变化 : NodeCache</p><p>模式2-监听某节点的子节点变化，不关心节点本身和孙子节点 : PathChildrenCache</p><p>模式3-监听某节点本身和其子节点变化：TreeCache</p><p>设置监听模式的步骤：</p><p>1.创建重试策略 </p><p>ExponentialBackoffRetry backoffRetry &#x3D; new ExponentialBackoffRetry(1000 * 3, 3);</p><p>2.创建客户端,使用重试策略</p><p>client &#x3D; CuratorFrameworkFactory.newClient(“127.0.0.1:2181”,backoffRetry);</p><p>3.开启客户端</p><p>client.start();</p><p>4.创建节点的缓冲对象</p><p>5.开始缓存(true:可以直接获取监听的节点; false:不可以获取监听的节点) ，把监听的节点信息从服务器中拿过来</p><p>6.创建监听对象并把监听对象加入到监听管理器中，如果监听内容发生变化，会执行回调方法</p><p>监听模式1：监听某个节点的值的变化</p><p>创建节点的缓冲对象</p><p>NodeCache nodeCache &#x3D; new NodeCache(client, “&#x2F;app1”);</p><p>​     开始缓存</p><p>​    nodeCache.start();</p><p>​    创建监听对象并把监听对象加入到监听管理器中，如果监听内容发生变化，会执行回调方法</p><p>​    nodeCache.getListenable().addListener(new NodeCacheListener() {</p><p>​      @Override</p><p>​      public void nodeChanged() throws Exception {</p><p>​        String path &#x3D; nodeCache.getPath();</p><p>​        System.out.println(path);</p><p>​        byte[] data &#x3D; nodeCache.getCurrentData().getData();</p><p>​        System.out.println(new String(data));</p><p>​      }</p><p>​    });</p><p>Thread.sleep(1000*1000);</p><p>client.close();</p><p>监听模式2：监听某节点的子节点变化</p><p>PathChildrenCache childrenCache &#x3D; new PathChildrenCache(client, “&#x2F;app2”, true);</p><p>childrenCache.start(PathChildrenCache.StartMode.NORMAL);</p><p>childrenCache.getListenable().addListener(new PathChildrenCacheListener() {</p><p>​      @Override</p><p>​      public void childEvent(CuratorFramework client, PathChildrenCacheEvent event) throws Exception {</p><p>​        String path &#x3D; event.getData().getPath();</p><p>​        System.out.println(“path &#x3D; “ + path);</p><p>​        byte[] data &#x3D; event.getData().getData();</p><p>​        System.out.println(new String(data));</p><p>​        Stat stat &#x3D; event.getData().getStat();</p><p>​        System.out.println(stat);</p><p>​      }</p><p>});</p><p>Thread.sleep(1000*1000);</p><p>client.close();</p><p>监听模式3：监听本节点和其子节点的变化</p><p>public void watcherTest3() throws Exception {</p><p>TreeCache treeCache &#x3D; new TreeCache(client, “&#x2F;app2”);</p><p>treeCache.start();</p><p>treeCache.getListenable().addListener(new TreeCacheListener() {</p><p>​      @Override</p><p>​      public void childEvent(CuratorFramework clent, TreeCacheEvent event) throws Exception {</p><p>​        String path &#x3D; event.getData().getPath();</p><p>​        System.out.println(path);</p><p>​        byte[] data &#x3D; event.getData().getData();</p><p>​        System.out.println(new String(data));</p><p>​      }</p><p>});</p><p>Thread.sleep(1000*1000);</p><p>client.close();</p><p>​        </p><p>Zookeeper集群搭建</p><p>1.为了保证集群选举的的成功，Zookeeper 集群的数量一般为奇数</p><p>2.集群会自动推选出主节点和从节点，主节点中一般处理一些重要的操作，比如事务操作</p><p>集群搭建步骤：</p><p>一.安装三个linux虚拟机</p><p>二、在每个虚拟机上安装jdk,因为Zookeeper是使用java编写的，需要在java环境下运行</p><p>1.卸载系统自带的jdk</p><p>使用rpm -qa | grep java  命令查询已经安装的jdk的包</p><p>使用rpm -e –nodeps   命令卸载这些默认安装的jdk版本</p><p>2.使用xftp把windows系统上的jdk的.tar.gz类型压缩包上传到linux系统上</p><p>3.解压缩 tar -zxvf jdk1.8.0_181</p><p>4.配置JAVA_HOME和PATH和CLASSPATH</p><p>vim &#x2F;etc&#x2F;profile 打开&#x2F;etc&#x2F;profile</p><p>在末尾加三行</p><p>export JAVA_HOME&#x3D;&#x2F;root&#x2F;jdk1.8.0_181</p><p>export PATH&#x3D;$PATH:$JAVA_HOME&#x2F;bin</p><p>export CLASSPATH&#x3D;.:$Java_HOME&#x2F;lib.tools.jar</p><p>5.重新加载profile文件</p><p>source profile</p><p>6.测试</p><p>java -version</p><p>三、安装zookeeper服务器</p><p>1把zookeep压缩包上传到linux系统，进行解压缩，并且把解压缩后的目录剪切到&#x2F;usr&#x2F;local&#x2F;zookeeper</p><p>tar -vxf apache-Zookeeper-3.5.5-bin.tar.gz</p><p>mv apache-zookeeper-3.6.2-bin &#x2F;usr&#x2F;local&#x2F;zookeeper</p><p>2.在&#x2F;usr&#x2F;local&#x2F;zookeeper目录下创建一个data目录  mkdir data</p><p>3.进去conf目录下，复制zoo_sample.cfg文件，到zoo.cfg文件</p><p>cp zoo_sample.cfg zoo.cfg</p><p>4.修改zoo.cfg配置文件</p><p>dataDir&#x3D;&#x2F;usr&#x2F;local&#x2F;zookeeper&#x2F;data</p><p>在配置文件尾部，编辑集群中服务的列表</p><p>server.1&#x3D;192.168.200.128:2182:3182  </p><p>server.2&#x3D;192.168.200.129:2182:3182</p><p>server.3&#x3D;192.168.200.130:2182:3182</p><p>server.* 后面的数据对应myid中的数字</p><p>ip地址对应每台虚拟机的ip地址</p><p>2182：这个服务器与集群中的 Leader 服务器交换信息的端口</p><p>3182：表示的是万一集群中的 Leader 服务器挂了，需要一个端口来重新进行选举，选出一个新的 Leader，而这个端口就是用来执行选举时服务器相互通信的端口</p><p>5.进去到bin目录下，开启服务</p><p>.&#x2F;zkServer.sh start</p><p>6.查看服务状态</p><p>.&#x2F;zkServer.sh status</p><p>集群的leader主节点选举机制</p><p>服务器1启动，给自己投票，然后发投票信息，由于其它机器还没有启动所以它收不到反馈信息，</p><p>服务器1的状态一直属于Looking(选举状态)。</p><p>服务器2启动，给自己投票，同时与之前启动的服务器1交换结果，由于服务器2的编号大所以服务</p><p>器2胜出，但此时投票数没有大于半数，所以两个服务器的状态依然是LOOKING。</p><p>服务器3启动，给自己投票，同时与之前启动的服务器1,2交换信息，由于服务器3的编号最大所以</p><p>服务器3胜出，此时投票数正好大于半数，所以服务器3成为领导者，服务器1,2成为小弟。</p><p>服务器4启动，给自己投票，同时与之前启动的服务器1,2,3交换信息，尽管服务器4的编号大，但</p><p>之前服务器3已经胜出，所以服务器4只能成为小弟。</p><p>服务器5启动，后面的逻辑同服务器4成为小弟</p><p>第四十二天</p><p>RPC：远程调用的技术，是分布式架构的核心</p><p>序列化：把java对象转化为字节序列的过程  目的：在网络传输中保证对象的完整性</p><p>反序列化：把字节序列恢复为java对象的过程</p><p>SOA:面向服务的架构模型，把应用程序的不同服务进行拆分，通过公共接口模块中定义的接口把这些服务连接起来。</p><p>Dubbo：一种高性能的java RPC框架</p><p>Dubbo有三大核心能力：</p><p>1.面向接口的远程方法调用</p><p>2.智能容错和负载均衡</p><p>3.以及服务自动注册和发现</p><p>Dubbo这种RPC框架的原理：</p><p>底层由四部分组成：</p><p>1、 客户端(Client)：消费者模块</p><p>2、 服务端(Server)：提供者模块</p><p>3、 客户端存根(Client Stub)：存放服务端地址信息，把客户端的接口调用进行序列化操作，然后传递给服务器存根</p><p>4、 服务端存根(Server Stub)：把客户端存根发送过来的序列化信息进行反序列化操作，然后传递给服务器</p><p>Dubbo框架远程调用步骤：</p><p>1.客户端调用业务层接口</p><p>\2. 客户端存根把接口调用进行序列化操作，然后传递给服务器存根</p><p>3.服务端存根把客户端存根发送过来的序列化信息进行反序列化操作，然后传递给服务器</p><p>4.服务器接收到信息，执行对应的方法，并把方法返回值返回给服务端存根</p><p>5.服务端存根把返回结果进行序列化操作，传递给客户端存根</p><p>6.客户端存根进行反序列化，把结果返回给客户端</p><p>Dubbo在提供者服务中的配置</p><!-- dubbo应用的名称--><p>&lt;dubbo:application name&#x3D;”dubbo_provider”&#x2F;&gt;</p><!-- 注册中心的地址--><p>&lt;dubbo:registry address&#x3D;”<a href="zookeeper://127.0.0.1:2181/">zookeeper:&#x2F;&#x2F;127.0.0.1:2181”&#x2F;</a>&gt;</p><!--指定注册到注册中心的服务接口及实例--><p>&lt;dubbo:service interface&#x3D;”com.parent.service.UserService” ref&#x3D;”userService”&#x2F;&gt;</p><bean id="userService" class="com.parent.service.impl.UserServiceImpl"/><p>Dubbo在消费者服务中的配置</p>  <!-- dubbo应用的名称--><p>  &lt;dubbo:application name&#x3D;”dubbo_consumer”&#x2F;&gt;</p>  <!-- 注册中心的的地址--><p>  &lt;dubbo:registry address&#x3D;”<a href="zookeeper://127.0.0.1:2181/">zookeeper:&#x2F;&#x2F;127.0.0.1:2181”&#x2F;</a>&gt;</p>  <!--订阅远程服务对象--><p>  &lt;dubbo:reference id&#x3D;”userservice” interface&#x3D;”com.parent.service.UserService”&#x2F;&gt;</p>  <!--初始化控制器，并把远程service注入到controller -->  <bean id="userController2" class="com.parent.controller.UserController"><p>​    <property name="userService" ref="userservice"></property></p>  </bean><p>  启动消费者服务，不检查提供者服务是否启动</p><p>  &lt;dubbo:consumer check&#x3D;”false”&#x2F;&gt;</p><p>第四十三天</p><p>保存到我的笔记</p><p>本内容不代表印象笔记立场</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>编程语言</tag>
      
      <tag>基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）</title>
    <link href="/2022/05/05/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    <url>/2022/05/05/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）"><a href="#深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）" class="headerlink" title="深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）"></a>深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）</h1><h2 id="一、Java内存区域"><a href="#一、Java内存区域" class="headerlink" title="一、Java内存区域"></a>一、Java内存区域</h2><h3 id="1-运行时数据区域"><a href="#1-运行时数据区域" class="headerlink" title="1. 运行时数据区域"></a>1. 运行时数据区域</h3><p><img src="/../images/epub_603120_67.jpeg" alt="img"></p><h4 id="1-1-程序计数器"><a href="#1-1-程序计数器" class="headerlink" title="1.1 程序计数器"></a>1.1 程序计数器</h4><p>程序计数器（Program Counter Register）是一块较小的内存空间，它可以看作是当前线程所执行的字节码的行号指示器。在虚拟机的概念模型里（仅是概念模型，各种虚拟机可能会通过一些更高效的方式去实现），字节码解释器工作时就是通过改变这个计数器的值来选取下一条需要执行的字节码指令，分支、循环、跳转、异常处理、线程恢复等基础功能都需要依赖这个计数器来完成。</p><p>为了线程切换后能恢复到正确的执行位置，每条线程都需要有一个独立的程序计数器，各条线程之间计数器互不影响，独立存储，我们称这类内存区域为“线程私有”的内存。</p><h4 id="1-2-Java虚拟机栈"><a href="#1-2-Java虚拟机栈" class="headerlink" title="1.2 Java虚拟机栈"></a>1.2 Java虚拟机栈</h4><p>与程序计数器一样，Java虚拟机栈（Java Virtual Machine Stacks）也是线程私有的，它的生命周期与线程相同。虚拟机栈描述的是Java方法执行的内存模型：每个方法在执行的同时都会创建一个栈帧（Stack Frame)[插图]用于存储局部变量表、操作数栈、动态链接、方法出口等信息。每一个方法从调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中入栈到出栈的过程。</p><p>局部变量表存放了编译期可知的各种基本数据类型（boolean、byte、char、short、int、float、long、double）、对象引用（reference类型，它不等同于对象本身，可能是一个指向对象起始地址的引用指针，也可能是指向一个代表对象的句柄或其他与此对象相关的位置）和returnAddress类型（指向了一条字节码指令的地址）。</p><p>其中64位长度的long和double类型的数据会占用2个局部变量空间（Slot），其余的数据类型只占用1个。局部变量表所需的内存空间在编译期间完成分配，当进入一个方法时，这个方法需要在帧中分配多大的局部变量空间是完全确定的，在方法运行期间不会改变局部变量表的大小。</p><p>在Java虚拟机规范中，对这个区域规定了两种异常状况：如果线程请求的栈深度大于虚拟机所允许的深度，将抛出StackOverflowError异常；如果虚拟机栈可以动态扩展（当前大部分的Java虚拟机都可动态扩展，只不过Java虚拟机规范中也允许固定长度的虚拟机栈），如果扩展时无法申请到足够的内存，就会抛出OutOfMemoryError异常。</p><h4 id="1-3-本地方法栈"><a href="#1-3-本地方法栈" class="headerlink" title="1.3 本地方法栈"></a>1.3 本地方法栈</h4><p>本地方法栈（Native Method Stack）与虚拟机栈所发挥的作用是非常相似的，它们之间的区别不过是虚拟机栈为虚拟机执行Java方法（也就是字节码）服务，而本地方法栈则为虚拟机使用到的Native方法服务。在虚拟机规范中对本地方法栈中方法使用的语言、使用方式与数据结构并没有强制规定，因此具体的虚拟机可以自由实现它。甚至有的虚拟机（譬如Sun HotSpot虚拟机）直接就把本地方法栈和虚拟机栈合二为一。与虚拟机栈一样，本地方法栈区域也会抛出StackOverflowError和OutOfMemoryError异常。</p><h4 id="1-4-Java堆"><a href="#1-4-Java堆" class="headerlink" title="1.4 Java堆"></a>1.4 Java堆</h4><p>对于大多数应用来说，Java堆（Java Heap）是Java虚拟机所管理的内存中最大的一块。Java堆是被所有线程共享的一块内存区域，在虚拟机启动时创建。此内存区域的唯一目的就是存放对象实例，几乎所有的对象实例都在这里分配内存。这一点在Java虚拟机规范中的描述是：所有的对象实例以及数组都要在堆上分配<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Java虚拟机规范中的原文：The heap is the runtime data area from which memory for all class instances and arrays is allocated。">[1]</span></a></sup>，但是随着JIT编译器的发展与逃逸分析技术逐渐成熟，栈上分配、标量替换<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="逃逸分析与标量替换的相关内容，参见第11章相关内容。">[2]</span></a></sup>优化技术将会导致一些微妙的变化发生，所有的对象都分配在堆上也渐渐变得不是那么“绝对”了。</p><p>Java堆是垃圾收集器管理的主要区域，因此很多时候也被称做“GC堆”（Garbage Collected Heap，幸好国内没翻译成“垃圾堆”）。从内存回收的角度来看，由于现在收集器基本都采用分代收集算法，所以Java堆中还可以细分为：新生代和老年代；再细致一点的有Eden空间、From Survivor空间、To Survivor空间等。从内存分配的角度来看，线程共享的Java堆中可能划分出多个线程私有的分配缓冲区（Thread Local Allocation Buffer，TLAB）。不过无论如何划分，都与存放内容无关，无论哪个区域，存储的都仍然是对象实例，进一步划分的目的是为了更好地回收内存，或者更快地分配内存。</p><p>根据Java虚拟机规范的规定，Java堆可以处于物理上不连续的内存空间中，只要逻辑上是连续的即可，就像我们的磁盘空间一样。在实现时，既可以实现成固定大小的，也可以是可扩展的，不过当前主流的虚拟机都是按照可扩展来实现的（通过-Xmx和-Xms控制）。如果在堆中没有内存完成实例分配，并且堆也无法再扩展时，将会抛出OutOfMemoryError异常。</p><h4 id="1-5-方法区"><a href="#1-5-方法区" class="headerlink" title="1.5 方法区"></a>1.5 方法区</h4><p>方法区（Method Area）与Java堆一样，是各个线程共享的内存区域，它用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。虽然Java虚拟机规范把方法区描述为堆的一个逻辑部分，但是它却有一个别名叫做Non-Heap（非堆），目的应该是与Java堆区分开来。</p><p>对于习惯在HotSpot虚拟机上开发、部署程序的开发者来说，很多人都更愿意把方法区称为“永久代”（Permanent Generation），本质上两者并不等价，仅仅是因为HotSpot虚拟机的设计团队选择把GC分代收集扩展至方法区，或者说使用永久代来实现方法区而已，这样HotSpot的垃圾收集器可以像管理Java堆一样管理这部分内存，能够省去专门为方法区编写内存管理代码的工作。对于其他虚拟机（如BEA JRockit、IBM J9等）来说是不存在永久代的概念的。原则上，如何实现方法区属于虚拟机实现细节，不受虚拟机规范约束，但使用永久代来实现方法区，现在看来并不是一个好主意，因为这样更容易遇到内存溢出问题（永久代有-XX:MaxPermSize的上限，J9和JRockit只要没有触碰到进程可用内存的上限，例如32位系统中的4GB，就不会出现问题），而且有极少数方法（例如String.intern()）会因这个原因导致不同虚拟机下有不同的表现。因此，对于HotSpot虚拟机，根据官方发布的路线图信息，现在也有放弃永久代并逐步改为采用Native Memory来实现方法区的规划了<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="JEP 122-Remove the Permanent Generation：http://openjdk.java.net/jeps/122。">[3]</span></a></sup>，在目前已经发布的JDK 1.7的HotSpot中，已经把原本放在永久代的字符串常量池移出。</p><p>根据Java虚拟机规范的规定，当方法区无法满足内存分配需求时，将抛出OutOfMemoryError异常。</p><h4 id="1-6-运行时常量池"><a href="#1-6-运行时常量池" class="headerlink" title="1.6 运行时常量池"></a>1.6 运行时常量池</h4><p>运行时常量池（Runtime Constant Pool）是方法区的一部分。Class文件中除了有类的版本、字段、方法、接口等描述信息外，还有一项信息是常量池（Constant Pool Table），用于存放编译期生成的各种字面量和符号引用，这部分内容将在类加载后进入方法区的运行时常量池中存放。</p><p>既然运行时常量池是方法区的一部分，自然受到方法区内存的限制，当常量池无法再申请到内存时会抛出OutOfMemoryError异常。</p><h4 id="1-7-直接内存"><a href="#1-7-直接内存" class="headerlink" title="1.7 直接内存"></a>1.7 直接内存</h4><p>直接内存（Direct Memory）并不是虚拟机运行时数据区的一部分，也不是Java虚拟机规范中定义的内存区域。但是这部分内存也被频繁地使用，而且也可能导致OutOfMemoryError异常出现，所以我们放到这里一起讲解。</p><p>在JDK 1.4中新加入了NIO（New Input&#x2F;Output）类，引入了一种基于通道（Channel）与缓冲区（Buffer）的I&#x2F;O方式，它可以使用Native函数库直接分配堆外内存，然后通过一个存储在Java堆中的DirectByteBuffer对象作为这块内存的引用进行操作。这样能在一些场景中显著提高性能，因为避免了在Java堆和Native堆中来回复制数据。</p><p>显然，本机直接内存的分配不会受到Java堆大小的限制，但是，既然是内存，肯定还是会受到本机总内存（包括RAM以及SWAP区或者分页文件）大小以及处理器寻址空间的限制。服务器管理员在配置虚拟机参数时，会根据实际内存设置-Xmx等参数信息，但经常忽略直接内存，使得各个内存区域总和大于物理内存限制（包括物理的和操作系统级的限制），从而导致动态扩展时出现OutOfMemoryError异常。</p><h3 id="2-HotSpot虚拟机"><a href="#2-HotSpot虚拟机" class="headerlink" title="2. HotSpot虚拟机"></a>2. HotSpot虚拟机</h3><h4 id="2-1-对象的创建"><a href="#2-1-对象的创建" class="headerlink" title="2.1 对象的创建"></a>2.1 对象的创建</h4><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>Java虚拟机规范中的原文：The heap is the runtime data area from which memory for all class instances and arrays is allocated。<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>逃逸分析与标量替换的相关内容，参见第11章相关内容。<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>JEP 122-Remove the Permanent Generation：<a href="http://openjdk.java.net/jeps/122%E3%80%82">http://openjdk.java.net/jeps/122。</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>编程语言</tag>
      
      <tag>虚拟机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows下如何查看某个端口被谁占用</title>
    <link href="/2022/05/05/%E6%8A%80%E6%9C%AF/Windows%E4%B8%8B%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%A2%AB%E8%B0%81%E5%8D%A0%E7%94%A8/"/>
    <url>/2022/05/05/%E6%8A%80%E6%9C%AF/Windows%E4%B8%8B%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E8%A2%AB%E8%B0%81%E5%8D%A0%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>1、打开命令窗口(以管理员身份运行)<br>开始—-&gt;运行—-&gt;cmd，或者是 window+R 组合键，调出命令窗口。</p><p>2、查找所有运行的端口<br>输入命令：</p><p>netstat -ano<br>该命令列出所有端口的使用情况。</p><p>在列表中我们观察被占用的端口，比如是 1224，首先找到它。</p><p>3、查看被占用端口对应的 PID<br>输入命令：</p><p>netstat -aon|findstr “8081”<br>回车执行该命令，最后一位数字就是 PID, 这里是 9088。</p><p>4、查看指定 PID 的进程<br>继续输入命令：</p><p>tasklist|findstr “9088”<br>回车执行该命令。</p><p>查看是哪个进程或者程序占用了 8081 端口，结果是：node.exe。</p><p>结束进程<br>强制（&#x2F;F参数）杀死 pid 为 9088 的所有进程包括子进程（&#x2F;T参数）：</p><p>taskkill &#x2F;T &#x2F;F &#x2F;PID 9088<br>或者是我们打开任务管理器，切换到进程选项卡，在PID一列查看9088对应的进程是谁，如果看不到PID这一列,如下图：</p><p>之后我们就可以结束掉这个进程，这样我们就可以释放该端口来使用了。</p><p><img src="/../images/image-20220523170751806.png" alt="image-20220523170751806"></p>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>上海一线医生的囤货指南</title>
    <link href="/2022/05/05/%E7%94%9F%E6%B4%BB/%E4%B8%8A%E6%B5%B7%E4%B8%80%E7%BA%BF%E5%8C%BB%E7%94%9F%E7%9A%84%E5%9B%A4%E8%B4%A7%E6%8C%87%E5%8D%97/"/>
    <url>/2022/05/05/%E7%94%9F%E6%B4%BB/%E4%B8%8A%E6%B5%B7%E4%B8%80%E7%BA%BF%E5%8C%BB%E7%94%9F%E7%9A%84%E5%9B%A4%E8%B4%A7%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<p>隔离在家的日子，需要的物资大致分为四大块，依次是：</p><p>\1. 日常生活基础设施</p><p>\2. 食品基础构件（活下去）</p><p>\3. 多样食物储备（吃得好）</p><p>\4. 满足精神需求（宅家不痛苦）</p><h1 id="生活基础设施"><a href="#生活基础设施" class="headerlink" title="生活基础设施"></a>生活基础设施</h1><p>保质期较长的生活用品，根据各家庭消耗速度储存</p><h3 id="生活必须"><a href="#生活必须" class="headerlink" title="生活必须"></a>生活必须</h3><p>燃气费&#x2F;电费&#x2F;水费&#x2F;网费务必交足</p><p>饮用水或过滤芯</p><h3 id="消毒用品"><a href="#消毒用品" class="headerlink" title="消毒用品"></a>消毒用品</h3><pre><code class="hljs">口罩一次性手套消毒液（84和酒精都要）</code></pre><h3 id="卫生用品"><a href="#卫生用品" class="headerlink" title="卫生用品"></a>卫生用品</h3><pre><code class="hljs">厕纸尿布卫生巾</code></pre><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><pre><code class="hljs">牙膏洗洁精肥皂香皂煤气灶电池空气净化器替芯替换灯泡干电池罐头刀</code></pre><h3 id="特殊人群需求"><a href="#特殊人群需求" class="headerlink" title="特殊人群需求"></a>特殊人群需求</h3><p>长期用药人群提前囤积药物，并额外准备因精神压力带来的其他症状药物</p><pre><code class="hljs">女性：卫生用品、止痛药孕妇：叶酸老人：钙片、尿布新生儿：奶粉、辅食、尿片宠物：粮食、猫砂/狗尿垫、常用药</code></pre><h1 id="食品基础构件"><a href="#食品基础构件" class="headerlink" title="食品基础构件"></a>食品基础构件</h1><h3 id="主食"><a href="#主食" class="headerlink" title="主食"></a>主食</h3><p>根据饮食习惯选择</p><pre><code class="hljs">大米面粉干米粉</code></pre><h3 id="干粮-x2F-常温长期储存物"><a href="#干粮-x2F-常温长期储存物" class="headerlink" title="干粮&#x2F;常温长期储存物"></a>干粮&#x2F;常温长期储存物</h3><pre><code class="hljs">粉丝挂面袋装方便面肉罐头 （罐头保质期都在2年以上）菜罐头番茄罐头速食品卤蛋卤肉…</code></pre><h3 id="调料"><a href="#调料" class="headerlink" title="调料"></a>调料</h3><p>越丰富越好，丰富的口味会增加饮食幸福感</p><pre><code class="hljs">盐糖味精生抽老抽陈醋米醋葱姜蒜干辣椒香料五香粉八角桂皮丁香胡椒芥末罗勒干罗勒酱照烧汁咖喱块辣椒油</code></pre><h1 id="多样食物储备"><a href="#多样食物储备" class="headerlink" title="多样食物储备"></a>多样食物储备</h1><h3 id="冰箱保鲜层"><a href="#冰箱保鲜层" class="headerlink" title="冰箱保鲜层"></a>冰箱保鲜层</h3><pre><code class="hljs">鸡蛋酸奶奶酪</code></pre><p>耐放水果（水果建议储存3-5天量，主要消解最初的紧张 ）</p><pre><code class="hljs">苹果橙子梨子</code></pre><p>蔬菜-建议储备3-5天量（每人每天按300g算）</p><p>新鲜叶菜，根据采购情况补充</p><pre><code class="hljs">耐放叶菜白菜卷心菜菌菇类</code></pre><p>根茎类的耐放蔬菜</p><pre><code class="hljs">萝卜茄子土豆红薯</code></pre><h3 id="冰箱冷冻层存放"><a href="#冰箱冷冻层存放" class="headerlink" title="冰箱冷冻层存放"></a>冰箱冷冻层存放</h3><p>冷冻层空间非常珍贵，根据日常饮食习惯选择，切割后存放更整齐</p><p>冻肉</p><ul><li><ul><li>猪肉-五花肉、排骨、猪蹄…</li><li>牛肉-小包装牛排、冷冻肉片…</li><li>禽肉-鸡鸭腿、鸡排、鸡翅根…</li></ul></li><li><p>冻蔬菜</p></li><li><ul><li>推荐大包装冷冻杂蔬（玉米、胡萝卜、青豆）</li></ul></li><li><p>速冻食品-由于非常占空间，酌情购买</p></li><li><ul><li>速冻水饺</li><li>速冻披萨</li><li>半成品速食品-炸鸡&#x2F;炸薯条…</li></ul></li><li><p>冷冻零食-带包装与肉类分开存储</p></li><li><ul><li>冻蛋糕&#x2F;冰淇淋&#x2F;冰棍&#x2F;奶酪</li></ul></li></ul><h3 id="其他配料-x2F-副食品储备"><a href="#其他配料-x2F-副食品储备" class="headerlink" title="其他配料&#x2F;副食品储备"></a>其他配料&#x2F;副食品储备</h3><p>尽量选择常温环境下可储存的食品</p><pre><code class="hljs">脱水蔬菜干银耳木耳萝卜干笋干……</code></pre><p>牛奶（常温奶）</p><p>豆制品</p><pre><code class="hljs">豆皮豆干豆腐泡</code></pre><p>小菜&#x2F;咸菜</p><pre><code class="hljs">酸豆角酸黄瓜腐乳榨菜……</code></pre><p>零食饮料</p><pre><code class="hljs">饼干能量棒巧克力牛肉棒可乐茶叶咖啡矿泉水</code></pre><h3 id="膳食补充剂"><a href="#膳食补充剂" class="headerlink" title="膳食补充剂"></a>膳食补充剂</h3><p>老人需要维生素D强化配方，孩子补充量酌情减少</p><pre><code class="hljs">钙片膳食纤维片复合维生素片</code></pre><h1 id="精神需求"><a href="#精神需求" class="headerlink" title="精神需求"></a>精神需求</h1><p>失去自由地看电影打游戏很容易腻，多样性高不容易无聊。建议更多地收拾整理，一来清点物资，二来腾出&#x2F;划分更多空间，关在一起不容易起摩擦。</p><p>一些改善睡眠的装备或补充剂</p><p>阅读的环境与材料</p><p>在家运动的设备及保护用具</p><pre><code class="hljs">瑜伽垫跳绳护膝……</code></pre><p>多种多样的探索与娱乐手段</p><pre><code class="hljs">玩具游戏</code></pre><p>小范围种植</p>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>生活</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>山地车档位搭配</title>
    <link href="/2022/05/05/%E7%94%9F%E6%B4%BB/%E5%B1%B1%E5%9C%B0%E8%BD%A6%E6%A1%A3%E4%BD%8D%E6%90%AD%E9%85%8D/"/>
    <url>/2022/05/05/%E7%94%9F%E6%B4%BB/%E5%B1%B1%E5%9C%B0%E8%BD%A6%E6%A1%A3%E4%BD%8D%E6%90%AD%E9%85%8D/</url>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://www.bilibili.com/video/BV1ZT4y1q7f3">https://www.bilibili.com/video/BV1ZT4y1q7f3</a></p></blockquote><p><img src="/../images/image-20220912174221841.png" alt="image-20220912174221841"></p><p><img src="/../images/image-20220912174250629.png" alt="image-20220912174250629"></p><p><img src="/../images/image-20220912174319177.png" alt="image-20220912174319177"></p><p>王小小: <a href="https://www.kugou.com/singer/767678.html">https://www.kugou.com/singer/767678.html</a></p><blockquote><p>自行车相关知识(转)_骓驰吧_百度贴吧转自: <a href="http://tieba.baidu.com/p/1429645330#0-tieba-1-93069-7eff13ea8df1">http://tieba.baidu.com/p/1429645330#0-tieba-1-93069-7eff13ea8df1</a></p></blockquote><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs subunit">捷安特吧 打开APP<br>21~27速山地车正确变速换挡方法【来自美利达】 凌云ingº 2014<span class="hljs-string">-09</span><span class="hljs-string">-29</span><br><br>问：刚入手一辆山地车，是24速，前3后8，请问下在普通公路什么样档位比较快，还有就是这样的档位时间长会不会对车有影响？骑三十公里的平坦公路什么样的档位适合高速骑行？那比如说我偶尔骑个三十公里用前三后8问题大吗？因为我总感觉2.7不是特别快啊，还有就是停车的档位用什么合适？那请问下长期骑前3后8（平坦公路），对脚有影响吗？<br>答：1.一般情况下，前面的牙盘都用2挡。后面的飞轮用5，6，7(不要用最大档)。也就是说，大多数情况下，都是2-<span class="hljs-string">-5</span>，6，7的组合.这里的‘一般情况’指：起步，一般骑行，最高速度25<span class="hljs-string">-30</span>的骑行。这是有好处的(后面讲)。<br>2.如遇上坡，飞轮减档即可.视坡度大小，变为2-<span class="hljs-string">-4</span>，3，2，1的组合.<br>3.如平坦公路上，要拉高速，则先升后面的飞轮.达到2-<span class="hljs-string">-8</span>的组合。这时速度一般可达30<span class="hljs-string">-35</span>.如要更快的竞技，则再加前面的牙盘，达到3-<span class="hljs-string">-8</span>的最高组合！此时在踏频一定的情况下，速度达到最快，一般35<span class="hljs-string">-40</span>都能达到。此时若要减速，则应先减牙盘，到2-<span class="hljs-string">-8</span>；再减飞轮，到2-<span class="hljs-string">-5</span>，6，7。<br>4.牙盘的1档，除非上山，一般都用不上。<br>注意：<br>提倡2-<span class="hljs-string">-5</span>，6，7的常用组合，是有好处的。<br>一是减轻飞轮的负担，要知道，不正当的操作会影响自行车传动系统的使用寿命，经常使用大输出比的组合，如2-<span class="hljs-string">-8</span>，3-<span class="hljs-string">-8</span>的组合，会使最小的飞轮和最大的牙盘加快磨损。到时候没玩多久就让你换飞轮，你就后悔了。<br>二是减轻起步时的阻力。方便，更快，更轻松的起步。<br>三是保护你的膝盖！长期只用2-<span class="hljs-string">-8</span>，3-<span class="hljs-string">-8</span>的组合，会使膝关节长时间处于紧张、发力状态，我可以保证，这样下去，不用两年，你的膝盖就废了！不可不重视。<br>其实，山地车设计那么多档位的目的，就是让你根据不同的路况和体能选择最合适的档位。山地车本来就不是单纯设计来比赛速度的！如果要比谁骑的快，那就不用山地车了，骑公路车会得到更高的速度。但公路车对坡道，山地的适应性就完全不是一个档次了。你看环法有几个骑山地车的？但越野谁又用公路车呢？所以，不同的车，本来就是设计适用不同的用途。不懂得正确变档，是个费车，费力，费时，不讨好的过程。。很多时候看见一些装骚学生车，等完红灯，仍然用最大的传输比，甚至需要站起来登踏自行车，很酷吗？——只觉得很傻。完全不懂山地车的真谛。那样起步，只会更费车，损伤膝盖，同时起步慢，时间长，降低道路安全性。。<br>真正熟练的山地车选手，会很熟练的根据路况变换档位。道路平坦，速度快起来了就要升档；路况复杂，速度慢，甚至需要停下来重新起步时，就需要提前减档。等完红灯，仍然能很轻松的起步，加速，这才是最正确最安全最省力的做法。。。变档可以很频繁很熟练，熟练的选手甚至每2秒钟就改变一下档位。这就需要你长时间练习了。<br>真正的山地车运动员通常不是去追求一时的速度，而是努力保持自己的踏频，无论何种路况，通过变档，使自己的踏频始终保持在每分钟90次左右最好，以能在不觉得太累和不觉得太轻松的的基础上用某个档位正好实现这个频率就是变速系统的最优使用效果！以这样的最佳状态，最舒服的踏频，才能顺利完成长距离数百公里的骑行。<br>你说，‘感觉2.7不是特别快’，现在你就应该明白，2-<span class="hljs-string">-7</span>本来就不是最快的输出组合，因为这个档位就是设计用于普通道路/中等速度骑行的。也是最省力，磨损最小的档位。如果你要追求速度，请在合适的道路情况下，在体力和速度都拉到30<span class="hljs-string">-35</span>的时候，使用3-<span class="hljs-string">-8</span>的档位(持续时间不要太长，可慢慢练习加长)。<br>收藏<br><br><br>恩 就是这样 一般2<span class="hljs-string">-6</span>为基准 但是最好不要1<span class="hljs-string">-123</span> 3<span class="hljs-string">-89</span> 这样对变速器磨损高 多以飚速3<span class="hljs-string">-56</span>为宜 最好别经常3<span class="hljs-string">-8</span><br><br><br>APP内关注吧<br>21速山地车 骑行档位 配置推荐表<br>起步2*5 巡航3*5 坦途3*6 超车3*7 缓坡2*4 陡坡2*3 攀岩1*3 【个人经验哦，大家可以试试】<br>点赞0评论10<br>山地车吧<br>关注 76W<br>贴子 51.8W<br><br><br>APP内关注吧<br>山地车变速器使用技巧及注意事项27速<br>山地车变速器使用技巧及注意事项27速 27速车指牙盘为3个盘,飞轮齿轮有9个不同速度的变速器.一般认为3*9=27所以简称27速变速器。正确的使用方法是：如<br>点赞0评论10<br>骑行吧<br>关注 163.4W<br>贴子 40W<br><br>APP内关注吧<br>山地车变速器的档位搭配<br>以27速山地车来说。 牙盘3裆只能适用于飞轮的7、8、9档 牙盘2适用于飞轮2、3、4、5、6、7档 牙盘1适用于飞轮1、2、3、4、5档 如24速的话：牙盘3适用7<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>生活</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo的基本使用</title>
    <link href="/2022/05/02/%E5%89%8D%E7%AB%AF/Hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/05/02/%E5%89%8D%E7%AB%AF/Hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://hexo.io/zh-cn/docs/commands">https://hexo.io/zh-cn/docs/commands</a></p></blockquote><h2 id="1-初始化项目"><a href="#1-初始化项目" class="headerlink" title="1. 初始化项目"></a>1. 初始化项目</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>hexo init [folder]<br></code></pre></td></tr></table></figure><h2 id="2-新建文件"><a href="#2-新建文件" class="headerlink" title="2. 新建文件"></a>2. 新建文件</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs haxe">$ hexo <span class="hljs-keyword">new</span> <span class="hljs-type"></span>[layout] &lt;title&gt;<br>$ hexo <span class="hljs-keyword">new</span> <span class="hljs-type">page</span> --path  浏览器收藏夹/pages<br><span class="hljs-meta"># 创建pages.md</span><br><br><br>示例：<br>hexo <span class="hljs-keyword">new</span> <span class="hljs-type">page</span> --path 前端/js获取当前时间<br><span class="hljs-meta"># 创建 js获取当前时间.md，title默认为 page</span><br><br></code></pre></td></tr></table></figure><blockquote><p><a href="https://hexo.io/zh-cn/docs/templates">https://hexo.io/zh-cn/docs/templates</a></p></blockquote><p>可选参数（layout）如下：</p><table><thead><tr><th>模板</th><th>用途</th><th>回退</th></tr></thead><tbody><tr><td>index</td><td>首页</td><td></td></tr><tr><td>post</td><td>文章</td><td>index</td></tr><tr><td>page</td><td>分页</td><td>index</td></tr><tr><td>archive</td><td>归档</td><td>index</td></tr><tr><td>category</td><td>分类归档</td><td>archive</td></tr><tr><td>tag</td><td>标签归档</td><td>archive</td></tr></tbody></table><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">$ hexo <span class="hljs-keyword">new</span> <span class="hljs-string">&quot;post title with whitespace&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3-文章内容详解"><a href="#3-文章内容详解" class="headerlink" title="3. 文章内容详解"></a>3. 文章内容详解</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">title:</span> Hexo的基本使用  <span class="hljs-meta"># 文章标题</span><br><span class="hljs-symbol">index_img:</span> <span class="hljs-keyword">/img/</span><span class="hljs-number">3.</span>jpg  <span class="hljs-meta"># 首页图片</span><br><span class="hljs-symbol">banner_img:</span> <span class="hljs-keyword">/img/</span><span class="hljs-number">3.</span>jpg  <span class="hljs-meta"># 文章页面图片</span><br><span class="hljs-symbol">date:</span> <span class="hljs-number">2022</span><span class="hljs-number">-05</span><span class="hljs-number">-02</span> <span class="hljs-number">07</span>:<span class="hljs-number">40</span>:<span class="hljs-number">25</span>  <span class="hljs-meta"># 文章发布时间</span><br><span class="hljs-symbol">tags:</span>  <span class="hljs-meta"># 文章标签</span><br></code></pre></td></tr></table></figure><h2 id="4-项目提交发布"><a href="#4-项目提交发布" class="headerlink" title="4. 项目提交发布"></a>4. 项目提交发布</h2><blockquote><p>参考：<a href="https://hexo.io/zh-cn/docs/github-pages">https://hexo.io/zh-cn/docs/github-pages</a><br><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">https://blog.csdn.net/sinat_37781304/article/details/82729029</a></p></blockquote><h3 id="1-hexo-clean清除了你之前生成的东西，也可以不加。"><a href="#1-hexo-clean清除了你之前生成的东西，也可以不加。" class="headerlink" title="1) hexo clean清除了你之前生成的东西，也可以不加。"></a>1) hexo clean清除了你之前生成的东西，也可以不加。</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br></code></pre></td></tr></table></figure><h3 id="2-hexo-generate-顾名思义，生成静态文章，可以用-hexo-g缩写"><a href="#2-hexo-generate-顾名思义，生成静态文章，可以用-hexo-g缩写" class="headerlink" title="2) hexo generate 顾名思义，生成静态文章，可以用 hexo g缩写"></a>2) hexo generate 顾名思义，生成静态文章，可以用 hexo g缩写</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo <span class="hljs-keyword">generate</span><br></code></pre></td></tr></table></figure><h3 id="3-hexo-deploy-部署文章，可以用hexo-d缩写"><a href="#3-hexo-deploy-部署文章，可以用hexo-d缩写" class="headerlink" title="3) hexo deploy 部署文章，可以用hexo d缩写"></a>3) hexo deploy 部署文章，可以用hexo d缩写</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo deploy</span><br></code></pre></td></tr></table></figure><h2 id="5-Hexo-fluid主题更新"><a href="#5-Hexo-fluid主题更新" class="headerlink" title="5. Hexo fluid主题更新"></a>5. Hexo fluid主题更新</h2><blockquote><p><a href="https://hexo.fluid-dev.com/docs/start/#%E6%9B%B4%E6%96%B0%E4%B8%BB%E9%A2%98">https://hexo.fluid-dev.com/docs/start/#%E6%9B%B4%E6%96%B0%E4%B8%BB%E9%A2%98</a></p></blockquote><h2 id="6-Hexo-Fluid-用户手册"><a href="#6-Hexo-Fluid-用户手册" class="headerlink" title="6. Hexo Fluid 用户手册"></a>6. Hexo Fluid 用户手册</h2><p><a href="https://hexo.fluid-dev.com/docs/">https://hexo.fluid-dev.com/docs/</a></p><h2 id="99-其他"><a href="#99-其他" class="headerlink" title="99. 其他"></a>99. 其他</h2><h3 id="①-hexo-d命令报错：ERROR-Deployer-not-found-git"><a href="#①-hexo-d命令报错：ERROR-Deployer-not-found-git" class="headerlink" title="① hexo d命令报错：ERROR Deployer not found: git"></a>① hexo d命令报错：ERROR Deployer not found: git</h3><p>参考：</p><blockquote><p><a href="https://developer.aliyun.com/article/764974">https://developer.aliyun.com/article/764974</a><br>解决<br>安装hexo-deployer-git：</p></blockquote><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save hexo-deployer-git</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>框架</tag>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Minecraft CarpetMod常用命令</title>
    <link href="/2022/04/30/minecraft/Minecraft%20CarpetMod%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/04/30/minecraft/Minecraft%20CarpetMod%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<blockquote><p>wiki：<a href="https://github.com/gnembon/fabric-carpet/wiki/Current-Available-Settings">https://github.com/gnembon/fabric-carpet/wiki/Current-Available-Settings</a></p></blockquote><h2 id="药水酿造-Minecraft-1-13-1-18"><a href="#药水酿造-Minecraft-1-13-1-18" class="headerlink" title="药水酿造 Minecraft 1.13 ~ 1.18"></a>药水酿造 Minecraft 1.13 ~ 1.18</h2><p><img src="/images/Minecraft_brewing1.18.png" alt="药水酿造"></p><h2 id="Trading-in-Minecraft-1-14"><a href="#Trading-in-Minecraft-1-14" class="headerlink" title="Trading in Minecraft 1.14+"></a>Trading in Minecraft 1.14+</h2><p><img src="/images/mmexport1587228535948.jpg" alt="Trading"></p><h2 id="TNT破基岩"><a href="#TNT破基岩" class="headerlink" title="TNT破基岩"></a>TNT破基岩</h2><p><img src="/images/Snipaste_2022-06-27_08-57-58.png" alt="TNT破基岩"></p><h2 id="Approximate-ore-distribution-for-Minecraft-1-18"><a href="#Approximate-ore-distribution-for-Minecraft-1-18" class="headerlink" title="Approximate ore distribution for Minecraft 1.18"></a>Approximate ore distribution for Minecraft 1.18</h2><p><img src="/images/ore_distribution.jpg" alt="Approximate ore distribution for Minecraft 1.18"></p><h2 id="Minecraft-Java-Edition-v0-0科技树-1-14"><a href="#Minecraft-Java-Edition-v0-0科技树-1-14" class="headerlink" title="Minecraft Java Edition v0.0科技树 1.14"></a>Minecraft Java Edition v0.0科技树 1.14</h2><p><img src="/images/Minecraft.Java.1.14.4.v0.1.png" alt="Minecraft Java Edition v0.0科技树 1.14"></p><h2 id="Minecraft-Java-Edition-1-16-5科技树（生电）"><a href="#Minecraft-Java-Edition-1-16-5科技树（生电）" class="headerlink" title="Minecraft Java Edition 1.16.5科技树（生电）"></a>Minecraft Java Edition 1.16.5科技树（生电）</h2><p><img src="/images/Minecraft.Java.1.16.5.v1.0.4.png" alt="Minecraft Java Edition 1.16.5科技树"></p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs subunit">家: 281 65 <span class="hljs-string">-48</span><br>家-地狱： 34 58 <span class="hljs-string">-8</span><br><br>1号村庄：543 64 <span class="hljs-string">-454</span><br>1号村庄-地狱：67.8 64 <span class="hljs-string">-56</span><br>2号沙漠村庄：<span class="hljs-string">-376</span> 63 <span class="hljs-string">-931</span><br>3号雪原村庄：<span class="hljs-string">-1651</span> 70 1683<br>4号雪原村庄：1649 70 <span class="hljs-string">-1690</span><br>5号云杉木村庄：1220 67 <span class="hljs-string">-978</span><br><br>沼泽：75 64 <span class="hljs-string">-216</span><br>丛林：1247 65 <span class="hljs-string">-1351</span><br>热带雨林：791 64 <span class="hljs-string">-1427</span><br>热带海洋：<span class="hljs-string">-1738</span> 64 446<br>熊猫：<span class="hljs-string">-1303</span> 64 1046<br>花丛：<span class="hljs-string">-4712</span> 63 1110<br>1号沙漠：266 70 572<br>1号浮冰： 2003 68 <span class="hljs-string">-2074</span><br>2号浮冰：<span class="hljs-string">-410</span> 63 43<br><br><br>--old<br>1号地狱要塞主世界：<span class="hljs-string">-2470</span> 70 5085<br>1号地狱要塞地狱：<span class="hljs-string">-338</span> 65 67<br>2号地狱要塞地狱：<span class="hljs-string">-338</span> 65 <span class="hljs-string">-107</span><br><br>--new<br>1号地狱要塞主世界：<span class="hljs-string">-2470</span> 70 5085<br>1号地狱要塞地狱：<span class="hljs-string">-338</span> 70 646<br>2号地狱要塞地狱：<span class="hljs-string">-338</span> 65 67<br>3号地狱要塞地狱：<span class="hljs-string">-386</span> 66 <span class="hljs-string">-71</span><br>4号地狱要塞地狱：<span class="hljs-string">-338</span> 75 <span class="hljs-string">-342</span><br><br><br>1号掠夺者哨塔主世界：<span class="hljs-string">-336</span> <span class="hljs-string">-64</span> <span class="hljs-string">-1408</span><br>1号掠夺者哨塔地狱：<span class="hljs-string">-42</span> <span class="hljs-string">-64</span> <span class="hljs-string">-176</span><br>2号掠夺者哨塔主世界：191 70 <span class="hljs-string">-1188</span><br><br><br>末地传送门地下：1416 70 <span class="hljs-string">-1005</span><br>末地传送门地下：1425 18 <span class="hljs-string">-1030</span><br><br>1号末地城：<span class="hljs-string">-1866</span> 62 <span class="hljs-string">-558</span><br>2号末地城：<span class="hljs-string">-1539</span> 63 <span class="hljs-string">-843</span><br>3号末地城：<span class="hljs-string">-887</span> 63 <span class="hljs-string">-1202</span><br><br>僵尸刷怪笼：647 54 352<br>僵尸刷怪笼-地狱：80 54 44<br>骷髅刷怪笼：<br>蜘蛛刷怪笼：<br><br>1号未知：<span class="hljs-string">-1730</span> 63 462<br>2号未知：1151 63 1192<br><br></code></pre></td></tr></table></figure><h2 id="1-显示tps"><a href="#1-显示tps" class="headerlink" title="1. 显示tps"></a>1. 显示tps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">/log tps<br><span class="hljs-meta prompt_"># </span><span class="language-bash">详见  6. <span class="hljs-built_in">log</span> 指令与玩家单独数据</span><br></code></pre></td></tr></table></figure><h2 id="2-召唤硅胶人："><a href="#2-召唤硅胶人：" class="headerlink" title="2. 召唤硅胶人："></a>2. 召唤硅胶人：</h2><p>开启命令（重启服务器后失效）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet &lt;特性名&gt; &lt;设定值&gt;<br></code></pre></td></tr></table></figure><h3 id="1-开启召唤假人的功能："><a href="#1-开启召唤假人的功能：" class="headerlink" title="1) 开启召唤假人的功能："></a>1) 开启召唤假人的功能：</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet commandPlayer true<br></code></pre></td></tr></table></figure><h3 id="2-召唤名为Steve（名字可以自己设置）的假人："><a href="#2-召唤名为Steve（名字可以自己设置）的假人：" class="headerlink" title="2) 召唤名为Steve（名字可以自己设置）的假人："></a>2) 召唤名为Steve（名字可以自己设置）的假人：</h3><p>（假人的跟玩家的朝向一致，位置一致，游戏模式一致）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve spawn<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell">守卫者农场挂机：<br>/player Steve spawn at 1232 184 1023<br>女巫塔：<br>/player Steve spawn at -294 187 -361<br>/player Steve spawn at -292 187 -361<br>刷铁塔：<br>/player Alex spawn at 374.70 63.00 -416.20<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">################################################</span></span><br>空置域挂机平台：<br>中间：<br>/player Alex spawn at 906 94 -361<br><br>空置域中间：<br>/player kzy01 spawn at 829 100 -377<br><br>左边：<br>/player kzy02 spawn at 887 95 -439<br><br>右边：<br>/player Steve spawn at 872 99 -300<br><br>/player kzy03 spawn at 770 97 -303<br>/player kzy04 spawn at 770 95 -439<br>/player kzy05 spawn at 766 95 -377<br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">################################################</span></span><br><br></code></pre></td></tr></table></figure><h3 id="3-让名为Steve的假人持续使用一项物品，例如持续右键"><a href="#3-让名为Steve的假人持续使用一项物品，例如持续右键" class="headerlink" title="3) 让名为Steve的假人持续使用一项物品，例如持续右键"></a>3) 让名为Steve的假人持续使用一项物品，例如持续右键</h3><p>（需要玩家先将物品扔给假人，让假人手持物品）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve use continuous<br></code></pre></td></tr></table></figure><h3 id="4-让名为Steve的假人持续使用左键"><a href="#4-让名为Steve的假人持续使用左键" class="headerlink" title="4) 让名为Steve的假人持续使用左键"></a>4) 让名为Steve的假人持续使用左键</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve attack continuous<br></code></pre></td></tr></table></figure><h3 id="5-让名为Steve的假人使用一项物品，仅使用一次"><a href="#5-让名为Steve的假人使用一项物品，仅使用一次" class="headerlink" title="5) 让名为Steve的假人使用一项物品，仅使用一次"></a>5) 让名为Steve的假人使用一项物品，仅使用一次</h3><p>（需要玩家先将物品扔给假人，让假人手持物品）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve use<br></code></pre></td></tr></table></figure><h3 id="6-让名为Steve的假人停止一切动作"><a href="#6-让名为Steve的假人停止一切动作" class="headerlink" title="6) 让名为Steve的假人停止一切动作"></a>6) 让名为Steve的假人停止一切动作</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve stop<br></code></pre></td></tr></table></figure><h3 id="7-将名为Steve的假人左右手上的物品交换"><a href="#7-将名为Steve的假人左右手上的物品交换" class="headerlink" title="7) 将名为Steve的假人左右手上的物品交换"></a>7) 将名为Steve的假人左右手上的物品交换</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve swapHands<br></code></pre></td></tr></table></figure><h3 id="8-移除名为Steve的假人："><a href="#8-移除名为Steve的假人：" class="headerlink" title="8) 移除名为Steve的假人："></a>8) 移除名为Steve的假人：</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/player Steve kill<br></code></pre></td></tr></table></figure><h3 id="7-让假人扔出东西"><a href="#7-让假人扔出东西" class="headerlink" title="7) 让假人扔出东西"></a>7) 让假人扔出东西</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">扔出手上的东西</span><br>/player kzy02 drop<br></code></pre></td></tr></table></figure><h3 id="99-说明"><a href="#99-说明" class="headerlink" title="99) 说明"></a>99) 说明</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs shell">控制玩家<br>可以对玩家进行相应的操控,无论是真玩家还是&quot;硅胶小人&quot;(假玩家),又或者是你自己,这些行为是在服务器运行,在操控自己时,自己可能看不到相应的UI,但别的玩家可以看到<br><br>player &lt;name&gt; &lt;option&gt;<br><br>name  指定玩家名<br>option  选项<br>once #一次<br>continuous #持续<br>interval #间隔<br>forward #前方<br>east #东方<br>spawn<br>在玩家所在位置生成一个&quot;硅胶小人&quot;且游戏模式相同,若该玩家名存在,则该玩家上线时会顶替掉硅胶小人<br>drop<br>让硅胶小人把手持的物品丢出来<br>mount<br>让硅胶小人坐在附近的实体上<br>dismount<br>让硅胶小人从实体上下来<br>look &lt;方向&gt;<br>让硅胶小人朝向相应方向<br>move &lt;方向&gt;<br>stop<br>停止硅胶小人所有动作<br>swapHands<br>交换主手和副手上的物品<br>use &lt;选项&gt;<br>使用,相当于右键<br>attack &lt;选项&gt;<br>攻击相当于左键, 选项同use<br>shadow<br>会让同名硅胶小人顶替真实玩家的位置(真实玩家下线),并完成你之前给他们的任务,只能在服务器使用,单机下线内置服务端会关闭 <br>作者：worldy丶jj https://www.bilibili.com/read/cv5948362/ 出处：bilibili<br></code></pre></td></tr></table></figure><h2 id="3-切换模式命令"><a href="#3-切换模式命令" class="headerlink" title="3. 切换模式命令"></a>3. 切换模式命令</h2><p>观察者模式带”夜视”和”海豚的恩惠”效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">carper commandCameramode true<br>/c /s 快速切换 观察者/生存 模式<br>给普通玩家使用/c, /s权限,可以快速切换观察者/生存模式<br></code></pre></td></tr></table></figure><blockquote><p>作者：worldy丶jj <a href="https://www.bilibili.com/read/cv5948362/">https://www.bilibili.com/read/cv5948362/</a> 出处：bilibili</p></blockquote><p>F3 + P：开启或关闭Minecraft失去窗口焦点时的自动暂停功能。</p><p><strong>命令格式：&#x2F;gamemode &lt;模式&gt; [&lt;目标&gt;]</strong></p><p><strong>&lt;模式&gt;：survival（生存模式）、creative（创造模式）、adventure（冒险模式）、spectator（旁观模式）</strong></p><p>1、“gamemode0”生存模式。</p><p>2、“gamemode1”创造模式。</p><p>3、“gamemode2”冒险模式。</p><p>4、“gamemode 3”旁观模式。</p><h2 id="4-单个玩家睡觉跳过夜晚"><a href="#4-单个玩家睡觉跳过夜晚" class="headerlink" title="4. 单个玩家睡觉跳过夜晚"></a>4. 单个玩家睡觉跳过夜晚</h2><p>字面意思</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">carpet onePlayerSleeping true<br></code></pre></td></tr></table></figure><blockquote><p>作者：worldy丶jj <a href="https://www.bilibili.com/read/cv5948362/">https://www.bilibili.com/read/cv5948362/</a> 出处：bilibili</p></blockquote><p>1.17版本以后的单人睡觉是gamerule里面的playersleepingprecentage value（value表示百分之多少玩家睡觉跳过晚上，数值范围是0-100）</p><p>1.17为什么没有onePlayerSleeping指令呢</p><p>2021-09-25 23:24回复</p><p><a href="https://space.bilibili.com/38562793"><img src="https://i1.hdslb.com/bfs/face/7e2f6e0d8aabdb749313435344fc13df6ed2b2cd.jpg@96w_96h_1c_1s.webp" alt="img"></a></p><p><a href="https://space.bilibili.com/38562793">凿壁蹭_WIFI</a><a href="https://www.bilibili.com/blackboard/help.html#%E4%BC%9A%E5%91%98%E7%AD%89%E7%BA%A7%E7%9B%B8%E5%85%B3"><img src="https://s1.hdslb.com/bfs/seed/jinkela/commentpc/static/img/ic_user%20level_6.64b9440.svg" alt="img"></a>改了，在gamerule里面</p><p><a href="https://www.sohu.com/a/165552096_114885">https://www.sohu.com/a/165552096_114885</a></p><p>很简单，只要使用F3+P,F3+P是一个可以取消切出游戏换面时弹出的ESC游戏选项的功能，也就是说切出游戏不需要打开背包或者打开对话窗即可直接切出，单机玩家不会进入暂停界面。</p><h2 id="5-追踪实体信息-村民-track"><a href="#5-追踪实体信息-村民-track" class="headerlink" title="5. 追踪实体信息(村民) track"></a>5. 追踪实体信息(村民) track</h2><ol><li>开启命令：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet commandTrackAI true<br>[11:04:29] [Server thread/INFO]: commandTrackAI: true, [change permanently?]<br></code></pre></td></tr></table></figure><ol start="2"><li>使用</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">显示</span><br>/track villager breeding<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">清除</span><br>/track villager clear<br></code></pre></td></tr></table></figure><h2 id="6-log-指令与玩家单独数据"><a href="#6-log-指令与玩家单独数据" class="headerlink" title="6. log 指令与玩家单独数据"></a>6. log 指令与玩家单独数据</h2><p>更加直接,连续,给每个玩家提供信息,log是根据玩家登陆信息,基于每个玩家的,基于carpet精神,不侵犯原版玩家数据,在服务器重启或重进世界后,玩家log信息会销毁</p><p>log &lt;选项&gt;</p><p>​选项</p><p>​tps</p><p>​在tab界面显示服务器卡顿情况TPS,MSPT</p><p>​counter [颜色]</p><p>​能够简洁,连续的显示计数器物品的速度的实时效率</p><p>​mobcaps</p><p>​会持续显示刷怪上限信息</p><p>​pathfinding &lt;值&gt;</p><p>​能用粒子效果显示生物需要&lt;值&gt;毫秒以上完成的所有寻路尝试</p><p>​packets</p><p>​显示服务器端进出数据包的总数量</p><p>​tnt</p><p>​追踪世界中任何tnt实体,初始位置和爆炸位置</p><p>​projectiles</p><p>​追踪抛射物的每一刻的位置</p><p>​fallingBlock</p><p>​追踪实体方块的每一刻的位置 </p><blockquote><p>作者：worldy丶jj <a href="https://www.bilibili.com/read/cv5948362/">https://www.bilibili.com/read/cv5948362/</a> 出处：bilibili</p></blockquote><h2 id="7-carpet配置文件"><a href="#7-carpet配置文件" class="headerlink" title="7. carpet配置文件"></a>7. carpet配置文件</h2><p>对于服务器管理员 - 手动地配置carpet mod并让地毯指令在游戏中无法调用</p><p>carpet.conf</p><p>#关闭所有carpet指令,可以在后面启用你需要的特性,玩家进入游戏后,看不到任何carpet指令和特性,除非你在下面开启 </p><p>locked</p><p>#例如下面的特性开启 </p><p>scriptsAutoload true </p><p>renewableCoral true </p><blockquote><p>作者：worldy丶jj <a href="https://www.bilibili.com/read/cv5948362/">https://www.bilibili.com/read/cv5948362/</a> 出处：bilibili</p></blockquote><h2 id="8-查看所有命令："><a href="#8-查看所有命令：" class="headerlink" title="8. 查看所有命令："></a>8. 查看所有命令：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet list default<br>[09:48:05] [Server thread/INFO]: Carpet Mod Settings matching &quot;default&quot;:<br>[09:48:05] [Server thread/INFO]: - defaultLoggers [none] [tps] [mobcaps,tps]<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet list<br>[09:51:31] [Server thread/INFO]: All Carpet Mod Settings:<br>[09:51:31] [Server thread/INFO]: - allowSpawningOfflinePlayers [true] [false]<br>[09:51:31] [Server thread/INFO]: - antiCheatDisabled [true] [false]<br>[09:51:31] [Server thread/INFO]: - carpetCommandPermissionLevel [ops] [2] [4]<br>[09:51:31] [Server thread/INFO]: - carpets [true] [false]<br>[09:51:31] [Server thread/INFO]: - chainStone [true] [false] [stick_to_all]<br>[09:51:31] [Server thread/INFO]: - cleanLogs [true] [false]<br>[09:51:31] [Server thread/INFO]: - commandDistance [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandDraw [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandInfo [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandLog [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandPerimeterInfo [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandPlayer [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandProfile [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandScript [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandScriptACE [ops] [0] [1] [2] [3] [4]<br>[09:51:31] [Server thread/INFO]: - commandSpawn [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandTick [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandTrackAI [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - creativeFlyDrag [0.09]<br>[09:51:31] [Server thread/INFO]: - creativeFlySpeed [1.0]<br>[09:51:31] [Server thread/INFO]: - creativeNoClip [true] [false]<br>[09:51:31] [Server thread/INFO]: - creativePlayersLoadChunks [true] [false]<br>[09:51:31] [Server thread/INFO]: - ctrlQCraftingFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - customMOTD [_]<br>[09:51:31] [Server thread/INFO]: - defaultLoggers [none] [tps] [mobcaps,tps]<br>[09:51:31] [Server thread/INFO]: - desertShrubs [true] [false]<br>[09:51:31] [Server thread/INFO]: - explosionNoBlockDamage [true] [false]<br>[09:51:31] [Server thread/INFO]: - extremeBehaviours [true] [false]<br>[09:51:31] [Server thread/INFO]: - fastRedstoneDust [true] [false]<br>[09:51:31] [Server thread/INFO]: - fillLimit [32768] [250000] [1000000]<br>[09:51:31] [Server thread/INFO]: - fillUpdates [true] [false]<br>[09:51:31] [Server thread/INFO]: - flatWorldStructureSpawning [true] [false]<br>[09:51:31] [Server thread/INFO]: - flippinCactus [true] [false]<br>[09:51:31] [Server thread/INFO]: - fogOff [true] [false]<br>[09:51:31] [Server thread/INFO]: - forceloadLimit [256]<br>[09:51:31] [Server thread/INFO]: - hardcodeTNTangle [-1] [-1.0]<br>[09:51:31] [Server thread/INFO]: - hopperCounters [true] [false]<br>[09:51:31] [Server thread/INFO]: - huskSpawningInTemples [true] [false]<br>[09:51:31] [Server thread/INFO]: - interactionUpdates [true] [false]<br>[09:51:31] [Server thread/INFO]: - lagFreeSpawning [true] [false]<br>[09:51:31] [Server thread/INFO]: - language [none] [zh_cn] [zh_tw]<br>[09:51:31] [Server thread/INFO]: - leadFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - lightEngineMaxBatchSize [5] [50] [100] [200]<br>[09:51:31] [Server thread/INFO]: - lightningKillsDropsFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - liquidDamageDisabled [true] [false]<br>[09:51:31] [Server thread/INFO]: - maxEntityCollisions [0] [1] [20]<br>[09:51:31] [Server thread/INFO]: - mergeTNT [true] [false]<br>[09:51:31] [Server thread/INFO]: - missingTools [true] [false]<br>[09:51:31] [Server thread/INFO]: - movableAmethyst [true] [false]<br>[09:51:31] [Server thread/INFO]: - movableBlockEntities [true] [false]<br>[09:51:31] [Server thread/INFO]: - optimizedTNT [true] [false]<br>[09:51:31] [Server thread/INFO]: - perfPermissionLevel [2] [4]<br>[09:51:31] [Server thread/INFO]: - persistentParrots [true] [false]<br>[09:51:31] [Server thread/INFO]: - piglinsSpawningInBastions [true] [false]<br>[09:51:31] [Server thread/INFO]: - pingPlayerListLimit [0] [12] [20] [40]<br>[09:51:31] [Server thread/INFO]: - placementRotationFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - portalCreativeDelay [1] [40] [80] [72000]<br>[09:51:31] [Server thread/INFO]: - portalSurvivalDelay [1] [40] [80] [72000]<br>[09:51:31] [Server thread/INFO]: - pushLimit [10] [12] [14] [100]<br>[09:51:31] [Server thread/INFO]: - quasiConnectivity [true] [false]<br>[09:51:31] [Server thread/INFO]: - railPowerLimit [9] [15] [30]<br>[09:51:31] [Server thread/INFO]: - renewableBlackstone [true] [false]<br>[09:51:31] [Server thread/INFO]: - renewableCoral [false] [expanded] [true]<br>[09:51:31] [Server thread/INFO]: - renewableDeepslate [true] [false]<br>[09:51:31] [Server thread/INFO]: - renewableSponges [true] [false]<br>[09:51:31] [Server thread/INFO]: - rotatorBlock [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsAppStore [gnembon/scarpet/contents/programs]<br>[09:51:31] [Server thread/INFO]: - scriptsAutoload [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsDebugging [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsOptimization [true] [false]<br>[09:51:31] [Server thread/INFO]: - shulkerSpawningInEndCities [true] [false]<br>[09:51:31] [Server thread/INFO]: - silverFishDropGravel [true] [false]<br>[09:51:31] [Server thread/INFO]: - simulationDistance [0] [12] [16] [32]<br>[09:51:31] [Server thread/INFO]: - smoothClientAnimations [true] [false]<br>[09:51:31] [Server thread/INFO]: - spawnChunksSize [0] [11]<br>[09:51:31] [Server thread/INFO]: - stackableShulkerBoxes [false] [true] [16]<br>[09:51:31] [Server thread/INFO]: - structureBlockIgnored [minecraft:structure_void] [minecraft:air]<br>[09:51:31] [Server thread/INFO]: - structureBlockLimit [48] [96] [192] [256]<br>[09:51:31] [Server thread/INFO]: - structureBlockOutlineDistance [96] [192] [2048]<br>[09:51:31] [Server thread/INFO]: - summonNaturalLightning [true] [false]<br>[09:51:31] [Server thread/INFO]: - superSecretSetting [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntDoNotUpdate [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntPrimerMomentumRemoved [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntRandomRange [-1] [-1.0]<br>[09:51:31] [Server thread/INFO]: - updateSuppressionBlock [false] [true] [1] [6]<br>[09:51:31] [Server thread/INFO]: - updateSuppressionCrashFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - viewDistance [0] [12] [16] [32]<br>[09:51:31] [Server thread/INFO]: - xpNoCooldown [true] [false]<br></code></pre></td></tr></table></figure><h2 id="9-forge-mod"><a href="#9-forge-mod" class="headerlink" title="9.forge.mod"></a>9.forge.mod</h2><p><a href="https://www.curseforge.com/">https://www.curseforge.com/</a><br><a href="https://www.curseforge.com/minecraft/mc-mods/malilib">https://www.curseforge.com/minecraft/mc-mods/malilib</a></p><p>安装教程：<a href="https://www.bilibili.com/video/BV1cX4y1T7RZ">https://www.bilibili.com/video/BV1cX4y1T7RZ</a></p><p>Minecraft我的世界1.18.2Fabric客户端整合包：<br><a href="https://www.bilibili.com/read/cv15963596/">https://www.bilibili.com/read/cv15963596/</a></p>]]></content>
    
    
    <categories>
      
      <category>Minecraft</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Minecraft</tag>
      
      <tag>mod</tag>
      
      <tag>游戏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java面试基础</title>
    <link href="/2022/04/24/java/Java%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/04/24/java/Java%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="Java面试基础"><a href="#Java面试基础" class="headerlink" title="Java面试基础"></a>Java面试基础</h1><h2 id="一、Java概述"><a href="#一、Java概述" class="headerlink" title="一、Java概述"></a>一、Java概述</h2><h3 id="1、何为编程"><a href="#1、何为编程" class="headerlink" title="1、何为编程"></a>1、何为编程</h3><p>编程就是让计算机为解决某个问题而使用某种程序设计语言编写程序代码，并最终得到结果的过程。为了使计算机能够理解人的意图，人类就必须要将需解决的问题的思路、方法、和手段通过计算机能够理解的形式告诉计算机，使得计算机能够根据人的指令一步一步去工作，完成某种特定的任务。这种人和计算机之间交流的过程就是编程。</p><h3 id="2、什么是Java"><a href="#2、什么是Java" class="headerlink" title="2、什么是Java"></a>2、什么是Java</h3><p>Java是一门面向对象编程语言，不仅吸收了C++语言的各种优点，还摒弃了C++里难以理解的多继承、指针等概念，因此Java语言具有功能强大和简单易用两个特征。Java语言作为静态面向对象编程语言的代表，极好地实现了面向对象理论，允许程序员以优雅的思维方式进行复杂的编程 。</p><h3 id="3、jdk1-5之后的三大版本"><a href="#3、jdk1-5之后的三大版本" class="headerlink" title="3、jdk1.5之后的三大版本"></a>3、jdk1.5之后的三大版本</h3><h4 id="Java-SE（J2SE，Java-2-Platform-Standard-Edition，标准版）"><a href="#Java-SE（J2SE，Java-2-Platform-Standard-Edition，标准版）" class="headerlink" title="Java SE（J2SE，Java 2 Platform Standard Edition，标准版）"></a>Java SE（J2SE，Java 2 Platform Standard Edition，标准版）</h4><p>Java SE 以前称为 J2SE。它允许开发和部署在桌面、服务器、嵌入式环境和实时环境中使用的 Java 应用程序。Java SE 包含了支持 Java Web 服务开发的类，并为Java EE和Java ME提供基础。</p><p>####Java EE（J2EE，Java 2 Platform Enterprise Edition，企业版）<br>Java EE 以前称为 J2EE。企业版本帮助开发和部署可移植、健壮、可伸缩且安全的服务器端Java 应用程序。Java EE 是在 Java SE 的基础上构建的，它提供 Web 服务、组件模型、管理和通信 API，可以用来实现企业级的面向服务体系结构（service-oriented architecture，SOA）和 Web2.0应用程序。2018年2月，Eclipse 宣布正式将 JavaEE 更名为 JakartaEE</p><h4 id="Java-ME（J2ME，Java-2-Platform-Micro-Edition，微型版）"><a href="#Java-ME（J2ME，Java-2-Platform-Micro-Edition，微型版）" class="headerlink" title="Java ME（J2ME，Java 2 Platform Micro Edition，微型版）"></a>Java ME（J2ME，Java 2 Platform Micro Edition，微型版）</h4><p>Java ME 以前称为 J2ME。Java ME 为在移动设备和嵌入式设备（比如手机、PDA、电视机顶盒和打印机）上运行的应用程序提供一个健壮且灵活的环境。Java ME 包括灵活的用户界面、健壮的安全模型、许多内置的网络协议以及对可以动态下载的连网和离线应用程序的丰富支持。基于 Java ME 规范的应用程序只需编写一次，就可以用于许多设备，而且可以利用每个设备的本机功能。</p><h3 id="4、JVM、JRE和JDK的关系"><a href="#4、JVM、JRE和JDK的关系" class="headerlink" title="4、JVM、JRE和JDK的关系"></a>4、JVM、JRE和JDK的关系</h3><h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><p>Java Virtual Machine是Java虚拟机，Java程序需要运行在虚拟机上，不同的平台有自己的虚拟机，因此Java语言可以实现跨平台。</p><h4 id="JRE"><a href="#JRE" class="headerlink" title="JRE"></a>JRE</h4><p>Java Runtime Environment包括Java虚拟机和Java程序所需的核心类库等。核心类库主要是java.lang包：包含了运行Java程序必不可少的系统类，如基本数据类型、基本数学函数、字符串处理、线程、异常处理类等，系统缺省加载这个包</p><p>如果想要运行一个开发好的Java程序，计算机中只需要安装JRE即可。</p><h4 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h4><p>Java Development Kit是提供给Java开发人员使用的，其中包含了Java的开发工具，也包括了JRE。所以安装了JDK，就无需再单独安装JRE了。其中的开发工具：编译工具(javac.exe)，打包工具(jar.exe)等</p><p>JVM&amp;JRE&amp;JDK关系图：</p><h3 id="5、什么是跨平台性？原理是什么"><a href="#5、什么是跨平台性？原理是什么" class="headerlink" title="5、什么是跨平台性？原理是什么"></a>5、什么是跨平台性？原理是什么</h3><p>所谓跨平台性，是指java语言编写的程序，一次编译后，可以在多个系统平台上运行。</p><p>实现原理：Java程序是通过java虚拟机在系统平台上运行的，只要该系统可以安装相应的java虚拟机，该系统就可以运行java程序。</p><h3 id="6、Java语言有哪些特点"><a href="#6、Java语言有哪些特点" class="headerlink" title="6、Java语言有哪些特点"></a>6、Java语言有哪些特点</h3><p>简单易学（Java语言的语法与C语言和C++语言很接近）</p><p>面向对象（封装，继承，多态）</p><p>平台无关性（Java虚拟机实现平台无关性）</p><p>支持网络编程并且很方便（Java语言诞生本身就是为简化网络编程设计的）</p><p>支持多线程（多线程机制使应用程序在同一时间并行执行多项任）</p><p>健壮性（Java语言的强类型机制、异常处理、垃圾的自动收集等）</p><p>安全性</p><h3 id="7、什么是字节码？采用字节码的最大好处是什么"><a href="#7、什么是字节码？采用字节码的最大好处是什么" class="headerlink" title="7、什么是字节码？采用字节码的最大好处是什么"></a>7、什么是字节码？采用字节码的最大好处是什么</h3><p>字节码：Java源代码经过虚拟机编译器编译后产生的文件（即扩展为.class的文件），它不面向任何特定的处理器，只面向虚拟机。</p><p>采用字节码的好处：</p><p>Java语言通过字节码的方式，在一定程度上解决了传统解释型语言执行效率低的问题，同时又保留了解释型语言可移植的特点。所以Java程序运行时比较高效，而且，由于字节码并不专对一种特定的机器，因此，Java程序无须重新编译便可在多种不同的计算机上运行。</p><p>先看下java中的编译器和解释器：</p><p>Java中引入了虚拟机的概念，即在机器和编译程序之间加入了一层抽象的虚拟机器。这台虚拟的机器在任何平台上都提供给编译程序一个的共同的接口。编译程序只需要面向虚拟机，生成虚拟机能够理解的代码，然后由解释器来将虚拟机代码转换为特定系统的机器码执行。在Java中，这种供虚拟机理解的代码叫做字节码（即扩展为.class的文件），它不面向任何特定的处理器，只面向虚拟机。每一种平台的解释器是不同的，但是实现的虚拟机是相同的。Java源程序经过编译器编译后变成字节码，字节码由虚拟机解释执行，虚拟机将每一条要执行的字节码送给解释器，解释器将其翻译成特定机器上的机器码，然后在特定的机器上运行，这就是上面提到的Java的特点的编译与解释并存的解释。</p><p>Java源代码—-&gt;编译器—-&gt;jvm可执行的Java字节码(即虚拟指令)—-&gt;jvm—-&gt;jvm中解释器—–&gt;机器可执行的二进制机器码—-&gt;程序运行。</p><h3 id="8、什么是Java程序的主类？应用程序和小程序的主类有何不同？"><a href="#8、什么是Java程序的主类？应用程序和小程序的主类有何不同？" class="headerlink" title="8、什么是Java程序的主类？应用程序和小程序的主类有何不同？"></a>8、什么是Java程序的主类？应用程序和小程序的主类有何不同？</h3><p>一个程序中可以有多个类，但只能有一个类是主类。在Java应用程序中，这个主类是指包含main()方法的类。而在Java小程序中，这个主类是一个继承自系统类JApplet或Applet的子类。应用程序的主类不一定要求是public类，但小程序的主类要求必须是public类。主类是Java程序执行的入口点。</p><h3 id="9、Java应用程序与小程序之间有那些差别？"><a href="#9、Java应用程序与小程序之间有那些差别？" class="headerlink" title="9、Java应用程序与小程序之间有那些差别？"></a>9、Java应用程序与小程序之间有那些差别？</h3><p>简单说应用程序是从主线程启动(也就是main()方法)。applet小程序没有main方法，主要是嵌在浏览器页面上运行(调用init()线程或者run()来启动)，嵌入浏览器这点跟flash的小游戏类似。</p><h3 id="10、Java和C-的区别"><a href="#10、Java和C-的区别" class="headerlink" title="10、Java和C++的区别"></a>10、Java和C++的区别</h3><p>我知道很多人没学过C++，但是面试官就是没事喜欢拿咱们Java和C++比呀！没办法！！！就算没学过C++，也要记下来！</p><p>都是面向对象的语言，都支持封装、继承和多态<br>Java不提供指针来直接访问内存，程序内存更加安全<br>Java的类是单继承的，C++支持多重继承；虽然Java的类不可以多继承，但是接口可以多继承。<br>Java有自动内存管理机制，不需要程序员手动释放无用内存</p><h3 id="11、Oracle-JDK-和-OpenJDK-的对比"><a href="#11、Oracle-JDK-和-OpenJDK-的对比" class="headerlink" title="11、Oracle JDK 和 OpenJDK 的对比"></a>11、Oracle JDK 和 OpenJDK 的对比</h3><p>Oracle JDK版本将每三年发布一次，而OpenJDK版本每三个月发布一次；<br>OpenJDK 是一个参考模型并且是完全开源的，而Oracle JDK是OpenJDK的一个实现，并不是完全开源的；<br>Oracle JDK 比 OpenJDK 更稳定。OpenJDK和Oracle JDK的代码几乎相同，但Oracle JDK有更多的类和一些错误修复。因此，如果您想开发企业&#x2F;商业软件，我建议您选择Oracle JDK，因为它经过了彻底的测试和稳定。某些情况下，有些人提到在使用OpenJDK 可能会遇到了许多应用程序崩溃的问题，但是，只需切换到Oracle JDK就可以解决问题；<br>在响应性和JVM性能方面，Oracle JDK与OpenJDK相比提供了更好的性能；<br>Oracle JDK不会为即将发布的版本提供长期支持，用户每次都必须通过更新到最新版本获得支持来获取最新版本；<br>Oracle JDK根据二进制代码许可协议获得许可，而OpenJDK根据GPL v2许可获得许可。</p><h2 id="二、基础语法"><a href="#二、基础语法" class="headerlink" title="二、基础语法"></a>二、基础语法</h2><h3 id="1、数据类型"><a href="#1、数据类型" class="headerlink" title="1、数据类型"></a>1、数据类型</h3><h4 id="1-Java有哪些数据类型"><a href="#1-Java有哪些数据类型" class="headerlink" title="1) Java有哪些数据类型"></a>1) Java有哪些数据类型</h4><p>定义：Java语言是强类型语言，对于每一种数据都定义了明确的具体的数据类型，在内存中分配了不同大小的内存空间。</p><p>分类</p><ul><li>基本数据类型<ul><li>数值型<ul><li>整数类型(byte,short,int,long)</li><li>浮点类型(float,double)</li></ul></li><li>字符型(char)</li><li>布尔型(boolean)</li></ul></li><li>引用数据类型<ul><li>类(class)</li><li>接口(interface)</li><li>数组([])</li></ul></li></ul><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">基本数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型（数值型）</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr>    <tr>        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型（数值型）</td>        <td>float</td>        <td>32</td>    </tr>    <tr>        <td>double</td>        <td>64</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">字符型</td>        <td>char</td>        <td>16</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">布尔型</td>        <td>boolean</td>        <td>~</td>    </tr></table><h4 id="2-switch-是否能作用在-byte-上，是否能作用在-long-上，是否能作用在-String-上"><a href="#2-switch-是否能作用在-byte-上，是否能作用在-long-上，是否能作用在-String-上" class="headerlink" title="2) switch 是否能作用在 byte 上，是否能作用在 long 上，是否能作用在 String 上"></a>2) switch 是否能作用在 byte 上，是否能作用在 long 上，是否能作用在 String 上</h4><p>在 Java 5 以前，switch(expr)中，expr 只能是 byte、short、char、int。从 Java5 开始，Java 中引入了枚举类型，expr 也可以是 enum 类型，从 Java 7 开始，expr 还可以是字符串（String），但是长整型（long）在目前所有的版本中都是不可以的。</p><h4 id="3-用最有效率的方法计算-2-乘以-8"><a href="#3-用最有效率的方法计算-2-乘以-8" class="headerlink" title="3) 用最有效率的方法计算 2 乘以 8"></a>3) 用最有效率的方法计算 2 乘以 8</h4><p>2 &lt;&lt; 3（左移 3 位相当于乘以 2 的 3 次方，右移 3 位相当于除以 2 的 3 次方）。</p><h4 id="4-Math-round-11-5-等于多少？Math-round-11-5-等于多少"><a href="#4-Math-round-11-5-等于多少？Math-round-11-5-等于多少" class="headerlink" title="4) Math.round(11.5) 等于多少？Math.round(-11.5)等于多少"></a>4) Math.round(11.5) 等于多少？Math.round(-11.5)等于多少</h4><p>Math.round(11.5)的返回值是 12，Math.round(-11.5)的返回值是-11。四舍五入的原理是在参数上加 0.5 然后进行下取整。</p><h4 id="5-float-f-x3D-3-4-是否正确"><a href="#5-float-f-x3D-3-4-是否正确" class="headerlink" title="5) float f&#x3D;3.4;是否正确"></a>5) float f&#x3D;3.4;是否正确</h4><p>不正确。3.4 是双精度数，将双精度型（double）赋值给浮点型（float）属于下转型（down-casting，也称为窄化）会造成精度损失，因此需要强制类型转换float f &#x3D;(float)3.4; 或者写成 float f &#x3D;3.4F;。</p><h4 id="6-short-s1-x3D-1-s1-x3D-s1-1-有错吗-short-s1-x3D-1-s1-x3D-1-有错吗"><a href="#6-short-s1-x3D-1-s1-x3D-s1-1-有错吗-short-s1-x3D-1-s1-x3D-1-有错吗" class="headerlink" title="6) short s1 &#x3D; 1; s1 &#x3D; s1 + 1;有错吗?short s1 &#x3D; 1; s1 +&#x3D; 1;有错吗"></a>6) short s1 &#x3D; 1; s1 &#x3D; s1 + 1;有错吗?short s1 &#x3D; 1; s1 +&#x3D; 1;有错吗</h4><p>对于 short s1 &#x3D; 1; s1 &#x3D; s1 + 1;由于 1 是 int 类型，因此 s1+1 运算结果也是 int型，需要强制转换类型才能赋值给 short 型。</p><p>而 short s1 &#x3D; 1; s1 +&#x3D; 1;可以正确编译，因为 s1+&#x3D; 1;相当于 s1 &#x3D; (short(s1 + 1);其中有隐含的强制类型转换。</p><h3 id="2、编码"><a href="#2、编码" class="headerlink" title="2、编码"></a>2、编码</h3><p>Java语言采用何种编码方案？有何特点？<br>Java语言采用Unicode编码标准，Unicode（标准码），它为每个字符制订了一个唯一的数值，因此在任何的语言，平台，程序都可以放心的使用。</p><h3 id="3、注释"><a href="#3、注释" class="headerlink" title="3、注释"></a>3、注释</h3><ol><li>什么Java注释<br>定义：用于解释说明程序的文字</li></ol><p>分类</p><ul><li>单行注释<br>  格式： &#x2F;&#x2F; 注释文字</li><li>多行注释<br>  格式： &#x2F;* 注释文字 *&#x2F;</li><li>文档注释<br>  格式：&#x2F;** 注释文字 *&#x2F;</li></ul><p>作用</p><p>在程序中，尤其是复杂的程序中，适当地加入注释可以增加程序的可读性，有利于程序的修改、调试和交流。注释的内容在程序编译的时候会被忽视，不会产生目标代码，注释的部分不会对程序的执行结果产生任何影响。</p><p>注意事项：多行和文档注释都不能嵌套使用。</p><h3 id="4、访问修饰符"><a href="#4、访问修饰符" class="headerlink" title="4、访问修饰符"></a>4、访问修饰符</h3><ol><li>访问修饰符 public,private,protected,以及不写（默认）时的区别<br>定义：Java中，可以使用访问修饰符来保护对类、变量、方法和构造方法的访问。Java 支持 4 种不同的访问权限。</li></ol><p>分类</p><p>private : 在同一类内可见。使用对象：变量、方法。 注意：不能修饰类（外部类）<br>default (即缺省，什么也不写，不使用任何关键字）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。<br>protected : 对同一包内的类和所有子类可见。使用对象：变量、方法。 注意：不能修饰类（外部类）。<br>public : 对所有类可见。使用对象：类、接口、变量、方法</p><blockquote><p><a href="https://www.runoob.com/java/java-modifier-types.html#protected-desc">https://www.runoob.com/java/java-modifier-types.html#protected-desc</a></p></blockquote><p>访问修饰符图</p><table><thead><tr><th>修饰符</th><th>当前类</th><th>同包</th><th>子类（同包）</th><th>子类（不同包）</th><th>其他包</th></tr></thead><tbody><tr><td>private</td><td>√</td><td>×</td><td>×</td><td>×</td><td>×</td></tr><tr><td>default</td><td>√</td><td>√</td><td>√</td><td>×</td><td>×</td></tr><tr><td>protected</td><td>√</td><td>√</td><td>√</td><td>√&#x2F;×(说明)</td><td>×</td></tr><tr><td>public</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td></tr></tbody></table><p>① 私有访问修饰符-private</p><p>私有访问修饰符是最严格的访问级别，所以被声明为 <strong>private</strong> 的方法、变量和构造方法只能被所属类访问，并且类和接口不能声明为 <strong>private</strong>。</p><p>声明为私有访问类型的变量只能通过类中公共的 getter 方法被外部类访问。</p><p>Private 访问修饰符的使用主要用来隐藏类的实现细节和保护类的数据。</p><p>② 默认访问修饰符-不使用任何关键字</p><p>使用默认访问修饰符声明的变量和方法，对同一个包内的类是可见的。接口里的变量都隐式声明为 <strong>public static final</strong>,而接口里的方法默认情况下访问权限为 <strong>public</strong>。</p><p>③ 公有访问修饰符-public</p><p>被声明为 public 的类、方法、构造方法和接口能够被任何其他类访问。</p><p>如果几个相互访问的 public 类分布在不同的包中，则需要导入相应 public 类所在的包。由于类的继承性，类所有的公有方法和变量都能被其子类继承。</p><p>④ 受保护的访问修饰符-protected</p><p>protected 需要从以下两个点来分析说明：</p><ul><li><strong>子类与基类在同一包中</strong>：被声明为 protected 的变量、方法和构造器能被同一个包中的任何其他类访问；</li><li><strong>子类与基类不在同一包中</strong>：那么在子类中，子类实例可以访问其从基类继承而来的 protected 方法，而不能访问基类实例的protected方法。</li></ul><h5 id="访问控制和继承"><a href="#访问控制和继承" class="headerlink" title="访问控制和继承"></a>访问控制和继承</h5><p>请注意以下方法继承的规则：</p><ul><li>父类中声明为 public 的方法在子类中也必须为 public。</li><li>父类中声明为 protected 的方法在子类中要么声明为 protected，要么声明为 public，不能声明为 private。</li><li>父类中声明为 private 的方法，不能够被子类继承。</li></ul><h3 id="5、运算符"><a href="#5、运算符" class="headerlink" title="5、运算符"></a>5、运算符</h3><p>&amp;和&amp;&amp;的区别<br>&amp;运算符有两种用法：(1)按位与；(2)逻辑与。</p><p>&amp;&amp;运算符是短路与运算。逻辑与跟短路与的差别是非常巨大的，虽然二者都要求运算符左右两端的布尔值都是true 整个表达式的值才是 true。&amp;&amp;之所以称为短路运算，是因为如果&amp;&amp;左边的表达式的值是 false，右边的表达式会被直接短路掉，不会进行运算。</p><p>注意：逻辑或运算符（|）和短路或运算符（||）的差别也是如此。</p><h3 id="6、关键字"><a href="#6、关键字" class="headerlink" title="6、关键字"></a>6、关键字</h3><ol><li><p>Java 有没有 goto<br>goto 是 Java 中的保留字，在目前版本的 Java 中没有使用。</p></li><li><p>final 有什么用？<br>用于修饰类、属性和方法；</p></li></ol><p>被final修饰的类不可以被继承<br>被final修饰的方法不可以被重写<br>被final修饰的变量不可以被改变，被final修饰不可变的是变量的引用，而不是引用指向的内容，引用指向的内容是可以改变的</p><ol start="3"><li>final finally finalize区别<br>final可以修饰类、变量、方法，修饰类表示该类不能被继承、修饰方法表示该方法不能被重写、修饰变量表示该变量是一个常量不能被重新赋值。<br>finally一般作用在try-catch代码块中，在处理异常的时候，通常我们将一定要执行的代码方法finally代码块中，表示不管是否出现异常，该代码块都会执行，一般用来存放一些关闭资源的代码。<br>finalize是一个方法，属于Object类的一个方法，而Object类是所有类的父类，该方法一般由垃圾回收器来调用，当我们调用System.gc() 方法的时候，由垃圾回收器调用finalize()，回收垃圾，一个对象是否可回收的最后判断。</li><li>this关键字的用法<br>this是自身的一个对象，代表对象本身，可以理解为：指向对象本身的一个指针。</li></ol><p>this的用法在java中大体可以分为3种：</p><p>①. 普通的直接引用，this相当于是指向当前对象本身。</p><p>②. 形参与成员名字重名，用this来区分：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age;<br>&#125;<br></code></pre></td></tr></table></figure><p>③. 引用本类的构造函数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>(name);<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li>super关键字的用法<br>super可以理解为是指向自己超（父）类对象的一个指针，而这个超类指的是离自己最近的一个父类。</li></ol><p>super也有三种用法：</p><p>①. 普通的直接引用</p><p>与this类似，super相当于是指向当前对象的父类的引用，这样就可以用super.xxx来引用父类的成员。</p><p>②. 子类中的成员变量或方法与父类中的成员变量或方法同名时，用super进行区分</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">protected</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, String name1)</span> &#123;<br>        <span class="hljs-built_in">super</span>(name);<br>        <span class="hljs-built_in">this</span>.name = name1;<br>    &#125;<br>     <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getInfo</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-built_in">this</span>.name);      <span class="hljs-comment">//Child</span><br>        System.out.println(<span class="hljs-built_in">super</span>.name);     <span class="hljs-comment">//Father</span><br>    &#125;<br><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>       <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;Father&quot;</span>,<span class="hljs-string">&quot;Child&quot;</span>);<br>       s1.getInfo();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>③. 引用父类构造函数</p><p>super（参数）：调用父类中的某一个构造函数（应该为构造函数中的第一条语句）。<br>this（参数）：调用本类中另一种形式的构造函数（应该为构造函数中的第一条语句）。<br>6. this与super的区别<br>super:　它引用当前对象的直接父类中的成员（用来访问直接父类中被隐藏的父类中成员数据或函数，基类与派生类中有相同成员定义时如：super.变量名 super.成员函数据名（实参）<br>this：它代表当前对象名（在程序中易产生二义性之处，应使用this来指明当前对象；如果函数的形参与类中的成员数据同名，这时需用this来指明成员变量名）<br>super()和this()类似,区别是，super()在子类中调用父类的构造方法，this()在本类内调用本类的其它构造方法。<br>super()和this()均需放在构造方法内第一行。<br>尽管可以用this调用一个构造器，但却不能调用两个。<br>this和super不能同时出现在一个构造函数里面，因为this必然会调用其它的构造函数，其它的构造函数必然也会有super语句的存在，所以在同一个构造函数里面有相同的语句，就失去了语句的意义，编译器也不会通过。<br>this()和super()都指的是对象，所以，均不可以在static环境中使用。包括：static变量,static方法，static语句块。<br>从本质上讲，this是一个指向本对象的指针, 然而super是一个Java关键字。<br>7. static存在的主要意义<br>static的主要意义是在于创建独立于具体对象的域变量或者方法。以致于即使没有创建对象，也能使用属性和调用方法！</p><p>static关键字还有一个比较关键的作用就是 用来形成静态代码块以优化程序性能。static块可以置于类中的任何地方，类中可以有多个static块。在类初次被加载的时候，会按照static块的顺序来执行每个static块，并且只会执行一次。</p><p>为什么说static块可以用来优化程序性能，是因为它的特性:只会在类加载的时候执行一次。因此，很多时候会将一些只需要进行一次的初始化操作都放在static代码块中进行。</p><ol start="8"><li>static的独特之处<br>被static修饰的变量或者方法是独立于该类的任何对象，也就是说，这些变量和方法不属于任何一个实例对象，而是被类的实例对象所共享。<br>怎么理解 “被类的实例对象所共享” 这句话呢？就是说，一个类的静态成员，它是属于大伙的【大伙指的是这个类的多个对象实例，我们都知道一个类可以创建多个实例！】，所有的类对象共享的，不像成员变量是自个的【自个指的是这个类的单个实例对象】…我觉得我已经讲的很通俗了，你明白了咩？</li></ol><p>在该类被第一次加载的时候，就会去加载被static修饰的部分，而且只在类第一次使用时加载并进行初始化，注意这是第一次用就要初始化，后面根据需要是可以再次赋值的。<br>static变量值在类加载的时候分配空间，以后创建类对象的时候不会重新分配。赋值的话，是可以任意赋值的！<br>被static修饰的变量或者方法是优先于对象存在的，也就是说当一个类加载完毕之后，即便没有创建对象，也可以去访问。<br>9. static应用场景<br>因为static是被类的实例对象所共享，因此如果某个成员变量是被所有对象所共享的，那么这个成员变量就应该定义为静态变量。</p><p>因此比较常见的static应用场景有：</p><p>修饰成员变量<br>修饰成员方法<br>静态代码块<br>修饰类【只能修饰内部类也就是静态内部类】<br>静态导包<br>10. static注意事项<br>静态只能访问静态。<br>非静态既可以访问非静态的，也可以访问静态的。<br>7、流程控制语句</p><ol><li>break ,continue ,return 的区别及作用<br>break 跳出总上一层循环，不再执行循环(结束当前的循环体)</li></ol><p>continue 跳出本次循环，继续执行下次循环(结束正在执行的循环 进入下一个循环条件)</p><p>return 程序返回，不再执行下面的代码(结束当前的方法 直接返回)</p><ol start="2"><li>在 Java 中，如何跳出当前的多重嵌套循环<br>在Java中，要想跳出多重循环，可以在外面的循环语句前定义一个标号，然后在里层循环体的代码中使用带有标号的break 语句，即可跳出外层循环。例如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    ok:<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;i=&quot;</span> + i + <span class="hljs-string">&quot;,j=&quot;</span> + j);<br>            <span class="hljs-keyword">if</span> (j == <span class="hljs-number">5</span>) &#123;<br>                <span class="hljs-keyword">break</span> ok;<br>            &#125;<br><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="三、面向对象"><a href="#三、面向对象" class="headerlink" title="三、面向对象"></a>三、面向对象</h2><h3 id="1、面向对象概述"><a href="#1、面向对象概述" class="headerlink" title="1、面向对象概述"></a>1、面向对象概述</h3><p>面向对象和面向过程的区别<br>面向过程：</p><p>优点：性能比面向对象高，因为类调用时需要实例化，开销比较大，比较消耗资源;比如单片机、嵌入式开发、Linux&#x2F;Unix等一般采用面向过程开发，性能是最重要的因素。</p><p>缺点：没有面向对象易维护、易复用、易扩展</p><p>面向对象：</p><p>优点：易维护、易复用、易扩展，由于面向对象有封装、继承、多态性的特性，可以设计出低耦合的系统，使系统更加灵活、更加易于维护</p><p>缺点：性能比面向过程低</p><p>面向过程是具体化的，流程化的，解决一个问题，你需要一步一步的分析，一步一步的实现。</p><p>面向对象是模型化的，你只需抽象出一个类，这是一个封闭的盒子，在这里你拥有数据也拥有解决问题的方法。需要什么功能直接使用就可以了，不必去一步一步的实现，至于这个功能是如何实现的，管我们什么事？我们会用就可以了。</p><p>面向对象的底层其实还是面向过程，把面向过程抽象成类，然后封装，方便我们使用的就是面向对象了。</p><h3 id="2、面向对象三大特性"><a href="#2、面向对象三大特性" class="headerlink" title="2、面向对象三大特性"></a>2、面向对象三大特性</h3><ol><li>面向对象的特征有哪些方面<br>面向对象的特征主要有以下几个方面：</li></ol><p>抽象：抽象是将一类对象的共同特征总结出来构造类的过程，包括数据抽象和行为抽象两方面。抽象只关注对象有哪些属性和行为，并不关注这些行为的细节是什么。</p><p>封装</p><p>封装把一个对象的属性私有化，同时提供一些可以被外界访问的属性的方法，如果属性不想被外界访问，我们大可不必提供方法给外界访问。但是如果一个类没有提供给外界访问的方法，那么这个类也没有什么意义了。</p><p>继承</p><p>继承是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。通过使用继承我们能够非常方便地复用以前的代码。</p><p>关于继承如下 3 点请记住：</p><p>子类拥有父类非 private 的属性和方法。<br>子类可以拥有自己属性和方法，即子类可以对父类进行扩展。<br>子类可以用自己的方式实现父类的方法。（以后介绍）。<br>多态</p><p>所谓多态就是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量到底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。</p><p>在Java中有两种形式可以实现多态：继承（多个子类对同一方法的重写）和接口（实现接口并覆盖接口中同一方法）。</p><p>其中Java 面向对象编程三大特性：封装 继承 多态</p><p>封装：隐藏对象的属性和实现细节，仅对外提供公共访问方式，将变化隔离，便于使用，提高复用性和安全性。</p><p>继承：继承是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。通过使用继承可以提高代码复用性。继承是多态的前提。</p><p>关于继承如下 3 点请记住：</p><p>子类拥有父类非 private 的属性和方法。</p><p>子类可以拥有自己属性和方法，即子类可以对父类进行扩展。</p><p>子类可以用自己的方式实现父类的方法。</p><p>多态性：父类或接口定义的引用变量可以指向子类或具体实现类的实例对象。提高了程序的拓展性。</p><p>在Java中有两种形式可以实现多态：继承（多个子类对同一方法的重写）和接口（实现接口并覆盖接口中同一方法）。</p><p>方法重载（overload）实现的是编译时的多态性（也称为前绑定），而方法重写（override）实现的是运行时的多态性（也称为后绑定）。</p><p>一个引用变量到底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。运行时的多态是面向对象最精髓的东西，要实现多态需要做两件事：</p><p>方法重写（子类继承父类并重写父类中已有的或抽象的方法）；<br>对象造型（用父类型引用子类型对象，这样同样的引用调用同样的方法就会根据子类对象的不同而表现出不同的行为）。<br>2. 什么是多态机制？Java语言是如何实现多态的？<br>所谓多态就是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。因为在程序运行时才确定具体的类，这样，不用修改源程序代码，就可以让引用变量绑定到各种不同的类实现上，从而导致该引用调用的具体方法随之改变，即不修改程序代码就可以改变程序运行时所绑定的具体代码，让程序可以选择多个运行状态，这就是多态性。</p><p>多态分为编译时多态和运行时多态。其中编辑时多态是静态的，主要是指方法的重载，它是根据参数列表的不同来区分不同的函数，通过编辑之后会变成两个不同的函数，在运行时谈不上多态。而运行时多态是动态的，它是通过动态绑定来实现的，也就是我们所说的多态性。</p><p>多态的实现</p><p>Java实现多态有三个必要条件：继承、重写、向上转型。</p><p>继承：在多态中必须存在有继承关系的子类和父类。</p><p>重写：子类对父类中某些方法进行重新定义，在调用这些方法时就会调用子类的方法。</p><p>向上转型：在多态中需要将子类的引用赋给父类对象，只有这样该引用才能够具备技能调用父类的方法和子类的方法。</p><p>只有满足了上述三个条件，我们才能够在同一个继承结构中使用统一的逻辑实现代码处理不同的对象，从而达到执行不同的行为。</p><p>对于Java而言，它多态的实现机制遵循一个原则：当超类对象引用变量引用子类对象时，被引用对象的类型而不是引用变量的类型决定了调用谁的成员方法，但是这个被调用的方法必须是在超类中定义过的，也就是说被子类覆盖的方法。</p><ol start="3"><li>面向对象五大基本原则是什么（可选）<br>单一职责原则SRP(Single Responsibility Principle)<br>类的功能要单一，不能包罗万象，跟杂货铺似的。</li></ol><p>开放封闭原则OCP(Open－Close Principle)<br>一个模块对于拓展是开放的，对于修改是封闭的，想要增加功能热烈欢迎，想要修改，哼，一万个不乐意。</p><p>里式替换原则LSP(the Liskov Substitution Principle LSP)<br>子类可以替换父类出现在父类能够出现的任何地方。比如你能代表你爸去你姥姥家干活。哈哈~~</p><p>依赖倒置原则DIP(the Dependency Inversion Principle DIP)<br>高层次的模块不应该依赖于低层次的模块，他们都应该依赖于抽象。抽象不应该依赖于具体实现，具体实现应该依赖于抽象。就是你出国要说你是中国人，而不能说你是哪个村子的。比如说中国人是抽象的，下面有具体的xx省，xx市，xx县。你要依赖的抽象是中国人，而不是你是xx村的。</p><p>接口分离原则ISP(the Interface Segregation Principle ISP)<br>设计时采用多个与特定客户类有关的接口比采用一个通用的接口要好。就比如一个手机拥有打电话，看视频，玩游戏等功能，把这几个功能拆分成不同的接口，比在一个接口里要好的多。</p><h3 id="3、类与接口"><a href="#3、类与接口" class="headerlink" title="3、类与接口"></a>3、类与接口</h3><ol><li>抽象类和接口的对比<br>抽象类是用来捕捉子类的通用特性的。接口是抽象方法的集合。</li></ol><p>从设计层面来说，抽象类是对类的抽象，是一种模板设计，接口是行为的抽象，是一种行为的规范。</p><p>相同点</p><p>接口和抽象类都不能实例化<br>都位于继承的顶端，用于被其他实现或继承<br>都包含抽象方法，其子类都必须覆写这些抽象方法</p><p>不同点</p><p>备注：Java8中接口中引入默认方法和静态方法，以此来减少抽象类和接口之间的差异。</p><p>现在，我们可以为接口提供默认实现的方法了，并且不用强制子类来实现它。</p><p>接口和抽象类各有优缺点，在接口和抽象类的选择上，必须遵守这样一个原则：</p><p>行为模型应该总是通过接口而不是抽象类定义，所以通常是优先选用接口，尽量少用抽象类。<br>选择抽象类的时候通常是如下情况：需要定义子类的行为，又要为子类提供通用的功能。<br>2. 普通类和抽象类有哪些区别？<br>普通类不能包含抽象方法，抽象类可以包含抽象方法。<br>抽象类不能直接实例化，普通类可以直接实例化。<br>3. 抽象类能使用 final 修饰吗？<br>不能，定义抽象类就是让其他类继承的，如果定义为 final 该类就不能被继承，这样彼此就会产生矛盾，所以 final 不能修饰抽象类</p><ol start="4"><li>创建一个对象用什么关键字？对象实例与对象引用有何不同？<br>new关键字，new创建对象实例（对象实例在堆内存中），对象引用指向对象实例（对象引用存放在栈内存中）。一个对象引用可以指向0个或1个对象（一根绳子可以不系气球，也可以系一个气球）;一个对象可以有n个引用指向它（可以用n条绳子系住一个气球）</li></ol><h3 id="4、变量与方法"><a href="#4、变量与方法" class="headerlink" title="4、变量与方法"></a>4、变量与方法</h3><ol><li>成员变量与局部变量的区别有哪些<br>变量：在程序执行的过程中，在某个范围内其值可以发生改变的量。从本质上讲，变量其实是内存中的一小块区域</li></ol><p>成员变量：方法外部，类内部定义的变量</p><p>局部变量：类的方法中的变量。</p><p>成员变量和局部变量的区别</p><p>作用域</p><p>成员变量：针对整个类有效。<br>局部变量：只在某个范围内有效。(一般指的就是方法,语句体内)</p><p>存储位置</p><p>成员变量：随着对象的创建而存在，随着对象的消失而消失，存储在堆内存中。<br>局部变量：在方法被调用，或者语句被执行的时候存在，存储在栈内存中。当方法调用完，或者语句结束后，就自动释放。</p><p>生命周期</p><p>成员变量：随着对象的创建而存在，随着对象的消失而消失<br>局部变量：当方法调用完，或者语句结束后，就自动释放。</p><p>初始值</p><p>成员变量：有默认初始值。</p><p>局部变量：没有默认初始值，使用前必须赋值。</p><p>使用原则</p><p>在使用变量时需要遵循的原则为：就近原则<br>首先在局部范围找，有就使用；接着在成员位置找。</p><ol start="2"><li><p>在Java中定义一个不做事且没有参数的构造方法的作用<br>Java程序在执行子类的构造方法之前，如果没有用super()来调用父类特定的构造方法，则会调用父类中“没有参数的构造方法”。因此，如果父类中只定义了有参数的构造方法，而在子类的构造方法中又没有用super()来调用父类中特定的构造方法，则编译时将发生错误，因为Java程序在父类中找不到没有参数的构造方法可供执行。解决办法是在父类里加上一个不做事且没有参数的构造方法。</p></li><li><p>在调用子类构造方法之前会先调用父类没有参数的构造方法，其目的是？<br>帮助子类做初始化工作。</p></li><li><p>一个类的构造方法的作用是什么？若一个类没有声明构造方法，改程序能正确执行吗？为什么？<br>主要作用是完成对类对象的初始化工作。可以执行。因为一个类即使没有声明构造方法也会有默认的不带参数的构造方法。</p></li><li><p>构造方法有哪些特性？<br>名字与类名相同；</p></li></ol><p>没有返回值，但不能用void声明构造函数；</p><p>生成类的对象时自动执行，无需调用。</p><ol start="6"><li>静态变量和实例变量区别<br>静态变量： 静态变量由于不属于任何实例对象，属于类的，所以在内存中只会有一份，在类的加载过程中，JVM只为静态变量分配一次内存空间。</li></ol><p>实例变量： 每次创建对象，都会为每个对象分配成员变量内存空间，实例变量是属于实例对象的，在内存中，创建几次对象，就有几份成员变量。</p><ol start="7"><li>静态变量与普通变量区别<br>static变量也称作静态变量，静态变量和非静态变量的区别是：静态变量被所有的对象所共享，在内存中只有一个副本，它当且仅当在类初次加载时会被初始化。而非静态变量是对象所拥有的，在创建对象的时候被初始化，存在多个副本，各个对象拥有的副本互不影响。</li></ol><p>还有一点就是static成员变量的初始化顺序按照定义的顺序进行初始化。</p><ol start="8"><li>静态方法和实例方法有何不同？<br>静态方法和实例方法的区别主要体现在两个方面：</li></ol><p>在外部调用静态方法时，可以使用”类名.方法名”的方式，也可以使用”对象名.方法名”的方式。而实例方法只有后面这种方式。也就是说，调用静态方法可以无需创建对象。<br>静态方法在访问本类的成员时，只允许访问静态成员（即静态成员变量和静态方法），而不允许访问实例成员变量和实例方法；实例方法则无此限制</p><ol start="9"><li><p>在一个静态方法内调用一个非静态成员为什么是非法的？<br>由于静态方法可以不通过对象进行调用，因此在静态方法里，不能调用其他非静态变量，也不可以访问非静态变量成员。</p></li><li><p>什么是方法的返回值？返回值的作用是什么？<br>方法的返回值是指我们获取到的某个方法体中的代码执行后产生的结果！（前提是该方法可能产生结果）。返回值的作用:接收出结果，使得它可以用于其他的操作！</p></li></ol><h3 id="5、内部类"><a href="#5、内部类" class="headerlink" title="5、内部类"></a>5、内部类</h3><ol><li><p>什么是内部类？<br>在Java中，可以将一个类的定义放在另外一个类的定义内部，这就是内部类。内部类本身就是类的一个属性，与其他属性定义方式一致。</p></li><li><p>内部类的分类有哪些<br>内部类可以分为四种：成员内部类、局部内部类、匿名内部类和静态内部类。</p></li></ol><p>静态内部类</p><p>定义在类内部的静态类，就是静态内部类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">radius</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>     <br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticInner</span> &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">visit</span><span class="hljs-params">()</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;visit outer static  variable:&quot;</span> + radius);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>静态内部类可以访问外部类所有的静态变量，而不可访问外部类的非静态变量；静态内部类的创建方式，new 外部类.静态内部类()，如下：</p><p>Outer.StaticInner inner &#x3D; new Outer.StaticInner();<br>inner.visit();<br>成员内部类</p><p>定义在类内部，成员位置上的非静态类，就是成员内部类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-type">int</span> <span class="hljs-variable">radius</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span><span class="hljs-number">2</span>;<br>    <br>     <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">visit</span><span class="hljs-params">()</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;visit outer static  variable:&quot;</span> + radius);<br>            System.out.println(<span class="hljs-string">&quot;visit outer   variable:&quot;</span> + count);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>成员内部类可以访问外部类所有的变量和方法，包括静态和非静态，私有和公有。成员内部类依赖于外部类的实例，它的创建方式外部类实例.new 内部类()，如下：</p><p>Outer outer &#x3D; new Outer();<br>Outer.Inner inner &#x3D; outer.new Inner();<br>inner.visit();<br>局部内部类</p><p>定义在方法中的内部类，就是局部内部类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br><br>    <span class="hljs-keyword">private</span>  <span class="hljs-type">int</span> <span class="hljs-variable">out_a</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">STATIC_b</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br>     <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testFunctionClass</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">inner_c</span> <span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span>&#123;<br>                System.out.println(out_a);<br>                System.out.println(STATIC_b);<br>                System.out.println(inner_c);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">Inner</span>  <span class="hljs-variable">inner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>        inner.fun();<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStaticFunctionClass</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span><span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>            <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fun</span><span class="hljs-params">()</span>&#123;<br>                <span class="hljs-comment">// System.out.println(out_a); 编译错误，定义在静态方法中的局部类不可以访问外部类的实例变量</span><br>                System.out.println(STATIC_b);<br>                System.out.println(d);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">Inner</span>  <span class="hljs-variable">inner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>        inner.fun();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>定义在实例方法中的局部类可以访问外部类的所有变量和方法，定义在静态方法中的局部类只能访问外部类的静态变量和方法。局部内部类的创建方式，在对应方法内，new 内部类()，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStaticFunctionClass</span><span class="hljs-params">()</span>&#123;<br>   <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>   &#125;<br>   <span class="hljs-type">Inner</span>  <span class="hljs-variable">inner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>匿名内部类</p><p>匿名内部类就是没有名字的内部类，日常开发中使用的比较多。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">(<span class="hljs-keyword">final</span> <span class="hljs-type">int</span> i)</span> &#123;<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Service</span>() &#123;<br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; i; j++) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;匿名内部类&quot;</span> );<br>                &#125;<br>            &#125;<br>        &#125;.method();<br>    &#125;<br> &#125;<br> <span class="hljs-comment">//匿名内部类必须继承或实现一个已有的接口 </span><br> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Service</span>&#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>除了没有名字，匿名内部类还有以下特点：</p><p>匿名内部类必须继承一个抽象类或者实现一个接口。<br>匿名内部类不能定义任何静态成员和静态方法。<br>当所在的方法的形参需要被匿名内部类使用时，必须声明为 final。<br>匿名内部类不能是抽象的，它必须要实现继承的类或者实现的接口的所有抽象方法。<br>匿名内部类创建方式：</p><p>new 类&#x2F;接口{<br>  &#x2F;&#x2F;匿名内部类实现部分<br>}<br>3. 内部类的优点<br>我们为什么要使用内部类呢？因为它有以下优点：</p><p>一个内部类对象可以访问创建它的外部类对象的内容，包括私有数据！<br>内部类不为同一包的其他类所见，具有很好的封装性；<br>内部类有效实现了“多重继承”，优化 java 单继承的缺陷。<br>匿名内部类可以很方便的定义回调。<br>4. 内部类有哪些应用场景<br>一些多算法场合<br>解决一些非面向对象的语句块。<br>适当使用内部类，使得代码更加灵活和富有扩展性。<br>当某个类除了它的外部类，不再被其他的类使用时。<br>5. 局部内部类和匿名内部类访问局部变量的时候，为什么变量必须要加上final？<br>局部内部类和匿名内部类访问局部变量的时候，为什么变量必须要加上final呢？它内部原理是什么呢？</p><p>先看这段代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">outMethod</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span><span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>            <span class="hljs-keyword">void</span> <span class="hljs-title function_">innerMethod</span><span class="hljs-params">()</span>&#123;<br>                System.out.println(a);<br>            &#125;<br>     <br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>以上例子，为什么要加final呢？是因为生命周期不一致， 局部变量直接存储在栈中，当方法执行结束后，非final的局部变量就被销毁。而局部内部类对局部变量的引用依然存在，如果局部内部类要调用局部变量时，就会出错。加了final，可以确保局部内部类使用的变量与外层的局部变量区分开，解决了这个问题。</p><ol start="6"><li>内部类相关，看程序说出运行结果<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span> &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">13</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">print</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">14</span>;<br>            System.out.println(<span class="hljs-string">&quot;局部变量：&quot;</span> + age);<br>            System.out.println(<span class="hljs-string">&quot;内部类变量：&quot;</span> + <span class="hljs-built_in">this</span>.age);<br>            System.out.println(<span class="hljs-string">&quot;外部类变量：&quot;</span> + Outer.<span class="hljs-built_in">this</span>.age);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Outer.<span class="hljs-type">Inner</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Outer</span>().<span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>        in.print();<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>运行结果：</li></ol><p>局部变量：14<br>内部类变量：13<br>外部类变量：12</p><h3 id="6、重写与重载"><a href="#6、重写与重载" class="headerlink" title="6、重写与重载"></a>6、重写与重载</h3><ol><li><p>构造器（constructor）是否可被重写（override）<br>构造器不能被继承，因此不能被重写，但可以被重载。</p></li><li><p>重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？<br>方法的重载和重写都是实现多态的方式，区别在于前者实现的是编译时的多态性，而后者实现的是运行时的多态性。</p></li></ol><p>重载：发生在同一个类中，方法名相同参数列表不同（参数类型不同、个数不同、顺序不同），与方法返回值和访问修饰符无关，即重载的方法不能根据返回类型进行区分</p><p>重写：发生在父子类中，方法名、参数列表必须相同，返回值小于等于父类，抛出的异常小于等于父类，访问修饰符大于等于父类（里氏代换原则）；如果父类方法访问修饰符为private则子类中就不是重写。</p><h3 id="7、对象相等判断"><a href="#7、对象相等判断" class="headerlink" title="7、对象相等判断"></a>7、对象相等判断</h3><ol><li>&#x3D;&#x3D; 和 equals 的区别是什么<br>&#x3D;&#x3D; : 它的作用是判断两个对象的地址是不是相等。即，判断两个对象是不是同一个对象。(基本数据类型 &#x3D;&#x3D; 比较的是值，引用数据类型 &#x3D;&#x3D; 比较的是内存地址)</li></ol><p>equals() : 它的作用也是判断两个对象是否相等。但它一般有两种使用情况：</p><p>情况1：类没有覆盖 equals() 方法。则通过 equals() 比较该类的两个对象时，等价于通过“&#x3D;&#x3D;”比较这两个对象。</p><p>情况2：类覆盖了 equals() 方法。一般，我们都覆盖 equals() 方法来两个对象的内容相等；若它们的内容相等，则返回 true (即，认为这两个对象相等)。</p><p>举个例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;ab&quot;</span>); <span class="hljs-comment">// a 为一个引用</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;ab&quot;</span>); <span class="hljs-comment">// b为另一个引用,对象的内容一样</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">aa</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ab&quot;</span>; <span class="hljs-comment">// 放在常量池中</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">bb</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ab&quot;</span>; <span class="hljs-comment">// 从常量池中查找</span><br>        <span class="hljs-keyword">if</span> (aa == bb) <span class="hljs-comment">// true</span><br>            System.out.println(<span class="hljs-string">&quot;aa==bb&quot;</span>);<br>        <span class="hljs-keyword">if</span> (a == b) <span class="hljs-comment">// false，非同一对象</span><br>            System.out.println(<span class="hljs-string">&quot;a==b&quot;</span>);<br>        <span class="hljs-keyword">if</span> (a.equals(b)) <span class="hljs-comment">// true</span><br>            System.out.println(<span class="hljs-string">&quot;aEQb&quot;</span>);<br>        <span class="hljs-keyword">if</span> (<span class="hljs-number">42</span> == <span class="hljs-number">42.0</span>) &#123; <span class="hljs-comment">// true</span><br>            System.out.println(<span class="hljs-string">&quot;true&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>说明：</p><p>String中的equals方法是被重写过的，因为object的equals方法是比较的对象的内存地址，而String的equals方法比较的是对象的值。<br>当创建String类型的对象时，虚拟机会在常量池中查找有没有已经存在的值和要创建的值相同的对象，如果有就把它赋给当前引用。如果没有就在常量池中重新创建一个String对象。</p><ol start="2"><li>hashCode 与 equals (重要)<br>HashSet如何检查重复</li></ol><p>两个对象的 hashCode() 相同，则 equals() 也一定为 true，对吗？</p><p>hashCode和equals方法的关系</p><p>面试官可能会问你：“你重写过 hashcode 和 equals 么，为什么重写equals时必须重写hashCode方法？”</p><p>hashCode()介绍</p><p>hashCode() 的作用是获取哈希码，也称为散列码；它实际上是返回一个int整数。这个哈希码的作用是确定该对象在哈希表中的索引位置。hashCode() 定义在JDK的Object.java中，这就意味着Java中的任何类都包含有hashCode()函数。</p><p>散列表存储的是键值对(key-value)，它的特点是：能根据“键”快速的检索出对应的“值”。这其中就利用到了散列码！（可以快速找到所需要的对象）</p><p>为什么要有 hashCode</p><p>我们以“HashSet 如何检查重复”为例子来说明为什么要有 hashCode：</p><p>当你把对象加入 HashSet 时，HashSet 会先计算对象的 hashcode 值来判断对象加入的位置，同时也会与其他已经加入的对象的 hashcode 值作比较，如果没有相符的hashcode，HashSet会假设对象没有重复出现。但是如果发现有相同 hashcode 值的对象，这时会调用 equals()方法来检查 hashcode 相等的对象是否真的相同。如果两者相同，HashSet 就不会让其加入操作成功。如果不同的话，就会重新散列到其他位置。（摘自我的Java启蒙书《Head first java》第二版）。这样我们就大大减少了 equals 的次数，相应就大大提高了执行速度。</p><p>hashCode()与equals()的相关规定</p><p>如果两个对象相等，则hashcode一定也是相同的</p><p>两个对象相等，对两个对象分别调用equals方法都返回true</p><p>两个对象有相同的hashcode值，它们也不一定是相等的</p><p>因此，equals 方法被覆盖过，则 hashCode 方法也必须被覆盖</p><p>hashCode() 的默认行为是对堆上的对象产生独特值。如果没有重写 hashCode()，则该 class 的两个对象无论如何都不会相等（即使这两个对象指向相同的数据）</p><h3 id="8、值传递"><a href="#8、值传递" class="headerlink" title="8、值传递"></a>8、值传递</h3><ol><li><p>当一个对象被当作参数传递到一个方法后，此方法可改变这个对象的属性，并可返回变化后的结果，那么这里到底是值传递还是引用传递<br>是值传递。Java 语言的方法调用只支持参数的值传递。当一个对象实例作为一个参数被传递到方法中时，参数的值就是对该对象的引用。对象的属性可以在被调用过程中被改变，但对对象引用的改变是不会影响到调用者的</p></li><li><p>为什么 Java 中只有值传递<br>首先回顾一下在程序设计语言中有关将参数传递给方法（或函数）的一些专业术语。按值调用(call by value)表示方法接收的是调用者提供的值，而按引用调用（call by reference)表示方法接收的是调用者提供的变量地址。一个方法可以修改传递引用所对应的变量值，而不能修改传递值调用所对应的变量值。 它用来描述各种程序设计语言（不只是Java)中方法参数传递方式。</p></li></ol><p>Java程序设计语言总是采用按值调用。也就是说，方法得到的是所有参数值的一个拷贝，也就是说，方法不能修改传递给它的任何参数变量的内容。</p><p>下面通过 3 个例子来给大家说明</p><p>example 1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><br>    swap(num1, num2);<br>     <br>    System.out.println(<span class="hljs-string">&quot;num1 = &quot;</span> + num1);<br>    System.out.println(<span class="hljs-string">&quot;num2 = &quot;</span> + num2);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> a;<br>    a = b;<br>    b = temp;<br><br>    System.out.println(<span class="hljs-string">&quot;a = &quot;</span> + a);<br>    System.out.println(<span class="hljs-string">&quot;b = &quot;</span> + b);<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><p>a &#x3D; 20<br>b &#x3D; 10<br>num1 &#x3D; 10<br>num2 &#x3D; 20<br>解析：</p><p>在swap方法中，a、b的值进行交换，并不会影响到 num1、num2。因为，a、b中的值，只是从 num1、num2 的复制过来的。也就是说，a、b相当于num1、num2 的副本，副本的内容无论怎么修改，都不会影响到原件本身。</p><p>通过上面例子，我们已经知道了一个方法不能修改一个基本数据类型的参数，而对象引用作为参数就不一样，请看 example2.</p><p>example 2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">int</span>[] arr = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<br>    System.out.println(arr[<span class="hljs-number">0</span>]);<br>    change(arr);<br>    System.out.println(arr[<span class="hljs-number">0</span>]);<br>&#125;<br> <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">change</span><span class="hljs-params">(<span class="hljs-type">int</span>[] array)</span> &#123;<br>    <span class="hljs-comment">// 将数组的第一个元素变为0</span><br>    array[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><p>1<br>0<br>解析：</p><p>array 被初始化 arr 的拷贝也就是一个对象的引用，也就是说 array 和 arr 指向的时同一个数组对象。 因此，外部对引用对象的改变会反映到所对应的对象上。</p><p>通过 example2 我们已经看到，实现一个改变对象参数状态的方法并不是一件难事。理由很简单，方法得到的是对象引用的拷贝，对象引用及其他的拷贝同时引用同一个对象。</p><p>很多程序设计语言（特别是，C++和Pascal)提供了两种参数传递的方式：值调用和引用调用。有些程序员（甚至本书的作者）认为Java程序设计语言对对象采用的是引用调用，实际上，这种理解是不对的。由于这种误解具有一定的普遍性，所以下面给出一个反例来详细地阐述一下这个问题。</p><p>example 3</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// TODO Auto-generated method stub</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;小张&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;小李&quot;</span>);<br>        Test.swap(s1, s2);<br>        System.out.println(<span class="hljs-string">&quot;s1:&quot;</span> + s1.getName());<br>        System.out.println(<span class="hljs-string">&quot;s2:&quot;</span> + s2.getName());<br>    &#125;<br>     <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(Student x, Student y)</span> &#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> x;<br>        x = y;<br>        y = temp;<br>        System.out.println(<span class="hljs-string">&quot;x:&quot;</span> + x.getName());<br>        System.out.println(<span class="hljs-string">&quot;y:&quot;</span> + y.getName());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>结果：</p><p>x:小李<br>y:小张<br>s1:小张<br>s2:小李<br>解析：</p><p>交换之前：</p><p>交换之后：</p><p>通过上面两张图可以很清晰的看出： 方法并没有改变存储在变量 s1 和 s2 中的对象引用。swap方法的参数x和y被初始化为两个对象引用的拷贝，这个方法交换的是这两个拷贝</p><p>总结</p><p>Java程序设计语言对对象采用的不是引用调用，实际上，对象引用是按值传递的。</p><p>下面再总结一下Java中方法参数的使用情况：</p><p>一个方法不能修改一个基本数据类型的参数（即数值型或布尔型》<br>一个方法可以改变一个对象参数的状态。<br>一个方法不能让对象参数引用一个新的对象。<br>3. 值传递和引用传递有什么区别<br>值传递：指的是在方法调用时，传递的参数是按值的拷贝传递，传递的是值的拷贝，也就是说传递后就互不相关了。</p><p>引用传递：指的是在方法调用时，传递的参数是按引用进行传递，其实传递的引用的地址，也就是变量所对应的内存空间的地址。传递的是值的引用，也就是说传递前和传递后都指向同一个引用（也就是同一个内存空间）。</p><h3 id="9、Java包"><a href="#9、Java包" class="headerlink" title="9、Java包"></a>9、Java包</h3><ol><li>JDK 中常用的包有哪些<br>java.lang：这个是系统的基础类；<br>java.io：这里面是所有输入输出有关的类，比如文件操作等；<br>java.nio：为了完善 io 包中的功能，提高 io 包中性能而写的一个新包；<br>java.net：这里面是与网络有关的类；<br>java.util：这个是系统辅助类，特别是集合类；<br>java.sql：这个是数据库操作的类。</li><li>import java和javax有什么区别<br>刚开始的时候 JavaAPI 所必需的包是 java 开头的包，javax 当时只是扩展 API 包来说使用。然而随着时间的推移，javax 逐渐的扩展成为 Java API 的组成部分。但是，将扩展从 javax 包移动到 java 包将是太麻烦了，最终会破坏一堆现有的代码。因此，最终决定 javax 包将成为标准API的一部分。</li></ol><p>所以，实际上java和javax没有区别。这都是一个名字。</p><h2 id="四、IO流"><a href="#四、IO流" class="headerlink" title="四、IO流"></a>四、IO流</h2><h3 id="1、java-中-IO-流分为几种"><a href="#1、java-中-IO-流分为几种" class="headerlink" title="1、java 中 IO 流分为几种?"></a>1、java 中 IO 流分为几种?</h3><p>按照流的流向分，可以分为输入流和输出流；<br>按照操作单元划分，可以划分为字节流和字符流；<br>按照流的角色划分为节点流和处理流。<br>Java Io流共涉及40多个类，这些类看上去很杂乱，但实际上很有规则，而且彼此之间存在非常紧密的联系， Java I0流的40多个类都是从如下4个抽象类基类中派生出来的。</p><p>InputStream&#x2F;Reader: 所有的输入流的基类，前者是字节输入流，后者是字符输入流。<br>OutputStream&#x2F;Writer: 所有输出流的基类，前者是字节输出流，后者是字符输出流。<br>按操作方式分类结构图：</p><p>按操作对象分类结构图：</p><h3 id="2、BIO-NIO-AIO-有什么区别"><a href="#2、BIO-NIO-AIO-有什么区别" class="headerlink" title="2、BIO,NIO,AIO 有什么区别?"></a>2、BIO,NIO,AIO 有什么区别?</h3><p>简答<br>BIO：Block IO 同步阻塞式 IO，就是我们平常使用的传统 IO，它的特点是模式简单使用方便，并发处理能力低。<br>NIO：Non IO 同步非阻塞 IO，是传统 IO 的升级，客户端和服务器端通过 Channel（通道）通讯，实现了多路复用。<br>AIO：Asynchronous IO 是 NIO 的升级，也叫 NIO2，实现了异步非堵塞 IO ，异步 IO 的操作基于事件和回调机制。<br>详细回答<br>BIO (Blocking I&#x2F;O): 同步阻塞I&#x2F;O模式，数据的读取写入必须阻塞在一个线程内等待其完成。在活动连接数不是特别高（小于单机1000）的情况下，这种模型是比较不错的，可以让每一个连接专注于自己的 I&#x2F;O 并且编程模型简单，也不用过多考虑系统的过载、限流等问题。线程池本身就是一个天然的漏斗，可以缓冲一些系统处理不了的连接或请求。但是，当面对十万甚至百万级连接的时候，传统的 BIO 模型是无能为力的。因此，我们需要一种更高效的 I&#x2F;O 处理模型来应对更高的并发量。<br>NIO (New I&#x2F;O): NIO是一种同步非阻塞的I&#x2F;O模型，在Java 1.4 中引入了NIO框架，对应 java.nio 包，提供了 Channel , Selector，Buffer等抽象。NIO中的N可以理解为Non-blocking，不单纯是New。它支持面向缓冲的，基于通道的I&#x2F;O操作方法。 NIO提供了与传统BIO模型中的 Socket 和 ServerSocket 相对应的 SocketChannel 和 ServerSocketChannel 两种不同的套接字通道实现,两种通道都支持阻塞和非阻塞两种模式。阻塞模式使用就像传统中的支持一样，比较简单，但是性能和可靠性都不好；非阻塞模式正好与之相反。对于低负载、低并发的应用程序，可以使用同步阻塞I&#x2F;O来提升开发速率和更好的维护性；对于高负载、高并发的（网络）应用，应使用 NIO 的非阻塞模式来开发<br>AIO (Asynchronous I&#x2F;O): AIO 也就是 NIO 2。在 Java 7 中引入了 NIO 的改进版 NIO 2,它是异步非阻塞的IO模型。异步 IO 是基于事件和回调机制实现的，也就是应用操作之后会直接返回，不会堵塞在那里，当后台处理完成，操作系统会通知相应的线程进行后续的操作。AIO 是异步IO的缩写，虽然 NIO 在网络操作中，提供了非阻塞的方法，但是 NIO 的 IO 行为还是同步的。对于 NIO 来说，我们的业务线程是在 IO 操作准备好时，得到通知，接着就由这个线程自行进行 IO 操作，IO操作本身是同步的。查阅网上相关资料，我发现就目前来说 AIO 的应用还不是很广泛，Netty 之前也尝试使用过 AIO，不过又放弃了。<br>3、Files的常用方法都有哪些？<br>Files. exists()：检测文件路径是否存在。<br>Files. createFile()：创建文件。<br>Files. createDirectory()：创建文件夹。<br>Files. delete()：删除一个文件或目录。<br>Files. copy()：复制文件。<br>Files. move()：移动文件。<br>Files. size()：查看文件个数。<br>Files. read()：读取文件。<br>Files. write()：写入文件。</p><h2 id="五、反射"><a href="#五、反射" class="headerlink" title="五、反射"></a>五、反射</h2><h3 id="1、什么是反射机制？"><a href="#1、什么是反射机制？" class="headerlink" title="1、什么是反射机制？"></a>1、什么是反射机制？</h3><p>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。</p><p>静态编译和动态编译</p><p>静态编译：在编译时确定类型，绑定对象<br>动态编译：运行时确定类型，绑定对象</p><h3 id="2、反射机制优缺点"><a href="#2、反射机制优缺点" class="headerlink" title="2、反射机制优缺点"></a>2、反射机制优缺点</h3><p>优点： 运行期类型的判断，动态加载类，提高代码灵活度。<br>缺点： 性能瓶颈：反射相当于一系列解释操作，通知 JVM 要做的事情，性能比直接的java代码要慢很多。</p><h3 id="3、-反射机制的应用场景有哪些？"><a href="#3、-反射机制的应用场景有哪些？" class="headerlink" title="3、 反射机制的应用场景有哪些？"></a>3、 反射机制的应用场景有哪些？</h3><p>反射是框架设计的灵魂。</p><p>在我们平时的项目开发过程中，基本上很少会直接使用到反射机制，但这不能说明反射机制没有用，实际上有很多设计、开发都与反射机制有关，例如模块化的开发，通过反射去调用对应的字节码；动态代理设计模式也采用了反射机制，还有我们日常使用的 Spring／Hibernate 等框架也大量使用到了反射机制。</p><p>举例：①我们在使用JDBC连接数据库时使用Class.forName()通过反射加载数据库的驱动程序；②Spring框架也用到很多反射机制，最经典的就是xml的配置模式。Spring 通过 XML 配置模式装载 Bean 的过程：1) 将程序内所有 XML 或 Properties 配置文件加载入内存中; 2)Java类里面解析xml或properties里面的内容，得到对应实体类的字节码字符串以及相关的属性信息; 3)使用反射机制，根据这个字符串获得某个类的Class实例; 4)动态配置实例的属性</p><h3 id="4、Java获取反射的三种方法"><a href="#4、Java获取反射的三种方法" class="headerlink" title="4、Java获取反射的三种方法"></a>4、Java获取反射的三种方法</h3><p>1.通过new对象实现反射机制</p><p>2.通过路径实现反射机制</p><p>3.通过类名实现反射机制</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    String name;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> sex;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> score;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Get</span> &#123;<br>    <span class="hljs-comment">//获取反射机制三种方式</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-comment">//方式一(通过建立对象)</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">stu</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">classobj1</span> <span class="hljs-operator">=</span> stu.getClass();<br>        System.out.println(classobj1.getName());<br>        <span class="hljs-comment">//方式二（所在通过路径-相对路径）</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">classobj2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;fanshe.Student&quot;</span>);<br>        System.out.println(classobj2.getName());<br>        <span class="hljs-comment">//方式三（通过类名）</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">classobj3</span> <span class="hljs-operator">=</span> Student.class;<br>        System.out.println(classobj3.getName());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="六、网络编程"><a href="#六、网络编程" class="headerlink" title="六、网络编程"></a>六、网络编程</h2><p>网络编程的可以查看这篇文章：<a href="https://thinkwon.blog.csdn.net/article/details/104390612">https://thinkwon.blog.csdn.net/article/details/104390612</a></p><p>内容不仅包括TCP&#x2F;IP协议和三次握手四次挥手的知识，还包括计算机网络体系结构，HTTP协议，get请求和post请求区别，session和cookie的区别等，欢迎大家阅读。</p><h2 id="七、常用API"><a href="#七、常用API" class="headerlink" title="七、常用API"></a>七、常用API</h2><h3 id="1、String相关"><a href="#1、String相关" class="headerlink" title="1、String相关"></a>1、String相关</h3><ol><li><p>字符型常量和字符串常量的区别<br>形式上: 字符常量是单引号引起的一个字符 字符串常量是双引号引起的若干个字符<br>含义上: 字符常量相当于一个整形值(ASCII值),可以参加表达式运算 字符串常量代表一个地址值(该字符串在内存中存放位置)<br>占内存大小：字符常量只占一个字节 字符串常量占若干个字节(至少一个字符结束标志)</p></li><li><p>什么是字符串常量池？<br>字符串常量池位于堆内存中，专门用来存储字符串常量，可以提高内存的使用率，避免开辟多块空间存储相同的字符串，在创建字符串时 JVM 会首先检查字符串常量池，如果该字符串已经存在池中，则返回它的引用，如果不存在，则实例化一个字符串放到池中，并返回其引用。</p></li><li><p>String 是最基本的数据类型吗？<br>不是。Java 中的基本数据类型只有 8 个 ：byte、short、int、long、float、double、char、boolean；除了基本类型（primitive type），剩下的都是引用类型（referencetype），Java 5 以后引入的枚举类型也算是一种比较特殊的引用类型。</p></li></ol><p>这是很基础的东西，但是很多初学者却容易忽视，Java 的 8 种基本数据类型中不包括 String，基本数据类型中用来描述文本数据的是 char，但是它只能表示单个字符，比如 ‘a’,‘好’ 之类的，如果要描述一段文本，就需要用多个 char 类型的变量，也就是一个 char 类型数组，比如“你好” 就是长度为2的数组 char[] chars &#x3D; {‘你’,‘好’};</p><p>但是使用数组过于麻烦，所以就有了 String，String 底层就是一个 char 类型的数组，只是使用的时候开发者不需要直接操作底层数组，用更加简便的方式即可完成对字符串的使用。</p><ol start="4"><li>String有哪些特性<br>不变性：String 是只读字符串，是一个典型的 immutable 对象，对它进行任何操作，其实都是创建一个新的对象，再把引用指向该对象。不变模式的主要作用在于当一个对象需要被多线程共享并频繁访问时，可以保证数据的一致性。</li></ol><p>常量池优化：String 对象创建之后，会在字符串常量池中进行缓存，如果下次创建同样的对象时，会直接返回缓存的引用。</p><p>final：使用 final 来定义 String 类，表示 String 类不能被继承，提高了系统的安全性。</p><ol start="5"><li>String为什么是不可变的吗？<br>简单来说就是String类利用了final修饰的char类型数组存储字符，源码如下图所以：</li></ol><p>&#x2F;** The value is used for character storage. *&#x2F;<br>private final char value[];<br>6. String真的是不可变的吗？<br>我觉得如果别人问这个问题的话，回答不可变就可以了。 下面只是给大家看两个有代表性的例子：</p><ol><li>String不可变但不代表引用不可以变</li></ol><p>String str &#x3D; “Hello”;<br>str &#x3D; str + “ World”;<br>System.out.println(“str&#x3D;” + str);<br>结果：</p><p>str&#x3D;Hello World<br>解析：</p><p>实际上，原来String的内容是不变的，只是str由原来指向”Hello”的内存地址转为指向”Hello World”的内存地址而已，也就是说多开辟了一块内存区域给”Hello World”字符串。</p><ol start="2"><li>通过反射是可以修改所谓的“不可变”对象</li></ol><p>&#x2F;&#x2F; 创建字符串”Hello World”， 并赋给引用s<br>String s &#x3D; “Hello World”;</p><p>System.out.println(“s &#x3D; “ + s); &#x2F;&#x2F; Hello World</p><p>&#x2F;&#x2F; 获取String类中的value字段<br>Field valueFieldOfString &#x3D; String.class.getDeclaredField(“value”);</p><p>&#x2F;&#x2F; 改变value属性的访问权限<br>valueFieldOfString.setAccessible(true);</p><p>&#x2F;&#x2F; 获取s对象上的value属性的值<br>char[] value &#x3D; (char[]) valueFieldOfString.get(s);</p><p>&#x2F;&#x2F; 改变value所引用的数组中的第5个字符<br>value[5] &#x3D; ‘_’;</p><p>System.out.println(“s &#x3D; “ + s); &#x2F;&#x2F; Hello_World</p><p>结果：</p><p>s &#x3D; Hello World<br>s &#x3D; Hello_World<br>解析：</p><p>用反射可以访问私有成员， 然后反射出String对象中的value属性， 进而改变通过获得的value引用改变数组的结构。但是一般我们不会这么做，这里只是简单提一下有这个东西。</p><ol start="7"><li><p>是否可以继承 String 类<br>String 类是 final 类，不可以被继承。</p></li><li><p>String str&#x3D;”i”与 String str&#x3D;new String(“i”)一样吗？<br>不一样，因为内存的分配方式不一样。String str&#x3D;”i”的方式，java 虚拟机会将其分配到常量池中；而 String str&#x3D;new String(“i”) 则会被分到堆内存中。</p></li><li><p>String s &#x3D; new String(“xyz”);创建了几个字符串对象<br>两个对象，一个是静态区的”xyz”，一个是用new创建在堆上的对象。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>; <span class="hljs-comment">//str1指向静态区</span><br><span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>);  <span class="hljs-comment">//str2指向堆上的对象</span><br><span class="hljs-type">String</span> <span class="hljs-variable">str3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">str4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br>System.out.println(str1.equals(str2)); <span class="hljs-comment">//true</span><br>System.out.println(str2.equals(str4)); <span class="hljs-comment">//true</span><br>System.out.println(str1 == str3); <span class="hljs-comment">//true</span><br>System.out.println(str1 == str2); <span class="hljs-comment">//false</span><br>System.out.println(str2 == str4); <span class="hljs-comment">//false</span><br>System.out.println(str2 == <span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//false</span><br>str2 = str1;<br>System.out.println(str2 == <span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure></li><li><p>如何将字符串反转？<br>使用 StringBuilder 或者 stringBuffer 的 reverse() 方法。</p></li></ol><p>示例代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// StringBuffer reverse</span><br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">stringBuffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br>stringBuffer. append(<span class="hljs-string">&quot;abcdefg&quot;</span>);<br>System. out. println(stringBuffer. reverse()); <span class="hljs-comment">// gfedcba</span><br><span class="hljs-comment">// StringBuilder reverse</span><br><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">stringBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>stringBuilder. append(<span class="hljs-string">&quot;abcdefg&quot;</span>);<br>System. out. println(stringBuilder. reverse()); <span class="hljs-comment">// gfedcba</span><br></code></pre></td></tr></table></figure><ol start="11"><li><p>数组有没有 length()方法？String 有没有 length()方法<br>数组没有 length()方法 ，有 length 的属性。String 有 length()方法。JavaScript中，获得字符串的长度是通过 length 属性得到的，这一点容易和 Java 混淆。</p></li><li><p>String 类的常用方法都有那些？<br>indexOf()：返回指定字符的索引。<br>charAt()：返回指定索引处的字符。<br>replace()：字符串替换。<br>trim()：去除字符串两端空白。<br>split()：分割字符串，返回一个分割后的字符串数组。<br>getBytes()：返回字符串的 byte 类型数组。<br>length()：返回字符串长度。<br>toLowerCase()：将字符串转成小写字母。<br>toUpperCase()：将字符串转成大写字符。<br>substring()：截取字符串。<br>equals()：字符串比较。</p></li><li><p>在使用 HashMap 的时候，用 String 做 key 有什么好处？<br>HashMap 内部实现是通过 key 的 hashcode 来确定 value 的存储位置，因为字符串是不可变的，所以当创建字符串时，它的 hashcode 被缓存下来，不需要再次计算，所以相比于其他对象更快。</p></li><li><p>String和StringBuffer、StringBuilder的区别是什么？String为什么是不可变的<br>可变性</p></li></ol><p>String类中使用字符数组保存字符串，private　final　char　value[]，所以string对象是不可变的。StringBuilder与StringBuffer都继承自AbstractStringBuilder类，在AbstractStringBuilder中也是使用字符数组保存字符串，char[] value，这两种对象都是可变的。</p><p>线程安全性</p><p>String中的对象是不可变的，也就可以理解为常量，线程安全。AbstractStringBuilder是StringBuilder与StringBuffer的公共父类，定义了一些字符串的基本操作，如expandCapacity、append、insert、indexOf等公共方法。StringBuffer对方法加了同步锁或者对调用的方法加了同步锁，所以是线程安全的。StringBuilder并没有对方法进行加同步锁，所以是非线程安全的。</p><p>性能</p><p>每次对String 类型进行改变的时候，都会生成一个新的String对象，然后将指针指向新的String 对象。StringBuffer每次都会对StringBuffer对象本身进行操作，而不是生成新的对象并改变对象引用。相同情况下使用StirngBuilder 相比使用StringBuffer 仅能获得10%~15% 左右的性能提升，但却要冒多线程不安全的风险。</p><p>对于三者使用的总结</p><p>如果要操作少量的数据用 &#x3D; String</p><p>单线程操作字符串缓冲区 下操作大量数据 &#x3D; StringBuilder</p><p>多线程操作字符串缓冲区 下操作大量数据 &#x3D; StringBuffer</p><h3 id="2、Date相关"><a href="#2、Date相关" class="headerlink" title="2、Date相关"></a>2、Date相关</h3><h3 id="3、包装类相关"><a href="#3、包装类相关" class="headerlink" title="3、包装类相关"></a>3、包装类相关</h3><ol><li>自动装箱与拆箱<br>装箱：将基本类型用它们对应的引用类型包装起来；</li></ol><p>拆箱：将包装类型转换为基本数据类型；</p><ol start="2"><li>int 和 Integer 有什么区别<br>Java 是一个近乎纯洁的面向对象编程语言，但是为了编程的方便还是引入了基本数据类型，但是为了能够将这些基本数据类型当成对象操作，Java 为每一个基本数据类型都引入了对应的包装类型（wrapper class），int 的包装类就是 Integer，从 Java 5 开始引入了自动装箱&#x2F;拆箱机制，使得二者可以相互转换。</li></ol><p>Java 为每个原始类型提供了包装类型：</p><p>原始类型: boolean，char，byte，short，int，long，float，double</p><p>包装类型：Boolean，Character，Byte，Short，Integer，Long，Float，Double</p><ol start="3"><li>Integer a&#x3D; 127 与 Integer b &#x3D; 127相等吗？<br>对于对象引用类型：&#x3D;&#x3D;比较的是对象的内存地址。<br>对于基本数据类型：&#x3D;&#x3D;比较的是值。</li></ol><p>如果整型字面量的值在-128到127之间，那么自动装箱时不会new新的Integer对象，而是直接引用常量池中的Integer对象，超过范围 a1&#x3D;&#x3D;b1的结果是false</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">3</span>);<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;  <span class="hljs-comment">// 将3自动装箱成Integer类型</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br>    System.out.println(a == b); <span class="hljs-comment">// false 两个引用没有引用同一对象</span><br>    System.out.println(a == c); <span class="hljs-comment">// true a自动拆箱成int类型再和c比较</span><br>    System.out.println(b == c); <span class="hljs-comment">// true</span><br><br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">a1</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>;<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">b1</span> <span class="hljs-operator">=</span> <span class="hljs-number">128</span>;<br>    System.out.println(a1 == b1); <span class="hljs-comment">// false</span><br>     <br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">a2</span> <span class="hljs-operator">=</span> <span class="hljs-number">127</span>;<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">b2</span> <span class="hljs-operator">=</span> <span class="hljs-number">127</span>;<br>    System.out.println(a2 == b2); <span class="hljs-comment">// true</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="八、常用工具类库"><a href="#八、常用工具类库" class="headerlink" title="八、常用工具类库"></a>八、常用工具类库</h2><h2 id="九、单元测试"><a href="#九、单元测试" class="headerlink" title="九、单元测试"></a>九、单元测试</h2><h2 id="十、日志"><a href="#十、日志" class="headerlink" title="十、日志"></a>十、日志</h2><p>Java基础知识点总结归纳，超级全面！（2021版）到这里就要跟大家说再见了，本文会不断更新完善，希望老铁们多多关注哦~</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>面试</tag>
      
      <tag>基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Minecraft Carpet Mod 命令使用教程</title>
    <link href="/2022/04/23/minecraft/Minecraft%20Carpet%20Mod%20%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
    <url>/2022/04/23/minecraft/Minecraft%20Carpet%20Mod%20%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Minecraft-Carpet-Mod-命令使用教程"><a href="#Minecraft-Carpet-Mod-命令使用教程" class="headerlink" title="Minecraft Carpet Mod 命令使用教程"></a>Minecraft Carpet Mod 命令使用教程</h1><p><a href="https://www.bilibili.com/read/game#rid=6?from=articleDetail">单机游戏 </a>2020-05-06 23:351.6万阅读 · 203喜欢 · 28评论</p><p><a href="https://space.bilibili.com/7514269"><img src="https://i1.hdslb.com/bfs/face/c99358d2c0d25c158090f3bb0fe63cf51b0c1a4b.jpg@96w_96h_1c_1s.webp" alt="img"></a></p><p><a href="https://space.bilibili.com/7514269">worldy丶jj</a></p><p>粉丝：33   文章：2    关注</p><p>Minecraft CarpetMod command use</p><p>worldy根据<a href="https://www.bilibili.com/video/BV1hE411D7um">【MC|熟肉】Carpet Mod（1.14&#x2F;1.15）详尽教程【gnembon】</a>视频整理</p><h2 id="什么是carpet"><a href="#什么是carpet" class="headerlink" title="什么是carpet"></a>什么是carpet</h2><blockquote><p>carpet是对游戏进行了一些魔改,让你能更好的控制游戏内容,并且能更好的理解发生了什么. 移除了游戏中一些烦人的bug&#x2F;特性,提高了游戏的运行效率,在不影响游戏正常运行的情况下，提供了一些可选的游戏特性或者原版特性缺少的内容. carpet依附于fabric api</p><p>最重要的是,无论你做了什么,游戏依然完全兼容原版.如果你不需要使用这些工具也可以随时关闭,而且不产生任何副作用.</p></blockquote><ul><li>使用carpet第一次进入world 游戏特性和原版完全一致,所有特性&#x2F;bug默认都是关闭的,每个特性需要分别开启才能生效</li><li>默认开启的只有这些carpet的指令,除非你使用了他们,否则不会产生任何效果,这些指令也可以被关闭,如果你的server管理员想这样做的话</li></ul><h2 id="如何运用-carpet-指令来配置carpet-mod"><a href="#如何运用-carpet-指令来配置carpet-mod" class="headerlink" title="如何运用 carpet 指令来配置carpet mod"></a>如何运用 carpet 指令来配置carpet mod</h2><ul><li><p>想要开启某个特性,你需要使用carpet指令开启,输入<code>/carpet &lt;特性名&gt; &lt;设定值&gt;</code>会暂时改变相应的特性直到重启服务器&#x2F;重新进入世界</p><blockquote><p>(后续本文中将会忽略前面的斜杠”&#x2F;“)</p></blockquote></li><li><p>临时设置特性后文本框会出现一个链接,点击这个链接,他会给你一个命令,可以设置特性默认开启<code>/carpet setDefault &lt;特性名&gt; &lt;设定值&gt;</code></p></li><li><p>获取所有carpet特性只需要输入<code>/carpet</code></p><blockquote><p>不仅能获得目前激活的特性,也会获得一个可以点击的特性目录,鼠标悬停在上面,可以获得每个指令的具体作用,点击右边的值便可以设置它</p></blockquote></li><li><p><code>/carpet list default</code>显示永久性的设置,就是重启后也会保持的特性</p></li><li><p><code>/carpet removeDefault</code>可以删除默认列表中的内容,让他每次重启后都是默认原版的特性</p></li><li><p><code>/carpet list &lt;关键词&gt;</code>搜索某项特性,可以通过类别,子字符串方式搜索</p></li><li><p>carpet所有指令都是低授权等级的,所有玩家都能使用,管理员可以使用<code>/carpet setting</code>指令关闭,设置每个人的权限</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet list default<br>[09:48:05] [Server thread/INFO]: Carpet Mod Settings matching &quot;default&quot;:<br>[09:48:05] [Server thread/INFO]: - defaultLoggers [none] [tps] [mobcaps,tps]<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs shell">/carpet list<br>[09:51:31] [Server thread/INFO]: All Carpet Mod Settings:<br>[09:51:31] [Server thread/INFO]: - allowSpawningOfflinePlayers [true] [false]<br>[09:51:31] [Server thread/INFO]: - antiCheatDisabled [true] [false]<br>[09:51:31] [Server thread/INFO]: - carpetCommandPermissionLevel [ops] [2] [4]<br>[09:51:31] [Server thread/INFO]: - carpets [true] [false]<br>[09:51:31] [Server thread/INFO]: - chainStone [true] [false] [stick_to_all]<br>[09:51:31] [Server thread/INFO]: - cleanLogs [true] [false]<br>[09:51:31] [Server thread/INFO]: - commandDistance [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandDraw [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandInfo [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandLog [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandPerimeterInfo [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandPlayer [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandProfile [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandScript [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandScriptACE [ops] [0] [1] [2] [3] [4]<br>[09:51:31] [Server thread/INFO]: - commandSpawn [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandTick [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - commandTrackAI [true] [false] [ops]<br>[09:51:31] [Server thread/INFO]: - creativeFlyDrag [0.09]<br>[09:51:31] [Server thread/INFO]: - creativeFlySpeed [1.0]<br>[09:51:31] [Server thread/INFO]: - creativeNoClip [true] [false]<br>[09:51:31] [Server thread/INFO]: - creativePlayersLoadChunks [true] [false]<br>[09:51:31] [Server thread/INFO]: - ctrlQCraftingFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - customMOTD [_]<br>[09:51:31] [Server thread/INFO]: - defaultLoggers [none] [tps] [mobcaps,tps]<br>[09:51:31] [Server thread/INFO]: - desertShrubs [true] [false]<br>[09:51:31] [Server thread/INFO]: - explosionNoBlockDamage [true] [false]<br>[09:51:31] [Server thread/INFO]: - extremeBehaviours [true] [false]<br>[09:51:31] [Server thread/INFO]: - fastRedstoneDust [true] [false]<br>[09:51:31] [Server thread/INFO]: - fillLimit [32768] [250000] [1000000]<br>[09:51:31] [Server thread/INFO]: - fillUpdates [true] [false]<br>[09:51:31] [Server thread/INFO]: - flatWorldStructureSpawning [true] [false]<br>[09:51:31] [Server thread/INFO]: - flippinCactus [true] [false]<br>[09:51:31] [Server thread/INFO]: - fogOff [true] [false]<br>[09:51:31] [Server thread/INFO]: - forceloadLimit [256]<br>[09:51:31] [Server thread/INFO]: - hardcodeTNTangle [-1] [-1.0]<br>[09:51:31] [Server thread/INFO]: - hopperCounters [true] [false]<br>[09:51:31] [Server thread/INFO]: - huskSpawningInTemples [true] [false]<br>[09:51:31] [Server thread/INFO]: - interactionUpdates [true] [false]<br>[09:51:31] [Server thread/INFO]: - lagFreeSpawning [true] [false]<br>[09:51:31] [Server thread/INFO]: - language [none] [zh_cn] [zh_tw]<br>[09:51:31] [Server thread/INFO]: - leadFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - lightEngineMaxBatchSize [5] [50] [100] [200]<br>[09:51:31] [Server thread/INFO]: - lightningKillsDropsFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - liquidDamageDisabled [true] [false]<br>[09:51:31] [Server thread/INFO]: - maxEntityCollisions [0] [1] [20]<br>[09:51:31] [Server thread/INFO]: - mergeTNT [true] [false]<br>[09:51:31] [Server thread/INFO]: - missingTools [true] [false]<br>[09:51:31] [Server thread/INFO]: - movableAmethyst [true] [false]<br>[09:51:31] [Server thread/INFO]: - movableBlockEntities [true] [false]<br>[09:51:31] [Server thread/INFO]: - optimizedTNT [true] [false]<br>[09:51:31] [Server thread/INFO]: - perfPermissionLevel [2] [4]<br>[09:51:31] [Server thread/INFO]: - persistentParrots [true] [false]<br>[09:51:31] [Server thread/INFO]: - piglinsSpawningInBastions [true] [false]<br>[09:51:31] [Server thread/INFO]: - pingPlayerListLimit [0] [12] [20] [40]<br>[09:51:31] [Server thread/INFO]: - placementRotationFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - portalCreativeDelay [1] [40] [80] [72000]<br>[09:51:31] [Server thread/INFO]: - portalSurvivalDelay [1] [40] [80] [72000]<br>[09:51:31] [Server thread/INFO]: - pushLimit [10] [12] [14] [100]<br>[09:51:31] [Server thread/INFO]: - quasiConnectivity [true] [false]<br>[09:51:31] [Server thread/INFO]: - railPowerLimit [9] [15] [30]<br>[09:51:31] [Server thread/INFO]: - renewableBlackstone [true] [false]<br>[09:51:31] [Server thread/INFO]: - renewableCoral [false] [expanded] [true]<br>[09:51:31] [Server thread/INFO]: - renewableDeepslate [true] [false]<br>[09:51:31] [Server thread/INFO]: - renewableSponges [true] [false]<br>[09:51:31] [Server thread/INFO]: - rotatorBlock [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsAppStore [gnembon/scarpet/contents/programs]<br>[09:51:31] [Server thread/INFO]: - scriptsAutoload [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsDebugging [true] [false]<br>[09:51:31] [Server thread/INFO]: - scriptsOptimization [true] [false]<br>[09:51:31] [Server thread/INFO]: - shulkerSpawningInEndCities [true] [false]<br>[09:51:31] [Server thread/INFO]: - silverFishDropGravel [true] [false]<br>[09:51:31] [Server thread/INFO]: - simulationDistance [0] [12] [16] [32]<br>[09:51:31] [Server thread/INFO]: - smoothClientAnimations [true] [false]<br>[09:51:31] [Server thread/INFO]: - spawnChunksSize [0] [11]<br>[09:51:31] [Server thread/INFO]: - stackableShulkerBoxes [false] [true] [16]<br>[09:51:31] [Server thread/INFO]: - structureBlockIgnored [minecraft:structure_void] [minecraft:air]<br>[09:51:31] [Server thread/INFO]: - structureBlockLimit [48] [96] [192] [256]<br>[09:51:31] [Server thread/INFO]: - structureBlockOutlineDistance [96] [192] [2048]<br>[09:51:31] [Server thread/INFO]: - summonNaturalLightning [true] [false]<br>[09:51:31] [Server thread/INFO]: - superSecretSetting [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntDoNotUpdate [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntPrimerMomentumRemoved [true] [false]<br>[09:51:31] [Server thread/INFO]: - tntRandomRange [-1] [-1.0]<br>[09:51:31] [Server thread/INFO]: - updateSuppressionBlock [false] [true] [1] [6]<br>[09:51:31] [Server thread/INFO]: - updateSuppressionCrashFix [true] [false]<br>[09:51:31] [Server thread/INFO]: - viewDistance [0] [12] [16] [32]<br>[09:51:31] [Server thread/INFO]: - xpNoCooldown [true] [false]<br></code></pre></td></tr></table></figure><h2 id="游戏控制"><a href="#游戏控制" class="headerlink" title="游戏控制"></a>游戏控制</h2><h3 id="游戏tick控制"><a href="#游戏tick控制" class="headerlink" title="游戏tick控制"></a>游戏tick控制</h3><p> tick &lt;选项&gt;</p><blockquote><p>控制游戏运行速度,监视资源占用</p></blockquote><ul><li><p>&lt;选项&gt;</p></li><li><ul><li><p>warp [值] [其他指令]</p><blockquote><p>可以让游戏在一定gt内以最高速度运行,同时每个gt内计算任务量不变</p><p>可以再该命令后再加一个指令,他会在加速结束后执行</p><p>在前一个加速指令完成前不能调用新的warp指令,停止当前加速,只需要把&lt;值&gt;设置成”0”或者不填写&lt;值&gt;</p></blockquote></li><li><p><code>freeze</code></p><blockquote><p>冻结gt,使游戏部分暂停,如:计算实体,世界树种,方块事件和更新,允许玩家移动,在冻结状态下研究发生了什么</p><p>再次使用该指令可以解除冻结,手动打指令,不能使用命令方块</p></blockquote></li><li><p><code>step</code></p><blockquote><p>步进,允许游戏以可控的方式前进,以方便观察变化较快的装置</p></blockquote></li><li><p>superHot</p><blockquote><p>一个很有趣的指令,在玩家不移动时冻结游戏,只有在玩家移动时时间才会流逝</p></blockquote></li><li><p>rate [值]</p><blockquote><p>改变游戏的基础时钟,更直接控制游戏速度,在加速与暂停上没有warp&#x2F;freeze好用,但是他对游戏的影响最小,why?其他方法可能会不是很完美,因为游戏在设计时没有计划应对这种情况,而使用哪个rate就完全和游戏原本的计划相同,只是快慢的区别</p><p>时间变慢后客户端动画还是原来的速度你可以开启<code>carpet smoothClientAnimation true</code> 这会平滑并放慢客户端渲染,使适配低速度,但是这会使玩家移动和控制变慢,观察活塞运动方便?!</p></blockquote></li><li><p>health [值]</p><blockquote><p>检测计算资源占用,类似于一个内置的检测器,检查什么东西占用资源</p><p>默认检测5s&#x2F;200gt中的数据,时长可以通过[值]控制</p><p>汇总每个gt,每个维度中某样东西平均占用的计算时长,包括网络,自动存档,tick外任务,刷怪,区块加载,区块卸载,方块更新,实体运算,方块实体运算,村民和袭击,环境,如果上述未出现在结果里,说明占用较少,都被归类的到rest(其他)内,你的1gt应该低于50ms,如果比这个长,说明你的游戏已经在掉tick了</p></blockquote></li><li><p>entities</p><blockquote><p>因为消耗性能的主要问题来源于实体和方块实体,运行一轮只记录实体和方块实体的用时</p><p>需要详细情况可以使用原版的debug指令</p></blockquote></li></ul></li></ul><h2 id="实体生成spawn-指令"><a href="#实体生成spawn-指令" class="headerlink" title="实体生成spawn 指令"></a>实体生成spawn 指令</h2><blockquote><p>这些改变不在<code>carpet</code>指令下只是暂时的,只需要重启游戏就可以恢复</p></blockquote><p> spawn &lt;选项&gt;</p><ul><li><p>选项</p><blockquote><p>将默认的”70怪&#x2F;玩家” 改成我们想要的数字使用<code>set &lt;值&gt;</code></p></blockquote><blockquote><p>选项:reset,重置为原版默认刷怪概率</p></blockquote></li><li><ul><li><p><code>start</code></p></li><li><p><code>stop</code></p></li><li><p><code>monster</code></p><blockquote><p>显示一些近期的刷怪记录</p></blockquote></li><li><p><code>mocking</code></p><blockquote><p>禁止刷怪,但是这个指令还是会持续尝试刷怪     </p></blockquote></li><li><p><code>tracking [选项] [x1] [y1] [z1] [x2] [y2] [z2]</code></p><blockquote><p>刷怪追踪,需要不少的CPU算力,在你正在追踪时直接使用<code>tracking</code>也可以显示数据</p></blockquote></li><li><p>选项</p></li><li><p><code>test</code></p><blockquote><p>重置当前刷怪追踪，开始新的追踪，重置漏斗计数</p></blockquote></li><li><p><code>rates &lt;选项&gt; [值]</code></p><blockquote><p>更改相应怪物刷出概率</p></blockquote></li><li><p>类型</p></li><li><p><code>monster</code></p></li><li><p><code>creature</code></p><blockquote><p>列出所有占用刷怪上限的怪物的位置</p></blockquote></li><li><p><code>list &lt;x&gt; &lt;y&gt; &lt;z&gt;</code></p><blockquote><p>允许查看我位置可以生成的怪物</p><p>不可以省略后面的坐标,光标指向的位置可能会被实体阻挡,导致输出结果不准确,可以使用相对位置 “~ ~ ~”</p><p>也可以直接在要检查的位置放置粉色地毯,和无地毯指令的效果一致</p></blockquote></li><li><p><code>entities &lt;类型&gt;</code></p></li><li><p><code>mobcaps [选项]</code></p><blockquote><p>按照大类显示刷怪上限,以及这个类别中检测到了多少只怪</p><p>默认显示玩家所在维度刷怪上限,维度:<code>overworld</code> , <code>the_nether</code> , <code>the_end</code></p></blockquote></li></ul></li></ul><h2 id="禁用出生点区块"><a href="#禁用出生点区块" class="headerlink" title="禁用出生点区块"></a>禁用出生点区块</h2><blockquote><p>false禁止出生点区块加载</p></blockquote><p> carpet disableSpawnChunks false</p><h2 id="视距调整"><a href="#视距调整" class="headerlink" title="视距调整"></a>视距调整</h2><blockquote><p>单机无效,单机可以在选项里自行调节,通常不重启服务器无法调节视距</p><p>使用这个可以再不重启服务器的情况下调节视距</p></blockquote><p> carpet viewDistance &lt;值&gt;</p><h2 id="Super-secret-setting"><a href="#Super-secret-setting" class="headerlink" title="Super secret setting"></a>Super secret setting</h2><blockquote><p>超级秘密设置,你问他是干什么的?都说了是秘密了,所以记住,不要开启,不要开启,不要开启.</p></blockquote><p> catpet superSecretSetting true</p><h2 id="游戏监控"><a href="#游戏监控" class="headerlink" title="游戏监控"></a>游戏监控</h2><h3 id="漏斗计数器"><a href="#漏斗计数器" class="headerlink" title="漏斗计数器"></a>漏斗计数器</h3><blockquote><p>用于物品计数,将漏斗指向羊毛,漏斗会向羊毛输出物品,羊毛会销毁接受物品并计数</p><p>羊毛的颜色表示用于计数的频道,所有指向同一种颜色羊毛的漏斗会一起计数</p></blockquote><p> carpet hopperCounters true</p><blockquote><p>显示所有计数器</p></blockquote><p> counter [颜色] [选项]</p><ul><li><p>选项</p></li><li><ul><li><p><code>realtime</code></p><blockquote><p>根据实际时间计算出效率,而不是游戏时钟</p></blockquote></li><li><p><code>reset</code></p><blockquote><p>重置计数器,或重置指定颜色的计数器,输出文本框有红色[x]也可以重置计数</p></blockquote></li></ul></li></ul><h2 id="distance-指令"><a href="#distance-指令" class="headerlink" title="distance 指令"></a>distance 指令</h2><blockquote><p>计算</p></blockquote><p> distance &lt;选项&gt;</p><ul><li><p><code>from &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; to &lt;x2&gt; &lt;y2&gt; &lt;z2&gt;</code></p><blockquote><p>给出两个位置之间相距多少米</p><p>欧氏距离(Spherical)球面距离或者说直线距离</p><p>圆柱距离(Cylindrical)也就是不考虑y轴的直线距离</p><p>曼哈顿距离(Manhattan)计程车距离或者说链接两个点需要多少个方块</p></blockquote></li><li><p><code>to &lt;x&gt; &lt;y&gt; &lt;z&gt;</code></p><blockquote><p>多次计算不同位置到初始点的距离</p></blockquote></li></ul><h2 id="info-指令"><a href="#info-指令" class="headerlink" title="info 指令"></a>info 指令</h2><blockquote><p>给出方块的信息,之前也提供实体信息,但是在1.14以后加入了<code>/data</code>后就不需要了</p></blockquote><p> info block <x> <y> <z></p><h2 id="追踪实体信息-村民-track"><a href="#追踪实体信息-村民-track" class="headerlink" title="追踪实体信息(村民) track"></a>追踪实体信息(村民) track</h2><blockquote><p>追踪显示实体信息(目前只有村民实体)</p></blockquote><p> track &lt;实体&gt; &lt;信息&gt;</p><ul><li><p>&lt;实体&gt;</p></li><li><ul><li><p><code>villager</code></p><blockquote><p>指定村民实体</p></blockquote></li></ul></li><li><p>&lt;信息&gt;</p></li><li><ul><li><p><code>breeding</code></p><blockquote><p>显示村民是否绑定床,食物数量,繁殖冷却</p><p>绿宝石右键实体–&gt;显示床</p><p>腐肉–&gt;清空实体持有食物</p><p>床–&gt;显示实体周围能识别的床</p></blockquote></li><li><p><code>iron_golem_spawning</code></p><blockquote><p>铁傀儡生成相关信息,是否睡过觉,工作状态,恐慌状态,最后一次看到铁傀儡时间</p></blockquote></li><li><p><code>clear</code></p><blockquote><p>清除显示的信息</p></blockquote></li></ul></li></ul><h1 id="bugFix"><a href="#bugFix" class="headerlink" title="bugFix"></a>bugFix</h1><h1 id="马游荡修复"><a href="#马游荡修复" class="headerlink" title="马游荡修复"></a>马游荡修复</h1><blockquote><p>修复:马会尝试寻路到启程开始的位置,目前不太完善,某些情况可能失效</p></blockquote><p> carpet horseWanderingFix true</p><h1 id="栓绳消失修复"><a href="#栓绳消失修复" class="headerlink" title="栓绳消失修复"></a>栓绳消失修复</h1><blockquote><p>修复:在加载栓绳绑着动物的区块时,栓绳不正常消失&#x2F;出现</p></blockquote><p> carpet leadFix true</p><h1 id="合成物品快捷键-CTRL-Q-丢弃无效修复"><a href="#合成物品快捷键-CTRL-Q-丢弃无效修复" class="headerlink" title="合成物品快捷键(CTRL + Q)丢弃无效修复"></a>合成物品快捷键(CTRL + Q)丢弃无效修复</h1><blockquote><p>使用快捷键可以丢出所有本次合成物品</p></blockquote><p> carpet ctrlQCraftingFix true</p><h1 id="地狱门窒息修复"><a href="#地狱门窒息修复" class="headerlink" title="地狱门窒息修复"></a>地狱门窒息修复</h1><blockquote><p>地狱门传送实体时会根据实体碰撞箱大小调整地狱门大小,防止实体窒息</p></blockquote><h1 id="挖掘幽灵方块修复-仅1-14"><a href="#挖掘幽灵方块修复-仅1-14" class="headerlink" title="挖掘幽灵方块修复 (仅1.14)"></a>挖掘幽灵方块修复 (仅1.14)</h1><blockquote><p>修复1.14 出现烦人的幽灵方块,无论是原版客户端连接carpet server 还是相反情况都有效,1.15原版已修复该bug</p></blockquote><p> carpet miningGhostBlockFix true</p><h1 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h1><h1 id="流畅红石线"><a href="#流畅红石线" class="headerlink" title="流畅红石线"></a>流畅红石线</h1><blockquote><p>对红石线更新系统的重新实现,大幅减少红石线亮&#x2F;灭带来的卡顿</p></blockquote><p> carpet fastRandstoneDust true</p><h1 id="实体碰撞上限"><a href="#实体碰撞上限" class="headerlink" title="实体碰撞上限"></a>实体碰撞上限</h1><blockquote><p>能够解决很多实体卡在一个地方造成的卡顿</p><p>设置数值较低时会改变大群生物之间的碰撞效果</p></blockquote><p> carpet maxEntityCollisions [<value>]</p><h1 id="无卡顿刷怪"><a href="#无卡顿刷怪" class="headerlink" title="无卡顿刷怪"></a>无卡顿刷怪</h1><blockquote><p>能够减少刷怪所需算力,优化碰撞计算,实际怪物生成的代码,他不会对原版的刷怪产生任何影响和改动,只是效率更高而已</p></blockquote><p> carper lagFreeSpawning true</p><h1 id="地狱门缓存-1-15无此项"><a href="#地狱门缓存-1-15无此项" class="headerlink" title="地狱门缓存(1.15无此项)"></a>地狱门缓存(1.15无此项)</h1><blockquote><p>修复了如果地狱门15s内没有用过会产生巨大的瞬时卡顿问题,开启后地狱门会永久缓存直到地狱门发生变化</p><p>1.15无此项,因为Mojang使用兴趣点(poi)系统重写了地狱门连接</p></blockquote><p> carper portalCaching true</p><h1 id="创造工具"><a href="#创造工具" class="headerlink" title="创造工具"></a>创造工具</h1><h1 id="控制玩家"><a href="#控制玩家" class="headerlink" title="控制玩家"></a>控制玩家</h1><blockquote><p>可以对玩家进行相应的操控,无论是真玩家还是”硅胶小人”(假玩家),又或者是你自己,这些行为是在服务器运行,在操控自己时,自己可能看不到相应的UI,但别的玩家可以看到</p></blockquote><p> player <name> <option></p><ul><li><p>name</p><blockquote><p>指定玩家名</p></blockquote></li><li><p>option</p></li><li><ul><li><p>选项</p></li><li><p><code>once</code> #一次</p></li><li><p><code>continuous</code> #持续</p></li><li><p><code>interval</code> #间隔</p></li><li><p><code>forward</code> #前方</p></li><li><p><code>east</code> #东方</p></li><li><p><code>spawn</code></p><blockquote><p>在玩家所在位置生成一个”硅胶小人”且游戏模式相同,若该玩家名存在,则该玩家上线时会顶替掉硅胶小人</p></blockquote></li><li><p><code>drop</code></p><blockquote><p>让硅胶小人把手持的物品丢出来</p></blockquote></li><li><p><code>mount</code></p><blockquote><p>让硅胶小人坐在附近的实体上</p></blockquote></li><li><p><code>dismount</code></p><blockquote><p>让硅胶小人从实体上下来</p></blockquote></li><li><p><code>look &lt;方向&gt;</code></p><blockquote><p>让硅胶小人朝向相应方向</p></blockquote></li><li><p><code>move &lt;方向&gt;</code></p></li><li><p><code>stop</code></p><blockquote><p>停止硅胶小人所有动作</p></blockquote></li><li><p><code>swapHands</code></p><blockquote><p>交换主手和副手上的物品</p></blockquote></li><li><p><code>use &lt;选项&gt;</code></p><blockquote><p>使用,相当于右键</p></blockquote></li></ul></li><li><p><code>attack &lt;选项&gt;</code></p><blockquote><p>攻击相当于左键</p></blockquote></li><li><ul><li>选项同<code>use</code></li></ul></li><li><p><code>shadow</code></p><blockquote><p>会让同名硅胶小人顶替真实玩家的位置(真实玩家下线),并完成你之前给他们的任务,只能在服务器使用,单机下线内置服务端会关闭</p></blockquote></li></ul><h1 id="按照形状快速放置"><a href="#按照形状快速放置" class="headerlink" title="按照形状快速放置"></a>按照形状快速放置</h1><blockquote><p>目前只支持球形,方形可以用原版指令”fill”填充,或者”replace”替换,对于更复杂的形状推荐使用”script fill”</p></blockquote><p> draw &lt;形状&gt; <x> <y> <z> <r></p><ul><li><p>形状</p></li><li><ul><li><code>sphere</code></li></ul></li></ul><h1 id="原版fill和cone指令填充上限"><a href="#原版fill和cone指令填充上限" class="headerlink" title="原版fill和cone指令填充上限"></a>原版fill和cone指令填充上限</h1><blockquote><p>原版fill只能填充32768个方块,也就相当于32<em>32</em>32</p></blockquote><p> carpet fillLimit [<vanlue>]</p><h1 id="fill-x2F-clone-x2F-setblock-x2F-structure-指令的禁止方块更新"><a href="#fill-x2F-clone-x2F-setblock-x2F-structure-指令的禁止方块更新" class="headerlink" title="fill&#x2F;clone&#x2F;setblock&#x2F;structure 指令的禁止方块更新"></a>fill&#x2F;clone&#x2F;setblock&#x2F;structure 指令的禁止方块更新</h1><blockquote><p>false禁止指令放置方块时更新</p></blockquote><p> carpet fillUpdates false</p><h1 id="活塞推动上限"><a href="#活塞推动上限" class="headerlink" title="活塞推动上限"></a>活塞推动上限</h1><blockquote><p>可以自定义活塞推动的上限,但是这会让你的装置其他人用不了</p></blockquote><p> carpet pushLimit &lt;值&gt;</p><h1 id="铁轨激活距离上限"><a href="#铁轨激活距离上限" class="headerlink" title="铁轨激活距离上限"></a>铁轨激活距离上限</h1><blockquote><p>可以设置充能铁轨的激活上限</p></blockquote><p> carpet railPowerLimit &lt;值&gt;</p><h1 id="QC开关"><a href="#QC开关" class="headerlink" title="QC开关"></a>QC开关</h1><blockquote><p>可以开关QC连接,和BUD激活,false关闭QC</p></blockquote><p> carpet quasiConnectivity false</p><h1 id="召唤闪电"><a href="#召唤闪电" class="headerlink" title="召唤闪电"></a>召唤闪电</h1><blockquote><p>允许使用<code>summon</code>指令生自然成闪电,就像雷雨天气闪电一样,有概率生成骷髅马</p></blockquote><p> carpet summonNaturalLightning true</p><h1 id="创造模式地狱门延迟"><a href="#创造模式地狱门延迟" class="headerlink" title="创造模式地狱门延迟"></a>创造模式地狱门延迟</h1><blockquote><p>无论什么游戏模式都需要一定时间才能进入地狱门,防止创造模式下传送错维度,开启后手持黑曜石的玩家延迟会更长</p></blockquote><p> carpet portalCreativeDelay true</p><h1 id="（TNT）爆炸不破坏方块"><a href="#（TNT）爆炸不破坏方块" class="headerlink" title="（TNT）爆炸不破坏方块"></a>（TNT）爆炸不破坏方块</h1><blockquote><p>让tnt爆炸不会造成任何方块破坏</p></blockquote><p> carpet explosionNoBlockDamage true</p><h1 id="TNT放置时不更新"><a href="#TNT放置时不更新" class="headerlink" title="TNT放置时不更新"></a>TNT放置时不更新</h1><blockquote><p>防止玩家防止tnt是造成更新</p></blockquote><p> carpet tntDoNotUpdate true</p><h1 id="移除TNT的初始随机动量"><a href="#移除TNT的初始随机动量" class="headerlink" title="移除TNT的初始随机动量"></a>移除TNT的初始随机动量</h1><blockquote><p>移除点燃tnt时的随机跳动,但是再把装置发给别人之前要确保装置能够处理这种情况</p></blockquote><p> carpet tntPrimerMomentumRemoved true</p><h1 id="移除经验球吸取的冷却"><a href="#移除经验球吸取的冷却" class="headerlink" title="移除经验球吸取的冷却"></a>移除经验球吸取的冷却</h1><blockquote><p>移除玩家获取经验需要2gt的冷却</p></blockquote><p> carpet xpNoCooldown true</p><h1 id="生存工具"><a href="#生存工具" class="headerlink" title="生存工具"></a>生存工具</h1><h1 id="经验球合并"><a href="#经验球合并" class="headerlink" title="经验球合并"></a>经验球合并</h1><blockquote><p>让经验像物品一样,可以合并成更大的经验球</p></blockquote><p> carpet combineXPOrbs true</p><h1 id="“仙人掌”翻转工具"><a href="#“仙人掌”翻转工具" class="headerlink" title="“仙人掌”翻转工具"></a>“仙人掌”翻转工具</h1><blockquote><p>手上拿着仙人掌右键你想要改变朝向的方块,你可以旋转或者翻转它,使用仙人掌不会造成方块更新</p><p>仙人掌放在副手,可以以相反的方向放置方块</p><p>用仙人掌右键沙子”当当”你就种上了一颗仙人掌</p></blockquote><p> carpet flippinCactus true</p><h1 id="x2F-c-x2F-s-快速切换-观察者-x2F-生存-模式"><a href="#x2F-c-x2F-s-快速切换-观察者-x2F-生存-模式" class="headerlink" title="&#x2F;c &#x2F;s 快速切换 观察者&#x2F;生存 模式"></a>&#x2F;c &#x2F;s 快速切换 观察者&#x2F;生存 模式</h1><blockquote><p>给普通玩家使用<code>/c</code>, <code>/s</code>权限,可以快速切换观察者&#x2F;生存模式</p><p>观察者模式带”夜视”和”海豚的恩惠”效果</p></blockquote><p> carper commandCameramode true</p><h1 id="禁用飞行和骑乘的服务器反作弊检测"><a href="#禁用飞行和骑乘的服务器反作弊检测" class="headerlink" title="禁用飞行和骑乘的服务器反作弊检测"></a>禁用飞行和骑乘的服务器反作弊检测</h1><blockquote><p>开启后防止因为快速飞行和移动或者连接不稳定,造成回弹,但是不能修复你的连接不稳定</p></blockquote><p> carpet antiCheatDisable true</p><h1 id="单个玩家睡觉跳过夜晚"><a href="#单个玩家睡觉跳过夜晚" class="headerlink" title="单个玩家睡觉跳过夜晚"></a>单个玩家睡觉跳过夜晚</h1><blockquote><p>字面意思</p></blockquote><p> carpet onePlayerSleeping true</p><p>1.17版本的gamerule中新增了一个选项：playersSleepingPercentage。 默认值为100。 用于设置跳过夜晚所需的入睡玩家所占百分比。 设置为0时,1个玩家入睡即可跳过夜晚</p><p>carpet playersSleepingPercentage 0</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">/carpet playersSleepingPercentage <span class="hljs-number">0</span><br>Unknown rule: playersSleepingPercentage<br><br><br>https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/gnembon/</span>fabric-carpet<span class="hljs-regexp">/issues/</span><span class="hljs-number">1107</span><br>/gamerule playersSleepingPercentage <span class="hljs-number">0</span> is the equivalent to it <span class="hljs-keyword">in</span> vanilla <span class="hljs-number">1.17</span>.<br><br><br><br></code></pre></td></tr></table></figure><h1 id="自定义登陆界面服务器欢迎语"><a href="#自定义登陆界面服务器欢迎语" class="headerlink" title="自定义登陆界面服务器欢迎语"></a>自定义登陆界面服务器欢迎语</h1><blockquote><p>能够在服务器运行时改变登陆界面服务器欢迎语,不需要关闭服务器修改配置文件</p></blockquote><p> carpet customMOTD &lt;字符串&gt;</p><h1 id="缺失的挖掘工具"><a href="#缺失的挖掘工具" class="headerlink" title="缺失的挖掘工具"></a>缺失的挖掘工具</h1><blockquote><p>添加活塞，玻璃挖掘工具镐子,海绵的挖掘工具剪刀</p></blockquote><p> carpet missingTools true</p><h1 id="发射器旋转方块"><a href="#发射器旋转方块" class="headerlink" title="发射器旋转方块"></a>发射器旋转方块</h1><blockquote><p>发射器被激活时能够旋转发射器前面的方块</p></blockquote><p> carpet rotatorBlock true</p><h1 id="可移动方块实体-箱子-漏斗-酿造台-发射器-信标-etc"><a href="#可移动方块实体-箱子-漏斗-酿造台-发射器-信标-etc" class="headerlink" title="可移动方块实体 (箱子, 漏斗, 酿造台, 发射器, 信标, etc.)"></a>可移动方块实体 (箱子, 漏斗, 酿造台, 发射器, 信标, etc.)</h1><blockquote><p>可以移动 箱子, 漏斗, 酿造台, 发射器, 信标, etc.带有nbt数据的方块</p></blockquote><p> carpet movableBlockEntities true</p><h1 id="蠹虫破坏方块掉落沙砾"><a href="#蠹虫破坏方块掉落沙砾" class="headerlink" title="蠹虫破坏方块掉落沙砾"></a>蠹虫破坏方块掉落沙砾</h1><blockquote><p>在蠹虫离开石头时会掉落砂砾物品</p></blockquote><p> carpet silverFishDropGravel true</p><h1 id="尸壳在沙漠神殿中生成"><a href="#尸壳在沙漠神殿中生成" class="headerlink" title="尸壳在沙漠神殿中生成"></a>尸壳在沙漠神殿中生成</h1><blockquote><p>开启后沙漠神殿只会刷尸壳,而且不需要露天就能刷</p></blockquote><p> carpet huskSpawningInTemples true</p><h1 id="末地城生成潜影贝"><a href="#末地城生成潜影贝" class="headerlink" title="末地城生成潜影贝"></a>末地城生成潜影贝</h1><blockquote><p>开启后允许潜影贝在末地城结构范围内刷出</p></blockquote><p>carpet SpawningInEndCities true</p><h1 id="空潜影箱可堆叠"><a href="#空潜影箱可堆叠" class="headerlink" title="空潜影箱可堆叠"></a>空潜影箱可堆叠</h1><blockquote><p>空的潜影盒丢到地上使其合并,然后再捡起来便可,但是其特性仍是不可堆叠的物品</p></blockquote><p>carpet stackableShulkerBoxes true</p><h1 id="“固定”的鹦鹉"><a href="#“固定”的鹦鹉" class="headerlink" title="“固定”的鹦鹉"></a>“固定”的鹦鹉</h1><blockquote><p>可以让鹦鹉固定在你的肩膀上,跳跃,骑马,飞行都无法掉下来,只有在水中或者玩家受伤,才能使鹦鹉从肩膀上掉下来</p></blockquote><p>carpet persistentParrots true</p><h1 id="海带生长高度限制"><a href="#海带生长高度限制" class="headerlink" title="海带生长高度限制"></a>海带生长高度限制</h1><blockquote><p>海带生长高度限制,使海带不能过分疯长,但是不适用于玩家放置的海带</p></blockquote><p>carpet kelpGenerationGrowthLimit &lt;值&gt;</p><h1 id="在干旱的气候中树苗变成枯木"><a href="#在干旱的气候中树苗变成枯木" class="headerlink" title="在干旱的气候中树苗变成枯木"></a>在干旱的气候中树苗变成枯木</h1><blockquote><p>在干燥的群系中不能吸收到水分的树苗将会变成枯木</p></blockquote><p>carpet desertShrubs true</p><h1 id="骨粉催熟珊瑚块"><a href="#骨粉催熟珊瑚块" class="headerlink" title="骨粉催熟珊瑚块"></a>骨粉催熟珊瑚块</h1><blockquote><p>开启后可以在水下通过珊瑚植物催熟珊瑚块,和树苗到树的原理是一样的,用骨粉</p></blockquote><p>carpet renewableCoral true</p><h1 id="闪电将守卫者转变为远古守卫者"><a href="#闪电将守卫者转变为远古守卫者" class="headerlink" title="闪电将守卫者转变为远古守卫者"></a>闪电将守卫者转变为远古守卫者</h1><blockquote><p>闪电将守卫者转变为远古守卫者来获取海绵</p></blockquote><p>carpet renewableSponges true</p><h1 id="其他功能"><a href="#其他功能" class="headerlink" title="其他功能"></a>其他功能</h1><h1 id="地毯相应的快捷方式"><a href="#地毯相应的快捷方式" class="headerlink" title="地毯相应的快捷方式"></a>地毯相应的快捷方式</h1><blockquote><p>这个mod名字的由来?</p><p>开启后能够使用放置不同颜色地毯的方式来执行特定重复的指令</p><p>粉色地毯:<code>spawn list</code>检查某个方块刷怪情况</p><p>黑色地毯:<code>spawn mobcaps</code>显示刷怪上限,放在不同颜色的羊毛上显示这个类别所有被加载的实体,对应指令:<code>spawn entities &lt;类型&gt;</code></p><p>棕色地毯:<code>distance &lt;选项&gt;</code>按住shift或首次放置地毯会设置初始点,而正常放置会设定第二个,从而获得测量结果</p><p>灰色地毯:<code>info block</code>提供下方方块信息</p><p>绿色地毯:<code>counter [颜色]</code>显示对应频道计数器信息</p><p>红色地毯:<code>counter [颜色] reset</code>重置这些计数器</p></blockquote><p>carpet carpets true</p><h1 id="log-指令与玩家单独数据"><a href="#log-指令与玩家单独数据" class="headerlink" title="log 指令与玩家单独数据"></a>log 指令与玩家单独数据</h1><blockquote><p>更加直接,连续,给每个玩家提供信息,log是根据玩家登陆信息,基于每个玩家的,基于carpet精神,不侵犯原版玩家数据,在服务器重启或重进世界后,玩家log信息会销毁</p></blockquote><p>log &lt;选项&gt;</p><ul><li><p>选项</p></li><li><ul><li><p><code>tps</code></p><blockquote><p>在tab界面显示服务器卡顿情况TPS,MSPT</p></blockquote></li><li><p><code>counter [颜色]</code></p><blockquote><p>能够简洁,连续的显示计数器物品的速度的实时效率</p></blockquote></li><li><p>mobcaps</p><blockquote><p>会持续显示刷怪上限信息</p></blockquote></li><li><p>pathfinding &lt;值&gt;</p><blockquote><p>能用粒子效果显示生物需要&lt;值&gt;毫秒以上完成的所有寻路尝试</p></blockquote></li><li><p>packets</p><blockquote><p>显示服务器端进出数据包的总数量</p></blockquote></li><li><p>tnt</p><blockquote><p>追踪世界中任何tnt实体,初始位置和爆炸位置</p></blockquote></li><li><p>projectiles</p><blockquote><p>追踪抛射物的每一刻的位置</p></blockquote></li><li><p>fallingBlock</p><blockquote><p>追踪实体方块的每一刻的位置</p></blockquote></li></ul></li></ul><h1 id="一个好用的计算器"><a href="#一个好用的计算器" class="headerlink" title="一个好用的计算器"></a>一个好用的计算器</h1><blockquote><p>什么这个能当计算器使用?好东西!</p><p>其实这是Scarpet的api,Scarpet是carpet游戏内编程工具,允许你运行自定义脚本,在不添加MOD的情况下添加游戏的额外特性</p></blockquote><p>script run 1+1</p><h1 id="一些在早期版本中存在的功能"><a href="#一些在早期版本中存在的功能" class="headerlink" title="一些在早期版本中存在的功能"></a>一些在早期版本中存在的功能</h1><h1 id="在世界中生成游戏结构"><a href="#在世界中生成游戏结构" class="headerlink" title="在世界中生成游戏结构"></a>在世界中生成游戏结构</h1><p>script run plop(x,y,z,’end_city’) #生成末地城</p><h1 id="来改变群系"><a href="#来改变群系" class="headerlink" title="来改变群系"></a>来改变群系</h1><p>script scan x1 y1 z1 x2 y2 z2 x y z set_biome(_,’swamp’) </p><p>script run set_biome(x,y,z,’swamp’) #改变生物群系为沼泽</p><h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><blockquote><p>Carpet扩展Mod (carpet extra mod)包含一些非原版但是仍然非常酷的功能, 例如自动合成台、发射器放置方块、甚至发射器更多的功能</p></blockquote><p>如何安装carpet mod</p><blockquote><p>(提示：只需遵循fabric mod设置说明)</p></blockquote><h1 id="carpet配置文件"><a href="#carpet配置文件" class="headerlink" title="carpet配置文件"></a>carpet配置文件</h1><blockquote><p>对于服务器管理员 - 手动地配置carpet mod并让地毯指令在游戏中无法调用</p></blockquote><p>carpet.conf</p><p>#关闭所有carpet指令,可以在后面启用你需要的特性,玩家进入游戏后,看不到任何carpet指令和特性,除非你在下面开启 </p><p>locked</p><p>#例如下面的特性开启 </p><p>scriptsAutoload true </p><p>renewableCoral true</p><p>本文为我原创</p><p><a href="https://search.bilibili.com/article?keyword=Minecraft&from_source=article"> Minecraft </a><a href="https://search.bilibili.com/article?keyword=carpet&from_source=article">carpet </a><a href="https://search.bilibili.com/article?keyword=%E5%9C%B0%E6%AF%AF%E7%AB%AF&from_source=article">地毯端</a></p>]]></content>
    
    
    <categories>
      
      <category>Minecraft</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Minecraft</tag>
      
      <tag>mod</tag>
      
      <tag>游戏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Carpet Mod / 地毯模组下载以及简单教程</title>
    <link href="/2022/04/22/minecraft/Carpet%20Mod%20%20%E5%9C%B0%E6%AF%AF%E6%A8%A1%E7%BB%84%E4%B8%8B%E8%BD%BD%E4%BB%A5%E5%8F%8A%E7%AE%80%E5%8D%95%E6%95%99%E7%A8%8B/"/>
    <url>/2022/04/22/minecraft/Carpet%20Mod%20%20%E5%9C%B0%E6%AF%AF%E6%A8%A1%E7%BB%84%E4%B8%8B%E8%BD%BD%E4%BB%A5%E5%8F%8A%E7%AE%80%E5%8D%95%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Carpet-Mod-x2F-地毯模组下载以及简单教程"><a href="#Carpet-Mod-x2F-地毯模组下载以及简单教程" class="headerlink" title="Carpet Mod &#x2F; 地毯模组下载以及简单教程"></a>Carpet Mod &#x2F; 地毯模组下载以及简单教程</h1><blockquote><p>原作者主页：<a href="https://space.bilibili.com/89876983">https://space.bilibili.com/89876983</a></p></blockquote><h2 id="“Carpet-Mod-x2F-地毯模组”-是用来干什么的？"><a href="#“Carpet-Mod-x2F-地毯模组”-是用来干什么的？" class="headerlink" title="“Carpet Mod &#x2F; 地毯模组” 是用来干什么的？"></a>“Carpet Mod &#x2F; 地毯模组” 是用来干什么的？</h2><p>我个人觉得有用的和常用的就下面这3个：</p><ol><li><p>弄一个假人帮你完成一些事情，比如帮你种树</p></li><li><p>可以测试你做的机器的效率，比如帮你测试树场效率</p></li><li><p>“子弹时间”，放慢&#x2F;加快游戏运行速度，可以让玩家更加清晰地观看红石电路时如何运行的</p></li></ol><p><img src="https://i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png@progressive.webp" alt="img"></p><h2 id="如何下载-Carpet-Mod-x2F-地毯模组"><a href="#如何下载-Carpet-Mod-x2F-地毯模组" class="headerlink" title="如何下载 Carpet Mod &#x2F; 地毯模组"></a>如何下载 Carpet Mod &#x2F; 地毯模组</h2><p>【地毯模组（目前版本为1.3.7），适用于Java版我的世界1.15.2】</p><ol><li>进入网址：</li></ol><p><a href="https://github.com/gnembon/fabric-carpet/releases/tag/v1.3-frozen">https://github.com/gnembon/fabric-carpet/releases/tag/v1.3-frozen</a></p><ol start="2"><li>在此网页的最下方找到</li></ol><p>fabric-carpet-1.15.2-1.3.7+v200127.jar</p><ol start="3"><li>单击这个蓝色的名字即可下载（文件大小为：788 KB）</li></ol><p><img src="https://i0.hdslb.com/bfs/article/60b9abefdffbba499e1220972ba1942491bed6f4.png@942w_1046h_progressive.webp" alt="img">鼠标左键单击红色框内的文件</p><p><img src="https://i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png@progressive.webp" alt="img"></p><h2 id="如何安装mod和使用mod："><a href="#如何安装mod和使用mod：" class="headerlink" title="如何安装mod和使用mod："></a>如何安装mod和使用mod：</h2><p>已经有很多很多人都分享了如何安装和使用mod的视频了，请自行去搜索</p><p><img src="https://i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png@progressive.webp" alt="img"></p><h2 id="Carpet-Mod-的详细教程视频请观看："><a href="#Carpet-Mod-的详细教程视频请观看：" class="headerlink" title="Carpet Mod 的详细教程视频请观看："></a>Carpet Mod 的详细教程视频请观看：</h2><p>\1. Youtube&#x2F;油管:</p><p>链接：<a href="https://youtu.be/Lt-ooRGpLz4">https://youtu.be/Lt-ooRGpLz4</a></p><p>作者：gnembon</p><p>\2. 哔哩哔哩：</p><p><a href="https://www.bilibili.com/video/av70188771">bilibili站内链接</a></p><p>av号：<a href="https://www.bilibili.com/video/av70188771">AV70188771</a></p><p>搬运者：Aye10032，红石科技搬运组</p><p><img src="https://i0.hdslb.com/bfs/article/c3cbbfb94fc77eedc43800b3e7b7c6d7c44591cf.jpg@942w_590h_progressive.webp" alt="img">原作者的教程的视频封面</p><p><img src="https://i0.hdslb.com/bfs/article/4adb9255ada5b97061e610b682b8636764fe50ed.png@progressive.webp" alt="img"></p><h2 id="我的世界单位换算："><a href="#我的世界单位换算：" class="headerlink" title="我的世界单位换算："></a>我的世界单位换算：</h2><p>(Minecraft的循环程序是以每秒20周期的固定速度运行的。因此每刻发生在每0.05秒)</p><p>0.1秒 &#x3D;&#x3D; 1红石刻 &#x3D;&#x3D; 2游戏刻 &#x3D;&#x3D; 2 game tick &#x3D;&#x3D; 2 gt</p><p><img src="https://i0.hdslb.com/bfs/article/02db465212d3c374a43c60fa2625cc1caeaab796.png@progressive.webp" alt="img"></p><p><img src="https://i0.hdslb.com/bfs/article/02db465212d3c374a43c60fa2625cc1caeaab796.png@progressive.webp" alt="img"></p><p><img src="https://i0.hdslb.com/bfs/article/02db465212d3c374a43c60fa2625cc1caeaab796.png@progressive.webp" alt="img"></p><p>——  指令  ——</p><h2 id="假人-相关指令："><a href="#假人-相关指令：" class="headerlink" title="假人 相关指令："></a>假人 相关指令：</h2><ol><li>开启召唤假人的功能：</li></ol><p>&#x2F;carpet commandPlayer true</p><ol start="2"><li>召唤名为Steve（名字可以自己设置）的假人：</li></ol><p>（假人的跟玩家的朝向一致，位置一致，游戏模式一致）</p><p>&#x2F;player Steve spawn</p><ol start="3"><li>让名为Steve的假人持续使用一项物品，例如持续右键</li></ol><p>（需要玩家先将物品扔给假人，让假人手持物品）</p><p>&#x2F;player Steve use continuous</p><ol start="4"><li>让名为Steve的假人持续使用左键</li></ol><p>&#x2F;player Steve attack continuous</p><ol start="5"><li>让名为Steve的假人使用一项物品，仅使用一次</li></ol><p>（需要玩家先将物品扔给假人，让假人手持物品）</p><p>&#x2F;player Steve use</p><ol start="6"><li>让名为Steve的假人停止一切动作</li></ol><p>&#x2F;player Steve stop</p><ol start="7"><li>将名为Steve的假人左右手上的物品交换</li></ol><p>&#x2F;player Steve swapHands</p><ol start="8"><li>移除名为Steve的假人：</li></ol><p>&#x2F;player Steve kill</p><p><img src="https://i0.hdslb.com/bfs/article/69355be6160d365303fd30ddd3cfa7867d45d547.png@942w_528h_progressive.webp" alt="img">在树场的“假人”Steve</p><p><img src="https://i0.hdslb.com/bfs/article/db75225feabec8d8b64ee7d3c7165cd639554cbc.png@progressive.webp" alt="img"></p><h2 id="计算红石机器效率-x2F-漏斗计数-相关指令："><a href="#计算红石机器效率-x2F-漏斗计数-相关指令：" class="headerlink" title="计算红石机器效率&#x2F;漏斗计数 相关指令："></a>计算红石机器效率&#x2F;漏斗计数 相关指令：</h2><ol><li>开启漏斗计数功能：</li></ol><p>&#x2F;carpet hopperCounters true</p><ol start="2"><li>开始统计所有对准白色羊毛的漏斗吸收到的物品数量：</li></ol><p>（在漏斗对准的地方放羊毛，换成其他16种颜色也行）</p><p>&#x2F;log counter white</p><ol start="3"><li>按键盘上的Tab键查看，或者输入下面的指令来查看</li></ol><p>&#x2F;counter white</p><ol start="4"><li>根据实际时间计算效率，不是根据游戏内的时间来计算</li></ol><p>&#x2F;counter white realtime</p><ol start="5"><li>重置对准所有颜色的羊毛的漏斗的计数：</li></ol><p>&#x2F;counter reset</p><ol start="6"><li>重置对准白色羊毛的漏斗的计数：</li></ol><p>（或者点击输入&#x2F;counter white后显示的消息中那个红色的叉叉）</p><p>&#x2F;counter white reset</p><p><img src="https://i0.hdslb.com/bfs/article/f0cf9836e1a2aead9723cfb68e02b2db8e635b20.png@942w_530h_progressive.webp" alt="img">漏斗需要对准羊毛</p><p><img src="https://i0.hdslb.com/bfs/article/db75225feabec8d8b64ee7d3c7165cd639554cbc.png@progressive.webp" alt="img"></p><h2 id="控制游戏速度-x2F-检测物体占用资源-相关指令："><a href="#控制游戏速度-x2F-检测物体占用资源-相关指令：" class="headerlink" title="控制游戏速度&#x2F;检测物体占用资源 相关指令："></a>控制游戏速度&#x2F;检测物体占用资源 相关指令：</h2><ol><li>开启控制游戏速度功能：</li></ol><p>&#x2F;carpet commandTick true</p><ol start="2"><li>让游戏在一段时间内以最高速度运行，同时每一游戏刻的计算任务不变</li></ol><p>（注意，此命令可以通过加快游戏速度来更快地获得长时间的测试数据）</p><p>（72000游戏刻刚好相当于一小时）</p><p>&#x2F;tick warp 72000</p><ol start="3"><li>游戏加速结束后，会在左下角给出提示</li></ol><p>（例如：24000游戏刻加速结束后，在左下角说：done，提示玩家此次加速结束）</p><p>&#x2F;tick warp 24000 say done</p><ol start="4"><li>取消游戏加速</li></ol><p>&#x2F;tick warp</p><ol start="5"><li>冻结游戏</li></ol><p>（再次输入即可解冻）</p><p>&#x2F;tick freeze</p><ol start="6"><li>在冻结游戏的情况下，让游戏运行一小段时间后再次暂停</li></ol><p>（例如，让游戏运行2游戏刻，也就是运行0.1秒）</p><p>&#x2F;tick step 2</p><ol start="7"><li>调节游戏速度（正常速度为20，可换成其他自然数）：</li></ol><p>（“子弹时间”，观看红石电路具体是如何运行的）</p><p>&#x2F;tick rate 20</p><ol start="8"><li>检测什么东西占用了游戏资源，无关紧要或者可以忽略的不会显示</li></ol><p>（任何资源占用应该小于1游戏刻，也就是50ms，如果大于50ms，说明游戏在掉刻）</p><p>&#x2F;tick health 200</p><ol start="9"><li>检测实体占用的游戏资源</li></ol><p>（左下角会从大到小给出实体占用资源的排序，可以针对性地减少占用资源多的实体的数量来降低卡顿）</p><p>&#x2F;tick entities</p><p><img src="https://i0.hdslb.com/bfs/article/b78c56429ced302dc667e2800ed14504b42cae74.png@942w_498h_progressive.webp" alt="img">用指令加速游戏时间来测试白桦树场的效率</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充:"></a>补充:</h2><p>写这篇专栏的目的就是：</p><ol><li>给自己建个“云备忘录”，忘了一些指令打开看看就行</li><li>分享dalao做的非常好用的mod&#x2F;模组的一些常用的用法，毕竟功能和指令有点多</li><li>明示下一个视频是关于白桦树场的简单又高效的做法教程（应该会咕好一阵才会出视频吧）</li></ol><p>本文为我原创</p><p><a href="https://search.bilibili.com/article?keyword=%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C&from_source=article"> 我的世界 </a><a href="https://search.bilibili.com/article?keyword=%E7%BA%A2%E7%9F%B3&from_source=article">红石 </a><a href="https://search.bilibili.com/article?keyword=%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95&from_source=article">使用方法 </a><a href="https://search.bilibili.com/article?keyword=Minecraft&from_source=article">Minecraft </a>[Carpet Mod](<a href="https://search.bilibili.com/article?keyword=Carpet">https://search.bilibili.com/article?keyword=Carpet</a> Mod&amp;from_source&#x3D;article)</p>]]></content>
    
    
    <categories>
      
      <category>Minecraft</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Minecraft</tag>
      
      <tag>mod</tag>
      
      <tag>游戏</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ActiveMQ入门</title>
    <link href="/2022/04/21/java/ActiveMQ%E5%85%A5%E9%97%A8/"/>
    <url>/2022/04/21/java/ActiveMQ%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="1-ActiveMQ简介"><a href="#1-ActiveMQ简介" class="headerlink" title="1 ActiveMQ简介"></a>1 ActiveMQ简介</h2><h3 id="1-1-ActiveMQ是什么"><a href="#1-1-ActiveMQ是什么" class="headerlink" title="1.1 ActiveMQ是什么"></a>1.1 ActiveMQ是什么</h3><p>ActiveMQ是一个消息队列应用服务器（推送服务器）。支持JMS规范。</p><h4 id="1-1-1-JMS概述"><a href="#1-1-1-JMS概述" class="headerlink" title="1.1.1 JMS概述"></a>1.1.1 JMS概述</h4><p>JMS 全称：Java Message Service ，即为 Java 消息服务，是一套 java 消息服务的 API 接口。实现了 JMS 标准的系统，称之为 JMS Provider。</p><h4 id="1-1-2-消息队列"><a href="#1-1-2-消息队列" class="headerlink" title="1.1.2 消息队列"></a>1.1.2 消息队列</h4><p>消息队列是在消息的传输过程中保存消息的容器，提供一种不同进程或者同一进程不同线程直接通讯的方式。</p><p><img src="/images/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E9%80%9A%E8%AE%AF%E6%96%B9%E5%BC%8F.png"></p><ul><li>Producer：消息生产者，负责产生和发送消息到 Broker；</li><li>Broker：消息处理中心。负责消息存储、确认、重试等，一般其中会包含多个 queue；</li><li>Consumer：消息消费者，负责从 Broker 中获取消息，并进行相应处理；</li></ul><p>常见消息队列应用：</p><ol><li>ActiveMQ</li></ol><blockquote><p>ActiveMQ 是Apache出品，最流行的，能力强劲的开源消息总线。ActiveMQ 是一个完全支持JMS1.1和J2EE 1.4规范的 JMS Provider实现。</p></blockquote><ol start="2"><li>RabbitMQ</li></ol><blockquote><p>RabbitMQ是一个在AMQP基础上完成的，可复用的企业消息系统。他遵循Mozilla Public License开源协议。开发语言为Erlang。</p></blockquote><ol start="3"><li>RocketMQ</li></ol><blockquote><p>由阿里巴巴定义开发的一套消息队列应用服务。</p></blockquote><h3 id="1-2-ActiveMQ能做什么"><a href="#1-2-ActiveMQ能做什么" class="headerlink" title="1.2 ActiveMQ能做什么"></a>1.2 ActiveMQ能做什么</h3><ol><li>实现两个不同应用(程序)之间的消息通讯。</li><li>实现同一个应用，不同模块之间的消息通讯。（确保数据发送的稳定性）</li></ol><h3 id="1-3-ActiveMQ主要特点"><a href="#1-3-ActiveMQ主要特点" class="headerlink" title="1.3 ActiveMQ主要特点"></a>1.3 ActiveMQ主要特点</h3><ol><li>支持多语言、多协议客户端。语言: Java,C,C++,C#,Ruby,Perl,Python,PHP。应用协议： OpenWire, Stomp REST, WS Notification, XMPP, AMQP</li><li>对Spring的支持，ActiveMQ可以很容易整合到Spring的系统里面去。</li><li>支持高可用、高性能的集群模式。</li></ol><h2 id="2-入门示例"><a href="#2-入门示例" class="headerlink" title="2 入门示例"></a>2 入门示例</h2><h3 id="2-1-需求"><a href="#2-1-需求" class="headerlink" title="2.1 需求"></a>2.1 需求</h3><p>使用 ActiveMQ 实现消息队列模型。</p><h3 id="2-2-配置步骤说明"><a href="#2-2-配置步骤说明" class="headerlink" title="2.2 配置步骤说明"></a>2.2 配置步骤说明</h3><ol><li>搭建ActiveMQ消息服务器。</li><li>创建一个java项目。</li><li>创建消息生产者，发送消息。</li><li>创建消息消费者，接收消息。</li></ol><h3 id="2-3-第一部分：搭建ActiveMQ消息服务器"><a href="#2-3-第一部分：搭建ActiveMQ消息服务器" class="headerlink" title="2.3 第一部分：搭建ActiveMQ消息服务器"></a>2.3 第一部分：搭建ActiveMQ消息服务器</h3><h4 id="2-3-1-第一步：下载、上传至Linux，并解压"><a href="#2-3-1-第一步：下载、上传至Linux，并解压" class="headerlink" title="2.3.1 第一步：下载、上传至Linux，并解压"></a>2.3.1 第一步：下载、上传至Linux，并解压</h4><p><img src="https://app.yinxiang.com/shard/s10/res/6a1c4753-556e-4e59-aa9a-bc0f61794b97/fcf934ecb4c6bfc3d35b41acdcd0db48.jpg" alt="img"></p><h4 id="2-3-2-第二步：启动ActiveMQ服务器"><a href="#2-3-2-第二步：启动ActiveMQ服务器" class="headerlink" title="2.3.2 第二步：启动ActiveMQ服务器"></a>2.3.2 第二步：启动ActiveMQ服务器</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs"><br></code></pre></td></tr></table></figure><h4 id="2-3-3-第三步：浏览器访问-ActiveMQ-管理界面"><a href="#2-3-3-第三步：浏览器访问-ActiveMQ-管理界面" class="headerlink" title="2.3.3 第三步：浏览器访问 ActiveMQ 管理界面"></a>2.3.3 第三步：浏览器访问 ActiveMQ 管理界面</h4><h5 id="2-3-3-1-Step1：查看ActiveMQ管理界面的服务端口。在-conf-jetty-xml-中"><a href="#2-3-3-1-Step1：查看ActiveMQ管理界面的服务端口。在-conf-jetty-xml-中" class="headerlink" title="2.3.3.1 Step1：查看ActiveMQ管理界面的服务端口。在 /conf/jetty.xml 中"></a>2.3.3.1 Step1：查看ActiveMQ管理界面的服务端口。在 <code>/conf/jetty.xml</code> 中</h5><p><img src="https://app.yinxiang.com/shard/s10/res/13c2f74c-102a-4933-94f8-ff55698af2e5/bd4af40805acdeba73490f709b45c11d.jpg" alt="img"></p><p>默认端口为: 8161</p><h5 id="2-3-3-2-Step2：查看ActiveMQ用户、密码。在-conf-users-properties-中"><a href="#2-3-3-2-Step2：查看ActiveMQ用户、密码。在-conf-users-properties-中" class="headerlink" title="2.3.3.2 Step2：查看ActiveMQ用户、密码。在 /conf/users.properties 中"></a>2.3.3.2 Step2：查看ActiveMQ用户、密码。在 <code>/conf/users.properties</code> 中</h5><p>默认用户名密码均为 admin</p><h5 id="2-3-3-3-Step3：访问ActiveMQ管理控制台。地址：http-ip-8161"><a href="#2-3-3-3-Step3：访问ActiveMQ管理控制台。地址：http-ip-8161" class="headerlink" title="2.3.3.3 Step3：访问ActiveMQ管理控制台。地址：http://ip:8161/"></a>2.3.3.3 Step3：访问ActiveMQ管理控制台。地址：<a href="https://link.zhihu.com/?target=http://ip:8161/">http://ip:8161/</a></h5><blockquote><p>注意：若防火墙没有配置该服务的端口，必须在防火墙中配置。</p></blockquote><p><img src="https://app.yinxiang.com/shard/s10/res/1d95eea4-3427-46eb-b9db-450fe2567071/42221aa2fdb66d6d7320b8f65b8ffe89.jpg" alt="img"></p><p>点击图示选项后，进行登录</p><p><img src="https://app.yinxiang.com/shard/s10/res/4aeef141-e4a9-45cd-9135-570efa6396e8/c66e1d41d6cc07c91a4252fa8619b66c.jpg" alt="img"></p><p>然后成功进入管理界面</p><p><img src="https://app.yinxiang.com/shard/s10/res/3350677b-b14f-4d11-bcec-93de7e3ac31a/f18b1758998494e99858d9bcc91bdcc7.jpg" alt="img"></p><h3 id="2-4-第二部分：创建java项目，导入jar包"><a href="#2-4-第二部分：创建java项目，导入jar包" class="headerlink" title="2.4 第二部分：创建java项目，导入jar包"></a>2.4 第二部分：创建java项目，导入jar包</h3><p>ActiveMQ 的解压包中，提供了运行 ActiveMQ 需要的 jar 包。</p><p><img src="https://app.yinxiang.com/shard/s10/res/c458e8b9-fa52-4024-9b52-8b0fdb9b03f7/d4ba9a1079b2ae843bd4489eaae6ac75.jpg" alt="img"></p><p>ActiveMQ 是实现了 JMS 规范的。在实现消息服务的时候，必须基于 API 接口规范。</p><h4 id="2-4-1-JMS-常用的-API-说明"><a href="#2-4-1-JMS-常用的-API-说明" class="headerlink" title="2.4.1 JMS 常用的 API 说明"></a>2.4.1 JMS 常用的 API 说明</h4><p>下述 API 都是接口类型，定义在 javax.jms 包中，是 JMS 标准接口定义。ActiveMQ 完全实现这一套 api 标准。</p><h5 id="2-4-1-1-ConnectionFactory"><a href="#2-4-1-1-ConnectionFactory" class="headerlink" title="2.4.1.1 ConnectionFactory"></a>2.4.1.1 ConnectionFactory</h5><p>链接工厂, 用于创建链接的工厂类型。</p><h5 id="2-4-1-2-Connection"><a href="#2-4-1-2-Connection" class="headerlink" title="2.4.1.2 Connection"></a>2.4.1.2 Connection</h5><p>链接，用于建立访问ActiveMQ连接的类型, 由链接工厂创建。</p><h5 id="2-4-1-3-Session"><a href="#2-4-1-3-Session" class="headerlink" title="2.4.1.3 Session"></a>2.4.1.3 Session</h5><p>会话, 一次持久有效、有状态的访问，由链接创建。</p><h5 id="2-4-1-4-Destination-amp-Queue-amp-Topic"><a href="#2-4-1-4-Destination-amp-Queue-amp-Topic" class="headerlink" title="2.4.1.4 Destination &amp; Queue &amp; Topic"></a>2.4.1.4 Destination &amp; Queue &amp; Topic</h5><p>目的地, 即本次访问ActiveMQ消息队列的地址，由Session会话创建。</p><ol><li>interface Queue extends Destination</li><li>Queue：队列模型，只有一个消费者。消息一旦被消费，默认删除。</li><li>Topic：主题订阅中的消息，会发送给所有的消费者同时处理。</li></ol><h5 id="2-4-1-5-Message"><a href="#2-4-1-5-Message" class="headerlink" title="2.4.1.5 Message"></a>2.4.1.5 Message</h5><p>消息，在消息传递过程中数据载体对象，是所有消息【文本消息TextMessage，对象消息ObjectMessage等】具体类型的顶级接口，可以通过会话创建或通过会话从 ActiveMQ 服务中获取。</p><h5 id="2-4-1-6-MessageProducer"><a href="#2-4-1-6-MessageProducer" class="headerlink" title="2.4.1.6 MessageProducer"></a>2.4.1.6 MessageProducer</h5><p>消息生成者, 在一次有效会话中, 用于发送消息给ActiveMQ服务的工具，由Session会话创建。</p><h5 id="2-4-1-7-MessageCustomer"><a href="#2-4-1-7-MessageCustomer" class="headerlink" title="2.4.1.7 MessageCustomer"></a>2.4.1.7 MessageCustomer</h5><p>消息消费者【消息订阅者，消息处理者】, 在一次有效会话中, 用于ActiveMQ服务中获取消息的工具，由Session会话创建。</p><h3 id="2-5-第三部分：创建消息生成者，发送消息"><a href="#2-5-第三部分：创建消息生成者，发送消息" class="headerlink" title="2.5 第三部分：创建消息生成者，发送消息"></a>2.5 第三部分：创建消息生成者，发送消息</h3><blockquote><p>注意：ActiveMQ 服务接受消息的入口是 61616 端口，防火墙还需要开放此端口</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.ptp;<br><br><span class="hljs-keyword">import</span> org.apache.activemq.ActiveMQConnectionFactory;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> javax.jms.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 消息生产者</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 10:30</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProducer</span> &#123;<br><br>    <span class="hljs-comment">//定义连接工厂</span><br>    ConnectionFactory connectionFactory;<br><br>    <span class="hljs-comment">//定义连接</span><br>    Connection connection;<br><br>    <span class="hljs-comment">//定义session会话</span><br>    Session session;<br><br>    <span class="hljs-comment">//定义消息目的地</span><br>    Destination destination;<br><br>    <span class="hljs-comment">//定义消息生产者</span><br>    MessageProducer producer;<br><br>    <span class="hljs-comment">//定义消息</span><br>    Message message;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JMSException &#123;<br>        <span class="hljs-comment">//创建连接工厂</span><br>        connectionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;tcp://localhost:61616&quot;</span>);<br>        <span class="hljs-comment">//创建连接</span><br>        connection = connectionFactory.createConnection();<br>        <span class="hljs-comment">//启动连接</span><br>        connection.start();<br>        <span class="hljs-comment">//创建session会话，第一个参数是是否开启事务，第二个参数是自动确认模式</span><br>        session = connection.createSession(<span class="hljs-literal">false</span>, Session.AUTO_ACKNOWLEDGE);<br>        <span class="hljs-comment">//创建消息目的地，Queue：消息类型是队列，Topic：消息类型是主题</span><br>        destination = session.createQueue(<span class="hljs-string">&quot;myQueue&quot;</span>);<br>        <span class="hljs-comment">//创建消息生产者</span><br>        producer = session.createProducer(destination);<br>        <span class="hljs-comment">//设置消息生产者的持久化</span><br>        <span class="hljs-comment">// producer.setDeliveryMode(DeliveryMode.PERSISTENT);</span><br>        <span class="hljs-comment">//创建消息</span><br>        message = session.createTextMessage(<span class="hljs-string">&quot;hello world&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendMessage</span><span class="hljs-params">(String message)</span> <span class="hljs-keyword">throws</span> JMSException &#123;<br>        <span class="hljs-comment">//创建消息</span><br>        <span class="hljs-type">TextMessage</span> <span class="hljs-variable">textMessage</span> <span class="hljs-operator">=</span> session.createTextMessage(message);<br>        <span class="hljs-comment">//发送消息</span><br>        producer.send(textMessage);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JMSException &#123;<br>        <span class="hljs-comment">//关闭消息生产者</span><br>        producer.close();<br>        <span class="hljs-comment">//关闭会话</span><br>        session.close();<br>        <span class="hljs-comment">//关闭连接</span><br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sentToActiveMQ</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">             * 创建连接工厂，由 ActiveMQ 实现。构造方法参数</span><br><span class="hljs-comment">             * userName 用户名</span><br><span class="hljs-comment">             * password 密码</span><br><span class="hljs-comment">             * brokerURL 访问 ActiveMQ 服务的路径地址，结构为: 协议名://主机地址:端口号</span><br><span class="hljs-comment">             */</span><br>            connectionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-string">&quot;tcp://127.0.0.1:61616&quot;</span>);<br>            <span class="hljs-comment">//创建连接</span><br>            connection = connectionFactory.createConnection();<br>            <span class="hljs-comment">//启动连接</span><br>            connection.start();<br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">             * 创建会话，参数含义:</span><br><span class="hljs-comment">             * 1.transacted - 是否使用事务</span><br><span class="hljs-comment">             * 2.acknowledgeMode - 消息确认机制，可选机制为：</span><br><span class="hljs-comment">             *  1）Session.AUTO_ACKNOWLEDGE - 自动确认消息</span><br><span class="hljs-comment">             *  2）Session.CLIENT_ACKNOWLEDGE - 客户端确认消息机制</span><br><span class="hljs-comment">             *  3）Session.DUPS_OK_ACKNOWLEDGE - 有副本的客户端确认消息机制</span><br><span class="hljs-comment">             */</span><br>            session = connection.createSession(<span class="hljs-literal">false</span>, Session.AUTO_ACKNOWLEDGE);<br>            <span class="hljs-comment">//创建消息目的地，也就是队列名，Queue：消息类型是队列，Topic：消息类型是主题</span><br>            destination = session.createQueue(<span class="hljs-string">&quot;myQueue&quot;</span>);<br>            <span class="hljs-comment">//创建消息生产者</span><br>            producer = session.createProducer(destination);<br>            <span class="hljs-comment">//创建消息</span><br>            message = session.createTextMessage(<span class="hljs-string">&quot;hello world&quot;</span>);<br>            <span class="hljs-comment">//发送消息</span><br>            producer.send(message);<br>        &#125; <span class="hljs-keyword">catch</span> (JMSException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">//关闭消息生产者</span><br>                <span class="hljs-keyword">if</span> (producer != <span class="hljs-literal">null</span>) &#123;<br>                    producer.close();<br>                &#125;<br>                <span class="hljs-comment">//关闭会话</span><br>                <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) &#123;<br>                    session.close();<br>                &#125;<br>                <span class="hljs-comment">//关闭连接</span><br>                <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span>) &#123;<br>                    connection.close();<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (JMSException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用测试方法执行后，可以看到成功将消息加入队列</p><p><img src="https://app.yinxiang.com/shard/s10/res/e7587e63-6b06-4825-aab8-de07cfd1c3cb/03a630300f7b7dc980e409180a66a95c.jpg" alt="img"></p><h3 id="2-6-第四部分：创建消息消费者，消费消息"><a href="#2-6-第四部分：创建消息消费者，消费消息" class="headerlink" title="2.6 第四部分：创建消息消费者，消费消息"></a>2.6 第四部分：创建消息消费者，消费消息</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.ptp;<br><br><span class="hljs-keyword">import</span> org.apache.activemq.ActiveMQConnectionFactory;<br><br><span class="hljs-keyword">import</span> javax.jms.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 消费者</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 10:30</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConsumer</span> &#123;<br><br>    <span class="hljs-comment">//定义连接工厂</span><br>    ConnectionFactory connectionFactory;<br><br>    <span class="hljs-comment">//定义连接</span><br>    Connection connection;<br><br>    <span class="hljs-comment">//定义会话</span><br>    Session session;<br><br>    <span class="hljs-comment">//定义目的地</span><br>    Destination destination;<br><br>    <span class="hljs-comment">//定义消费者</span><br>    MessageConsumer consumer;<br><br>    <span class="hljs-comment">//定义消息</span><br>    Message message;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//创建连接工厂</span><br>        connectionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;tcp://localhost:61616&quot;</span>);<br>        <span class="hljs-comment">//创建连接</span><br>        connection = connectionFactory.createConnection();<br>        <span class="hljs-comment">//启动连接</span><br>        connection.start();<br>        <span class="hljs-comment">//创建会话</span><br>        session = connection.createSession(<span class="hljs-literal">false</span>, Session.AUTO_ACKNOWLEDGE);<br>        <span class="hljs-comment">//创建目的地</span><br>        destination = session.createQueue(<span class="hljs-string">&quot;myQueue&quot;</span>);<br>        <span class="hljs-comment">//创建消费者</span><br>        consumer = session.createConsumer(destination);<br><br>        <span class="hljs-comment">//接收消息</span><br>        message = consumer.receive();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//关闭消费者</span><br>        consumer.close();<br>        <span class="hljs-comment">//关闭会话</span><br>        session.close();<br>        <span class="hljs-comment">//关闭连接</span><br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">MyConsumer</span> <span class="hljs-variable">myConsumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyConsumer</span>();<br>        myConsumer.init();<br>        System.out.println(<span class="hljs-string">&quot;接收到的消息是：&quot;</span> + ((TextMessage) myConsumer.message).getText());<br>        myConsumer.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>测试结果</p><p>且后台管理界面也可以看到已被消费</p><p><img src="https://app.yinxiang.com/shard/s10/res/48b94acc-3d5a-4b7a-918a-c0bec206414d/3b846106d078408c3474da63593fe92a.jpg" alt="img"></p><h2 id="3-ActiveMQ监听器"><a href="#3-ActiveMQ监听器" class="headerlink" title="3 ActiveMQ监听器"></a>3 ActiveMQ监听器</h2><p>在前面的示例中，我们发现消费者每次只能消费一条消息。当队列中有多条消息的时候，我们需要多次运行消费者，才能消费完这些消息。我们希望一次将所有的消息全部接收，可以使用 ActiveMQ 监听器来监听队列，持续消费消息。</p><p>答：使用ActiveMQ监听器来监听队列，持续消费消息。</p><h3 id="3-1-配置步骤说明"><a href="#3-1-配置步骤说明" class="headerlink" title="3.1 配置步骤说明"></a>3.1 配置步骤说明</h3><ol><li>创建一个监听器对象。</li><li>修改消费者代码，加载监听器</li></ol><h3 id="3-2-配置步骤"><a href="#3-2-配置步骤" class="headerlink" title="3.2 配置步骤"></a>3.2 配置步骤</h3><h4 id="3-2-1-第一步：创建监听器-MyListener-类"><a href="#3-2-1-第一步：创建监听器-MyListener-类" class="headerlink" title="3.2.1 第一步：创建监听器 MyListener 类"></a>3.2.1 第一步：创建监听器 MyListener 类</h4><blockquote><p>自定义监听器需要实现 MessageListener 接口</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.ptp;<br><br><span class="hljs-keyword">import</span> javax.jms.Message;<br><span class="hljs-keyword">import</span> javax.jms.MessageListener;<br><span class="hljs-keyword">import</span> javax.jms.TextMessage;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 消息监听器</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 10:30</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MessageListener</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(Message message)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">TextMessage</span> <span class="hljs-variable">textMessage</span> <span class="hljs-operator">=</span> (TextMessage) message;<br>            System.out.println(<span class="hljs-string">&quot;收到消息：&quot;</span> + textMessage.getText());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-2-2-第二步：修改MyConsumer代码，加载监听器"><a href="#3-2-2-第二步：修改MyConsumer代码，加载监听器" class="headerlink" title="3.2.2 第二步：修改MyConsumer代码，加载监听器"></a>3.2.2 第二步：修改MyConsumer代码，加载监听器</h4><blockquote><p>监听器需要持续加载，因此需要使消费程序不结束。这里我们使用输入流阻塞消费线程结束。（实际开发中，使用web项目加载）</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.ptp;<br><br><span class="hljs-keyword">import</span> org.apache.activemq.ActiveMQConnectionFactory;<br><br><span class="hljs-keyword">import</span> javax.jms.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 消费者</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 10:30</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConsumer</span> &#123;<br><br>    <span class="hljs-comment">//定义连接工厂</span><br>    ConnectionFactory connectionFactory;<br><br>    <span class="hljs-comment">//定义连接</span><br>    Connection connection;<br><br>    <span class="hljs-comment">//定义会话</span><br>    Session session;<br><br>    <span class="hljs-comment">//定义目的地</span><br>    Destination destination;<br><br>    <span class="hljs-comment">//定义消费者</span><br>    MessageConsumer consumer;<br><br>    <span class="hljs-comment">//定义消息</span><br>    Message message;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//创建连接工厂</span><br>        connectionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;tcp://localhost:61616&quot;</span>);<br>        <span class="hljs-comment">//创建连接</span><br>        connection = connectionFactory.createConnection();<br>        <span class="hljs-comment">//启动连接</span><br>        connection.start();<br>        <span class="hljs-comment">//创建会话</span><br>        session = connection.createSession(<span class="hljs-literal">false</span>, Session.AUTO_ACKNOWLEDGE);<br>        <span class="hljs-comment">//创建目的地</span><br>        destination = session.createQueue(<span class="hljs-string">&quot;myQueue&quot;</span>);<br>        <span class="hljs-comment">//创建消费者</span><br>        consumer = session.createConsumer(destination);<br><br>        <span class="hljs-comment">//接收消息</span><br>        <span class="hljs-comment">// message = consumer.receive();</span><br><br>        <span class="hljs-comment">//加载监听器</span><br>        consumer.setMessageListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyListener</span>());<br><br>        <span class="hljs-comment">//监听器需要持续加载，所以需要一直调用，使用输入流的方式阻塞当前线程结束</span><br>        System.in.read();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//关闭消费者</span><br>        consumer.close();<br>        <span class="hljs-comment">//关闭会话</span><br>        session.close();<br>        <span class="hljs-comment">//关闭连接</span><br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">MyConsumer</span> <span class="hljs-variable">myConsumer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyConsumer</span>();<br>        myConsumer.init();<br>        System.out.println(<span class="hljs-string">&quot;接收到的消息是：&quot;</span> + ((TextMessage) myConsumer.message).getText());<br>        myConsumer.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-3-测试"><a href="#3-3-测试" class="headerlink" title="3.3 测试"></a>3.3 测试</h3><p>先添加 5 条消息到队列</p><p><img src="https://app.yinxiang.com/shard/s10/res/b08580b7-5fd2-46af-bef0-370a52c88a71/5ebde2abd78a62620dd3b467d56bc19a.jpg" alt="img"></p><p>运行 Consumer 的测试程序，可以看到连续接受了 5 条消息，且接续添加会继续输出消息。</p><h2 id="4-ActiveMQ消息服务模式"><a href="#4-ActiveMQ消息服务模式" class="headerlink" title="4 ActiveMQ消息服务模式"></a>4 ActiveMQ消息服务模式</h2><p>在入门示例中，只能向一个消费者发送消息。但是有一些场景，需求有多个消费者都能接收到消息，比如：美团 APP 每天的消息推送。该如何实现呢？</p><p>ActiveMQ是通过不同的服务模式来解决这个问题的。要搞清楚这个问题，必须知道ActiveMQ有哪些应用模式。</p><h3 id="4-1-PTP模式（point-to-point）"><a href="#4-1-PTP模式（point-to-point）" class="headerlink" title="4.1 PTP模式（point to point）"></a>4.1 PTP模式（point to point）</h3><p>消息模型</p><p><img src="https://app.yinxiang.com/shard/s10/res/07d3b4e3-5424-4029-810a-2821c1d4fbc9/521364d5b2704bd9d94707f611fab6ee.jpg" alt="img"></p><ol><li>消息生产者生产消息发送到queue中，然后消息消费者从queue中取出并且消费消息。</li><li>消息被消费以后，queue中不再有存储，所以消息消费者不可能消费到已经被消费的消息。</li><li>Queue支持存在多个消费者，但是对一个消息而言，只会有一个消费者可以消费、其它的则不能消费此消息了。</li><li>当消费者不存在时，消息会一直保存，直到有消费消费</li></ol><blockquote><p>入门示例就是采用的这种 PTP 服务模式</p></blockquote><h3 id="4-2-TOPIC（主题订阅模式）"><a href="#4-2-TOPIC（主题订阅模式）" class="headerlink" title="4.2 TOPIC（主题订阅模式）"></a>4.2 TOPIC（主题订阅模式）</h3><p>消息模型</p><p><img src="https://app.yinxiang.com/shard/s10/res/64d3faa7-7e49-49c2-9819-95af7d6184ee/2209959e1f5abf1d75100faa40807c91.jpg" alt="img"></p><ol><li>消息生产者（发布）将消息发布到topic中，同时有多个消息消费者（订阅）消费该消息。</li><li>和点对点方式不同，发布到topic的消息会被所有订阅者消费。</li><li>当生产者发布消息，不管是否有消费者。都不会保存消息</li></ol><p>所以，主题订阅模式下，&#x3D;&#x3D;一定要先有消息的消费者(订阅者)，后有消息的生产者(发布者)&#x3D;&#x3D;。</p><h2 id="5-Topic模式实现"><a href="#5-Topic模式实现" class="headerlink" title="5 Topic模式实现"></a>5 Topic模式实现</h2><h3 id="5-1-配置步骤说明"><a href="#5-1-配置步骤说明" class="headerlink" title="5.1 配置步骤说明"></a>5.1 配置步骤说明</h3><ol><li><del>搭建ActiveMQ消息服务器。</del></li><li>创建主题订阅者。</li><li>创建主题发布者。</li></ol><h3 id="5-2-配置步骤"><a href="#5-2-配置步骤" class="headerlink" title="5.2 配置步骤"></a>5.2 配置步骤</h3><h4 id="5-2-1-第一部分：搭建消息服务器。（已实现）"><a href="#5-2-1-第一部分：搭建消息服务器。（已实现）" class="headerlink" title="5.2.1 第一部分：搭建消息服务器。（已实现）"></a>5.2.1 <del>第一部分：搭建消息服务器。（已实现）</del></h4><h4 id="5-2-2-第二部分：创建主题订阅者-MySubscriber"><a href="#5-2-2-第二部分：创建主题订阅者-MySubscriber" class="headerlink" title="5.2.2 第二部分：创建主题订阅者 MySubscriber"></a>5.2.2 第二部分：创建主题订阅者 MySubscriber</h4><p>主题订阅模式下，可以有多个订阅者。我们这里用多线程来模拟。创建 MySubscriber 类，实现 Runnable 接口</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.topic;<br><br><span class="hljs-keyword">import</span> org.apache.activemq.ActiveMQConnectionFactory;<br><br><span class="hljs-keyword">import</span> javax.jms.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 主题订阅者</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 10:52</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// 定义连接工厂</span><br>    TopicConnectionFactory factory;<br><br>    <span class="hljs-comment">// JMS连接，属于Pub/Sub方式的连接</span><br>    TopicConnection connection;<br><br>    <span class="hljs-comment">// JMS会话，属于Pub/Sub方式的会话</span><br>    TopicSession session;<br><br>    <span class="hljs-comment">// 定义消息队列，消息队列名称为：TEST_QUEUE</span><br>    Topic topic;<br><br>    <span class="hljs-comment">// 主题订阅者</span><br>    TopicSubscriber subscriber;<br><br>    <span class="hljs-comment">// 定义消息</span><br>    Message message;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 创建连接工厂</span><br>            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;tcp://localhost:61616&quot;</span>);<br>            <span class="hljs-comment">// 通过工厂创建连接</span><br>            connection = factory.createTopicConnection();<br>            <span class="hljs-comment">// 开启连接</span><br>            connection.start();<br>            <span class="hljs-comment">// 创建会话</span><br>            session = connection.createTopicSession(<span class="hljs-literal">false</span>, TopicSession.AUTO_ACKNOWLEDGE);<br>            <span class="hljs-comment">// 创建消息队列 参数：主题名称，是否独占，是否支持事务（topic模型）</span><br>            topic = session.createTopic(<span class="hljs-string">&quot;topic&quot;</span>);<br>            <span class="hljs-comment">// 创建订阅者</span><br>            subscriber = session.createSubscriber(topic);<br>            <span class="hljs-comment">// 接收消息，会阻塞线程</span><br>            message = subscriber.receive();<br>            <span class="hljs-comment">// 打印消息</span><br>            System.out.println(<span class="hljs-string">&quot;收到消息：&quot;</span> + ((TextMessage) message).getText());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// 关闭资源</span><br>                <span class="hljs-keyword">if</span> (subscriber != <span class="hljs-literal">null</span>) &#123;<br>                    subscriber.close();<br>                &#125;<br>                <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) &#123;<br>                    session.close();<br>                &#125;<br>                <span class="hljs-keyword">if</span> (connection != <span class="hljs-literal">null</span>) &#123;<br>                    connection.close();<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (JMSException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>注意 &#x3D;&#x3D;junit 不支持多线程测试&#x3D;&#x3D;，需要使用 main 方法执行测试</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.topic;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: Topic模式测试类</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 11:03</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActiveMQTest</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">MySubscriber</span> <span class="hljs-variable">subscriber</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MySubscriber</span>();<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(subscriber);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(subscriber);<br>        t1.start();<br>        t2.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>启动程序后可以从管理面板看到该 topic 下有两个订阅者</p><p><img src="https://app.yinxiang.com/shard/s10/res/7eb93ed8-6261-48ef-b45b-c06f8053e104/523443a72c1ea5b8a7ba4f557f2b8c3a.jpg" alt="img"></p><h4 id="5-2-3-第三部分：创建主题发布者-MyPublisher"><a href="#5-2-3-第三部分：创建主题发布者-MyPublisher" class="headerlink" title="5.2.3 第三部分：创建主题发布者 MyPublisher"></a>5.2.3 第三部分：创建主题发布者 MyPublisher</h4><p>创建 MyPublish 类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.topic;<br><br><span class="hljs-keyword">import</span> org.apache.activemq.ActiveMQConnectionFactory;<br><br><span class="hljs-keyword">import</span> javax.jms.*;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 主题发布者</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 11:07</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPublisher</span> &#123;<br><br>    <span class="hljs-comment">// 定义连接工厂</span><br>    TopicConnectionFactory factory;<br><br>    <span class="hljs-comment">// 定义连接</span><br>    TopicConnection connection;<br><br>    <span class="hljs-comment">// 定义会话</span><br>    TopicSession session;<br><br>    <span class="hljs-comment">// 定义发布者</span><br>    TopicPublisher publisher;<br><br>    <span class="hljs-comment">// 定义主题</span><br>    Topic topic;<br><br>    <span class="hljs-comment">// 定义消息</span><br>    Message message;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publishTopic</span><span class="hljs-params">(String topicName, String publishText)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 创建连接工厂</span><br>            factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveMQConnectionFactory</span>(<span class="hljs-string">&quot;tcp://localhost:61616&quot;</span>);<br>            <span class="hljs-comment">// 通过连接工厂创建连接</span><br>            connection = factory.createTopicConnection();<br>            <span class="hljs-comment">// 启动连接</span><br>            connection.start();<br>            <span class="hljs-comment">// 创建会话</span><br>            session = connection.createTopicSession(<span class="hljs-literal">false</span>, TopicSession.AUTO_ACKNOWLEDGE);<br>            <span class="hljs-comment">// 创建主题</span><br>            topic = session.createTopic(topicName);<br>            <span class="hljs-comment">// 创建发布者</span><br>            publisher = session.createPublisher(topic);<br>            <span class="hljs-comment">// 创建消息</span><br>            message = session.createTextMessage(publishText);<br>            <span class="hljs-comment">// 发送消息</span><br>            publisher.send(message);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// 关闭资源</span><br>                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != publisher) &#123;<br>                    publisher.close();<br>                &#125;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != session) &#123;<br>                    session.close();<br>                &#125;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != connection) &#123;<br>                    connection.close();<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (JMSException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>新增测试方法，发布主题消息</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mq.activemq.topic;<br><br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 1.0</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@program</span>: spring</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 发布Topic消息测试类</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: chris</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@create</span>: 2022-04-21 11:18</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK1.8</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PublisherTest</span> &#123;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">topicPublishTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MyPublisher</span> <span class="hljs-variable">publisher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPublisher</span>();<br>        publisher.publishTopic(<span class="hljs-string">&quot;topic&quot;</span>, <span class="hljs-string">&quot;hello, topic&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-2-4-第四部分：执行测试"><a href="#5-2-4-第四部分：执行测试" class="headerlink" title="5.2.4 第四部分：执行测试"></a>5.2.4 第四部分：执行测试</h4><p>执行 topicPublisherTest，可以看到订阅者立即收到了消息</p><p><img src="https://app.yinxiang.com/shard/s10/res/f2078f97-4c7e-4c8e-ba43-24c470248206/31f1441e8725ffbd6523ddf15f63d0e0.jpg" alt="img"></p><p>同时在管理页面也能看到一条消息进入，被读取了两次。</p><p><img src="https://app.yinxiang.com/shard/s10/res/eb6a652f-51cb-439b-995f-065c893be329/bf6562f900272d674d66f13010f90f16.jpg" alt="img"></p><h2 id="6-ActiveMQ持久化"><a href="#6-ActiveMQ持久化" class="headerlink" title="6 ActiveMQ持久化"></a>6 ActiveMQ持久化</h2><p>当队列中有未被消费的消息时，我们重新启动ActiveMQ服务器后，发现消息仍然在队列中。</p><p>ActiveMQ 是支持持久化的，可以永久保存消息。消息是保存在内存中的。当内存空间不足，或者ActiveMQ服务关闭的时候，消息会被持久化到磁盘上。被消费的时候，再加载到内存空间中。</p><p>ActiveMQ持久化方式在 <code>activemq/conf/activemq.xml</code> 中指定</p><h3 id="6-1-kahadb-方式"><a href="#6-1-kahadb-方式" class="headerlink" title="6.1 kahadb 方式"></a>6.1 kahadb 方式</h3><p>kahadb 方式是 ActiveMQ 默认的持久化策略。不会保存已经被消费过的消息。从配置文件中可以看到默认的存储地址，也就是 <code>/usr/local/activemq/data/kahadb</code></p><p><img src="/images/image-20220421122020902.png" alt="image-20220421122020902"></p><h3 id="6-2-AMQ方式（已过时）"><a href="#6-2-AMQ方式（已过时）" class="headerlink" title="6.2 AMQ方式（已过时）"></a>6.2 AMQ方式（已过时）</h3><p>5.3 版本之前，现在已经过时，不考虑。</p><h3 id="6-3-JDBC持久化方式"><a href="#6-3-JDBC持久化方式" class="headerlink" title="6.3 JDBC持久化方式"></a>6.3 JDBC持久化方式</h3><p>ActiveMQ 可以将数据持久化到数据库中，支持使用任意的数据库。</p><h4 id="6-3-1-配置步骤说明"><a href="#6-3-1-配置步骤说明" class="headerlink" title="6.3.1 配置步骤说明"></a>6.3.1 配置步骤说明</h4><ol><li>创建数据库</li><li>添加数据库连接 jar 依赖到 ActiveMQ 服务器</li><li>修改 ActiveMQ 配置，创建数据源。</li><li>修改 ActiveMQ 配置，修改持久化方式为 jdbc</li></ol><h4 id="6-3-2配置步骤"><a href="#6-3-2配置步骤" class="headerlink" title="6.3.2配置步骤"></a>6.3.2配置步骤</h4><h5 id="6-3-2-1-第一步：创建数据库"><a href="#6-3-2-1-第一步：创建数据库" class="headerlink" title="6.3.2.1 第一步：创建数据库"></a>6.3.2.1 第一步：创建数据库</h5><p>数据库最好不要跟 ActiveMQ 服务器在同一台机器。因为当 cpu 线程资源不足时，往队列中写入消息时，如果数据库上一次持久化还没结束，容易造成线程阻塞。</p><p>这里数据库建立在宿主机上，ActiveMQ 服务部署在虚拟机。</p><h5 id="6-3-2-2-第二步：添加jar依赖"><a href="#6-3-2-2-第二步：添加jar依赖" class="headerlink" title="6.3.2.2 第二步：添加jar依赖"></a>6.3.2.2 第二步：添加jar依赖</h5><p>配置数据源时，是支持连接池的，这里使用 druid 作为连接池。将 jdbc 驱动、druid 的 jar 包上传到 <code>activemq/lib/</code> 目录下</p><p><img src="https://app.yinxiang.com/shard/s10/res/f5d55b1a-d428-4084-978e-9c7c92187a2d/35b7bdcbdda625f4ed5e4e114e14ad76.jpg" alt="img"></p><h5 id="6-3-2-3-第三步：修改-activemq-conf-activemq-xml，创建数据源"><a href="#6-3-2-3-第三步：修改-activemq-conf-activemq-xml，创建数据源" class="headerlink" title="6.3.2.3 第三步：修改 activemq/conf/activemq.xml，创建数据源"></a>6.3.2.3 第三步：修改 <code>activemq/conf/activemq.xml</code>，创建数据源</h5><p>注意在 <code>&lt;broker&gt;</code> 节点外，创建数据源。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mysql-ds&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">&quot;close&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/activemq?serverTimezone=UTC<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8<span class="hljs-symbol">&amp;amp;</span>useSSL=false&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1106135&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxActive&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;poolPreparedStatements&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/images/image-20220421115732271.png" alt="image-20220421115732271"></p><h5 id="6-3-2-4-第四步：修改-conf-activemq-xml-，修改为-jdbc-持久化方式"><a href="#6-3-2-4-第四步：修改-conf-activemq-xml-，修改为-jdbc-持久化方式" class="headerlink" title="6.3.2.4 第四步：修改 /conf/activemq.xml ，修改为 jdbc 持久化方式"></a>6.3.2.4 第四步：修改 <code>/conf/activemq.xml</code> ，修改为 jdbc 持久化方式</h5><p>在 <code>&lt;broker&gt;</code> 节点内部，注释 kahadb 方式，添加 jdbc 方式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">persistenceAdapter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jdbcPersistenceAdapter</span> <span class="hljs-attr">dataSource</span>=<span class="hljs-string">&quot;#mysql-ds&quot;</span> <span class="hljs-attr">createTablesOnStartup</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">persistenceAdapter</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/images/image-20220421115832777.png" alt="image-20220421115832777"></p><h4 id="6-3-3-测试"><a href="#6-3-3-测试" class="headerlink" title="6.3.3 测试"></a>6.3.3 测试</h4><p>进入 <code>activemq/bin</code> 目录，使用命令 <code>./activemq restart</code> 重新启动 ActiveMQ。可以看到，数据库中新增了三张表。</p><p>运行入门示例中的测试类，往队列中写入一条消息，可以在表activemq_msgs中，看到新写入了一条数据</p><p><img src="/images/image-20220421120024482.png" alt="image-20220421120024482"></p><h4 id="6-3-4-三张表说明"><a href="#6-3-4-三张表说明" class="headerlink" title="6.3.4 三张表说明"></a>6.3.4 三张表说明</h4><ul><li>activemq_msgs ：存储消息，Queue和Topic都存储在这个表中</li><li>activemq_acks ：用于存储订阅关系。订阅模式下有效</li><li>activemq_lock ：集群模式下，存储主从节点关系</li></ul><h4 id="6-3-5-补充说明"><a href="#6-3-5-补充说明" class="headerlink" title="6.3.5 补充说明"></a>6.3.5 补充说明</h4><p>jdbc 持久化方式，只要Mysql数据库稳定运行，就能保证队列中消息的安全。安全级别高，但是效率低。因此，在实际开发中，除非是像银行这类对数据安全极高的业务，我们一般都是使用默认持久化方式 kahadb。</p><h2 id="7-ActiveMQ应用场景"><a href="#7-ActiveMQ应用场景" class="headerlink" title="7 ActiveMQ应用场景"></a>7 ActiveMQ应用场景</h2><h3 id="7-1-多模块解耦-模块之间消息通讯"><a href="#7-1-多模块解耦-模块之间消息通讯" class="headerlink" title="7.1 多模块解耦(模块之间消息通讯)"></a>7.1 多模块解耦(模块之间消息通讯)</h3><p>我们判断一个程序的优劣，有一个很重要的指标：高内聚、低耦合。</p><ul><li>高内聚：同一个模块中，功能是高度紧密的。</li><li>低耦合：各模块之间，业务尽量不要交叉。</li></ul><p>但是有一些业务功能，必须涉及到两个不同的业务，那我们就要想办法，尽量将它们解耦。以我们前面学习的 solr 为例，我们知道 solr 的数据来自数据库。这就意味着，当数据库中的商品发生变化时，我们需要同步更新索引库。这个时候我们就可以使用消息队列模型来解耦，添加添加业务和同步索引库业务。</p><p><img src="https://app.yinxiang.com/shard/s10/res/18dbf7b9-0912-49e5-8a5b-f87864e079cd/59175f7ca391dc4894ffc8318207cd01.jpg" alt="img"></p><h3 id="7-2-流量削峰（解决并发请求）"><a href="#7-2-流量削峰（解决并发请求）" class="headerlink" title="7.2 流量削峰（解决并发请求）"></a>7.2 流量削峰（解决并发请求）</h3><p><img src="https://app.yinxiang.com/shard/s10/res/6bfd8e9d-f568-4599-a860-0ed37b310c63/7f30e7239dbbc2274e1f19efa84f8bcb.jpg" alt="img"></p><p>订单处理，就可以由前端应用将订单信息放到队列，后端应用从队列里依次获得消息处理，高峰时的大量订单可以积压在队列里慢慢处理掉。由于同步通常意味着阻塞，而大量线程的阻塞会降低计算机的性能。</p><h3 id="7-3-日志处理"><a href="#7-3-日志处理" class="headerlink" title="7.3 日志处理"></a>7.3 日志处理</h3><p>日志处理是指将消息队列用在日志处理中，比如Kafka的应用，解决大量日志传输的问题。架构简化如下：</p><p><img src="https://app.yinxiang.com/shard/s10/res/69941a8e-44bd-48e7-bd48-2c6668972014/52b799e3f6942ac8e960368d2a80ede9.jpg" alt="img"></p><h3 id="7-4-同步业务异步处理"><a href="#7-4-同步业务异步处理" class="headerlink" title="7.4 同步业务异步处理"></a>7.4 同步业务异步处理</h3><p>需要：当我们在网站注册的时候，有时候需要认证邮箱或者手机号，这个时候保存数据到数据库之前，需要先等待认证结束。如果说认证程序耗时比较大，会影响影响用户注册的业务。这个时候，我们可以使用消息队列模型，将同步执行的业务，通过队列，变成异步处理。</p><p><img src="https://app.yinxiang.com/shard/s10/res/5b72f020-058a-455f-8e70-a6c660f7954b/387a9ba2ea3b172a45726d5d4acd9eb0.jpg" alt="img"></p><ol><li>在保存数据到数据库的时候，只需要将用户的邮箱写入队列，不需要等待邮箱认证程序执行结束，才把数据保存到数据库。</li><li>认证程序，通过监听队列，从中获取用户的邮箱地址，发送认证链接。</li></ol><h2 id="8-Spring-整合-ActiveMQ"><a href="#8-Spring-整合-ActiveMQ" class="headerlink" title="8 Spring 整合 ActiveMQ"></a>8 Spring 整合 ActiveMQ</h2><h3 id="8-1-必要性"><a href="#8-1-必要性" class="headerlink" title="8.1 必要性"></a>8.1 必要性</h3><p>Spring已经整合了jms规范了(spring-jms.jar)，而ActiveMQ是实现了jms规范的。这就意味着Spring整合ActiveMQ是非常方便的。并且Spring-jms，提供了一个JmsTemplate类，用来简化消息读写的业务代码。Spring整合ActivMQ之后，就可以使用该类，简化开发。</p><h3 id="8-2-需求"><a href="#8-2-需求" class="headerlink" title="8.2 需求"></a>8.2 需求</h3><p>使用Spring整合ActiveMQ，模拟限时抢购下的流量削峰问题。</p><h3 id="8-3-配置步骤"><a href="#8-3-配置步骤" class="headerlink" title="8.3 配置步骤"></a>8.3 配置步骤</h3><h4 id="8-3-1-第一部分：创建项目（使用maven）"><a href="#8-3-1-第一部分：创建项目（使用maven）" class="headerlink" title="8.3.1 第一部分：创建项目（使用maven）"></a>8.3.1 第一部分：创建项目（使用maven）</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.oza<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>activemq-demo04-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><span class="hljs-comment">&lt;!-- activemq --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.activemq<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>activemq-all<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.15.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.activemq<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>activemq-pool<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.15.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- spring jms --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jms<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.8.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.8.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- jsp相关 --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- jms api --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.jms<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.jms-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="8-3-2-第二部分：spring整合springmvc"><a href="#8-3-2-第二部分：spring整合springmvc" class="headerlink" title="8.3.2 第二部分：spring整合springmvc"></a>8.3.2 第二部分：spring整合springmvc</h4><h5 id="8-3-2-1-第一步：修改web-xml，配置springmvc核心控制器"><a href="#8-3-2-1-第一步：修改web-xml，配置springmvc核心控制器" class="headerlink" title="8.3.2.1 第一步：修改web.xml，配置springmvc核心控制器"></a>8.3.2.1 第一步：修改web.xml，配置springmvc核心控制器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.5&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>activemq-demo04-spring<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>characterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>characterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>dispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>dispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="8-3-2-2-第二步：配置springmvc-xml核心配置文件"><a href="#8-3-2-2-第二步：配置springmvc-xml核心配置文件" class="headerlink" title="8.3.2.2 第二步：配置springmvc.xml核心配置文件"></a>8.3.2.2 第二步：配置springmvc.xml核心配置文件</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span><span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span><span class="hljs-attr">xmlns:jms</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/jms&quot;</span><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-4.3.xsdhttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsdhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;org.oza.activemq&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="8-3-2-3-第三步：创建相关jsp页面"><a href="#8-3-2-3-第三步：创建相关jsp页面" class="headerlink" title="8.3.2.3 第三步：创建相关jsp页面"></a>8.3.2.3 第三步：创建相关jsp页面</h5><p>订单页面：order.jsp</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="language-xml">&lt;%</span><span class="language-ruby">@ page language=<span class="hljs-string">&quot;java&quot;</span> contentType=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span></span><span class="language-xml">%&gt;<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;save&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span>用户编号：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userId&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>订单金额：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;price&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>结果页面：success.jsp</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="language-xml">&lt;%</span><span class="language-ruby">@ page language=<span class="hljs-string">&quot;java&quot;</span> contentType=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span></span><span class="language-xml">%&gt;<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>订单提交成功!!!请稍后去结算中心支付。。。<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="8-3-2-4-第四步：java代码实现"><a href="#8-3-2-4-第四步：java代码实现" class="headerlink" title="8.3.2.4 第四步：java代码实现"></a>8.3.2.4 第四步：java代码实现</h5><p>创建 Order 类</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">package org.<span class="hljs-property">oza</span>.<span class="hljs-property">activemq</span>.<span class="hljs-property">pojo</span>;<span class="hljs-keyword">import</span> java.<span class="hljs-property">io</span>.<span class="hljs-property">Serializable</span>;<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span>&#123;<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final long serialVersionUID = 3622062034498580108L;<span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> id;<span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> userId;<span class="hljs-keyword">private</span> <span class="hljs-title class_">Float</span> price;<span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getId</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-keyword">return</span> id;&#125;<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setId</span>(<span class="hljs-params">Integer id</span>) &#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;&#125;<span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getUserId</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-keyword">return</span> userId;&#125;<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUserId</span>(<span class="hljs-params">Integer userId</span>) &#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = userId;&#125;<span class="hljs-keyword">public</span> <span class="hljs-title class_">Float</span> <span class="hljs-title function_">getPrice</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-keyword">return</span> price;&#125;<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPrice</span>(<span class="hljs-params">Float price</span>) &#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;&#125;<span class="hljs-meta">@Overridepublic</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Order [id=&quot;</span> + id + <span class="hljs-string">&quot;, userId=&quot;</span> + userId + <span class="hljs-string">&quot;, price=&quot;</span> + price + <span class="hljs-string">&quot;]&quot;</span>;&#125;&#125;<br></code></pre></td></tr></table></figure><p>创建 OrderController 类</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">package</span> org.oza.activemq.controller;<span class="hljs-keyword">import</span> org.oza.activemq.pojo.Order;<span class="hljs-keyword">import</span> org.oza.activemq.producer.OrderProducer;<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;<span class="hljs-meta">@Controllerpublic</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderController</span> </span>&#123;<span class="hljs-meta">@Autowiredprivate</span> OrderProducer producer;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">&quot;/save&quot;</span>)</span><span class="hljs-keyword">public</span> String save(Order order) &#123;System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">&quot;当前提交的订单用户是:&quot;</span> + order.getUserId() + <span class="hljs-string">&quot;,订单金额:&quot;</span> + order.getPrice());<span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/success.jsp&quot;</span>;&#125;&#125;<br></code></pre></td></tr></table></figure><h5 id="8-3-2-5-第五步：整合测试"><a href="#8-3-2-5-第五步：整合测试" class="headerlink" title="8.3.2.5 第五步：整合测试"></a>8.3.2.5 第五步：整合测试</h5><p>访问 order 页面下订单，确定 springmvc 正常工作，然后进行下一步。</p><h4 id="8-3-3-第三部分：Spring整合ActiveMQ"><a href="#8-3-3-第三部分：Spring整合ActiveMQ" class="headerlink" title="8.3.3 第三部分：Spring整合ActiveMQ"></a>8.3.3 第三部分：Spring整合ActiveMQ</h4><h5 id="8-3-3-1-第一步：创建消息生成者-OrderProducer"><a href="#8-3-3-1-第一步：创建消息生成者-OrderProducer" class="headerlink" title="8.3.3.1 第一步：创建消息生成者 OrderProducer"></a>8.3.3.1 第一步：创建消息生成者 OrderProducer</h5><p>在这里，我们注入 JmsTemplate 类，来简化代码。另外要注意：</p><ol><li>ActiveMQ 处理对象时，对象必须实现序列化。</li><li>匿名内部类访问外部类属性，该属性需要用final修饰。</li></ol><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package org.oza.activemq.producer;<span class="hljs-keyword">import</span> javax.jms.JMSException;<span class="hljs-keyword">import</span> javax.jms.Message;<span class="hljs-keyword">import</span> javax.jms.<span class="hljs-keyword">Session</span>;<span class="hljs-keyword">import</span> org.oza.activemq.pojo.<span class="hljs-keyword">Order</span>;<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<span class="hljs-keyword">import</span> org.springframework.jms.core.JmsTemplate;<span class="hljs-keyword">import</span> org.springframework.jms.core.MessageCreator;<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;@Componentpublic <span class="hljs-keyword">class</span> OrderProducer &#123;@Autowiredprivate JmsTemplate jmsTemplate;//注意：内部类调用外部类属性，需要用final修饰<span class="hljs-built_in">public</span> <span class="hljs-type">void</span> sendToMQ(final <span class="hljs-keyword">Order</span> <span class="hljs-keyword">order</span>) &#123;//使用 jmsTemplate 进行发送消息，参数一是队列名；参数二是一匿名内部类，指定生成消息的方式jmsTemplate.send(&quot;order-mq&quot;, <span class="hljs-built_in">new</span> MessageCreator() &#123;<span class="hljs-built_in">public</span> Message createMessage(<span class="hljs-keyword">Session</span> <span class="hljs-keyword">session</span>) throws JMSException &#123;Message message = <span class="hljs-keyword">session</span>.createObjectMessage(<span class="hljs-keyword">order</span>);<span class="hljs-keyword">return</span> message;&#125;&#125;);&#125;&#125;<br></code></pre></td></tr></table></figure><h5 id="8-3-3-2-第二步：创建消息消费者OrderListener类"><a href="#8-3-3-2-第二步：创建消息消费者OrderListener类" class="headerlink" title="8.3.3.2 第二步：创建消息消费者OrderListener类"></a>8.3.3.2 第二步：创建消息消费者OrderListener类</h5><p>这里使用监听器模式</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package org.oza.activemq.listener;<span class="hljs-keyword">import</span> javax.jms.Message;<span class="hljs-keyword">import</span> javax.jms.MessageListener;<span class="hljs-keyword">import</span> javax.jms.ObjectMessage;<span class="hljs-keyword">import</span> org.oza.activemq.pojo.<span class="hljs-keyword">Order</span>;<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;@Componentpublic <span class="hljs-keyword">class</span> OrderListener implements MessageListener &#123;<span class="hljs-built_in">public</span> <span class="hljs-type">void</span> onMessage(Message message) &#123;ObjectMessage oMsg = (ObjectMessage)message;try &#123;<span class="hljs-keyword">Order</span> <span class="hljs-keyword">order</span> = (<span class="hljs-keyword">Order</span>)oMsg.getObject();<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;当前提交的订单用户是:&quot;+<span class="hljs-keyword">order</span>.getUserId()+&quot;,订单金额:&quot;+<span class="hljs-keyword">order</span>.getPrice());&#125; catch (<span class="hljs-keyword">Exception</span> e) &#123;e.printStackTrace();&#125;&#125;&#125;<br></code></pre></td></tr></table></figure><h5 id="8-3-3-3-第三步：spring整合ActiveMQ"><a href="#8-3-3-3-第三步：spring整合ActiveMQ" class="headerlink" title="8.3.3.3 第三步：spring整合ActiveMQ"></a>8.3.3.3 第三步：spring整合ActiveMQ</h5><p>修改 springmvc 的配置文件，添加整合 ActiveMQ 配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span><span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span><span class="hljs-attr">xmlns:jms</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/jms&quot;</span><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-4.3.xsdhttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsdhttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsdhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;org.oza.activemq&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>/&gt;</span><span class="hljs-comment">&lt;!-- 1、配置activemq连接工厂 使用连接池好处：链接只需要初始化一次，每次要使用的时候，直接从连接池获取，用完之后还给连接池。省去了每次创建、销毁连接的时间。--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pooledConnectionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;connectionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;brokerURL&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;tcp://192.168.125.87:61616&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;admin&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;admin&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;trustAllPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxConnections&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;20&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!-- 2、spring整合activemq链接工厂 可以缓存session。--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cachingConnectionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;targetConnectionFactory&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;pooledConnectionFactory&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sessionCacheSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!-- 3、spring整合消息操作对象JmsTemplate 使用jmsTemplate可以简化代码，不需要自己去创建消息的发送对象。--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jmsTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jms.core.JmsTemplate&quot;</span>&gt;</span>&lt;propertyname=&quot;connectionFactory&quot; ref=&quot;cachingConnectionFactory&quot;/&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!-- 4、spring加载监听器 acknowledge=&quot;auto&quot;表示消息获取之后，自动出队列container-type表示的容器的类型 default|simpledefault:支持session缓存。--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">jms:listener-container</span> <span class="hljs-attr">acknowledge</span>=<span class="hljs-string">&quot;auto&quot;</span> <span class="hljs-attr">container-type</span>=<span class="hljs-string">&quot;default&quot;</span> <span class="hljs-attr">destination-type</span>=<span class="hljs-string">&quot;queue&quot;</span> <span class="hljs-attr">connection-factory</span>=<span class="hljs-string">&quot;cachingConnectionFactory&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- 指定监听器destination=&quot;order-mq&quot;指定监听的是哪一个队列ref=&quot;orderListener&quot; 指定监听器对象使用注解的时候，对象的名称是类名首字母小写 --&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">jms:listener</span> <span class="hljs-attr">destination</span>=<span class="hljs-string">&quot;order-mq&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;orderListener&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jms:listener-container</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="8-3-3-4-第四步：修改OrderController类"><a href="#8-3-3-4-第四步：修改OrderController类" class="headerlink" title="8.3.3.4 第四步：修改OrderController类"></a>8.3.3.4 第四步：修改OrderController类</h5><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package org.oza.activemq.controller;<span class="hljs-keyword">import</span> org.oza.activemq.pojo.<span class="hljs-keyword">Order</span>;<span class="hljs-keyword">import</span> org.oza.activemq.producer.OrderProducer;<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;@Controllerpublic <span class="hljs-keyword">class</span> OrderController &#123;@Autowiredprivate OrderProducer producer;@RequestMapping(&quot;/save&quot;)<span class="hljs-built_in">public</span> String save(<span class="hljs-keyword">Order</span> <span class="hljs-keyword">order</span>) &#123;//<span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;当前提交的订单用户是:&quot; + <span class="hljs-keyword">order</span>.getUserId() + &quot;,订单金额:&quot; + <span class="hljs-keyword">order</span>.getPrice());producer.sendToMQ(<span class="hljs-keyword">order</span>);<span class="hljs-keyword">return</span> &quot;/success.jsp&quot;;&#125;&#125;<br></code></pre></td></tr></table></figure><h3 id="8-4-整合测试"><a href="#8-4-整合测试" class="headerlink" title="8.4 整合测试"></a>8.4 整合测试</h3><p>重新启动项目，提交多个订单，可以看到控制台持续输出，测试成功。</p><p><img src="https://app.yinxiang.com/shard/s10/res/b5d2f35f-4efb-48ef-8e4b-3aca125b1462/433cb29f2a156911203ff8b5d0750c8a.jpg" alt="img"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>消息队列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>消息队列</title>
    <link href="/2022/04/20/java/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"/>
    <url>/2022/04/20/java/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h1 id="消息队列"><a href="#消息队列" class="headerlink" title="消息队列"></a>消息队列</h1><h2 id="一、MQ（Message-Queue）应用场景分析"><a href="#一、MQ（Message-Queue）应用场景分析" class="headerlink" title="一、MQ（Message Queue）应用场景分析"></a>一、MQ（Message Queue）应用场景分析</h2><p><img src="/images/image-20220412223812235.png" alt="image-20220412223812235"></p><p>消息队列中间件是分布式系统中的重要组件，主要解决异步消息、应用解耦、流量削峰等问题，从而实现高性能、高可用、可伸缩和最终一致性的架构。</p><p>使用较多的消息队列有ActiveMQ、RabbitMQ、Kafka、MetaMQ等。</p><h3 id="1-异步处理"><a href="#1-异步处理" class="headerlink" title="1. 异步处理"></a>1. 异步处理</h3><p>场景说明：用户注册后，需要发送注册邮件和注册短信。传统的做法如下：</p><p>将注册信息写入数据库成功后，发送注册邮件，再发送注册短信。以上三个任务全部完成后，返回给客户端。</p><p><img src="/images/image-20220412224208457.png" alt="image-20220412224208457"></p><p>引入消息队列，异步处理，改造后的架构如下：</p><p><img src="/images/image-20220412224351295.png" alt="image-20220412224351295"></p><h3 id="2-应用解耦"><a href="#2-应用解耦" class="headerlink" title="2. 应用解耦"></a>2. 应用解耦</h3><p><img src="/images/image-20220412224529754.png" alt="image-20220412224529754"></p><p>场景说明：用户下单后，订单系统需要通知库存系统。传统的做法是：订单系统调用库存系统的接口。如下图</p><p><img src="/images/image-20220412225537861.png" alt="image-20220412225537861"></p><p>传统模式的特点：</p><ul><li>假如库存系统无法访问，则订单减库存将失败，从而导致下单失败</li><li>订单系统与库存系统耦合</li></ul><p>引入消息队列后的方案，如下图</p><p><img src="/images/image-20220412224704331.png" alt="image-20220412224704331"></p><ul><li>订单系统：用户下单后，订单系统完成持久化处理，将消息写入消息队列，返回用户，下单成功</li><li>库存系统：订阅下单的消息，获取下单信息，库存系统根据下单信息，进行库存操作</li><li>假如：在下单时库存系统不能正常使用，也不影响正常下单，因为下单后，订单系统写入消息队列就不再关系其他的后续操作了，实现订单系统与库存系统的应用解耦</li></ul><h3 id="3-流量削峰"><a href="#3-流量削峰" class="headerlink" title="3. 流量削峰"></a>3. 流量削峰</h3><p>流量削峰也就是消息队列中常用场景，一般在秒杀或団抢活动中广泛使用。</p><p>应用场景：秒杀活动，一般会因为流量过大，导致流量暴增，应用挂掉。为解决这个问题，一般需要在应用前端加入消息队列。</p><ul><li>可以控制活动的人数</li><li>可以缓解短时间内高流量压垮应用</li></ul><p><img src="/images/image-20220412230406551.png" alt="image-20220412230406551"></p><ul><li>用户的请求，服务器接收后，首先写入消息队列。假如消息队列长度超过最大数量，则直接抛弃用户请求或跳转到错误页面</li><li>秒杀业务根据消息队列中的请求信息，再做后续处理</li></ul><p><img src="/images/image-20220412230512068.png" alt="image-20220412230512068"></p><p><img src="/images/image-20220412230741204.png" alt="image-20220412230741204"></p><p><img src="/images/image-20220412230828945.png" alt="image-20220412230828945"></p><p><img src="/images/image-20220412231039002.png" alt="image-20220412231039002"></p><p><img src="/images/image-20220422103235328.png" alt="image-20220422103235328"></p><p><img src="/images/image-20220422112431010.png" alt="image-20220422112431010"></p><p><img src="/images/image-20220422112445116.png" alt="image-20220422112445116"></p><p><img src="/images/image-20220422112517612.png" alt="image-20220422112517612"></p><p><img src="/images/image-20220422113952109.png" alt="image-20220422113952109"></p><p>TopicSubscriber源码解析：</p><blockquote><p><a href="https://blog.csdn.net/xueyehuilang/article/details/120814991">https://blog.csdn.net/xueyehuilang/article/details/120814991</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultSubscriber</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DefaultTopicParticipant</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Subscriber</span>&lt;T&gt; &#123;<br>  <span class="hljs-comment">//日志记录</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Log</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LogFactory.getLog(DefaultSubscriber.class);<br> <br>  <span class="hljs-comment">//超时时间，subscriber超过这一段时间无操作后就会断开连接，即使此时仍有subscriberListener在等待监听结果</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">DEFAULT_SHUTDOWN_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">TimeUnit</span> <span class="hljs-variable">DEFAULT_SHUTDOWN_TIMEOUT_UNITS</span> <span class="hljs-operator">=</span> TimeUnit.SECONDS;<br>  <span class="hljs-comment">//节点标识符</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> NodeIdentifier nodeIdentifier;<br>  <span class="hljs-comment">//可以在规定时间或定期执行的服务</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ScheduledExecutorService executorService;<br>  <span class="hljs-comment">//接收消息队列</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> IncomingMessageQueue&lt;T&gt; incomingMessageQueue;<br>  <span class="hljs-comment">//该subscriber订阅的publisher</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Set&lt;PublisherIdentifier&gt; knownPublishers;<br>  <span class="hljs-comment">//TCP管理器</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TcpClientManager tcpClientManager;<br>  <span class="hljs-comment">//信号量，用于同步</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object mutex;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 管理监听此subscriber的监听器</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ListenerGroup&lt;SubscriberListener&lt;T&gt;&gt; subscriberListeners;<br> <br>  <span class="hljs-comment">//实现了newDefault方法</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;S&gt; DefaultSubscriber&lt;S&gt; <span class="hljs-title function_">newDefault</span><span class="hljs-params">(NodeIdentifier nodeIdentifier,</span><br><span class="hljs-params">      TopicDeclaration description, ScheduledExecutorService executorService,</span><br><span class="hljs-params">      MessageDeserializer&lt;S&gt; deserializer)</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultSubscriber</span>&lt;S&gt;(nodeIdentifier, description, deserializer, executorService);<br>  &#125;<br>  <span class="hljs-comment">//私有构造方法</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-title function_">DefaultSubscriber</span><span class="hljs-params">(NodeIdentifier nodeIdentifier, TopicDeclaration topicDeclaration,</span><br><span class="hljs-params">      MessageDeserializer&lt;T&gt; deserializer, ScheduledExecutorService executorService)</span> &#123;<br>    <span class="hljs-built_in">super</span>(topicDeclaration);<br>    <span class="hljs-built_in">this</span>.nodeIdentifier = nodeIdentifier;<br>    <span class="hljs-built_in">this</span>.executorService = executorService;<br>    incomingMessageQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IncomingMessageQueue</span>&lt;T&gt;(deserializer, executorService);<br>    knownPublishers = Sets.newHashSet();<br>    tcpClientManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TcpClientManager</span>(executorService);<br>    mutex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br>    SubscriberHandshakeHandler&lt;T&gt; subscriberHandshakeHandler =<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubscriberHandshakeHandler</span>&lt;T&gt;(toDeclaration().toConnectionHeader(),<br>            incomingMessageQueue, executorService);<br>    tcpClientManager.addNamedChannelHandler(subscriberHandshakeHandler);<br>    subscriberListeners = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListenerGroup</span>&lt;SubscriberListener&lt;T&gt;&gt;(executorService);<br>    <span class="hljs-comment">//增加监听者的方法</span><br>    subscriberListeners.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultSubscriberListener</span>&lt;T&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMasterRegistrationSuccess</span><span class="hljs-params">(Subscriber&lt;T&gt; registrant)</span> &#123;<br>        log.info(<span class="hljs-string">&quot;Subscriber registered: &quot;</span> + DefaultSubscriber.<span class="hljs-built_in">this</span>);<br>      &#125;<br> <br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMasterRegistrationFailure</span><span class="hljs-params">(Subscriber&lt;T&gt; registrant)</span> &#123;<br>        log.info(<span class="hljs-string">&quot;Subscriber registration failed: &quot;</span> + DefaultSubscriber.<span class="hljs-built_in">this</span>);<br>      &#125;<br> <br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMasterUnregistrationSuccess</span><span class="hljs-params">(Subscriber&lt;T&gt; registrant)</span> &#123;<br>        log.info(<span class="hljs-string">&quot;Subscriber unregistered: &quot;</span> + DefaultSubscriber.<span class="hljs-built_in">this</span>);<br>      &#125;<br> <br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMasterUnregistrationFailure</span><span class="hljs-params">(Subscriber&lt;T&gt; registrant)</span> &#123;<br>        log.info(<span class="hljs-string">&quot;Subscriber unregistration failed: &quot;</span> + DefaultSubscriber.<span class="hljs-built_in">this</span>);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-keyword">public</span> SubscriberIdentifier <span class="hljs-title function_">toIdentifier</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubscriberIdentifier</span>(nodeIdentifier, getTopicDeclaration().getIdentifier());<br>  &#125;<br> <br>  <span class="hljs-keyword">public</span> SubscriberDeclaration <span class="hljs-title function_">toDeclaration</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SubscriberDeclaration</span>(toIdentifier(), getTopicDeclaration());<br>  &#125;<br> <br>  <span class="hljs-keyword">public</span> Collection&lt;String&gt; <span class="hljs-title function_">getSupportedProtocols</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> ProtocolNames.SUPPORTED;<br>  &#125;<br> <br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">getLatchMode</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> incomingMessageQueue.getLatchMode();<br>  &#125;<br> <br>  <span class="hljs-comment">//新增消息监听器</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addMessageListener</span><span class="hljs-params">(MessageListener&lt;T&gt; messageListener, <span class="hljs-type">int</span> limit)</span> &#123;<br>    incomingMessageQueue.addListener(messageListener, limit);<br>  &#125;<br> <br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addMessageListener</span><span class="hljs-params">(MessageListener&lt;T&gt; messageListener)</span> &#123;<br>    addMessageListener(messageListener, <span class="hljs-number">1</span>);<br>  &#125;<br> <br>  <span class="hljs-comment">//移除消息监听器</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">removeMessageListener</span><span class="hljs-params">(MessageListener&lt;T&gt; messageListener)</span> &#123;<br>    <span class="hljs-keyword">return</span> incomingMessageQueue.removeListener(messageListener);<br>  &#125;<br> <br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeAllMessageListeners</span><span class="hljs-params">()</span> &#123;<br>    incomingMessageQueue.removeAllListeners();<br>  &#125;<br> <br>  <span class="hljs-meta">@VisibleForTesting</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addPublisher</span><span class="hljs-params">(PublisherIdentifier publisherIdentifier, InetSocketAddress address)</span> &#123;<br>    <span class="hljs-keyword">synchronized</span> (mutex) &#123;<br>      <span class="hljs-comment">// TODO(damonkohler): If the connection is dropped, knownPublishers should</span><br>      <span class="hljs-comment">// be updated.</span><br>      <span class="hljs-keyword">if</span> (knownPublishers.contains(publisherIdentifier)) &#123;<br>        <span class="hljs-keyword">return</span>;<br>      &#125;<br>      tcpClientManager.connect(toString(), address);<br>      knownPublishers.add(publisherIdentifier);<br>      signalOnNewPublisher(publisherIdentifier);<br>    &#125;<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 更新与该subscriber订阅的topic关联的publisher列表</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePublishers</span><span class="hljs-params">(Collection&lt;PublisherIdentifier&gt; publisherIdentifiers)</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> PublisherIdentifier publisherIdentifier : publisherIdentifiers) &#123;<br>      executorService.execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdatePublisherRunnable</span>&lt;T&gt;(<span class="hljs-built_in">this</span>, nodeIdentifier,<br>          publisherIdentifier));<br>    &#125;<br>  &#125;<br> <br>  <span class="hljs-comment">//关闭与该subscriber关联的所有对象</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit)</span> &#123;<br>    signalOnShutdown(timeout, unit);<br>    incomingMessageQueue.shutdown();<br>    tcpClientManager.shutdown();<br>    subscriberListeners.shutdown();<br>  &#125;<br> <br>  <span class="hljs-comment">//关闭该subscriber</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> &#123;<br>    shutdown(DEFAULT_SHUTDOWN_TIMEOUT, DEFAULT_SHUTDOWN_TIMEOUT_UNITS);<br>  &#125;<br> <br>  <span class="hljs-comment">//增加监听器</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addSubscriberListener</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>    subscriberListeners.add(listener);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber在ROS master的注册成功</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnMasterRegistrationSuccess</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>        listener.onMasterRegistrationSuccess(subscriber);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber在ROS master的注册失败</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnMasterRegistrationFailure</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>        listener.onMasterRegistrationFailure(subscriber);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber在ROS master的注销成功</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnMasterUnregistrationSuccess</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>        listener.onMasterUnregistrationSuccess(subscriber);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber在ROS master的注销失败</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnMasterUnregistrationFailure</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>        listener.onMasterUnregistrationFailure(subscriber);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber连接到一个新的publisher</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnNewPublisher</span><span class="hljs-params">(<span class="hljs-keyword">final</span> PublisherIdentifier publisherIdentifier)</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>      <span class="hljs-meta">@Override</span><br>      <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>        listener.onNewPublisher(subscriber, publisherIdentifier);<br>      &#125;<br>    &#125;);<br>  &#125;<br> <br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 通知所有的SubscriberListener，该Subscriber已关闭</span><br><span class="hljs-comment">   * 每个监听器都由单独的线程唤醒</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">signalOnShutdown</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit)</span> &#123;<br>    <span class="hljs-keyword">final</span> Subscriber&lt;T&gt; subscriber = <span class="hljs-built_in">this</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>      subscriberListeners.signal(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SignalRunnable</span>&lt;SubscriberListener&lt;T&gt;&gt;() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(SubscriberListener&lt;T&gt; listener)</span> &#123;<br>          listener.onShutdown(subscriber);<br>        &#125;<br>      &#125;, timeout, unit);<br>    &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>      <span class="hljs-comment">// Ignored since we do not guarantee that all listeners will finish before</span><br>      <span class="hljs-comment">// shutdown begins.</span><br>    &#125;<br>  &#125;<br> <br>  <span class="hljs-comment">//重写打印方法</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Subscriber&lt;&quot;</span> + getTopicDeclaration() + <span class="hljs-string">&quot;&gt;&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>消息队列</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle学习</title>
    <link href="/2022/03/26/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/03/26/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="Oracle从入门到放弃"><a href="#Oracle从入门到放弃" class="headerlink" title="Oracle从入门到放弃"></a>Oracle从入门到放弃</h1><blockquote><p>《收获，不止Oracle》</p></blockquote><h2 id="1-创建表"><a href="#1-创建表" class="headerlink" title="1.创建表"></a>1.创建表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> test(<br>  id number(<span class="hljs-number">20</span>, <span class="hljs-number">0</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>  FieldAA varchar2(<span class="hljs-number">64</span>),<br>  FieldAB varchar2(<span class="hljs-number">64</span>),<br>  flag <span class="hljs-type">varchar</span>(<span class="hljs-number">2</span>)<br>);<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;a1&#x27;</span>,<span class="hljs-string">&#x27;b1&#x27;</span>,<span class="hljs-string">&#x27;D&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;a2&#x27;</span>,<span class="hljs-string">&#x27;b2&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;a3&#x27;</span>,<span class="hljs-string">&#x27;b3&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;a4&#x27;</span>,<span class="hljs-string">&#x27;b4&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> test <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;a5&#x27;</span>,<span class="hljs-string">&#x27;b5&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="2-lt-gt-和-is-not-null"><a href="#2-lt-gt-和-is-not-null" class="headerlink" title="2. &lt;&gt; 和 is not null"></a>2. &lt;&gt; 和 is not null</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> test t;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20220326002040694.png" alt="image-20220326002040694"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> test t <span class="hljs-keyword">where</span> t.flag <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;D&#x27;</span> <span class="hljs-keyword">or</span> t.flag <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20220326001343382-16482250866611.png" alt="image-20220326001343382"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> t.<span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> test t <span class="hljs-keyword">where</span> t.flag <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-string">&#x27;D&#x27;</span>;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20220326002116539.png" alt="image-20220326002116539"></p><h2 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h2>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Favorite site</title>
    <link href="/2022/03/26/Favorite%20site/"/>
    <url>/2022/03/26/Favorite%20site/</url>
    
    <content type="html"><![CDATA[<h2 id="1-鼠标连点器"><a href="#1-鼠标连点器" class="headerlink" title="1. 鼠标连点器:"></a>1. 鼠标连点器:</h2><p><a href="https://binhao.lanzous.com/tp/iX7cuf20yij">https://binhao.lanzous.com/tp/iX7cuf20yij</a></p><h2 id="2-使用apache-poi在excel文件中设置页面视图模式："><a href="#2-使用apache-poi在excel文件中设置页面视图模式：" class="headerlink" title="2. 使用apache poi在excel文件中设置页面视图模式："></a>2. 使用apache poi在excel文件中设置页面视图模式：</h2><p><a href="http://cn.voidcc.com/question/p-dzzhcngh-va.html">使用apache poi在excel文件中设置页面视图模式 - VoidCC</a></p><h2 id="3-Markdown官网教程："><a href="#3-Markdown官网教程：" class="headerlink" title="3. Markdown官网教程："></a>3. Markdown官网教程：</h2><p><a href="https://markdown.com.cn/">Markdown 官方教程</a></p><h2 id="4-关于图片引用示例："><a href="#4-关于图片引用示例：" class="headerlink" title="4. 关于图片引用示例："></a>4. 关于图片引用示例：</h2><blockquote><p>本地仓库地址(blob)：  <a href="https://gitee.com/zhangsubao/studynotes/blob/master/notes/images/2022-02-12-23-35-26-image.png">https://gitee.com/zhangsubao/studynotes/blob/master/notes/images/2022-02-12-23-35-26-image.png</a><br>远程引用地址(raw)：  <a href="https://gitee.com/zhangsubao/studynotes/raw/master/notes/images/2022-02-12-23-35-26-image.png">https://gitee.com/zhangsubao/studynotes/raw/master/notes/images/2022-02-12-23-35-26-image.png</a></p></blockquote><p><a href="https://www.huya.com/688">张大仙直播_虎牙688张大仙官方直播间</a></p><p><a href="https://www.bilibili.com/">哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a></p><h2 id="5-MySQL解压版安装教程"><a href="#5-MySQL解压版安装教程" class="headerlink" title="5. MySQL解压版安装教程"></a>5. MySQL解压版安装教程</h2><blockquote><p><a href="https://blog.csdn.net/crudby/article/details/100051007">MySQL8.0解压版详细安装步骤_crudby的博客-CSDN博客_mysql8.0解压版安装</a></p></blockquote><h3 id="1-MySQL连接"><a href="#1-MySQL连接" class="headerlink" title="(1) MySQL连接"></a>(1) MySQL连接</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">net <span class="hljs-literal">start</span> mysql <span class="hljs-comment">#启动数据库</span><br><br>mysql -u root -p <span class="hljs-comment">#使用root连接数据库</span><br><br>net <span class="hljs-literal">stop</span> mysql <span class="hljs-comment">#关闭数据库</span><br></code></pre></td></tr></table></figure><h3 id="2-MySQL基本使用"><a href="#2-MySQL基本使用" class="headerlink" title="(2) MySQL基本使用"></a>(2) MySQL基本使用</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">show</span> databases;<br>use wollo;<br><span class="hljs-keyword">show</span> tables;<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> account;<br></code></pre></td></tr></table></figure><h3 id="99-问题解决："><a href="#99-问题解决：" class="headerlink" title="(99) 问题解决："></a>(99) 问题解决：</h3><p>安装MySQL时由于找不到vcruntime140_1.dll，无法继续安装: <a href="https://zhuanlan.zhihu.com/p/142646570">https://zhuanlan.zhihu.com/p/142646570</a></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">链接: https:<span class="hljs-regexp">//</span>pan.baidu.com<span class="hljs-regexp">/s/</span><span class="hljs-number">1</span>m6_kinWFDXZ0Amq-p8Y0hQ 提取码: use1 复制这段内容后打开百度网盘手机App，操作更方便哦<br></code></pre></td></tr></table></figure><h2 id="6-Typora激活破解"><a href="#6-Typora激活破解" class="headerlink" title="6. Typora激活破解"></a>6. Typora激活破解</h2><p>D:\others\activator\typora</p><p><a href="https://www.pixiv.net/artworks/74539039">https://www.pixiv.net/artworks/74539039</a></p><p><a href="https://biu.tls.moe/#/usage/basic">https://biu.tls.moe/#/usage/basic</a></p><h2 id="7-Spring"><a href="#7-Spring" class="headerlink" title="7. Spring"></a>7. Spring</h2><p><a href="https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/index.html">https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/index.html</a></p><h2 id="8-Git-回滚操作"><a href="#8-Git-回滚操作" class="headerlink" title="8. Git 回滚操作"></a>8. Git 回滚操作</h2><p><a href="https://www.jianshu.com/p/c55958563f5a">https://www.jianshu.com/p/c55958563f5a</a></p><h2 id="9-typora默认图片路径："><a href="#9-typora默认图片路径：" class="headerlink" title="9. typora默认图片路径："></a>9. typora默认图片路径：</h2><blockquote><p>C:\Users\chris\AppData\Roaming\Typora\typora-user-images\image-20220326001343382.png</p></blockquote><h2 id="10-Hexo官网"><a href="#10-Hexo官网" class="headerlink" title="10. Hexo官网"></a>10. Hexo官网</h2><blockquote><p><a href="https://hexo.io/">https://hexo.io/</a><br><a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p></blockquote><h2 id="11-Hexo-Fluid-用户手册"><a href="#11-Hexo-Fluid-用户手册" class="headerlink" title="11. Hexo Fluid 用户手册"></a>11. Hexo Fluid 用户手册</h2><blockquote><p><a href="https://hexo.fluid-dev.com/docs/">https://hexo.fluid-dev.com/docs/</a><br><a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid</a></p></blockquote><blockquote><p><a href="https://bible.fhl.net/gbdoc/index.html">https://bible.fhl.net/gbdoc/index.html</a></p></blockquote><h2 id="12-自定义图标生成"><a href="#12-自定义图标生成" class="headerlink" title="12. 自定义图标生成"></a>12. 自定义图标生成</h2><h3 id="阿里矢量库"><a href="#阿里矢量库" class="headerlink" title="阿里矢量库"></a>阿里矢量库</h3><blockquote><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p></blockquote><h3 id="icomoon字体图标"><a href="#icomoon字体图标" class="headerlink" title="icomoon字体图标"></a>icomoon字体图标</h3><blockquote><p><a href="https://icomoon.io/">https://icomoon.io/</a></p></blockquote><blockquote><p>自定义主题参考：<a href="https://blog.csdn.net/qq_36852780/article/details/112166727">https://blog.csdn.net/qq_36852780/article/details/112166727</a></p></blockquote><h2 id="13"><a href="#13" class="headerlink" title="13. ???"></a>13. ???</h2><blockquote><p><a href="https://faithful.team/">https://faithful.team/</a><br><a href="https://www.mcbbs.net/thread-928713-1-1.html">https://www.mcbbs.net/thread-928713-1-1.html</a></p></blockquote><h2 id="13-ffmpeg使用命令"><a href="#13-ffmpeg使用命令" class="headerlink" title="13. ffmpeg使用命令"></a>13. ffmpeg使用命令</h2><blockquote><p>开源地址：<a href="https://github.com/FFmpeg/FFmpeg/">https://github.com/FFmpeg/FFmpeg/</a></p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ffmpeg -<span class="hljs-selector-tag">i</span> source<span class="hljs-selector-class">.mkv</span> -c copy dst<span class="hljs-selector-class">.mp4</span><br>ffmpeg -<span class="hljs-selector-tag">i</span> <span class="hljs-string">&quot;2022-05-02 17-06-22.mkv&quot;</span> -c copy test.mp4<br></code></pre></td></tr></table></figure><h2 id="14-壁纸网站"><a href="#14-壁纸网站" class="headerlink" title="14. 壁纸网站"></a>14. 壁纸网站</h2><blockquote><p><a href="https://wallhere.com/">https://wallhere.com/</a></p></blockquote><h2 id="15-Markdown引用图片格式"><a href="#15-Markdown引用图片格式" class="headerlink" title="15. Markdown引用图片格式"></a>15. Markdown引用图片格式</h2><p>普通图片：</p><p><img src="/aaa.png" alt="xxx"></p><p>base64图片：</p><p><img src="data:image/png;base64,xxxx" alt="img"></p><h2 id="16-Mouse-Without-keys"><a href="#16-Mouse-Without-keys" class="headerlink" title="16. Mouse Without keys"></a>16. Mouse Without keys</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">Administrator:</span><br>vA2<span class="hljs-number">$cR3</span>%cY3|tK4)<br><br><span class="hljs-symbol">db2admin:</span><br>aS2/aY5)qM2:pY3*<br></code></pre></td></tr></table></figure><h2 id="17-Visual-Studio-Code-settings-json路径"><a href="#17-Visual-Studio-Code-settings-json路径" class="headerlink" title="17. Visual Studio Code settings.json路径"></a>17. Visual Studio Code settings.json路径</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs 1c">C:\Users\chris\AppData\Roaming\Code\User\settings.json<br><br><span class="hljs-comment">// Characters that will be used as word separators when doing word related navigations or operations.</span><br>  <span class="hljs-string">&quot;editor.wordSeparators&quot;</span>: <span class="hljs-string">&quot;`~!@#$%^&amp;*()-=+[&#123;]&#125;\\|;:&#x27;\&quot;</span>,.&lt;&gt;/?<span class="hljs-string">&quot;,</span><br><br>`<span class="hljs-symbol">~!@#$%^&amp;*()-=+[&#123;]&#125;\\|</span>;:&#x27;\&quot;,.&lt;&gt;/?<br>`~!@#$%^&amp;*()-=+[&#123;]&#125;\|;:&#x27;<span class="hljs-string">&quot;,.&lt;&gt;/?</span><br><br>M.<span class="hljs-number">2</span>接口，<span class="hljs-number">22</span>* <span class="hljs-number">80</span>尺寸，pcie3.<span class="hljs-number">0</span>的协议<br><br>http:<span class="hljs-comment">//iknow.lenovo.com.cn/detail/dc_027369_1.html</span><br><br>Lenovo XiaoXin Air-<span class="hljs-number">15</span>ITL <span class="hljs-number">2021</span><br><br>Lenovo 小新 Air-<span class="hljs-number">14</span>ITL <span class="hljs-number">2021</span><br><br>小新 Air-<span class="hljs-number">15</span> <span class="hljs-number">2021</span>(Intel平台：ITL版)<br><br>小新 Air-<span class="hljs-number">14</span> <span class="hljs-number">2021</span>(Intel平台：ITL版)<br><br>vscode打开（关闭）终端的快捷键：Ctrl + `(数字键<span class="hljs-number">1</span>坐标的那个键)<br><br></code></pre></td></tr></table></figure><h2 id="18-Visual-Studio-Code-背景图片设置"><a href="#18-Visual-Studio-Code-背景图片设置" class="headerlink" title="18. Visual Studio Code 背景图片设置"></a>18. Visual Studio Code 背景图片设置</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> 背景图片设置 <br><span class="hljs-regexp">//</span> https:<span class="hljs-regexp">//</span>blog.csdn.net<span class="hljs-regexp">/weixin_53350466/</span>article<span class="hljs-regexp">/details/</span><span class="hljs-number">121873546</span><br><span class="hljs-regexp">//</span> https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/shalldie/</span>vscode-background<span class="hljs-regexp">/blob/m</span>aster/README.zh-CN.md  已失效<br><br><span class="hljs-regexp">//</span> https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/AShujiao/</span>vscode-background-cover  ok<br><span class="hljs-string">&quot;background.enabled&quot;</span>: false, <span class="hljs-regexp">//</span> 插件是否启用<br><span class="hljs-string">&quot;background.customImages&quot;</span>: [<br>    <span class="hljs-string">&quot;file://E:\\影视\\picture\\girl.png&quot;</span><br>],<br><span class="hljs-string">&quot;background.style&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;position&quot;</span>: <span class="hljs-string">&quot;fixed&quot;</span>,<br>    <span class="hljs-string">&quot;z-index&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br>    <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-string">&quot;100vw&quot;</span>,<br>    <span class="hljs-regexp">//</span> <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-string">&quot;100vh&quot;</span>,<br>    <span class="hljs-string">&quot;left&quot;</span>: <span class="hljs-string">&quot;0px&quot;</span>,<br>    <span class="hljs-string">&quot;top&quot;</span>: <span class="hljs-string">&quot;0px&quot;</span>,<br>    <span class="hljs-string">&quot;background-position&quot;</span>: <span class="hljs-string">&quot;center&quot;</span>,<br>    <span class="hljs-string">&quot;background-repeat&quot;</span>: <span class="hljs-string">&quot;no-repeat&quot;</span>,<br>    <span class="hljs-string">&quot;opacity&quot;</span>: <span class="hljs-number">0.25</span>,<br>    <span class="hljs-string">&quot;background-size&quot;</span>: <span class="hljs-string">&quot;cover&quot;</span>,<br>    <span class="hljs-string">&quot;background-attachment&quot;</span>: <span class="hljs-string">&quot;fixed&quot;</span><br>&#125;,<br><span class="hljs-string">&quot;background.useFront&quot;</span>: false,<br><span class="hljs-string">&quot;background.useDefault&quot;</span>: false,<br><span class="hljs-string">&quot;backgroundCover.imagePath&quot;</span>: <span class="hljs-string">&quot;e:\\影视\\picture\\girl.png&quot;</span>,<br></code></pre></td></tr></table></figure><h2 id="19-宝藏工具网站！搞运营啥的必备！"><a href="#19-宝藏工具网站！搞运营啥的必备！" class="headerlink" title="19. 宝藏工具网站！搞运营啥的必备！"></a>19. 宝藏工具网站！搞运营啥的必备！</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs awk">[cp]宝藏工具网站！搞运营啥的必备！<br><br><span class="hljs-number">1</span>.视频下载工具：http:<span class="hljs-regexp">//</span>t.cn/AinbfunX<br><br><span class="hljs-number">2</span>.从视频中提取音频 ：http:<span class="hljs-regexp">//</span>t.cn/A6ouJIYl<br><br><span class="hljs-number">3</span>.语音转文字网站：http:<span class="hljs-regexp">//</span>t.cn/AikZtQsT<br><br><span class="hljs-number">4</span>.虚拟主播：http:<span class="hljs-regexp">//</span>t.cn/A66CZPZd<br><br><span class="hljs-number">5</span>.图片微动工具：http:<span class="hljs-regexp">//</span>t.cn/A66CZPZr<br><br><span class="hljs-number">6</span>.Giios自动写作机器人：http:<span class="hljs-regexp">//</span>t.cn/A66CZPZD<br><br><span class="hljs-number">7</span>.标题推荐工具：http:<span class="hljs-regexp">//</span>t.cn/A64Z7MmS<br><br><span class="hljs-number">8</span>.视频创作导航工具： http:<span class="hljs-regexp">//</span>t.cn/R7CXHgn<br><br><span class="hljs-number">9</span>.冷知识素材获取渠道：http:<span class="hljs-regexp">//</span>t.cn/EtcicZe<br><br><span class="hljs-number">10</span>.历史知识素材获取渠道：http:<span class="hljs-regexp">//</span>t.cn/ESlBbVm<br><br><span class="hljs-number">11</span>.图片版权查询工具：http:<span class="hljs-regexp">//</span>t.cn/A66CZPZg<br><br><span class="hljs-number">12</span>.一键背景抠图工具：http:<span class="hljs-regexp">//</span>t.cn<span class="hljs-regexp">/Air4tXO7[/cp]</span><br></code></pre></td></tr></table></figure><h2 id="99-太阳系日地轨道参数"><a href="#99-太阳系日地轨道参数" class="headerlink" title="99. 太阳系日地轨道参数"></a>99. 太阳系日地轨道参数</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&#123;<br>    <span class="hljs-string">&quot;bodies&quot;</span>: [<br>        &#123;<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;sun&quot;</span>,<br>            <span class="hljs-string">&quot;raduis&quot;</span>: <span class="hljs-number">30</span>,<br>            <span class="hljs-string">&quot;mass&quot;</span>: <span class="hljs-number">100</span>,<br>            <span class="hljs-string">&quot;pos&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;x&quot;</span>: <span class="hljs-number">0</span>,<br>                <span class="hljs-string">&quot;y&quot;</span>: <span class="hljs-number">0</span>,<br>                <span class="hljs-string">&quot;z&quot;</span>: <span class="hljs-number">0</span><br>            &#125;,<br>            <span class="hljs-string">&quot;initVelocity&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;x&quot;</span>: <span class="hljs-number">0</span>,<br>                <span class="hljs-string">&quot;y&quot;</span>: <span class="hljs-number">0</span>,<br>                <span class="hljs-string">&quot;z&quot;</span>: <span class="hljs-number">0</span><br>            &#125;<br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;earth&quot;</span>,<br>            <span class="hljs-string">&quot;raduis&quot;</span>: <span class="hljs-number">6</span>,<br>            <span class="hljs-string">&quot;mass&quot;</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-string">&quot;pos&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;x&quot;</span>: <span class="hljs-number">0</span>,<br>                <span class="hljs-string">&quot;y&quot;</span>: <span class="hljs-number">-100</span>,<br>                <span class="hljs-string">&quot;z&quot;</span>: <span class="hljs-number">-300</span><br>            &#125;,<br>            <span class="hljs-string">&quot;initVelocity&quot;</span>: &#123;<br>                <span class="hljs-string">&quot;x&quot;</span>: <span class="hljs-number">20</span>,<br>                <span class="hljs-string">&quot;y&quot;</span>: <span class="hljs-number">100</span>,<br>                <span class="hljs-string">&quot;z&quot;</span>: <span class="hljs-number">-50</span><br>            &#125;<br>        &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Git回滚操作</title>
    <link href="/2022/03/26/git/Git%20%E5%9B%9E%E6%BB%9A%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/03/26/git/Git%20%E5%9B%9E%E6%BB%9A%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="Git-回滚操作"><a href="#Git-回滚操作" class="headerlink" title="Git 回滚操作"></a>Git 回滚操作</h1><p><a href="https://www.jianshu.com/p/c55958563f5a">https://www.jianshu.com/p/c55958563f5a</a></p><h3 id="Git撤销-amp-回滚操作-git-reset-和-get-revert"><a href="#Git撤销-amp-回滚操作-git-reset-和-get-revert" class="headerlink" title="Git撤销&amp;回滚操作(git reset 和 get revert)"></a>Git撤销&amp;回滚操作(git reset 和 get revert)</h3><h4 id="Git-的工作流"><a href="#Git-的工作流" class="headerlink" title="Git 的工作流"></a>Git 的工作流</h4><p>工作区：在 git add xx 之前，在自己当前分支所修改的代码内容！<br>暂存区：已经 git add xxx 进去，且没有执行 git commit xxx 的。<br>本地分支：已经 git commit -m xxx 提交到本地分支的。<br>远程分支：git push origin HEAD:refs&#x2F;for&#x2F;master HEAD 是本地，master是远程分支</p><h4 id="代码回滚"><a href="#代码回滚" class="headerlink" title="代码回滚"></a>代码回滚</h4><p>在上传代码到远程仓库的时候，不免会出现问题，任何过程都有可能要回滚代码：</p><h5 id="1、在工作区的代码（checkout-修改工作区文件）"><a href="#1、在工作区的代码（checkout-修改工作区文件）" class="headerlink" title="1、在工作区的代码（checkout ~ 修改工作区文件）"></a>1、在工作区的代码（checkout ~ 修改工作区文件）</h5><p>git checkout – a.txt # 丢弃某个文件，或者<br>git checkout – . # 丢弃全部</p><p>注意：git checkout – . 丢弃全部，也包括：新增的文件会被删除、删除的文件会恢复回来、修改的文件会回去。这几个前提都说的是，回到暂存区之前的样子。对之前保存在暂存区里的代码不会有任何影响。对commit提交到本地分支的代码就更没影响了。当然，如果你之前压根都没有暂存或commit，那就是回到你上次pull下来的样子了。</p><h4 id="2、代码-git-add-到缓存区，并未-git-commit-提交（reset-修改暂存区文件）"><a href="#2、代码-git-add-到缓存区，并未-git-commit-提交（reset-修改暂存区文件）" class="headerlink" title="2、代码 git add 到缓存区，并未 git commit 提交（reset ~ 修改暂存区文件）"></a>2、代码 git add 到缓存区，并未 git commit 提交（reset ~ 修改暂存区文件）</h4><p>git reset HEAD .<br>git reset HEAD a.txt</p><p>注意：这个命令仅改变暂存区，并不改变工作区，这意味着在无任何其他操作的情况下，<br>工作区中的实际文件同该命令运行之前 无任何变化</p><h4 id="3、代码-git-commit-到本地分支，但没有-git-push-到远程-（git-reset-–hard-commit-之后）"><a href="#3、代码-git-commit-到本地分支，但没有-git-push-到远程-（git-reset-–hard-commit-之后）" class="headerlink" title="3、代码 git commit 到本地分支，但没有 git push 到远程 （git reset –hard ~ commit 之后）"></a>3、代码 git commit 到本地分支，但没有 git push 到远程 （git reset –hard ~ commit 之后）</h4><p>git log # 得到你需要回退一次提交的commit id<br>git reset –hard <commit_id> # 回到其中你想要的某个版本<br>git reset –hard HEAD^ # 回到最新的一次提交<br>git reset HEAD^ # 此时代码保留，回到 git add 之前</p><h4 id="4、代码-git-push-把修改提交到远程仓库-git-reset-git-revert"><a href="#4、代码-git-push-把修改提交到远程仓库-git-reset-git-revert" class="headerlink" title="4、代码 git push 把修改提交到远程仓库 (git reset || git revert)"></a>4、代码 git push 把修改提交到远程仓库 (git reset || git revert)</h4><ul><li>（1）通过git reset是直接删除指定的commit</li></ul><p>git log # 得到你需要回退一次提交的commit id<br>git reset –hard <commit_id><br>git push origin HEAD –force # 强制提交一次，之前错误的提交就从远程仓库删除</p><ul><li>(2) 通过git revert是用一次新的commit来回滚之前的commit</li></ul><p>git log # 得到你需要回退一次提交的commit id<br>git revert <commit_id> # 撤销指定的版本，撤销也会作为一次提交进行保存</p><ul><li>（3） git revert 和 git reset的区别<br>(a). git revert是用一次新的commit来回滚之前的commit，此次提交之前的commit都会被保留( 会有 两次 commit id)；<br>(b). git reset是回到某次提交，提交及之前的commit都会被保留，但是此commit id之后的修改都会被删除 ( 只有一次 commit id)</li></ul><h4 id="开发过程中，场景处理："><a href="#开发过程中，场景处理：" class="headerlink" title="开发过程中，场景处理："></a>开发过程中，场景处理：</h4><h5 id="场景一：-糟了，我刚把不想要的代码，commit到本地仓库中了，但是还没有做push操作！"><a href="#场景一：-糟了，我刚把不想要的代码，commit到本地仓库中了，但是还没有做push操作！" class="headerlink" title="场景一： 糟了，我刚把不想要的代码，commit到本地仓库中了，但是还没有做push操作！"></a>场景一： 糟了，我刚把不想要的代码，commit到本地仓库中了，但是还没有做push操作！</h5><h5 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h5><p>上述场景一，在未进行git push前的所有操作，都是在“本地仓库”中执行的。我们暂且将“本地仓库”的代码还原操作叫做“撤销”！</p><p><img src="https://upload-images.jianshu.io/upload_images/16517912-c80eec34e53c58ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>情况一.png</p><h5 id="场景二：彻底完了，刚线上更新的代码出现问题了，需要还原这次提交的代码！"><a href="#场景二：彻底完了，刚线上更新的代码出现问题了，需要还原这次提交的代码！" class="headerlink" title="场景二：彻底完了，刚线上更新的代码出现问题了，需要还原这次提交的代码！"></a>场景二：彻底完了，刚线上更新的代码出现问题了，需要还原这次提交的代码！</h5><h5 id="回滚"><a href="#回滚" class="headerlink" title="回滚"></a>回滚</h5><p>上述场景二，已进行git push，即已推送到“远程仓库”中。我们将已被提交到“远程仓库”的代码还原操作叫做“回滚”！<br>注意： 对远程仓库做回滚操作是有风险的，需提前做好备份和通知其他团队成员！</p><p>如果你每次更新线上，都会打tag，那恭喜你，你可以很快的处理上述场景二的情况</p><p><img src="https://upload-images.jianshu.io/upload_images/16517912-499c18ed38977cf6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/714/format/webp" alt="img"></p><p>情况二.png</p><p>二者区别：<br>revert是放弃指定提交的修改，但是会生成一次新的提交，需要填写提交注释，以前的历史记录都在；<br>reset是指将HEAD指针指到指定提交，历史记录中不会出现放弃的提交记录。</p><h5 id="场景三：刚才我发现之前的某次提交太愚蠢了，现在想要干掉它！"><a href="#场景三：刚才我发现之前的某次提交太愚蠢了，现在想要干掉它！" class="headerlink" title="场景三：刚才我发现之前的某次提交太愚蠢了，现在想要干掉它！"></a>场景三：刚才我发现之前的某次提交太愚蠢了，现在想要干掉它！</h5><h5 id="情况三：需要回滚某次提交"><a href="#情况三：需要回滚某次提交" class="headerlink" title="情况三：需要回滚某次提交"></a>情况三：需要回滚某次提交</h5><p>找到要回滚的commitID<br>git log<br>git revert commitID<br>删除某次提交<br>git log –oneline -n5</p><p>git rebase -i “commit id”^<br>注意：需要注意最后的^号，意思是commit id的前一次提交</p><p>git rebase -i “5b3ba7a”^<br>在编辑框中删除相关commit，如pick 5b3ba7a test2，然后保存退出（如果遇到冲突需要先解决冲突）！</p><p>git push origin master -f<br>通过上述操作，如果你想对历史多个commit进行处理或者，可以选择git rebase -i，只需删除对应的记录就好。<br>rebase还可对 commit 消息进行编辑，以及合并多个commit。</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysql学习</title>
    <link href="/2022/03/12/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/03/12/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<p><img src="/images/2022-02-28-20-09-08-image.png"></p><p><img src="/images/2022-02-28-20-09-32-image.png"></p><p><img src="/images/2022-02-28-20-11-11-image.png"></p><p><img src="/images/2022-02-28-20-18-06-image.png"></p>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>数据库</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MarkdownTest</title>
    <link href="/2022/02/19/study/MarkdownTest/"/>
    <url>/2022/02/19/study/MarkdownTest/</url>
    
    <content type="html"><![CDATA[<h1 id="Markdown-Study"><a href="#Markdown-Study" class="headerlink" title="Markdown Study"></a>Markdown Study</h1><h2 id="一、what’s-Markdown"><a href="#一、what’s-Markdown" class="headerlink" title="一、what’s Markdown"></a>一、what’s Markdown</h2><h2 id="二、How-to-study"><a href="#二、How-to-study" class="headerlink" title="二、How to study"></a>二、How to study</h2><img title="Raphael Lopes" src="https://images.unsplash.com/photo-1644411990121-97f041208faf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=Mnw5MDg0MHwwfDF8YWxsfDN8fHx8fHwyfHwxNjQ0NDk2Mjky&ixlib=rb-1.2.1&q=80&w=1080" alt="null" data-align="inline"><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><div><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;iframe src<span class="hljs-operator">=</span><span class="hljs-string">&quot;//player.bilibili.com/player.html?aid=851448338&amp;bvid=BV1aL4y137cy&amp;cid=506463410&amp;page=1&quot;</span> scrolling<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> border<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> frameborder<span class="hljs-operator">=</span><span class="hljs-string">&quot;no&quot;</span> framespacing<span class="hljs-operator">=</span><span class="hljs-string">&quot;0&quot;</span> allowfullscreen<span class="hljs-operator">=</span><span class="hljs-string">&quot;true&quot;</span>&gt; &lt;/iframe&gt;<br></code></pre></td></tr></table></figure><div><iframe src="//player.bilibili.com/player.html?aid=851448338&bvid=BV1aL4y137cy&cid=506463410&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div><p><a href="超链接地址" target="_blank">超链接名</a></p><p>示例<br><a href="https://www.jianshu.com/u/1f5ac0cf6a8b" target="_blank">简书</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;video&quot;</span> <span class="hljs-attr">controls</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">preload</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">&quot;封面&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mp4&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;mp4格式视频&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;video/mp4&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">videos</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;video&quot;</span> <span class="hljs-attr">controls</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">preload</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">&quot;封面&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;webm&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;webm格式视频&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;video/webm&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">videos</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;video&quot;</span> <span class="hljs-attr">controls</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">preload</span>=<span class="hljs-string">&quot;none&quot;</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">&quot;封面&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ogv&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;ogv格式视频&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;video/ogv&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">videos</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> </span><br><span class="hljs-tag"><span class="hljs-attr">src</span>=<span class="hljs-string">&quot;视频或者网页路径&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">scrolling</span>=<span class="hljs-string">&quot;no&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">border</span>=<span class="hljs-string">&quot;0&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;no&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">framespacing</span>=<span class="hljs-string">&quot;0&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">allowfullscreen</span>=<span class="hljs-string">&quot;true&quot;</span> </span><br><span class="hljs-tag"><span class="hljs-attr">height</span>=<span class="hljs-string">600</span> </span><br><span class="hljs-tag"><span class="hljs-attr">width</span>=<span class="hljs-string">800</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 相当于是子网页 --&gt;</span><br><span class="hljs-comment">&lt;!-- B站分享链接提供 --&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">![](https://gitee.com/turbo-studio/image/raw/master/image/20210215225951.gif)<br></code></pre></td></tr></table></figure><h2 id="二、Markdown如何生成表格"><a href="#二、Markdown如何生成表格" class="headerlink" title="二、Markdown如何生成表格"></a>二、Markdown如何生成表格</h2><table><thead><tr><th>模板</th><th>用途</th><th>回退</th></tr></thead><tbody><tr><td>index</td><td>首页</td><td></td></tr><tr><td>post</td><td>文章</td><td>index</td></tr><tr><td>page</td><td>分页</td><td>index</td></tr><tr><td>archive</td><td>归档</td><td>index</td></tr><tr><td>category</td><td>分类归档</td><td>archive</td></tr><tr><td>tag</td><td>标签归档</td><td>archive</td></tr></tbody></table><table>    <tr>        <td colspan="2">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td>整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>整数类型</td>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>整数类型</td>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>整数类型</td>        <td>long</td>        <td>64</td>    </tr></table><table>    <tr>        <td colspan="2">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr></table><table>    <tr>        <td colspan="2" style="text-align: center">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr></table><table>    <tr>        <td colspan="2" style="align: center">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="talign: center">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr></table><table align="center">    <tr>        <td colspan="2">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr></table><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr></table><h3 id="1-普通表格"><a href="#1-普通表格" class="headerlink" title="1. 普通表格"></a>1. 普通表格</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs md">使用 |文字1|文字2|<br>三个或多个连字符（---）分割开表头<br></code></pre></td></tr></table></figure><p>代码如下：</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string"> 模板     </span>|<span class="hljs-string"> 用途     </span>|<span class="hljs-string"> 回退    </span>|<br>|<span class="hljs-string"> -------- </span>|<span class="hljs-string"> -------- </span>|<span class="hljs-string"> ------- </span>|<br>|<span class="hljs-string"> index    </span>|<span class="hljs-string"> 首页     </span>|<span class="hljs-string">         </span>|<br>|<span class="hljs-string"> post     </span>|<span class="hljs-string"> 文章     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> page     </span>|<span class="hljs-string"> 分页     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> archive  </span>|<span class="hljs-string"> 归档     </span>|<span class="hljs-string"> index   </span>|<br>|<span class="hljs-string"> category </span>|<span class="hljs-string"> 分类归档 </span>|<span class="hljs-string"> archive </span>|<br>|<span class="hljs-string"> tag      </span>|<span class="hljs-string"> 标签归档 </span>|<span class="hljs-string"> archive </span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th>模板</th><th>用途</th><th>回退</th></tr></thead><tbody><tr><td>index</td><td>首页</td><td></td></tr><tr><td>post</td><td>文章</td><td>index</td></tr><tr><td>page</td><td>分页</td><td>index</td></tr><tr><td>archive</td><td>归档</td><td>index</td></tr><tr><td>category</td><td>分类归档</td><td>archive</td></tr><tr><td>tag</td><td>标签归档</td><td>archive</td></tr></tbody></table><p>也可以直接这样写，处理效果是一样的</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string">表头1</span>|<span class="hljs-string">表头2</span>|<br>|<span class="hljs-string">---</span>|<span class="hljs-string">---</span>|<br>|<span class="hljs-string">内容1</span>|<span class="hljs-string">内容2</span>|<br>|<span class="hljs-string">内容3</span>|<span class="hljs-string">内容4</span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th>表头1</th><th>表头2</th></tr></thead><tbody><tr><td>内容1</td><td>内容2</td></tr><tr><td>内容3</td><td>内容4</td></tr></tbody></table><h3 id="2-多行多列的表格"><a href="#2-多行多列的表格" class="headerlink" title="2.多行多列的表格"></a>2.多行多列的表格</h3><p>采用HTML的代码方式，与正常的HTML代码使用一样：</p><p>其中text-align是为了文本居中（只能左右），vertical-align是垂直居中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>数据类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>长度(位)<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">&quot;4&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>整数类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>byte<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>short<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>int<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>long<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>64<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>浮点类型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>float<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>double<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>64<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>字符型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>char<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;vertical-align:middle;&quot;</span>&gt;</span>布尔型<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>boolean<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>~<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br></code></pre></td></tr></table></figure><p>效果如下：</p><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr>    <tr>        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型</td>        <td>float</td>        <td>32</td>    </tr>    <tr>        <td>double</td>        <td>64</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">字符型</td>        <td>char</td>        <td>16</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">布尔型</td>        <td>boolean</td>        <td>~</td>    </tr></table>]]></content>
    
    
    <categories>
      
      <category>Markdown</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spring基础知识</title>
    <link href="/2022/01/02/java/Spring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/01/02/java/Spring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="Spring基础知识"><a href="#Spring基础知识" class="headerlink" title="Spring基础知识"></a>Spring基础知识</h1><blockquote><p>视频链接：<a href="https://www.bilibili.com/video/BV1WZ4y1P7Bp/" title="SSM框架">黑马程序员最全SSM框架教程|Spring+SpringMVC+MyBatis全套教程</a></p></blockquote><h2 id="一、Spring简介"><a href="#一、Spring简介" class="headerlink" title="一、Spring简介"></a>一、Spring简介</h2><h3 id="1-Spring是什么"><a href="#1-Spring是什么" class="headerlink" title="1. Spring是什么"></a>1. Spring是什么</h3><p>Spring是分层的Java SE&#x2F;EE应用full-stack轻量级开源框架，以loc(Inverse Of Control：反转控制)和AOP(Aspect Oriented Programming：面向切面编程)为核心。</p><p>提供了展现层SpringMVC和持久层Spring JDBCTmplate以及业务层事务管理等众多的业务级应用技术，还能整合开源世界众多著名的第三方框架和类库，逐渐成为使用最多的Java EE企业应用开源应用框架。</p><h3 id="2-Spring的优势"><a href="#2-Spring的优势" class="headerlink" title="2. Spring的优势"></a>2. Spring的优势</h3><h4 id="1-方使解耦，简化开发"><a href="#1-方使解耦，简化开发" class="headerlink" title="1)方使解耦，简化开发"></a>1)方使解耦，简化开发</h4><p>​通过Spring提供的IOC容器，可以将对象间的依赖关系交由Spring进行控制，避免硬编码所造成的过度耦合。<br>用户也不必再为单例模式类、属性文件解析等这些很底层的需求编写代码，可以更专注于上层的应用。</p><h4 id="2-AOP编程的支持"><a href="#2-AOP编程的支持" class="headerlink" title="2)AOP编程的支持"></a>2)AOP编程的支持</h4><p>​通过Spring的AOP功能，方便进行面向切面编程，许多不容易用传统OOP实现的功能可以通过AOP轻松实现.</p><h4 id="3-声明式事务的支持"><a href="#3-声明式事务的支持" class="headerlink" title="3)声明式事务的支持"></a>3)声明式事务的支持</h4><p>​可以将我们从单调烦闷的事务管理代码中解脱出来，通过声明式方式灵活的进行事务管理，提高开发效率和质量。</p><h4 id="4-方便程序的测试"><a href="#4-方便程序的测试" class="headerlink" title="4)方便程序的测试"></a>4)方便程序的测试</h4><p>​可以用非容器依赖的编程方式进行几乎所有的测试江作，测试不再是昂贵的操作，而是随手可做的事情。</p><h4 id="5-方便集成各种优秀框架"><a href="#5-方便集成各种优秀框架" class="headerlink" title="5)方便集成各种优秀框架"></a>5)方便集成各种优秀框架</h4><p>​Spring对各种优秀框架(Struts、Hibernate、Hessian、Quartz等)的支持。</p><h4 id="6-降低JavaEE-API的使用难度"><a href="#6-降低JavaEE-API的使用难度" class="headerlink" title="6)降低JavaEE API的使用难度"></a>6)降低JavaEE API的使用难度</h4><p>​Spring对JavaEE API(如JDBC、JavaMail、远程调用等)进行了薄薄的封装层，使这些API的使用难度大为降低。</p><h4 id="7-Java源码是经典学习范例"><a href="#7-Java源码是经典学习范例" class="headerlink" title="7)Java源码是经典学习范例"></a>7)Java源码是经典学习范例</h4><p>​Spring的源代码设计精妙、结构清晰、匠心独用，处处体现着大师对Java设计模式灵活运用以及对Java技术的高深<br>造诣。它的源代码无意是Java技术的最佳实践的范例。</p><h3 id="3-Spring的体系结构"><a href="#3-Spring的体系结构" class="headerlink" title="3. Spring的体系结构"></a>3. Spring的体系结构</h3><p><img src="/images/spring-overview.png" alt="spring-overview"></p><h2 id="二、Spring快速入门"><a href="#二、Spring快速入门" class="headerlink" title="二、Spring快速入门"></a>二、Spring快速入门</h2><h3 id="1-Spring程序开发步骤"><a href="#1-Spring程序开发步骤" class="headerlink" title="1. Spring程序开发步骤"></a>1. Spring程序开发步骤</h3><p><img src="/images/Spring%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4.png" alt="Spring程序开发步骤"></p><p>① 导入Spring开发的基本坐标</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">spring.version</span>&gt;</span>5.0.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--spring--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>② 编写Dao接口和实现类</p><p>③ 创建Spring核心配置文件</p><p>在类路径下（resources）创建applicationContext.xml配置文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/tx&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       &quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  注入方式采用注解的方式  --&gt;</span><br>    <span class="hljs-comment">&lt;!--  引入service配置文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;applicationContext-user-service.xml&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--  引入dao配置文件  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;applicationContext-user-dao.xml&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>④ 在Spring配置文件中配置UserDaoImpl</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--单例模式--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;singleton&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  &lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot; /&gt;  --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br> <span class="hljs-comment">&lt;!--多例模式--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>⑤ 使用Spring的API获得Bean实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> 测试scope属性</span><br><span class="hljs-comment"> //单例模式</span><br><span class="hljs-comment"> &lt;bean id=&quot;userDao&quot; class=&quot;com.shubao.dao.impl.UserDaoImpl&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;</span><br><span class="hljs-comment"> //多例模式</span><br><span class="hljs-comment"> &lt;bean id=&quot;userDao&quot; class=&quot;com.shubao.dao.impl.UserDaoImpl&quot; scope=&quot;prototype&quot;&gt;&lt;/bean&gt;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testBeanScope</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br>    <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao1</span> <span class="hljs-operator">=</span> (UserDao) context.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>    <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao2</span> <span class="hljs-operator">=</span> (UserDao) context.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>    System.out.println(userDao1);<br>    System.out.println(userDao2);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-Spring的配置文件"><a href="#2-Spring的配置文件" class="headerlink" title="2. Spring的配置文件"></a>2. Spring的配置文件</h3><h4 id="1-Bean标签的基本配置"><a href="#1-Bean标签的基本配置" class="headerlink" title="(1) Bean标签的基本配置"></a>(1) Bean标签的基本配置</h4><p>用于配置对象交由Spring来创建</p><p>默认情况下它调用的是类中的无参构造函数，如果没有无参构造函数不能创建成功。</p><p>基本属性：</p><ul><li>id:Bean实例在spring容器中的唯一标识</li><li>class:Bean的全限定名称</li></ul><h4 id="2-Bean标签的配置范围"><a href="#2-Bean标签的配置范围" class="headerlink" title="(2) Bean标签的配置范围"></a>(2) Bean标签的配置范围</h4><p>scope：指对象的作用范围，取值如下：</p><table><thead><tr><th>取值范围</th><th>说明</th></tr></thead><tbody><tr><td>singleton</td><td>默认值，单例模式</td></tr><tr><td>prototype</td><td>多例的</td></tr><tr><td>request</td><td>WEB项目中，Spring创建一个bean的对象，将对象存入到request域中</td></tr><tr><td>session</td><td>WEB项目中，Spring创建一个bean的对象，将对象存入到session域中</td></tr><tr><td>globalSession</td><td>WEB项目中，应用到Portlet环境，如果没有Portlet环境那么globalSession相当于session</td></tr></tbody></table><h5 id="①-当scope的取值为singleton时"><a href="#①-当scope的取值为singleton时" class="headerlink" title="① 当scope的取值为singleton时"></a>① 当scope的取值为singleton时</h5><p>Bean的实例化个数：1个</p><p>Bean的实例化时机：当Spring核心配置文件被加载时，实例化配置文件中配置的Bean对象</p><p>Bean的生命周期：</p><ul><li>对象创建：当应用加载，创建容器时，对象就被创建了</li><li>对象运行：只要容器在，对象一直活着</li><li>对象销毁：当应用卸载，销毁容器时，对象就被销毁了</li></ul><h5 id="②-当scope的取值为prototype时"><a href="#②-当scope的取值为prototype时" class="headerlink" title="② 当scope的取值为prototype时"></a>② 当scope的取值为prototype时</h5><p>Bean的实例化个数：多个</p><p>Bean的实例化时机：当调用getBean()方法时实例化Bean</p><p>Bean的生命周期：</p><ul><li>对象创建：当使用对象时，创建新的对象实例</li><li>对象运行：只要对象在使用中，就一直活着</li><li>对象销毁：当对象长时间不使用时，就被Java的垃圾回收器回收了</li></ul><h4 id="3-Bean生命周期配置"><a href="#3-Bean生命周期配置" class="headerlink" title="(3) Bean生命周期配置"></a>(3) Bean生命周期配置</h4><ul><li><p>init-method:指定类中的初始化方法名称</p></li><li><p>destroy-method:指定类中的销毁方法名称</p></li></ul><h4 id="4-Bean实例化的三种方式"><a href="#4-Bean实例化的三种方式" class="headerlink" title="(4) Bean实例化的三种方式"></a>(4) Bean实例化的三种方式</h4><ul><li>无参构造方法实例化</li><li>工厂静态方法实例化</li><li>工厂实例方法实例化</li></ul><h5 id="①-使用无参构造方法实例化"><a href="#①-使用无参构造方法实例化" class="headerlink" title="① 使用无参构造方法实例化"></a>① 使用无参构造方法实例化</h5><p>它会根据默认无参构造方法来创建类对象，如果bean中没有默认无参构造函数，将会创建失败</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h5 id="②-工厂静态方法实例化"><a href="#②-工厂静态方法实例化" class="headerlink" title="② 工厂静态方法实例化"></a>② 工厂静态方法实例化</h5><p>工厂的静态方法返回Bean实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.factory;<br><br><span class="hljs-keyword">import</span> com.shubao.dao.UserDao;<br><span class="hljs-keyword">import</span> com.shubao.dao.impl.UserDaoImpl;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 静态工厂</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticFactory</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> UserDao <span class="hljs-title function_">getUserDao</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--静态工厂方式创建Bean--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.factory.StaticFactory&quot;</span> <span class="hljs-attr">factory-method</span>=<span class="hljs-string">&quot;getUserDao&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="③-工厂实例方法实例化"><a href="#③-工厂实例方法实例化" class="headerlink" title="③ 工厂实例方法实例化"></a>③ 工厂实例方法实例化</h5><p>工厂的非静态方法返回Bean实例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.factory;<br><br><span class="hljs-keyword">import</span> com.shubao.dao.UserDao;<br><span class="hljs-keyword">import</span> com.shubao.dao.impl.UserDaoImpl;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 实例工厂</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicFactory</span> &#123;<br>    <span class="hljs-keyword">public</span> UserDao <span class="hljs-title function_">getUserDao</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--实例工厂方式创建Bean--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;factory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.factory.DynamicFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">factory-bean</span>=<span class="hljs-string">&quot;factory&quot;</span> <span class="hljs-attr">factory-method</span>=<span class="hljs-string">&quot;getUserDao&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="5-Bean的依赖注入入门"><a href="#5-Bean的依赖注入入门" class="headerlink" title="(5) Bean的依赖注入入门"></a>(5) Bean的依赖注入入门</h4><h5 id="①-创建-UserService，UserService-内部在调用-UserDao的save-方法"><a href="#①-创建-UserService，UserService-内部在调用-UserDao的save-方法" class="headerlink" title="①  创建 UserService，UserService 内部在调用 UserDao的save() 方法"></a>①  创建 UserService，UserService 内部在调用 UserDao的save() 方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br>        <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> (UserDao) applicationContext.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>        userDao.save();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="②-将-UserServiceImpl-的创建权交给-Spring"><a href="#②-将-UserServiceImpl-的创建权交给-Spring" class="headerlink" title="② 将 UserServiceImpl 的创建权交给 Spring"></a>② 将 UserServiceImpl 的创建权交给 Spring</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.service.impl.UserServiceImpl&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h5 id="③-从-Spring-容器中获得-UserService-进行操作"><a href="#③-从-Spring-容器中获得-UserService-进行操作" class="headerlink" title="③ 从 Spring 容器中获得 UserService 进行操作"></a>③ 从 Spring 容器中获得 UserService 进行操作</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br><span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> (UserService) applicationContext.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br>userService.save();<br></code></pre></td></tr></table></figure><h4 id="6-Bean的依赖注入分析"><a href="#6-Bean的依赖注入分析" class="headerlink" title="(6) Bean的依赖注入分析"></a>(6) Bean的依赖注入分析</h4><p>目前UserService实例和UserDao实例都存在于Spring容器中，当前的做法是在容器外部获得UserService实例和UserDao实例，然后在程序中进行结合。</p><p><img src="/images/2022-02-12-23-44-49-image.png"></p><p>因为UserService和UserDao都在Spring容器中，而最终程序直接使用的是UserService，所以可以在 Spring容器中，将UserDao设置到UserService内部。</p><p><img src="/images/image-20220405215947993.png" alt="image-20220405215947993"></p><h4 id="7-Bean的依赖注入的概念"><a href="#7-Bean的依赖注入的概念" class="headerlink" title="(7) Bean的依赖注入的概念"></a>(7) Bean的依赖注入的概念</h4><p>依赖注入（Dependency Injection）：它是Spring框架核心IOC的具体实现。</p><p>在编写程序时，通过控制反转，把对象的创建交给了Spring，但是代码中不可能出现没有依赖的情况。IOC解耦只是降低他们都依赖关系，但是不会完全消除。例如，业务层仍会调用持久层的方法。</p><p>那这种业务层和持久层的依赖关系，在使用Spring之后，就让Spring来维护了。简单的说，就是让框架把持久层对象传入到业务层，而不用我们自己去获取。</p><h4 id="8-Bean的依赖注入方式"><a href="#8-Bean的依赖注入方式" class="headerlink" title="(8) Bean的依赖注入方式"></a>(8) Bean的依赖注入方式</h4><ul><li><p>set方法注入（p命名空间注入）</p><p>在UserServiceImpl中添加setUserDao方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">private</span> UserDao userDao;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> &#123;<br>        <span class="hljs-built_in">this</span>.userDao = userDao;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        userDao.save();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>配置Spring容器调用set方法进行注入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.service.impl.UserServiceImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;userDao&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>P命名空间注入的本质也是set方法注入，但比起上述的set方法注入更加方便，主要提现在配置文件中，如下：</p><p>首先需要引入P命名空间：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:p=&quot;&lt;http://www.springframework.org/schema/p&gt;&quot;<br></code></pre></td></tr></table></figure><p>其次，需要修改注入方式</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.service.impl.UserServiceImpl&quot;</span> <span class="hljs-attr">p:userDao-ref</span>=<span class="hljs-string">&quot;userDao&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>构造方法注入</p><p>创建有参构造</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br>        <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br>        <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> (UserDao) applicationContext.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>        userDao.save();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>配置Spring容器调用有参构造时进行注入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--有参构造注入方式--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.service.impl.UserServiceImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;userDao&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="9-Bean的依赖注入的数据类型"><a href="#9-Bean的依赖注入的数据类型" class="headerlink" title="(9) Bean的依赖注入的数据类型"></a>(9) Bean的依赖注入的数据类型</h4><p>上面的操作，都是注入的引用Bean，除了对象的引用可以注入，普通数据类型，集合等都可以在容器中进行注入。</p><p>注入数据的三种数据类型</p><ul><li>普通数据类型</li><li>引用数据类型</li><li>集合数据类型</li></ul><h5 id="①-普通数据类型的注入"><a href="#①-普通数据类型的注入" class="headerlink" title="① 普通数据类型的注入"></a>① 普通数据类型的注入</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-keyword">private</span> String company;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCompany</span><span class="hljs-params">(String company)</span> &#123;<br>        <span class="hljs-built_in">this</span>.company = company;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(company + <span class="hljs-string">&quot;===&quot;</span> + age);<br>        System.out.println(<span class="hljs-string">&quot;UserDao save method running....&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;company&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;15&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="②-集合数据类型（List-lt-String-gt-）的注入"><a href="#②-集合数据类型（List-lt-String-gt-）的注入" class="headerlink" title="② 集合数据类型（List&lt;String&gt;）的注入"></a>② 集合数据类型（List&lt;String&gt;）的注入</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-keyword">private</span> List&lt;String&gt; strList;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStrList</span><span class="hljs-params">(List&lt;String&gt; strList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.strList = strList;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(strList);<br>        System.out.println(<span class="hljs-string">&quot;UserDao save method running....&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;strList&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>aaa<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bbb<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ccc<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="③-集合数据类型（List-lt-User-gt-）的注入"><a href="#③-集合数据类型（List-lt-User-gt-）的注入" class="headerlink" title="③ 集合数据类型（List&lt;User&gt;）的注入"></a>③ 集合数据类型（List&lt;User&gt;）的注入</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-keyword">private</span> List&lt;User&gt; userList;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserList</span><span class="hljs-params">(List&lt;User&gt; userList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.userList = userList;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(userList);<br>        System.out.println(<span class="hljs-string">&quot;UserDao save method running....&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;u1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;u2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userList&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;u1&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;u2&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="④-集合数据类型（Map-lt-String-User-gt-）的注入"><a href="#④-集合数据类型（Map-lt-String-User-gt-）的注入" class="headerlink" title="④ 集合数据类型（Map&lt;String, User&gt;）的注入"></a>④ 集合数据类型（Map&lt;String, User&gt;）的注入</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-keyword">private</span> Map&lt;String, User&gt; userMap;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserMap</span><span class="hljs-params">(Map&lt;String, User&gt; userMap)</span> &#123;<br>        <span class="hljs-built_in">this</span>.userMap = userMap;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(userMap);<br>        System.out.println(<span class="hljs-string">&quot;UserDao save method running....&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;u1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;u2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userMap&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;user1&quot;</span> <span class="hljs-attr">value-ref</span>=<span class="hljs-string">&quot;u1&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;user2&quot;</span> <span class="hljs-attr">value-ref</span>=<span class="hljs-string">&quot;u2&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="⑤-集合数据类型（Properties）的注入"><a href="#⑤-集合数据类型（Properties）的注入" class="headerlink" title="⑤ 集合数据类型（Properties）的注入"></a>⑤ 集合数据类型（Properties）的注入</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-keyword">private</span> Properties properties;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> &#123;<br>        <span class="hljs-built_in">this</span>.properties = properties;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(properties);<br>        System.out.println(<span class="hljs-string">&quot;UserDao save method running....&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;properties&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>aaa<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>bbb<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;p3&quot;</span>&gt;</span>ccc<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="10-引入其他配置文件（分模块开发）"><a href="#10-引入其他配置文件（分模块开发）" class="headerlink" title="(10) 引入其他配置文件（分模块开发）"></a>(10) 引入其他配置文件（分模块开发）</h4><p>实际开发中，Spring的配置内容非常多，导致Spring配置很繁琐而且体积很大，所以，可以将部分配置拆解到其他的配置文件中，在Spring住配置文件中通过import标签进行加载</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;applicationContext-user-dao.xml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">import</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="11-小结"><a href="#11-小结" class="headerlink" title="(11) 小结"></a>(11) 小结</h4><ul><li>Spring的重点配置</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span>&gt;</span>标签<br>    id属性：在容器中bean实例的唯一标识，不允许重复<br>    class属性：要实例化的bean的全限定名<br>    scope属性：bean的作用范围，常用的是Singleton(默认)和prototype<br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>标签：属性注入<br>        name属性：属性名称<br>        value属性：注入的普通属性值<br>        ref属性：注入的对象引用值<br>        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span>标签<br>        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span>标签<br>        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>标签<br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span>&gt;</span>标签<br><span class="hljs-tag">&lt;<span class="hljs-name">import</span>&gt;</span>标签：导入其他的Spring的配置文件 <br></code></pre></td></tr></table></figure><h2 id="三、Spring相关API"><a href="#三、Spring相关API" class="headerlink" title="三、Spring相关API"></a>三、Spring相关API</h2><h3 id="1-ApplicationContext的继承体系"><a href="#1-ApplicationContext的继承体系" class="headerlink" title="1. ApplicationContext的继承体系"></a>1. ApplicationContext的继承体系</h3><blockquote><p><a href="https://blog.csdn.net/Growing_stu/article/details/82354272">https://blog.csdn.net/Growing_stu/article/details/82354272</a></p><p><a href="https://blog.csdn.net/snowy_way/article/details/50173535">https://blog.csdn.net/snowy_way/article/details/50173535</a></p></blockquote><p>applicationContext：接口类型，代表应用上下文，可以通过其实例获得Spring容器中的Bean对象</p><p><img src="/../../images/20151204130539849.png"></p><p><img src="/images/20151204171304513.png"></p><h3 id="2-ApplicationContext的实现类"><a href="#2-ApplicationContext的实现类" class="headerlink" title="2. ApplicationContext的实现类"></a>2. ApplicationContext的实现类</h3><h4 id="1-ClassPathXmlApplicationContext"><a href="#1-ClassPathXmlApplicationContext" class="headerlink" title="(1) ClassPathXmlApplicationContext"></a>(1) ClassPathXmlApplicationContext</h4><p>它是从类的根路径下加载配置文件，推荐使用这种</p><h4 id="2-FileSystemXmlApplicationContext"><a href="#2-FileSystemXmlApplicationContext" class="headerlink" title="(2) FileSystemXmlApplicationContext"></a>(2) FileSystemXmlApplicationContext</h4><p>它是从磁盘路径下加载配置文件，配置文件可以在磁盘的任意位置</p><h4 id="3-AnnotationConfigApplicationContext"><a href="#3-AnnotationConfigApplicationContext" class="headerlink" title="(3) AnnotationConfigApplicationContext"></a>(3) AnnotationConfigApplicationContext</h4><p>当使用注解配置容器对象时，需要使用此类来创建Spring容器。它用来读取注解。</p><h3 id="3-getBean-方法使用"><a href="#3-getBean-方法使用" class="headerlink" title="3. getBean()方法使用"></a>3. getBean()方法使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * org/springframework/context/support/AbstractApplicationContext.java </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name)</span> <span class="hljs-keyword">throws</span> BeansException &#123;<br>    assertBeanFactoryActive();<br>    <span class="hljs-keyword">return</span> getBeanFactory().getBean(name);<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name, <span class="hljs-meta">@Nullable</span> Class&lt;T&gt; requiredType)</span> <span class="hljs-keyword">throws</span> BeansException &#123;<br>    assertBeanFactoryActive();<br>    <span class="hljs-keyword">return</span> getBeanFactory().getBean(name, requiredType);<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getBean</span><span class="hljs-params">(String name, Object... args)</span> <span class="hljs-keyword">throws</span> BeansException &#123;<br>    assertBeanFactoryActive();<br>    <span class="hljs-keyword">return</span> getBeanFactory().getBean(name, args);<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;T&gt; requiredType)</span> <span class="hljs-keyword">throws</span> BeansException &#123;<br>    assertBeanFactoryActive();<br>    <span class="hljs-keyword">return</span> getBeanFactory().getBean(requiredType);<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span><span class="hljs-params">(Class&lt;T&gt; requiredType, Object... args)</span> <span class="hljs-keyword">throws</span> BeansException &#123;<br>    assertBeanFactoryActive();<br>    <span class="hljs-keyword">return</span> getBeanFactory().getBean(requiredType, args);<br>&#125;<br></code></pre></td></tr></table></figure><p>其中，当参数的数据类型是字符串时，表示根据Bean的id从容器中获得Bean实例，返回是Object，需要强转。 当参数的数据类型是Class类型时，表示根据类型从容器中匹配Bean实例，当容器中相同类型的Bean有多个时， 则此方法会报错。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br><span class="hljs-type">UserService</span> <span class="hljs-variable">userService1</span> <span class="hljs-operator">=</span> (UserService) applicationContext.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br><span class="hljs-type">UserService</span> <span class="hljs-variable">userService2</span> <span class="hljs-operator">=</span> applicationContext.getBean(UserService.class);<br></code></pre></td></tr></table></figure><h3 id="4-知识要点"><a href="#4-知识要点" class="headerlink" title="4. 知识要点"></a>4. 知识要点</h3><p><strong>Spring的重点API</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--applicationContext.xml--&gt;</span>  <br><span class="hljs-comment">&lt;!--单例模式--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.dao.impl.UserDaoImpl&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;singleton&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--注入JdbcTemplate模板对象--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot; /&gt;--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br><span class="hljs-comment">//1.通过id获取Bean</span><br><span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> (UserDao) context.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br><span class="hljs-comment">//2.通过Class获取Bean</span><br><span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> context.getBean(UserService.class);<br></code></pre></td></tr></table></figure><h2 id="四、Spring配置数据源"><a href="#四、Spring配置数据源" class="headerlink" title="四、Spring配置数据源"></a>四、Spring配置数据源</h2><h3 id="1-数据源-连接池-的作用"><a href="#1-数据源-连接池-的作用" class="headerlink" title="1. 数据源(连接池)的作用"></a>1. 数据源(连接池)的作用</h3><ul><li><p>数据源(连接池)是提高程序性能而出现的</p></li><li><p>事先实例化数据源，初始化部分连接资源</p></li><li><p>使用连接资源时从数据源中获取</p></li><li><p>使用完毕后将连接资源归还给数据源</p><p>常见的数据源(连接池)：DBCP、C3P0、Bonecp、Druid等</p></li></ul><h3 id="2-数据源的开发步骤"><a href="#2-数据源的开发步骤" class="headerlink" title="2. 数据源的开发步骤"></a>2. 数据源的开发步骤</h3><ol><li><p>导入数据源的坐标和数据库驱动坐标</p></li><li><p>创建数据源对象</p></li><li><p>设置数据源的基本连接数据</p></li><li><p>使用数据源获取连接资源和归还连接资源</p></li></ol><h3 id="3-数据源的手动创建"><a href="#3-数据源的手动创建" class="headerlink" title="3. 数据源的手动创建"></a>3. 数据源的手动创建</h3><h4 id="①-导入c3p0和druid的坐标"><a href="#①-导入c3p0和druid的坐标" class="headerlink" title="①  导入c3p0和druid的坐标"></a>①  导入c3p0和druid的坐标</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--&lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">c3p0.version</span>&gt;</span>0.9.1.1<span class="hljs-tag">&lt;/<span class="hljs-name">c3p0.version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">druid.version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">druid.version</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 数据源 --&gt;</span><br><span class="hljs-comment">&lt;!-- https://zhidao.baidu.com/question/1308159611527260859.html  --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;dependency&gt; --&gt;</span><br><span class="hljs-comment">&lt;!--   &lt;groupId&gt;com.mchange&lt;/groupId&gt; --&gt;</span><br><span class="hljs-comment">&lt;!--   &lt;artifactId&gt;c3p0&lt;/artifactId&gt; --&gt;</span><br><span class="hljs-comment">&lt;!--   &lt;version&gt;$&#123;c3p0.version&#125;&lt;/version&gt; --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;/dependency&gt; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;c3p0.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;druid.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="②-导入mysql数据库驱动坐标"><a href="#②-导入mysql数据库驱动坐标" class="headerlink" title="② 导入mysql数据库驱动坐标"></a>② 导入mysql数据库驱动坐标</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- &lt;mysql.version&gt;5.1.3&lt;/mysql.version&gt; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mysql.version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">mysql.version</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--数据源学习--&gt;</span><br><span class="hljs-comment">&lt;!--MySQL数据库--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="③-创建连接池"><a href="#③-创建连接池" class="headerlink" title="③ 创建连接池"></a>③ 创建连接池</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.test;<br><br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidDataSource;<br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidPooledConnection;<br><span class="hljs-keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<br><span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<br><br><span class="hljs-keyword">import</span> javax.sql.DataSource;<br><span class="hljs-keyword">import</span> java.beans.PropertyVetoException;<br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.ResourceBundle;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceTest</span> &#123;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-comment">//测试手动创建c3p0数据源</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testC3p0</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> PropertyVetoException, SQLException &#123;<br>        <span class="hljs-type">ComboPooledDataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComboPooledDataSource</span>();<br>        dataSource.setDriverClass(<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>);<br>        dataSource.setJdbcUrl(<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/test&quot;</span>);<br>        dataSource.setUser(<span class="hljs-string">&quot;root&quot;</span>);<br>        dataSource.setPassword(<span class="hljs-string">&quot;1106135&quot;</span>);<br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> dataSource.getConnection();<br>        System.out.println(connection);<br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-comment">//测试手动创建druid数据源</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDruid</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> PropertyVetoException, SQLException &#123;<br>        <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();<br>        dataSource.setDriverClassName(<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>);<br>        dataSource.setUrl(<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/test&quot;</span>);<br>        dataSource.setUsername(<span class="hljs-string">&quot;root&quot;</span>);<br>        dataSource.setPassword(<span class="hljs-string">&quot;1106135&quot;</span>);<br>        <span class="hljs-type">DruidPooledConnection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> dataSource.getConnection();<br>        System.out.println(connection);<br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-comment">//测试手动创建c3p0数据源(加载properties配置文件)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testProperties</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> PropertyVetoException, SQLException &#123;<br>        <span class="hljs-comment">//读取配置文件</span><br>        <span class="hljs-type">ResourceBundle</span> <span class="hljs-variable">resourceBundle</span> <span class="hljs-operator">=</span> ResourceBundle.getBundle(<span class="hljs-string">&quot;jdbc&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">driver</span> <span class="hljs-operator">=</span> resourceBundle.getString(<span class="hljs-string">&quot;jdbc.driver&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> resourceBundle.getString(<span class="hljs-string">&quot;jdbc.url&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> resourceBundle.getString(<span class="hljs-string">&quot;jdbc.username&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> resourceBundle.getString(<span class="hljs-string">&quot;jdbc.password&quot;</span>);<br><br>        <span class="hljs-comment">//创建数据源对象，设置连接参数</span><br>        <span class="hljs-type">ComboPooledDataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComboPooledDataSource</span>();<br>        dataSource.setDriverClass(driver);<br>        dataSource.setJdbcUrl(url);<br>        dataSource.setUser(username);<br>        dataSource.setPassword(password);<br><br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> dataSource.getConnection();<br>        System.out.println(connection);<br>        connection.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-comment">//测试spring容器创建产生数据源对象</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSpringCreateDatasource</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> PropertyVetoException, SQLException &#123;<br>        <span class="hljs-comment">//加载配置文件</span><br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br>        <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> app.getBean(DataSource.class);<br><br>        <span class="hljs-comment">//获取连接</span><br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> dataSource.getConnection();<br>        System.out.println(connection);<br>        connection.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-Spring配置数据源"><a href="#4-Spring配置数据源" class="headerlink" title="4. Spring配置数据源"></a>4. Spring配置数据源</h3><h4 id="1-可以将DataSource的创建权交由Spring容器去完成"><a href="#1-可以将DataSource的创建权交由Spring容器去完成" class="headerlink" title="1) 可以将DataSource的创建权交由Spring容器去完成"></a>1) 可以将DataSource的创建权交由Spring容器去完成</h4><ul><li><p>DataSource有无参构造方法，而Spring默认就是通过无参构造方法实例化对象的</p></li><li><p>DataSource要想使用需要通过set方法设置数据库连接信息，而Spring可以通过set方法进行字符串注入</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  2.配置数据源bean  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-抽取jdbc配置文件"><a href="#2-抽取jdbc配置文件" class="headerlink" title="2) 抽取jdbc配置文件"></a>2) 抽取jdbc配置文件</h4><p>① applicationContext.xml加载jdbc.properties配置文件获取连接信息。</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment"># jdbc.properties</span><br><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-comment">#jdbc.url=jdbc:mysql://localhost:3306/wollo</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/wollo?characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">1106135</span><br></code></pre></td></tr></table></figure><p>② 首先，需要引入context命名空间和约束路径：</p><ul><li><p>命名空间：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br></code></pre></td></tr></table></figure></li><li><p>约束路径：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">http://www.springframework.org/schema/context<br>http://www.springframework.org/schema/context/spring-context.xsd<br></code></pre></td></tr></table></figure></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       &quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  加载外部的properties文件  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">context:property-placeholder</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  配置数据源bean  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="5-知识要点"><a href="#5-知识要点" class="headerlink" title="5. 知识要点"></a>5. 知识要点</h3><p>Spring容器加载properties文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  加载外部的properties文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">context:property-placeholder</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  配置数据源bean  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>        ...<br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="五、Spring的注解开发"><a href="#五、Spring的注解开发" class="headerlink" title="五、Spring的注解开发"></a>五、Spring的注解开发</h2><h3 id="1-Spring原始注解"><a href="#1-Spring原始注解" class="headerlink" title="1. Spring原始注解"></a>1. Spring原始注解</h3><p>Spring是轻代码而重配置的框架，配置比较繁重，影响开发效率，所以注解开发是一种趋势，注解代替xml配置文件可以简化配置，提高开发效率。</p><p>Spring原始注解主要是替代&lt;Bean&gt;的配置</p><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@Component</td><td>使用在类上用于实例化Bean</td></tr><tr><td>@Controller</td><td>使用在web层类上用于实例化Bean</td></tr><tr><td>@Service</td><td>使用在service层类上用于实例化Bean</td></tr><tr><td>@Repository</td><td>使用在dao层类上用于实例化Bean</td></tr><tr><td>@Autowired</td><td>使用在字段上用于根据类型依赖注入</td></tr><tr><td>@Qualifier</td><td>结合@Autowired一起使用用于根据名称进行依赖注入</td></tr><tr><td>@Resource</td><td>相当于@Autowired + @Qualifier，按照名称进行注入</td></tr><tr><td>@Value</td><td>注入普通属性</td></tr><tr><td>@Scope</td><td>标注Bean的作用范围</td></tr><tr><td>@PostConstruct</td><td>使用在方法上标注该方法是Bean的初始化方法</td></tr><tr><td>@PreDestroy</td><td>使用在方法上标注该方法是Bean的销毁方法</td></tr></tbody></table><p>注意：</p><p>使用注解进行开发时，需要在applicationContext.xml中配置组件扫描，作用是指定哪个包及其子包下的Bean需要进行扫描以便识别和使用注解的类、字段和方法。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置组件扫描  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.shubao&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>使用@Compont或@Repository标识UserDaoImpl需要Spring进行实例化。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//@Component(&quot;userDao&quot;)</span><br><span class="hljs-meta">@Repository(&quot;userDao&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;save running... ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>使用@Compont或@Service标识UserServiceImpl需要Spring进行实例化</li><li>使用@Autowired或者@Autowired+@Qulifier或者@Resource进行userDao的注入</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.service.impl;<br><br><span class="hljs-keyword">import</span> com.shubao.dao.UserDao;<br><span class="hljs-keyword">import</span> com.shubao.domain.User;<br><span class="hljs-keyword">import</span> com.shubao.service.UserService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Scope;<br><span class="hljs-keyword">import</span> org.springframework.dao.EmptyResultDataAccessException;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">//@Component(&quot;userService&quot;)</span><br><span class="hljs-meta">@Service(&quot;userService&quot;)</span><br><span class="hljs-comment">//@Scope(&quot;prototype&quot;) //标注bean的作用范围</span><br><span class="hljs-meta">@Scope(&quot;singleton&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span> <span class="hljs-comment">//按照数据类型从Spring容器中进行匹配</span><br><span class="hljs-comment">//    @Qualifier(&quot;userDao&quot;) //按照id值从容器中进行匹配的，但是此处@Qualifier结合@Autowired一起使用</span><br><span class="hljs-comment">//    @Resource(name = &quot;userDao&quot;) //@Resource相当于@Autowired + @Qualifier</span><br>    <span class="hljs-keyword">private</span> UserDao userDao;<br><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>使用@Value进行字符串的注入</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Repository(&quot;userDao&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-meta">@Value(&quot;注入普通数据&quot;)</span><br>    <span class="hljs-keyword">private</span> String str;<br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String driver;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(str);<br>        System.out.println(driver);<br>        System.out.println(<span class="hljs-string">&quot;save running... ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>使用@Scope标注Bean的范围</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//@Scope(&quot;prototype&quot;)</span><br><span class="hljs-meta">@Scope(&quot;singleton&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    <span class="hljs-comment">//此处省略代码</span><br><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>使用@PostConstruct标注初始化方法，使用@PreDestroy标注销毁方法</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostConstruct</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;初始化方法....&quot;</span>);<br>&#125;<br><span class="hljs-meta">@PreDestroy</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;销毁方法.....&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-Spring的新注解"><a href="#2-Spring的新注解" class="headerlink" title="2. Spring的新注解"></a>2. Spring的新注解</h3><p>使用上面的注解还不能全部替代xml配置文件，还需要使用Spring的其他注解替代。</p><ul><li>非自定义的Bean的配置：<bean></li><li>加载properties文件的配置：context:property-placeholder</li><li>组件扫描的配置：context:component-scan</li><li>引入其他文件：<import></li></ul><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@Configuration</td><td>用于指定当前类是一个Spring配置类，当创建容器时会从该类上加载注解</td></tr><tr><td>@ComponentScan</td><td>用于指定Spring在初始化容器时要扫描的包。<br />作用和在Spring的xml配置文件中的&lt;context:component-scan base-package&#x3D;”com.shubao” &#x2F;&gt;一样</td></tr><tr><td>@Bean</td><td>使用在方法上，标注将该方法的返回值存储到Spring容器中</td></tr><tr><td>@PropertySource</td><td>用于加载properties文件中的配置</td></tr><tr><td>@Import</td><td>用于导入其他配置类</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.ComponentScan;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Import;<br><br><span class="hljs-comment">//配置该类是Spring的核心配置类</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> &lt;!--  配置组件扫描  --&gt;</span><br><span class="hljs-comment"> &lt;context:component-scan base-package=&quot;com.shubao&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@ComponentScan(&quot;com.shubao&quot;)</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">引入子配置文件类</span><br><span class="hljs-comment">&lt;import resource=&quot;xxx.xxx&quot;&gt;&lt;/import&gt;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Import(&#123;DataSourceConfiguration.class&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfiguration</span> &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.config;<br><br><span class="hljs-keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Value;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.PropertySource;<br><br><span class="hljs-keyword">import</span> javax.sql.DataSource;<br><span class="hljs-keyword">import</span> java.beans.PropertyVetoException;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">&lt;!--  加载外部的properties文件  --&gt;</span><br><span class="hljs-comment">    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;&gt;&lt;/context:property-placeholder&gt;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceConfiguration</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String driver;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String url;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String username;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String password;<br><br>    <span class="hljs-meta">@Bean(&quot;dataSource&quot;)</span> <span class="hljs-comment">//Spring会将当前方法的返回值以指定名称存储到Spring容器中</span><br>    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">getDataSource</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> PropertyVetoException &#123;<br>        <span class="hljs-type">ComboPooledDataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComboPooledDataSource</span>();<br>        dataSource.setDriverClass(driver);<br>        dataSource.setJdbcUrl(url);<br>        dataSource.setUser(username);<br>        dataSource.setPassword(password);<br>        <span class="hljs-keyword">return</span> dataSource;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="六、Spring整合Junit"><a href="#六、Spring整合Junit" class="headerlink" title="六、Spring整合Junit"></a>六、Spring整合Junit</h2><h3 id="1-原始Junit测试Spring的问题"><a href="#1-原始Junit测试Spring的问题" class="headerlink" title="1. 原始Junit测试Spring的问题"></a>1. 原始Junit测试Spring的问题</h3><p>在测试类中，每个测试方法都有以下两行代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);<br>UserDao userDao = (UserDao) context.getBean(&quot;userDao&quot;);<br></code></pre></td></tr></table></figure><p>这两行代码的作用是获取容器，如果不写的话，会提示空指针异常，所以不能轻易删掉。</p><h3 id="2-解决思路"><a href="#2-解决思路" class="headerlink" title="2. 解决思路"></a>2. 解决思路</h3><ul><li>让SpringJunit负责创建Spring容器，但是需要将配置文件的名称告诉它</li><li>将需要进行测试的Bean直接在测试类中进行注入</li></ul><h3 id="3-Spring集成Junit的步骤"><a href="#3-Spring集成Junit的步骤" class="headerlink" title="3. Spring集成Junit的步骤"></a>3. Spring集成Junit的步骤</h3><ul><li>导入Spring集成Junit的坐标</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">junit.version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">junit.version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">spring.version</span>&gt;</span>5.0.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.version</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;junit.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--spring--&gt;</span><br><span class="hljs-comment">&lt;!--此处需要注意的是，spring5 及以上版本要求 junit 的版本必须是 4.12 及以上--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>使用@Runwith注解替换原来的运行器，让测试类运行于Spring测试环境</li><li>使用@ContextConfiguration指定配置文件或配置类</li><li>使用@Autowired注入需要测试的对象</li><li>创建测试方法进行测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.test;<br><br><span class="hljs-keyword">import</span> com.shubao.config.SpringConfiguration;<br><span class="hljs-keyword">import</span> com.shubao.service.UserService;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.test.context.ContextConfiguration;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;<br><br><span class="hljs-keyword">import</span> javax.sql.DataSource;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> https://blog.csdn.net/weixin_43671497/article/details/90543225</span><br><span class="hljs-comment"> @RunWith作用</span><br><span class="hljs-comment"> @RunWith 就是一个运行器</span><br><span class="hljs-comment"> @RunWith(JUnit4.class) 就是指用JUnit4来运行</span><br><span class="hljs-comment"> @RunWith(SpringJUnit4ClassRunner.class),让测试运行于Spring测试环境</span><br><span class="hljs-comment"> @RunWith(Suite.class) 的话就是一套测试集合，</span><br><span class="hljs-comment"> @ContextConfiguration Spring整合JUnit4测试时，使用注解引入多个配置文件</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="hljs-comment">//@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)</span><br><span class="hljs-meta">@ContextConfiguration(classes = &#123;SpringConfiguration.class&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringJunitTest</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> DataSource dataSource;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSpringJunitXML</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException &#123;<br><span class="hljs-comment">//        userService.save();</span><br>        System.out.println(dataSource.getConnection());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="七、Spring集成web环境"><a href="#七、Spring集成web环境" class="headerlink" title="七、Spring集成web环境"></a>七、Spring集成web环境</h2><h3 id="1-ApplicationContext应用上下文获取方式"><a href="#1-ApplicationContext应用上下文获取方式" class="headerlink" title="1. ApplicationContext应用上下文获取方式"></a>1. ApplicationContext应用上下文获取方式</h3><p>应用上下文对象是通过new ClasspathXmlApplicationContext(Spring配置文件)方式获取的，但是每次从容器中获得Bean时都要编写new ClasspathXmlApplicationContext(Spring配置文件)，这样的弊端时配置文件加载多次，应用上下文对象创建多次。</p><p>在web项目中，可以使用ServletContextListener监听web应用的启动，我们可以在web应用启动时，就加载Spring的配置文件，创建应用上下文对象ApplicationContext，在将其存储到最大的域ServletContext域中，这样就可以在任意位置从域中获得应用上下文ApplicationContext对象了。</p><h3 id="2-Spring提供获取应用上下文的工具"><a href="#2-Spring提供获取应用上下文的工具" class="headerlink" title="2. Spring提供获取应用上下文的工具"></a>2. Spring提供获取应用上下文的工具</h3><p>上面的分析不用手动实现，Spring提供了一个监听器ContextLoaderListener就是对上述功能的封装，该监听器内部加载Spring配置文件，创建应用上下文对象，并存储到ServletContext域中，提供了一个客户端工具WebApplicationContextUtils供使用者获得应用上下文对象。</p><p>所以我们需要做的只有两件事：</p><ul><li>在web.xml中配置ContextLoaderListener监听器(导入Spring-web坐标)</li><li>使用WebApplicationContextUtils获得应用上下文对象</li></ul><h4 id="1-导入Spring集成web的坐标"><a href="#1-导入Spring集成web的坐标" class="headerlink" title="1) 导入Spring集成web的坐标"></a>1) 导入Spring集成web的坐标</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.14<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-配置ContextLoaderListener监听器"><a href="#2-配置ContextLoaderListener监听器" class="headerlink" title="2) 配置ContextLoaderListener监听器"></a>2) 配置ContextLoaderListener监听器</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 全局初始化参数 --&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br><br> <span class="hljs-comment">&lt;!-- 配置监听器 --&gt;</span><br> <span class="hljs-comment">&lt;!-- 自定义监听器 --&gt;</span><br><span class="hljs-comment">&lt;!--  &lt;listener&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;listener-class&gt;com.shubao.listener.ContextLoaderListener&lt;/listener-class&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--  &lt;/listener&gt;--&gt;</span><br><br> <span class="hljs-comment">&lt;!-- 导入spring-web的监听器 --&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-通过工具获得应用上下文对象"><a href="#3-通过工具获得应用上下文对象" class="headerlink" title="3)  通过工具获得应用上下文对象"></a>3)  通过工具获得应用上下文对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span> WebApplicationContextUtils.getWebApplicationContext(servletContext);<br><span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> applicationContext.getBean(<span class="hljs-string">&quot;id&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="3-知识要点"><a href="#3-知识要点" class="headerlink" title="3. 知识要点"></a>3. 知识要点</h3><p>    Spring集成web环境步骤</p><ul><li><p>①配置ContextLoaderListener监听器</p></li><li><p>②使用WebApplicationContextUtils获得应用上下文</p></li></ul><h2 id="八、SpringMVC简介"><a href="#八、SpringMVC简介" class="headerlink" title="八、SpringMVC简介"></a>八、SpringMVC简介</h2><h3 id="1-SpringMVC概述"><a href="#1-SpringMVC概述" class="headerlink" title="1. SpringMVC概述"></a>1. SpringMVC概述</h3><p>SpringMVC是一种基于Java的实现MVC设计模型的请求驱动类型的轻量级web框架，属于SpringFrameWork的后续产品，已经融合在Spring Web Flow中。</p><p><img src="/images/2022-02-12-23-51-42-image.png"></p><h3 id="2-SpringMVC快速入门"><a href="#2-SpringMVC快速入门" class="headerlink" title="2. SpringMVC快速入门"></a>2. SpringMVC快速入门</h3><p>开发步骤</p><ol><li><p>导入Spring和SpringMVC相关坐标</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">spring.version</span>&gt;</span>5.0.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.version</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  spring mvc  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p> 导入Servlet和Jsp的坐标</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">jsp-api.version</span>&gt;</span>2.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">jsp-api.version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-api.version</span>&gt;</span>3.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-api.version</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--servlet--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;jsp-api.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;servlet-api.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>配置SpringMVC核心控制器DispathcerServlet</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 配置Spring MVC的前端控制器 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>创建Controller类和视图页面</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: chris<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">1</span>/<span class="hljs-number">8</span> 0008<br>  Time: <span class="hljs-number">16</span>:<span class="hljs-number">36</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Success&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;h1&gt;success...&lt;/h1&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>使用注解配置Controller类中业务方法的映射地址</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;/quick&quot;, method = RequestMethod.GET, params = &#123;&quot;username&quot;&#125;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">quick</span><span class="hljs-params">(String username)</span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;UserController.save() running...&quot;</span>);<br>    System.out.println(<span class="hljs-string">&quot;username = &quot;</span> + username);<br><br>    <span class="hljs-comment">// return &quot;/success.jsp&quot;;//默认方式：forward 转发</span><br>    <span class="hljs-comment">// return &quot;forward:/success.jsp&quot;;//forward 转发</span><br>    <span class="hljs-comment">// return &quot;redirect:/success.jsp&quot;;//redirect 重定向</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<span class="hljs-comment">//配置视图解析器</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>配置SpringMVC核心文件spring-mvc.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        &quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  Controller的组件扫描  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;context:component-scan base-package=&quot;com.shubao.controller&quot;&gt;&lt;/context:component-scan&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  组件扫描：主要扫描Controller  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.shubao.controller&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- include 包括 ， exclude 不包括、排除--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;&gt;&lt;/context:include-filter&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!--2.配置内部资源视图解析器--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;viewResolver&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/pages/&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;property name=&quot;prefix&quot; value=&quot;/jsp/&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>客户端发起请求</p></li></ol><p><img src="/images/2022-02-12-23-52-50-image.png"></p><h3 id="3-SpringMVC流程图示"><a href="#3-SpringMVC流程图示" class="headerlink" title="3. SpringMVC流程图示"></a>3. SpringMVC流程图示</h3><p><img src="/images/Snipaste_2022-04-05_23-22-39.png"></p><h2 id="九、SpringMVC组件解析"><a href="#九、SpringMVC组件解析" class="headerlink" title="九、SpringMVC组件解析"></a>九、SpringMVC组件解析</h2><h3 id="1-SpringMVC的执行流程"><a href="#1-SpringMVC的执行流程" class="headerlink" title="1. SpringMVC的执行流程"></a>1. SpringMVC的执行流程</h3><p>① 用户发送请求到前端控制器DispatcherServlet</p><p>② DispatcherServlet收到请求调用HandlerMapping处理器映射器</p><p>③ 处理器映射器找到具体的处理器(可以根据xml配置，注解进行查找)，生成处理器对象及处理器拦截器(如果有则生成)，一并返回给DispatcherServlet。</p><p>④ DispatcherServlet调用HandlerAdapter处理器适配器</p><p>⑤ HandlerAdapter经过适配器调用具体的处理器(Controller，也叫后端控制器)</p><p>⑥ Controller执行完成返回MOdelAndView</p><p>⑦ HandlerAdapter将Controller执行结果ModelAndView返回给DispatcherServlet</p><p>⑧ DispatcherServlet将ModelAndView传给ViewResolver视图解析器</p><p>⑨ ViewResolver解析后返回具体的View</p><p>⑩ DispatcherServlet根据View进行渲染试图(即将模型数据填充至试图中)，DispatcherServlet响应用户。</p><p><img src="/images/Snipaste_2022-04-05_23-23-55.png"></p><ol><li><p>前端控制器：DispatcherServlet</p><p>用户请求到达前端控制器，它就相当于 MVC 模式中的 C，DispatcherServlet 是整个流程控制的中心，由它调用其它组件处理用户的请求，DispatcherServlet 的存在降低了组件之间的耦合性。 </p></li><li><p>处理器映射器：HandlerMapping</p><p>HandlerMapping 负责根据用户请求找到 Handler 即处理器，SpringMVC 提供了不同的映射器实现不同的 映射方式，例如：配置文件方式，实现接口方式，注解方式等。 </p></li><li><p>处理器适配器：HandlerAdapter</p><p>通过 HandlerAdapter 对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理 器进行执行。</p></li><li><p>处理器：Handler</p><p>它就是我们开发中要编写的具体业务控制器。由 DispatcherServlet 把用户请求转发到 Handler。由 Handler 对具体的用户请求进行处理。 </p></li><li><p>视图解析器：View Resolver</p><p>View Resolver 负责将处理结果生成 View 视图，View Resolver 首先根据逻辑视图名解析成物理视图名，即 具体的页面地址，再生成 View 视图对象，最后对 View 进行渲染将处理结果通过页面展示给用户。 </p></li><li><p>视图：View</p><p>SpringMVC 框架提供了很多的 View 视图类型的支持，包括：jstlView、freemarkerView、pdfView等。最 常用的视图就是 jsp。一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户，需要由程 序员根据业务需求开发具体的页面。</p></li></ol><h3 id="2-SpringMVC注解解析"><a href="#2-SpringMVC注解解析" class="headerlink" title="2. SpringMVC注解解析"></a>2. SpringMVC注解解析</h3><p>@RequestMapping</p><p>作用：用户建立请求URL和处理请求方法之间的对应关系</p><p>位置：</p><ul><li><p>类上：请求URL的第一级访问目录。此处不写的话，就相当于应用的根目录</p></li><li><p>方法上：请求URL的第二级访问目录，与类上的使用@RequestMapping标注的一级目录一起组成访问虚拟路径</p></li></ul><p>属性：</p><ul><li><p>value：用于指定请求的URL，它和path属性的作用是一样的</p></li><li><p>method：用于指定请求的方式</p></li><li><p>params：用于指定限制请求参数的条件。它支持简单的表达式，要求请求参数的key和value必须配置的一模一样</p></li></ul><p>例如：</p><ul><li><p>params &#x3D; {“username”}，表示请求参数必须要有username</p></li><li><p>params &#x3D; {“money!100”}，表示请求参数中money不能是100</p></li></ul><h4 id="①-MVC的命名空间引入"><a href="#①-MVC的命名空间引入" class="headerlink" title="① MVC的命名空间引入"></a>① MVC的命名空间引入</h4><p>命名空间：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br>xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;<br></code></pre></td></tr></table></figure><p>约束条件：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">http://www.springframework.org/schema/context <br>http://www.springframework.org/schema/context/spring-context.xsd<br>http://www.springframework.org/schema/mvc <br>http://www.springframework.org/schema/mvc/spring-mvc.xsd<br></code></pre></td></tr></table></figure><p>示例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        &quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 相关配置内容 --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="②-组件扫描"><a href="#②-组件扫描" class="headerlink" title="② 组件扫描"></a>② 组件扫描</h4><p>SpringMVC基于Spring容器，所以在进行SpringMVC操作时，需要将Controller存储到Spring容器中，如果使用@Controller注解标注的话，就需要使用&lt;context:component-sacn base-package&#x3D;”com.shubao.controller” &#x2F;&gt;进行组件扫描</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.shubao.controller&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- include 包括 ， exclude 不包括、排除--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;&gt;&lt;/context:include-filter&gt;--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="3-SpringMVC的XML配置解析"><a href="#3-SpringMVC的XML配置解析" class="headerlink" title="3. SpringMVC的XML配置解析"></a>3. SpringMVC的XML配置解析</h3><h4 id="①-视图解析器"><a href="#①-视图解析器" class="headerlink" title="① 视图解析器"></a>① 视图解析器</h4><p>SpringMVC有默认组件配置，默认组件都是DispatcherServlet.properties配置文件中配置的，该配置文件地址为：org&#x2F;springframework&#x2F;web&#x2F;servlet&#x2F;DispatcherServlet.properties，该文件中配置了默认的视图解析器，如下：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">org.springframework.web.servlet.ViewResolver</span>=<span class="hljs-string">org.springframework.web.servlet.view.InternalResourceViewResolver</span><br></code></pre></td></tr></table></figure><p>翻开该解析器源码，可以看到该解析器的默认配置，如下：</p><blockquote><p>org.springframework.web.servlet.view.UrlBasedViewResolver</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Prefix for special view names that specify a redirect URL (usually</span><br><span class="hljs-comment"> * to a controller after a form has been submitted and processed).</span><br><span class="hljs-comment"> * Such view names will not be resolved in the configured default</span><br><span class="hljs-comment"> * way but rather be treated as special shortcut.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">REDIRECT_URL_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;redirect:&quot;</span>;<span class="hljs-comment">//重定向前缀</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Prefix for special view names that specify a forward URL (usually</span><br><span class="hljs-comment"> * to a controller after a form has been submitted and processed).</span><br><span class="hljs-comment"> * Such view names will not be resolved in the configured default</span><br><span class="hljs-comment"> * way but rather be treated as special shortcut.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">FORWARD_URL_PREFIX</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;forward:&quot;</span>;<span class="hljs-comment">//转发前缀（默认值）</span><br><br><span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">prefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<span class="hljs-comment">//视图名称前缀</span><br><br><span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">suffix</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<span class="hljs-comment">//视图名称后缀</span><br></code></pre></td></tr></table></figure><p>我们可以通过属性注入的方式修改视图的的前后缀</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--2.配置内部资源视图解析器--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;viewResolver&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/pages/&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;property name=&quot;prefix&quot; value=&quot;/jsp/&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-知识要点-1"><a href="#4-知识要点-1" class="headerlink" title="4. 知识要点"></a>4. 知识要点</h3><p><strong>SpringMVC的相关组件</strong></p><ul><li><p>前端控制器：DispatcherServlet</p></li><li><p>处理器映射器：HandlerMapping</p></li><li><p>处理器适配器：HandlerAdapter</p></li><li><p>处理器：Handler</p></li><li><p>视图解析器：ViewResolver</p></li><li><p>视图：View</p></li></ul><p><strong>SpringMVC的注解和配置</strong></p><ul><li><p>请求映射注解：@RequestMapping</p></li><li><p>视图解析器配置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--2.配置内部资源视图解析器--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;viewResolver&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/pages/&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;property name=&quot;prefix&quot; value=&quot;/jsp/&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="十、SpringMVC的数据响应"><a href="#十、SpringMVC的数据响应" class="headerlink" title="十、SpringMVC的数据响应"></a>十、SpringMVC的数据响应</h2><h3 id="1-SpringMVC的数据响应方式"><a href="#1-SpringMVC的数据响应方式" class="headerlink" title="1. SpringMVC的数据响应方式"></a>1. SpringMVC的数据响应方式</h3><h4 id="1-页面跳转"><a href="#1-页面跳转" class="headerlink" title="(1) 页面跳转"></a>(1) 页面跳转</h4><ul><li><p>直接返回字符串</p></li><li><p>通过ModelAndView对象返回</p></li></ul><h4 id="2-回写数据"><a href="#2-回写数据" class="headerlink" title="(2) 回写数据"></a>(2) 回写数据</h4><ul><li><p>直接返回字符串</p></li><li><p>返回对象或集合</p></li></ul><h4 id="3-页面跳转"><a href="#3-页面跳转" class="headerlink" title="(3) 页面跳转"></a>(3) 页面跳转</h4><h5 id="①-返回字符串形式"><a href="#①-返回字符串形式" class="headerlink" title="① 返回字符串形式"></a>① 返回字符串形式</h5><p>直接返回字符串：此种方式会将返回的字符串与视图解析器的前后缀拼接后跳转。</p><p><img src="/images/Snipaste_2022-02-26_16-27-23.png"></p><p>返回带有前缀的字符串：</p><p>转发：forward:&#x2F;WEB-INF&#x2F;view&#x2F;index.jsp</p><p>重定向：redirect:&#x2F;index.jsp</p><h4 id="4-回写数据"><a href="#4-回写数据" class="headerlink" title="(4) 回写数据"></a>(4) 回写数据</h4><h5 id="①-返回对象或集合"><a href="#①-返回对象或集合" class="headerlink" title="① 返回对象或集合"></a>① 返回对象或集合</h5><p>在方法上添加@ResponseBody就可以返回json格式的字符串，但是这样配置比较麻烦，配置的代码比较多，可以使用MVC的注解驱动代替上述配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--1.mvc的注解驱动--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>在SpringMVC的各个组件中，<strong>处理器映射器</strong>、<strong>处理器适配器</strong>、<strong>视图解析器</strong>称为SpringMVC的三大组件。</p><p>使用&lt;mvc:annotation-driven &#x2F;&gt;自动加载RequestMappingHandlerMapping（处理器映射器）和RequestMappingHandlerAdapt（处理器适配器），可以在spring-xml.xml配置文件中使用&lt;mvc:annotation-driven &#x2F;&gt;替代注解处理器和适配器的配置。</p><p>同时，使用&lt;mvc:annotation-driven &#x2F;&gt;默认底层就会集成Jackson进行对象或者集合的json格式字符串的转换。</p><h4 id="5-知识要点-1"><a href="#5-知识要点-1" class="headerlink" title="(5) 知识要点"></a>(5) 知识要点</h4><h5 id="①-页面跳转"><a href="#①-页面跳转" class="headerlink" title="① 页面跳转"></a>① 页面跳转</h5><ul><li><p>直接返回字符串</p></li><li><p>通过ModelAndView对象返回</p></li></ul><h5 id="②-回写数据"><a href="#②-回写数据" class="headerlink" title="② 回写数据"></a>② 回写数据</h5><ul><li><p>直接返回字符串</p></li><li><p>返回对象或集合</p></li></ul><h3 id="2-Spring-MVC获得请求数据"><a href="#2-Spring-MVC获得请求数据" class="headerlink" title="2. Spring MVC获得请求数据"></a>2. Spring MVC获得请求数据</h3><h4 id="1-获得请求参数"><a href="#1-获得请求参数" class="headerlink" title="(1) 获得请求参数"></a>(1) 获得请求参数</h4><p>客户端请求参数的格式是：name&#x3D;value1&amp;age&#x3D;value2…</p><p>服务器端要获得请求的参数，有时还需要进行数据的封装，SpringMVC可以接收如下类型的参数：</p><ul><li><p>基本数据类型参数</p></li><li><p>POJO类型参数</p></li><li><p>数据类型参数</p></li><li><p>集合类型参数</p></li></ul><h4 id="2-获得基本类型参数"><a href="#2-获得基本类型参数" class="headerlink" title="(2) 获得基本类型参数"></a>(2) 获得基本类型参数</h4><p>Controller中业务方法的参数名称要与请求参数的name一致，参数值会自动映射匹配。</p><blockquote><p>请求地址：<a href="http://localhost:8080/user/quick11?username=zhangsan&amp;age=12">http://localhost:8080/user/quick11?username=zhangsan&amp;age=12</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请求参数类型为普通数据类型</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> username 用户名</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> age 年龄</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick11&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick11</span><span class="hljs-params">(String username, <span class="hljs-type">int</span> age)</span> &#123;<br>    System.out.println(username);<br>    System.out.println(age);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-获得POJO类型参数"><a href="#3-获得POJO类型参数" class="headerlink" title="(3) 获得POJO类型参数"></a>(3) 获得POJO类型参数</h4><p>Controller中的业务方法的POJO参数的属性名与请求参数的name一致，参数值会自动映射匹配。</p><blockquote><p>请求地址：<a href="http://localhost:8080/user/quick12?username=zhangsan&amp;age=12">http://localhost:8080/user/quick12?username=zhangsan&amp;age=12</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String username;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">//getting&amp;setting</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请求参数类型为POJO对象</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> user 请求参数对象</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick12&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick12</span><span class="hljs-params">(User user)</span> &#123;<br>    System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-获得数据类型参数"><a href="#4-获得数据类型参数" class="headerlink" title="(4) 获得数据类型参数"></a>(4) 获得数据类型参数</h4><p>Controller中的业务方法数据名称与请求参数的name一致，参数值会自动映射匹配。</p><blockquote><p>请求地址：<a href="http://localhost:8080/user/quick13?strs=11&amp;strs=22&amp;strs=33">http://localhost:8080/user/quick13?strs=11&amp;strs=22&amp;strs=33</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请求参数类型为数组</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> strs 请求参数数组</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick13&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick13</span><span class="hljs-params">(String[] strs)</span> &#123;<br>    System.out.println(Arrays.asList(strs));<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-获得集合类型参数"><a href="#5-获得集合类型参数" class="headerlink" title="(5) 获得集合类型参数"></a>(5) 获得集合类型参数</h4><p>获得集合参数时，要将集合参数包装到一个POJO中才可以</p><p>当使用Ajax提交时，可以指定contentType为json形式，那么在方法参数位置使用@RequestBody可以直接接收集合数据而无需使用POJO进行包装。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">var</span> userList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();</span><br><span class="language-javascript">userList.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;);</span><br><span class="language-javascript">userList.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">username</span>: <span class="hljs-string">&quot;lisi&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;);</span><br><span class="language-javascript">$.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;POST&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/quick15&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(userList),</span><br><span class="language-javascript">    <span class="hljs-attr">contentType</span>: <span class="hljs-string">&quot;application/json;charset=utf-8&quot;</span></span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="6-请求数据乱码问题"><a href="#6-请求数据乱码问题" class="headerlink" title="(6) 请求数据乱码问题"></a>(6) 请求数据乱码问题</h4><p>当post请求时，数据会出现乱码，我们可以配置一个过滤器来进行编码的过滤。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--配置全局过滤器filter--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="7-参数绑定注解-requestParam"><a href="#7-参数绑定注解-requestParam" class="headerlink" title="(7) 参数绑定注解@requestParam"></a>(7) 参数绑定注解@requestParam</h4><p>当请求的参数名称与Controller的业务方法参数名称不一致时，需要通过@RequestParam注解显式的绑定。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/quick14&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;/quick16&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick16</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;name&quot;)</span> String username)</span> &#123;<br>    System.out.println(username);<br>&#125;<br></code></pre></td></tr></table></figure><p>注解@RequestParam有如下参数可以使用：</p><ul><li><p>value：请求参数名称</p></li><li><p>required：表示在该请求中指定的请求参数是否必须包括，默认是true，提交时如果没有此参数则报错</p></li><li><p>defaultValue：当没有指定请求参数时，则使用指定的默认值赋值</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value = &quot;/quick16&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick16</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(value = &quot;username&quot;, required = false, defaultValue = &quot;tom&quot;)</span> String username)</span> &#123;<br>    System.out.println(username);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="8-获得Restful风格的参数"><a href="#8-获得Restful风格的参数" class="headerlink" title="(8) 获得Restful风格的参数"></a>(8) 获得Restful风格的参数</h4><p>Restful是一种软件架构风格、设计风格，而不是标准，只是提供了一组设计原则和约束条件。主要用于客户端和服务器交互类的软件，基于这个风格设计的软件可以更简洁，更有层次，更易于实现缓存机制等。</p><p>Restful风格的请求是使用“url+请求方式”表示一次i请求目的的，HTTP协议里面四个表示操作方式的动词如下：</p><ul><li><p>GET：用于获取资源</p></li><li><p>POST：用于新建资源</p></li><li><p>PUT：用于更新资源</p></li><li><p>DELETE：用于删除资源</p></li></ul><p>例如：</p><ul><li><p>&#x2F;user&#x2F;1 GET：得到id&#x3D;1的user</p></li><li><p>&#x2F;user&#x2F;1 DELETE：删除id&#x3D;1的user</p></li><li><p>&#x2F;user&#x2F;1 PUT：更新id&#x3D;1的user</p></li><li><p>&#x2F;user POST：新增user</p></li></ul><p>上面的url地址&#x2F;user&#x2F;1中的1就是要获得的请求参数，在SpringMVC中可以使用占位符进行参数绑定。地址&#x2F;user&#x2F;1可以写成&#x2F;user&#x2F;{id}，占位符{id}对应的就是1的值。在业务方法中，我们可以使用@PathVariable注解进行占位符的匹配获取工作。</p><blockquote><p>请求地址：<a href="http://localhost:8080/user/quick17/zhangsan">http://localhost:8080/user/quick17/zhangsan</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Restful风格</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> username 用户名</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick17/&#123;username&#125;&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick17</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;username&quot;)</span> String username)</span> &#123;<br>    System.out.println(username);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="9-自定义类型转换器"><a href="#9-自定义类型转换器" class="headerlink" title="(9) 自定义类型转换器"></a>(9) 自定义类型转换器</h4><p>SpringMVC默认已经提供了一些常用的类型转换器，例如客户端提交的字符串转换成int类型进行参数设置。</p><p>但是不是所有的数据类型都提供了转换器，没有提供的就需要自定义转换器，例如：日期类型就需要自定义转换器。</p><p>自定义类型转换器的开发步骤：</p><h5 id="①-定义转换器类实现Converter接口"><a href="#①-定义转换器类实现Converter接口" class="headerlink" title="① 定义转换器类实现Converter接口"></a>① 定义转换器类实现Converter接口</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.converter;<br><br><br><span class="hljs-keyword">import</span> org.springframework.core.convert.converter.Converter;<br><br><span class="hljs-keyword">import</span> java.text.ParseException;<br><span class="hljs-keyword">import</span> java.text.SimpleDateFormat;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DateConverter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Converter</span>&lt;String, Date&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">convert</span><span class="hljs-params">(String source)</span> &#123;<br>        <span class="hljs-comment">//将日期字符串转换成日期对象，返回</span><br>        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">format</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd&quot;</span>);<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            date = format.parse(source);<br>        &#125; <span class="hljs-keyword">catch</span> (ParseException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> date;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="②-在配置文件中申明转换器"><a href="#②-在配置文件中申明转换器" class="headerlink" title="② 在配置文件中申明转换器"></a>② 在配置文件中申明转换器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  申明转换器  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;conversionService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;converters&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.shubao.converter.DateConverter&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="③-在-lt-mvc-annotation-driven-conversion-service-x3D-”conversionService”-x2F-gt-中引用转换器"><a href="#③-在-lt-mvc-annotation-driven-conversion-service-x3D-”conversionService”-x2F-gt-中引用转换器" class="headerlink" title="③ 在&lt;mvc:annotation-driven conversion-service&#x3D;”conversionService” &#x2F;&gt;中引用转换器"></a>③ 在&lt;mvc:annotation-driven conversion-service&#x3D;”conversionService” &#x2F;&gt;中引用转换器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--1.mvc的注解驱动--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> <span class="hljs-attr">conversion-service</span>=<span class="hljs-string">&quot;conversionService&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><h4 id="10-获得Servlet相关API"><a href="#10-获得Servlet相关API" class="headerlink" title="(10) 获得Servlet相关API"></a>(10) 获得Servlet相关API</h4><p>SpringMVC支持使用原始Servlet API对象作为控制器方法的参数进行注入，常用的对象如下：</p><ul><li><p>HttpServletRequest</p></li><li><p>HttpServletResponse</p></li><li><p>HttpSession</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 获取Servlet相关API</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> request request对象</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> response response对象</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> session session对象</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick19&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick19</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, HttpSession session)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;request = &quot;</span> + request);<br>    System.out.println(<span class="hljs-string">&quot;response = &quot;</span> + response);<br>    System.out.println(<span class="hljs-string">&quot;session = &quot;</span> + session);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="11-获得请求头"><a href="#11-获得请求头" class="headerlink" title="(11) 获得请求头"></a>(11) 获得请求头</h4><h5 id="①-RequestHeader"><a href="#①-RequestHeader" class="headerlink" title="① @RequestHeader"></a>① @RequestHeader</h5><p>使用@RequestHeader可以获取请求头信息，相当于web阶段的request.getHeader(name)</p><p>@RequestHeader注解的属性如下：</p><ul><li><p>value：请求头的名称</p></li><li><p>required：是否必须携带此请求头</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 使用注解<span class="hljs-doctag">@RequestHead</span>获取请求头</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> user_agent user_agent对象</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick20&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick20</span><span class="hljs-params">(<span class="hljs-meta">@RequestHeader(value = &quot;User-Agent&quot;, required = false)</span> String user_agent)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;user_agent = &quot;</span> + user_agent);<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="②-CookieValue"><a href="#②-CookieValue" class="headerlink" title="② @CookieValue"></a>② @CookieValue</h5><p>使用@CookieValue可以获得指定Cookie的值</p><p>@CookieValue注解的属性如下：  </p><ul><li><p>value：指定cookie的名称</p></li><li><p>required：是否必须携带此cookie</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 使用<span class="hljs-doctag">@CookieValue</span>获取cookie的value</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> jsessionId JSESSIONID对象</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick21&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick21</span><span class="hljs-params">(<span class="hljs-meta">@CookieValue(value = &quot;JSESSIONID&quot;, required = false)</span> String jsessionId)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;jsessionId = &quot;</span> + jsessionId);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="12-文件上传"><a href="#12-文件上传" class="headerlink" title="(12) 文件上传"></a>(12) 文件上传</h4><h5 id="①-文件上传客户端三要素"><a href="#①-文件上传客户端三要素" class="headerlink" title="① 文件上传客户端三要素"></a>① 文件上传客户端三要素</h5><ul><li><p>表单项type &#x3D; “file”</p></li><li><p>表单的提交方式是post</p></li><li><p>表单的enctype属性是多部份表单形式，及enctype&#x3D;”multipart&#x2F;form-data”</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/quick22&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span><br>    名称<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    文件<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="②-文件上传原理"><a href="#②-文件上传原理" class="headerlink" title="② 文件上传原理"></a>② 文件上传原理</h5><ul><li><p>当form表单修改为多部份表单时，request.getParameter()将失效。</p></li><li><p>enctype&#x3D;”application&#x2F;x-www-form-urlencoded”时，form表单的正文内容格式是：key&#x3D;value1&amp;key&#x3D;value2&amp;key&#x3D;value3</p></li><li><p>当form表单的enctype取值为multipart&#x2F;form-data时，请求正文内容就变成多部份形式：</p></li></ul><p><img src="/images/Snipaste_2022-02-26_18-22-40.png"></p><h4 id="13-单文件上传步骤"><a href="#13-单文件上传步骤" class="headerlink" title="(13) 单文件上传步骤"></a>(13) 单文件上传步骤</h4><h5 id="①-导入fileupload和io坐标"><a href="#①-导入fileupload和io坐标" class="headerlink" title="① 导入fileupload和io坐标"></a>① 导入fileupload和io坐标</h5><h5 id="②-配置文件上传解析器"><a href="#②-配置文件上传解析器" class="headerlink" title="② 配置文件上传解析器"></a>② 配置文件上传解析器</h5><h5 id="③-编写文件上传代码"><a href="#③-编写文件上传代码" class="headerlink" title="③ 编写文件上传代码"></a>③ 编写文件上传代码</h5><h4 id="14-单文件上传实现"><a href="#14-单文件上传实现" class="headerlink" title="(14) 单文件上传实现"></a>(14) 单文件上传实现</h4><p>① 导入fileupload和io坐标</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--   文件上传坐标   --&gt;</span><br><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;commons-fileupload.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;commons-io.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>② 配置文件上传解析器</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置文件上传解析器  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multipartResolver&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--    上传文件的编码类型    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--    上传文件总大小    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxUploadSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;524800&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--    上传单个文件的大小    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxUploadSizePerFile&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5242800&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="③-编写文件上传代码-1"><a href="#③-编写文件上传代码-1" class="headerlink" title="③ 编写文件上传代码"></a>③ 编写文件上传代码</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: chris<br>  Date: 2022/1/23 0023<br>  Time: 19:22<br>  To change this template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/quick22&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;</span><br>        名称<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        文件<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 单文件上传</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> username 用户名</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> file 文件</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> Exception IO异常</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/quick22&quot;)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quick22</span><span class="hljs-params">(String username, MultipartFile file)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;username = &quot;</span> + username);<br>    <span class="hljs-comment">//获得上传文件的名称</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">originalFilename</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>    System.out.println(<span class="hljs-string">&quot;originalFilename = &quot;</span> + originalFilename);<br>    file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;D:\\logs\\&quot;</span> + originalFilename));<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="15-知识要点"><a href="#15-知识要点" class="headerlink" title="(15) 知识要点"></a>(15) 知识要点</h4><p><strong>MVC实现数据请求方式</strong></p><ul><li><p>基本类型参数</p></li><li><p>POJO类型参数</p></li><li><p>数组类型参数</p></li><li><p>集合类型参数</p></li></ul><p><strong>MVC获取数据细节</strong></p><ul><li><p>中文乱码问题</p></li><li><p>@RequestParam和@PathVariable</p></li><li><p>自定义类型转换器</p></li><li><p>获得Servlet相关API</p></li><li><p>@RequestHeader和@CookieValue</p></li><li><p>文件上传</p></li></ul><h2 id="十一、Spring-JdbcTemplate基本使用"><a href="#十一、Spring-JdbcTemplate基本使用" class="headerlink" title="十一、Spring JdbcTemplate基本使用"></a>十一、Spring JdbcTemplate基本使用</h2><h3 id="1-JdbcTemplate概述"><a href="#1-JdbcTemplate概述" class="headerlink" title="1. JdbcTemplate概述"></a>1. JdbcTemplate概述</h3><p>它是spring框架中提供的一个对象，是对原始繁琐的Jdbc API对象的简单封装，spring框架为我们提供了很多的操作模板类，例如：操作关系型数据库的JdbcTemplate，操作nosql数据库的RedisTemplate，操作消息队列的JmsTemplate等等。</p><h3 id="2-JdbcTemplate开发步骤"><a href="#2-JdbcTemplate开发步骤" class="headerlink" title="2. JdbcTemplate开发步骤"></a>2. JdbcTemplate开发步骤</h3><h4 id="①-导入spring-jdbc和spring-tx坐标"><a href="#①-导入spring-jdbc和spring-tx坐标" class="headerlink" title="① 导入spring-jdbc和spring-tx坐标"></a>① 导入spring-jdbc和spring-tx坐标</h4><h4 id="②-创建数据库表和实体"><a href="#②-创建数据库表和实体" class="headerlink" title="② 创建数据库表和实体"></a>② 创建数据库表和实体</h4><h4 id="③-创建JdbcTemplate对象"><a href="#③-创建JdbcTemplate对象" class="headerlink" title="③ 创建JdbcTemplate对象"></a>③ 创建JdbcTemplate对象</h4><h4 id="④-执行数据库操作"><a href="#④-执行数据库操作" class="headerlink" title="④ 执行数据库操作"></a>④ 执行数据库操作</h4><h3 id="3-Spring产生JdbcTemplate对象"><a href="#3-Spring产生JdbcTemplate对象" class="headerlink" title="3. Spring产生JdbcTemplate对象"></a>3. Spring产生JdbcTemplate对象</h3><p>我们可以将JdbcTemplate的创建权交给spring，将数据源DataSource的创建权也交给Spring，在Spring容器内部将数据源DataSource注入到JdbcTemplate模板对象中，配置如下：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment"># jdbc.properties</span><br><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-comment">#jdbc.url=jdbc:mysql://localhost:3306/wollo</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/wollo?characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">1106135</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  1.加载外部的properties文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  2.配置数据源bean  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  3.jdbc模板对象  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-JdbcTemplate的常用操作"><a href="#4-JdbcTemplate的常用操作" class="headerlink" title="4. JdbcTemplate的常用操作"></a>4. JdbcTemplate的常用操作</h3><p>修改操作：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.test;<br><br><span class="hljs-keyword">import</span> com.shubao.domain.Account;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;<br><span class="hljs-keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;<br><span class="hljs-keyword">import</span> org.springframework.test.context.ContextConfiguration;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="hljs-meta">@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcTemplateCRUDTest</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> JdbcTemplate jdbcTemplate;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUpdate</span><span class="hljs-params">()</span>&#123;<br>        jdbcTemplate.update(<span class="hljs-string">&quot;update account set money = ? where name = ?&quot;</span>, <span class="hljs-number">15000</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDelete</span><span class="hljs-params">()</span>&#123;<br>        jdbcTemplate.update(<span class="hljs-string">&quot;delete from account where name = ?&quot;</span>, <span class="hljs-string">&quot;tom&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryAll</span><span class="hljs-params">()</span>&#123;<br>        List&lt;Account&gt; list = jdbcTemplate.query(<span class="hljs-string">&quot;select * from account&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanPropertyRowMapper</span>&lt;Account&gt;(Account.class));<br>        System.out.println(<span class="hljs-string">&quot;list = &quot;</span> + list);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryOne</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Account</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> jdbcTemplate.queryForObject(<span class="hljs-string">&quot;select * from account where name = ?&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanPropertyRowMapper</span>&lt;Account&gt;(Account.class), <span class="hljs-string">&quot;zhangsan&quot;</span>);<br><span class="hljs-comment">//        Account account = jdbcTemplate.queryForObject(&quot;select * from account where money = ?&quot;, new BeanPropertyRowMapper&lt;Account&gt;(Account.class), 8000);</span><br>        System.out.println(<span class="hljs-string">&quot;account = &quot;</span> + account);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryCount</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Long</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> jdbcTemplate.queryForObject(<span class="hljs-string">&quot;select count(*) from account&quot;</span>, Long.class);<br>        System.out.println(<span class="hljs-string">&quot;count = &quot;</span> + count);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-知识要点-2"><a href="#5-知识要点-2" class="headerlink" title="5. 知识要点"></a>5. 知识要点</h3><h4 id="①-导入spring-jdbc和spring-tx坐标-1"><a href="#①-导入spring-jdbc和spring-tx坐标-1" class="headerlink" title="① 导入spring-jdbc和spring-tx坐标"></a>① 导入spring-jdbc和spring-tx坐标</h4><h4 id="②-创建数据库表和实体-1"><a href="#②-创建数据库表和实体-1" class="headerlink" title="② 创建数据库表和实体"></a>② 创建数据库表和实体</h4><h4 id="③-创建JdbcTemplate对象-1"><a href="#③-创建JdbcTemplate对象-1" class="headerlink" title="③ 创建JdbcTemplate对象"></a>③ 创建JdbcTemplate对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">JdbcTemplate</span> <span class="hljs-variable">jdbcTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JdbcTemplate</span>();<br><span class="hljs-comment">//设置数据源对象，知道数据库在哪</span><br>jdbcTemplate.setDataSource(dataSource);<br></code></pre></td></tr></table></figure><h4 id="④-执行数据库操作-1"><a href="#④-执行数据库操作-1" class="headerlink" title="④ 执行数据库操作"></a>④ 执行数据库操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//更新操作：</span><br>jdbcTemplate.update(sql, params)<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//查询操作：</span><br>jdbcTemplate.query(sql, Mapper, params)<br>jdbcTemplate.queryForObject(sql, Mapper, params)<br></code></pre></td></tr></table></figure><h2 id="十二、Spring练习环境搭建"><a href="#十二、Spring练习环境搭建" class="headerlink" title="十二、Spring练习环境搭建"></a>十二、Spring练习环境搭建</h2><h2 id="十二、SpringMVC拦截器"><a href="#十二、SpringMVC拦截器" class="headerlink" title="十二、SpringMVC拦截器"></a>十二、SpringMVC拦截器</h2><h3 id="1-拦截器-interceptor-的作用"><a href="#1-拦截器-interceptor-的作用" class="headerlink" title="1.拦截器(interceptor)的作用"></a>1.拦截器(interceptor)的作用</h3><p>        Spring MVC的拦截器类似于Servlet开发中的过滤器Filter，用于对处理器进行预处理和后处理</p><p>        将拦截器按一定的顺序联结成一条链，这条链称为拦截器链（Interceptor Chain）。在访问被拦截的方法或字段时，拦截器链中的拦截器就会按之前定义的顺序被调用。拦截器也是AOP思想的具体实现。</p><h3 id="2-拦截器和过滤器的区别"><a href="#2-拦截器和过滤器的区别" class="headerlink" title="2.拦截器和过滤器的区别"></a>2.拦截器和过滤器的区别</h3><table><thead><tr><th>区别</th><th>过滤器(Filter)</th><th>拦截器(Interceptor)</th></tr></thead><tbody><tr><td>使用范围</td><td>是Servlet规范中的一部分，任何Java Web工程都可以使用</td><td>是SpringMVC框架自己的，只有使用了SpringMVC框架的工程才可以用</td></tr><tr><td>拦截范围</td><td>在url-pattern中配置了&#x2F;*之后，可以对所有要访问的资源拦截</td><td>在&lt;mvc:mapping path&#x3D;”” &#x2F;&gt;中配置了&#x2F;**之后，也可以对所有资源进行拦截，但是可以通过&lt;mvc:exclude-mapping path&#x3D;”” &#x2F;&gt;标签排除不需要拦截的资源</td></tr></tbody></table><p><a href="https://www.zhihu.com/question/30212464/answer/1786967139">Spring 拦截器和过滤器的区别？ - 知乎</a></p><p><strong>1、实现原理不同</strong><br>过滤器和<a href="https://so.csdn.net/so/search?q=%E6%8B%A6%E6%88%AA%E5%99%A8&spm=1001.2101.3001.7020">拦截器</a> 底层实现方式大不相同，过滤器 是基于函数回调的，拦截器 则是基于Java的反射机制（动态代理）实现的。<br><strong>2、使用范围不同</strong><br>我们看到过滤器 实现的是 javax.<a href="https://so.csdn.net/so/search?q=servlet&spm=1001.2101.3001.7020">servlet</a>.Filter 接口，而这个接口是在Servlet规范中定义的，也就是说过滤器Filter 的使用要依赖于Tomcat等容器，导致它只能在web程序中使用。<br>而拦截器(Interceptor) 它是一个Spring组件，并由Spring容器管理，并不依赖Tomcat等容器，是可以单独使用的。不仅能应用在web程序中，也可以用于Application、Swing等程序中。<br><strong>3、触发时机不同</strong><br>过滤器Filter是在请求进入容器后，但在进入servlet之前进行预处理，请求结束是在servlet处理完以后。</p><p>拦截器 Interceptor 是在请求进入servlet后，在进入Controller之前进行预处理的，Controller 中渲染了对应的视图之后请求结束。<br><strong>4、拦截的请求范围不同</strong><br>过滤器Filter执行了两次，拦截器Interceptor只执行了一次。这是因为过滤器几乎可以对所有进入容器的请求起作用，而拦截器只会对Controller中请求或访问static目录下的资源请求起作用。<br><strong>5、注入Bean情况不同</strong><br>这是因为加载顺序导致的问题，拦截器加载的时间点在springcontext之前，而Bean又是由spring进行管理。<br><strong>6、控制执行顺序不同</strong><br>过滤器用@Order注解控制执行顺序，通过@Order控制过滤器的级别，值越小级别越高越先执行。<br>拦截器默认的执行顺序，就是它的注册顺序，也可以通过Order手动设置控制，值越小越先执行</p><h3 id="3-拦截器快速入门"><a href="#3-拦截器快速入门" class="headerlink" title="3. 拦截器快速入门"></a>3. 拦截器快速入门</h3><p>自定义拦截器的三步：</p><h4 id="①-创建拦截器类实现HandlerInterceptor"><a href="#①-创建拦截器类实现HandlerInterceptor" class="headerlink" title="① 创建拦截器类实现HandlerInterceptor"></a>① 创建拦截器类实现HandlerInterceptor</h4><h4 id="②-配置拦截器"><a href="#②-配置拦截器" class="headerlink" title="② 配置拦截器"></a>② 配置拦截器</h4><h4 id="③-测试拦截器的拦截效果"><a href="#③-测试拦截器的拦截效果" class="headerlink" title="③ 测试拦截器的拦截效果"></a>③ 测试拦截器的拦截效果</h4><h3 id="4-拦截器方法说明"><a href="#4-拦截器方法说明" class="headerlink" title="4. 拦截器方法说明"></a>4. 拦截器方法说明</h3><table><thead><tr><th>方法名</th><th>说明</th></tr></thead><tbody><tr><td>preHandle()</td><td>方法将在请求处理之前进行调用，该方法的返回值是布尔值Boolean类型的，当它返回为false时，表示请求结束，后续的Interceptor和Controller都不会再执行；当返回值为true时，就会继续调用下一个Interceptor的preHandle方法。（返回true表示放行，返回false表示不放行）</td></tr><tr><td>postHandle()</td><td>该方法是当前请求进行处理之后被调用，前提是preHandle方法的返回值为true时才能被调用，且它会在DispatcherServlet进行视图返回渲染之前被调用，所以我们可以在这个方法中对Controller处理之后的ModelAndView对象进行操作。</td></tr><tr><td>afterCompletion()</td><td>该方法将在整个请求结束之后，也就是在DispatcherServlet渲染了对应的视图之后执行，前提是preHandle方法的返回值为true时才能被调用。</td></tr></tbody></table><h3 id="5-知识要点-3"><a href="#5-知识要点-3" class="headerlink" title="5. 知识要点"></a>5. 知识要点</h3><p>自定义拦截器的步骤：</p><h4 id="①-创建拦截器类实现HandlerInterceptor接口"><a href="#①-创建拦截器类实现HandlerInterceptor接口" class="headerlink" title="① 创建拦截器类实现HandlerInterceptor接口"></a>① 创建拦截器类实现HandlerInterceptor接口</h4><h4 id="②-配置拦截器-1"><a href="#②-配置拦截器-1" class="headerlink" title="② 配置拦截器"></a>② 配置拦截器</h4><h4 id="③-测试拦截器的拦截效果-1"><a href="#③-测试拦截器的拦截效果-1" class="headerlink" title="③ 测试拦截器的拦截效果"></a>③ 测试拦截器的拦截效果</h4><h3 id="6-案例：用户登录权限控制"><a href="#6-案例：用户登录权限控制" class="headerlink" title="6. 案例：用户登录权限控制"></a>6. 案例：用户登录权限控制</h3><p>需求：用户在没有登录的情况下，不能对后台菜单进行访问，点击菜单跳转到登录页面，只有用户登录成功后才能进行后台功能的操作。</p><p><img src="/images/Snipaste_2022-02-26_14-59-00.png" alt="用户登录权限控制流程图"></p><h2 id="十三、Spring-MVC异常处理"><a href="#十三、Spring-MVC异常处理" class="headerlink" title="十三、Spring MVC异常处理"></a>十三、Spring MVC异常处理</h2><h3 id="1-异常处理的思路"><a href="#1-异常处理的思路" class="headerlink" title="1.异常处理的思路"></a>1.异常处理的思路</h3><p>系统中异常包括两类：预期异常和运行时异常RuntimeException，前者通过捕获异常从而获取异常信息，后者主要通过规范代码开发，测试等手段减少运行时异常的发生。</p><p>系统的Dao、Service、Controller出现都通过throws Exception向上抛出，最后由SpringMVC前端控制器交由异常处理器进行异常处理，如下图：</p><p><img src="/images/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B.png" alt="异常处理流程"></p><h3 id="2-异常处理两种方式"><a href="#2-异常处理两种方式" class="headerlink" title="2. 异常处理两种方式"></a>2. 异常处理两种方式</h3><ul><li><p>使用SpringMVC提供的简单异常处理器SimpleMappingExceptionResolver</p></li><li><p>实现Spring的异常处理接口HandlerExceptionResolver自定义自己的异常处理器</p></li></ul><h3 id="3-简单异常处理器SimpleMappingExceptionResolver"><a href="#3-简单异常处理器SimpleMappingExceptionResolver" class="headerlink" title="3. 简单异常处理器SimpleMappingExceptionResolver"></a>3. 简单异常处理器SimpleMappingExceptionResolver</h3><p>SpringMVC已经定义好了该类型转换器，在使用时可以根据项目情况进行相应异常与视图的映射配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置异常处理器  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultErrorView&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;error&quot;</span> /&gt;</span><span class="hljs-comment">&lt;!--  默认错误视图  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;exceptionMappings&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;java.lang.ClassCastException&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;error1&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;com.shubao.exception.MyException&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;error2&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-自定义异常处理步骤"><a href="#4-自定义异常处理步骤" class="headerlink" title="4. 自定义异常处理步骤"></a>4. 自定义异常处理步骤</h3><h4 id="①创建异常处理类实现HandleExceptionResolver"><a href="#①创建异常处理类实现HandleExceptionResolver" class="headerlink" title="①创建异常处理类实现HandleExceptionResolver"></a>①创建异常处理类实现HandleExceptionResolver</h4><h4 id="②配置异常处理器"><a href="#②配置异常处理器" class="headerlink" title="②配置异常处理器"></a>②配置异常处理器</h4><h4 id="③编写异常页面"><a href="#③编写异常页面" class="headerlink" title="③编写异常页面"></a>③编写异常页面</h4><h4 id="④测试异常跳转"><a href="#④测试异常跳转" class="headerlink" title="④测试异常跳转"></a>④测试异常跳转</h4><h3 id="5-知识要点-4"><a href="#5-知识要点-4" class="headerlink" title="5. 知识要点"></a>5. 知识要点</h3><h4 id="1-异常处理方式"><a href="#1-异常处理方式" class="headerlink" title="(1) 异常处理方式"></a>(1) 异常处理方式</h4><ul><li><p>配置简单异常处理器SimpleMappingExceptionResolver</p></li><li><p>自定义异常处理器</p></li></ul><h4 id="2-自定义异常处理步骤"><a href="#2-自定义异常处理步骤" class="headerlink" title="(2) 自定义异常处理步骤"></a>(2) 自定义异常处理步骤</h4><h5 id="①-创建异常处理类实现HandleExceptionResolver"><a href="#①-创建异常处理类实现HandleExceptionResolver" class="headerlink" title="① 创建异常处理类实现HandleExceptionResolver"></a>① 创建异常处理类实现HandleExceptionResolver</h5><h5 id="②-配置异常处理器"><a href="#②-配置异常处理器" class="headerlink" title="② 配置异常处理器"></a>② 配置异常处理器</h5><h5 id="③-编写异常页面"><a href="#③-编写异常页面" class="headerlink" title="③ 编写异常页面"></a>③ 编写异常页面</h5><h5 id="④-测试异常跳转"><a href="#④-测试异常跳转" class="headerlink" title="④ 测试异常跳转"></a>④ 测试异常跳转</h5><h2 id="十四、Spring-AOP"><a href="#十四、Spring-AOP" class="headerlink" title="十四、Spring AOP"></a>十四、Spring AOP</h2><h3 id="1-Spring的AOP简介"><a href="#1-Spring的AOP简介" class="headerlink" title="1. Spring的AOP简介"></a>1. Spring的AOP简介</h3><h4 id="1-什么是AOP"><a href="#1-什么是AOP" class="headerlink" title="(1) 什么是AOP"></a>(1) 什么是AOP</h4><p>AOP(Aspect Oriented Programming)，意思为面向切面编程，是通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。</p><p>AOP是OOP（面向对象编程）的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数式编程的一种衍生范型。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。</p><h4 id="2-AOP的作用及其优势"><a href="#2-AOP的作用及其优势" class="headerlink" title="(2) AOP的作用及其优势"></a>(2) AOP的作用及其优势</h4><ul><li><p>作用：在程序运行期间在不修改源码的情况下对方法进行功能增强</p></li><li><p>优势：减少重复代码，提高开发效率，并且便于维护</p></li></ul><p><img src="/../../images/image-202200405224409481.png" alt="AOP装配原理"></p><h4 id="3-AOP的底层实现"><a href="#3-AOP的底层实现" class="headerlink" title="(3) AOP的底层实现"></a>(3) AOP的底层实现</h4><p>实际上，AOP的底层是通过Spring提供的动态代理技术实现的。在运行期间，Spring通过动态代理技术动态的生成代理对象，代理对象方法执行时进行增强功能的介入，在去调佣目标对象的方法，从而完成功能的增强。</p><h4 id="4-AOP的动态代理技术"><a href="#4-AOP的动态代理技术" class="headerlink" title="(4) AOP的动态代理技术"></a>(4) AOP的动态代理技术</h4><p>常用的动态代理技术：</p><ul><li><p>JDK代理：基于接口的动态代理技术</p></li><li><p>cglib代理：基于父类的动态代理技术</p></li></ul><p><img src="/../../images/%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%8A%80%E6%9C%AF.png" alt="常用的动态代理技术"></p><h4 id="5-AOP的相关概念"><a href="#5-AOP的相关概念" class="headerlink" title="(5) AOP的相关概念"></a>(5) AOP的相关概念</h4><p>Spring的AOP实现底层就是对上述的动态代理的代码进行了封装，封装后我们只需要对需要关注的部分进行代码编写，并通过配置的方式完成指定目标的方法增强。</p><p>AOP的常用术语：</p><ul><li><p>Target（目标对象）：代理的目标对象</p></li><li><p>Proxy（代理）：一个类被AOP织入增强后，就产生一个结果代理类</p></li><li><p>Joinpoint（连接点）：是指那些被拦截到的点。在Spring中，这些点指的是方法，因为Spring只支持方法类型的连接点。</p></li><li><p>Pointcut（切入点）：是指我们要对哪些Joinpoint进行拦截的定义</p></li><li><p>Advice（通知&#x2F;增强）：拦截到Joinpoint之后所要做的事情就是通知</p></li><li><p>Aspect（切面）：是切入点和通知（引介）的结合</p></li><li><p>Weaving（织入）：是指把增强应用到目标对象来创建新的代码的代理对象的过程。Spring采用动态代理织入，而Aspect采用编译期织入和类装载期织入</p></li></ul><h4 id="6-AOP开发明确的事项"><a href="#6-AOP开发明确的事项" class="headerlink" title="(6) AOP开发明确的事项"></a>(6) AOP开发明确的事项</h4><h5 id="①-需要编写的内容"><a href="#①-需要编写的内容" class="headerlink" title="① 需要编写的内容"></a>① 需要编写的内容</h5><ul><li><p>编写核心业务代码（目标类的目标方法）</p></li><li><p>编写切面类，切面类中有通知（增强功能方法）</p></li><li><p>在配置文件中，配置织入关系，即将哪些通知与哪些连接点进行结合</p></li></ul><h5 id="②-AOP技术实现的内容"><a href="#②-AOP技术实现的内容" class="headerlink" title="② AOP技术实现的内容"></a>② AOP技术实现的内容</h5><p>Spring框架监控切入点方法的执行，一旦检测到切入点方法被运行，使用代理机制，动态创建目标对象的代理对象，根据通知类别，在代理对象的对应位置，将通知对应的功能织入，完成完整的代码逻辑运行。</p><h5 id="③-AOP底层使用了哪代理方式"><a href="#③-AOP底层使用了哪代理方式" class="headerlink" title="③ AOP底层使用了哪代理方式"></a>③ AOP底层使用了哪代理方式</h5><p>在Spring中，框架会根据目标类是否实现了接口来决定采用哪种动态代理的方式</p><h4 id="7-知识要点"><a href="#7-知识要点" class="headerlink" title="(7) 知识要点"></a>(7) 知识要点</h4><ul><li><p>AOP：面向切面编程</p></li><li><p>AOP底层实现：基于JDK的动态代理和基于cglib的动态代理</p></li><li><p>AOP的重点概念</p></li><li><p>开发明确事项：</p><p>谁是切点（切点表达式配置）</p><p>谁是通知（切面类中的增强方法）</p><p>将切点和通知进行织入配置</p></li></ul><h3 id="2-基于XML的AOP开发"><a href="#2-基于XML的AOP开发" class="headerlink" title="2. 基于XML的AOP开发"></a>2. 基于XML的AOP开发</h3><h4 id="1-快速入门"><a href="#1-快速入门" class="headerlink" title="1) 快速入门"></a>1) 快速入门</h4><h5 id="①-导入AOP相关坐标"><a href="#①-导入AOP相关坐标" class="headerlink" title="① 导入AOP相关坐标"></a>① 导入AOP相关坐标</h5><h5 id="②-创建目标接口和目标类（内部有切点）"><a href="#②-创建目标接口和目标类（内部有切点）" class="headerlink" title="② 创建目标接口和目标类（内部有切点）"></a>② 创建目标接口和目标类（内部有切点）</h5><h5 id="③-创建切面类（内部有增强方法）"><a href="#③-创建切面类（内部有增强方法）" class="headerlink" title="③ 创建切面类（内部有增强方法）"></a>③ 创建切面类（内部有增强方法）</h5><h5 id="④-将目标类和切面类的对象创建权交给Spring"><a href="#④-将目标类和切面类的对象创建权交给Spring" class="headerlink" title="④ 将目标类和切面类的对象创建权交给Spring"></a>④ 将目标类和切面类的对象创建权交给Spring</h5><h5 id="⑤-在applicationContext-xml中配置织入关系"><a href="#⑤-在applicationContext-xml中配置织入关系" class="headerlink" title="⑤ 在applicationContext.xml中配置织入关系"></a>⑤ 在applicationContext.xml中配置织入关系</h5><h5 id="⑥-测试代码"><a href="#⑥-测试代码" class="headerlink" title="⑥ 测试代码"></a>⑥ 测试代码</h5><h4 id="2-XML配置AOP详解"><a href="#2-XML配置AOP详解" class="headerlink" title="2) XML配置AOP详解"></a>2) XML配置AOP详解</h4><h5 id="1-切点表达式的写法"><a href="#1-切点表达式的写法" class="headerlink" title="(1) 切点表达式的写法"></a>(1) 切点表达式的写法</h5><p>表达式语法</p><blockquote><p>execution([修饰符] 返回值类型 包名.类名.方法名(参数))</p></blockquote><ul><li><p>访问修饰符可以省略</p></li><li><p>返回值类型、包名、类名、方法名可以使用星号*代表任意</p></li><li><p>包名与类名之间一个点.代表当前包下的类，两个点.表示当前包及其子包下的类</p></li><li><p>参数列表可以使用两个点..表示任意个数，任意类型的参数列表</p></li></ul><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">execution(<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> com.shubao.aop.Target.save())<br>execution(<span class="hljs-keyword">void</span> com.shubao.aop.Target.*(..))<br>execution(* com.shubao.aop.*.*(..))<br>execution(* com.shubao.aop..*.*(..))<br>execution(* *..*.*(..))<br></code></pre></td></tr></table></figure><h5 id="②-通知的类型"><a href="#②-通知的类型" class="headerlink" title="② 通知的类型"></a>② 通知的类型</h5><p>通知的配置语法：</p><p>&lt;aop:通知类型 method&#x3D;”切面类中的方法名” pointcut&#x3D;”切点表达式”&gt;&lt;&#x2F;aop:通知类型&gt;</p><table><thead><tr><th>名称</th><th>标签</th><th>说明</th></tr></thead><tbody><tr><td>前置通知</td><td>&lt;aop:before&gt;</td><td>用于配置前置通知，指定增强的方法在切入点方法之前执行</td></tr><tr><td>后置通知</td><td>&lt;aop:after-returning&gt;</td><td>用于配置后置通知，指定增强的方法在切入点方法之后执行</td></tr><tr><td>环绕通知</td><td>&lt;aop:around&gt;</td><td>用于配置环绕通知，指定增强的方法在切入点方法之前和之后都执行</td></tr><tr><td>异常抛出通知</td><td>&lt;aop:throwing&gt;</td><td>用于配置异常抛出通知，指定增强的方法在出现异常时执行</td></tr><tr><td>最终通知</td><td>&lt;aop:after&gt;</td><td>用于配置最终通知，无论增强方式执行是否有异常都会执行</td></tr></tbody></table><h5 id="③-切点表达式的抽取"><a href="#③-切点表达式的抽取" class="headerlink" title="③ 切点表达式的抽取"></a>③ 切点表达式的抽取</h5><p>有多个增强的切点表达式相同时，可以将切点表达式进行抽取，在增强中使用pointcut-ref属性代替pointcut属性来引用抽取后的切点表达式。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置织入：告诉Spring框架，哪些方法(切点)需要进行哪些增强(前置、后置。。。)  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--    申明切面    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;myAspect&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 切面：切点+通知 --&gt;</span><br>        <span class="hljs-comment">&lt;!--抽取切点表达式--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.shubao.aop.*.*(..))&quot;</span> /&gt;</span><br><br>        <span class="hljs-comment">&lt;!--前置增强--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;aop:before method=&quot;before&quot; pointcut=&quot;execution(public void com.shubao.aop.Target.save())&quot; /&gt;--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;before&quot;</span> <span class="hljs-attr">pointcut</span>=<span class="hljs-string">&quot;execution(* com.shubao.aop.*.*(..))&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--后置增强--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:after-returning</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;afterReturning&quot;</span> <span class="hljs-attr">pointcut</span>=<span class="hljs-string">&quot;execution(* com.shubao.aop.*.*(..))&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--环绕增强--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;aop:around method=&quot;around&quot; pointcut=&quot;execution(* com.shubao.aop.*.*(..))&quot; /&gt;--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:around</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;around&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;myPointcut&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--异常抛出增强--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:after-throwing</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;afterThrowing&quot;</span> <span class="hljs-attr">pointcut</span>=<span class="hljs-string">&quot;execution(* com.shubao.aop.*.*(..))&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--最终增强--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;aop:after method=&quot;after&quot; pointcut=&quot;execution(* com.shubao.aop.*.*(..))&quot; /&gt;--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:after</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;after&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;myPointcut&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="④-知识要点"><a href="#④-知识要点" class="headerlink" title="④ 知识要点"></a>④ 知识要点</h5><ul><li>AOP织入的配置</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--    申明切面    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;切面类&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;通知方法名称&quot;</span> <span class="hljs-attr">pointcut</span>=<span class="hljs-string">&quot;切点表达式&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>通知的类型：前置通知、后置通知、环绕通知、异常抛出通知和最终通知</p></li><li><p>切点表达式的写法：</p></li></ul><blockquote><p>execution([修饰符] 返回值类型 包名.类名.方法名(参数))</p></blockquote><h4 id="3-基于注解的AOP开发"><a href="#3-基于注解的AOP开发" class="headerlink" title="3) 基于注解的AOP开发"></a>3) 基于注解的AOP开发</h4><h5 id="1-快速入门-1"><a href="#1-快速入门-1" class="headerlink" title="(1) 快速入门"></a>(1) 快速入门</h5><p>基于注解的AOP开发步骤：</p><h6 id="a-创建目标接口和目标类（内部有切点）"><a href="#a-创建目标接口和目标类（内部有切点）" class="headerlink" title="a. 创建目标接口和目标类（内部有切点）"></a>a. 创建目标接口和目标类（内部有切点）</h6><h6 id="b-创建切面类（内部有增强方法）"><a href="#b-创建切面类（内部有增强方法）" class="headerlink" title="b. 创建切面类（内部有增强方法）"></a>b. 创建切面类（内部有增强方法）</h6><h6 id="c-将目标类和切面类的对象创建权交给Spring"><a href="#c-将目标类和切面类的对象创建权交给Spring" class="headerlink" title="c. 将目标类和切面类的对象创建权交给Spring"></a>c. 将目标类和切面类的对象创建权交给Spring</h6><h6 id="d-在切面类中使用注解配置织入关系"><a href="#d-在切面类中使用注解配置织入关系" class="headerlink" title="d. 在切面类中使用注解配置织入关系"></a>d. 在切面类中使用注解配置织入关系</h6><h6 id="e-在配置文件中开启组件扫描和AOP的自动代理"><a href="#e-在配置文件中开启组件扫描和AOP的自动代理" class="headerlink" title="e. 在配置文件中开启组件扫描和AOP的自动代理"></a>e. 在配置文件中开启组件扫描和AOP的自动代理</h6><h6 id="f-测试"><a href="#f-测试" class="headerlink" title="f. 测试"></a>f. 测试</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  配置组件扫描  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.shubao.anno&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--aop自动代理--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span> /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.anno;<br><br><span class="hljs-keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;<br><span class="hljs-keyword">import</span> org.aspectj.lang.annotation.*;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 输出顺序：</span><br><span class="hljs-comment">     前置增强。。。。</span><br><span class="hljs-comment">     环绕前增强。。。。</span><br><span class="hljs-comment">     save() running...</span><br><span class="hljs-comment">     最终增强</span><br><span class="hljs-comment">     环绕后增强。。。。</span><br><span class="hljs-comment">     后置增强。。。。</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component(&quot;myAspect&quot;)</span><br><span class="hljs-meta">@Aspect</span> <span class="hljs-comment">//表示当前MyAspect是一个切面类</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAspect</span> &#123;<br><br>    <span class="hljs-comment">//定义切点表达式方法</span><br>    <span class="hljs-meta">@Pointcut(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">myPointcut</span><span class="hljs-params">()</span>&#123;&#125;<br><br>    <span class="hljs-comment">//配置前置通知</span><br>    <span class="hljs-meta">@Before(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;前置增强。。。。&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterReturning</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;后置增强。。。。&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//Proceeding JoinPoint 正在执行的连接点</span><br><span class="hljs-comment">//    @Around(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-meta">@Around(&quot;myPointcut()&quot;)</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;环绕前增强。。。。&quot;</span>);<br>        <span class="hljs-comment">//切点方法</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">proceed</span> <span class="hljs-operator">=</span> proceedingJoinPoint.proceed();<br>        System.out.println(<span class="hljs-string">&quot;环绕后增强。。。。&quot;</span>);<br>        <span class="hljs-keyword">return</span> proceed;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterThrowing</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;异常抛出增强。。。。&quot;</span>);<br>    &#125;<br><br><span class="hljs-comment">//    @After(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-meta">@After(&quot;MyAspect.myPointcut()&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;最终增强&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="2-注解配置AOP开发"><a href="#2-注解配置AOP开发" class="headerlink" title="(2) 注解配置AOP开发"></a>(2) 注解配置AOP开发</h5><h6 id="①-注解通知的类型"><a href="#①-注解通知的类型" class="headerlink" title="① 注解通知的类型"></a>① 注解通知的类型</h6><p>通知的配置语法：@通知注解(“切点表达式”)</p><table><thead><tr><th>名称</th><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>前置通知</td><td>@Before</td><td>用于配置前置通知，指定增强的方法在切入点方法之前执行</td></tr><tr><td>后置通知</td><td>@AfterReturning</td><td>用于配置后置通知，指定增强的方法在切入点方法之后执行</td></tr><tr><td>环绕通知</td><td>@Around</td><td>用于配置环绕通知，指定增强的方法在切入点之前和之后都执行</td></tr><tr><td>异常抛出通知</td><td>@AfterThrowing</td><td>用于配置异常抛出通知，指定增强的方法在出现异常时执行</td></tr><tr><td>最终通知</td><td>@After</td><td>用于配置最终通知，无论增强方法执行是否有异常都会执行</td></tr></tbody></table><h6 id="②-切点表达式的抽取"><a href="#②-切点表达式的抽取" class="headerlink" title="② 切点表达式的抽取"></a>② 切点表达式的抽取</h6><p>同XML配置AOP一样，我们可以将切点表达式抽取。抽取的方式是在切面内定义一个方法，在该方法上使用@Pointcut注解定义切点表达式，然后在增强注解中进行引用。如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.anno;<br><br><span class="hljs-keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;<br><span class="hljs-keyword">import</span> org.aspectj.lang.annotation.*;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-meta">@Component(&quot;myAspect&quot;)</span><br><span class="hljs-meta">@Aspect</span> <span class="hljs-comment">//表示当前MyAspect是一个切面类</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAspect</span> &#123;<br><br>    <span class="hljs-comment">//定义切点表达式方法</span><br>    <span class="hljs-meta">@Pointcut(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">myPointcut</span><span class="hljs-params">()</span>&#123;&#125;<br><br>    <span class="hljs-comment">//Proceeding JoinPoint 正在执行的连接点</span><br><span class="hljs-comment">//    @Around(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-meta">@Around(&quot;myPointcut()&quot;)</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;环绕前增强。。。。&quot;</span>);<br>        <span class="hljs-comment">//切点方法</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">proceed</span> <span class="hljs-operator">=</span> proceedingJoinPoint.proceed();<br>        System.out.println(<span class="hljs-string">&quot;环绕后增强。。。。&quot;</span>);<br>        <span class="hljs-keyword">return</span> proceed;<br>    &#125;<br><br><span class="hljs-comment">//    @After(&quot;execution(* com.shubao.anno.*.*(..))&quot;)</span><br>    <span class="hljs-meta">@After(&quot;MyAspect.myPointcut()&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;最终增强&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="③-知识要点"><a href="#③-知识要点" class="headerlink" title="③ 知识要点"></a>③ 知识要点</h6><ul><li><p>注解AOP开发步骤</p><p>  a. 使用@Aspect注解标注切面类</p><p>  b. 使用@通知标注(@Before)</p><p>  c. 在配置文件中配置AOP自动代理&lt;aop:aspectj-autoproxy &#x2F;&gt;</p></li><li><p>通知注解类型</p></li></ul><table><thead><tr><th>名称</th><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>前置通知</td><td>@Before</td><td>用于配置前置通知，指定增强的方法在切入点方法之前执行</td></tr><tr><td>后置通知</td><td>@AfterReturning</td><td>用于配置后置通知，指定增强的方法在切入点方法之后执行</td></tr><tr><td>环绕通知</td><td>@Around</td><td>用于配置环绕通知，指定增强的方法在切入点之前和之后都执行</td></tr><tr><td>异常抛出通知</td><td>@AfterThrowing</td><td>用于配置异常抛出通知，指定增强的方法在出现异常时执行</td></tr><tr><td>最终通知</td><td>@After</td><td>用于配置最终通知，无论增强方法执行是否有异常都会执行</td></tr></tbody></table><p><img src="/images/2022-03-02-20-03-09-image.png"></p><h2 id="十五、Spring事务管理"><a href="#十五、Spring事务管理" class="headerlink" title="十五、Spring事务管理"></a>十五、Spring事务管理</h2><blockquote><p><a href="https://www.jpxzm.com/2020/08/06/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8CSpirng%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%BA%A7%E5%88%AB/">事务隔离级别和Spirng事务传播级别 - 极品小芝麻</a></p></blockquote><h3 id="1-编程式事务控制相关对象"><a href="#1-编程式事务控制相关对象" class="headerlink" title="1. 编程式事务控制相关对象"></a>1. 编程式事务控制相关对象</h3><h4 id="1-PlatformTransactionManager"><a href="#1-PlatformTransactionManager" class="headerlink" title="1) PlatformTransactionManager"></a>1) PlatformTransactionManager</h4><p>PlatformTransactionManager接口是Spring的事务管理器，它里面提供了我们常用的操作事务的方法。</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>TransactionStatus getTransaction(@Nullable TransactionDefinition definition) throws TransactionException;</td><td>获取事务的状态信息</td></tr><tr><td>void commit(TransactionStatus status) throws TransactionException;</td><td>提交事务</td></tr><tr><td>void rollback(TransactionStatus status) throws TransactionException;</td><td>回滚事务</td></tr></tbody></table><p>注意：</p><p>PlatformTransactionManager是接口类型，不同的Dao层技术有不同的实现类，</p><p>例如：Dao层的技术是jdbc或mybatis时，org.springframework.jdbc.datasource.DataSourceTransactionManager;</p><p>Dao层技术是hibernate时，org.springframework.orm.hibernate5.HibernateTransactionManager.</p><h4 id="2-TransactionDefinition"><a href="#2-TransactionDefinition" class="headerlink" title="2) TransactionDefinition"></a>2) TransactionDefinition</h4><p>TransactionDefinition是事务的定义信息对象，里面有如下方法：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>int getIsolationLevel();</td><td>获得事务的隔离级别</td></tr><tr><td>int getPropagationBehavior();</td><td>获得事务的传播行为</td></tr><tr><td>int getTimeout();</td><td>获得超时时间</td></tr><tr><td>boolean isReadOnly();</td><td>是否只读</td></tr></tbody></table><h5 id="①-事务隔离级别"><a href="#①-事务隔离级别" class="headerlink" title="① 事务隔离级别"></a>① 事务隔离级别</h5><p>设置隔离级别，可以解决事务并发产生的问题，如脏读、不可重复读和虚读。</p><p>isolation_default、isolation_read_uncommitted、isolation_read_committed、isolation_repeatable_read、isolation_serializable</p><ul><li>ISOLATION_DEFAULT</li><li>ISOLATION_READ_UNCOMMITTED</li><li>ISOLATION_READ_COMMITTED</li><li>ISOLATION_REPEATABLE_READ</li><li>ISOLATION_SERIALIZABLE</li></ul><p>第一种隔离级别：Read uncommitted(读未提交)<br>如果一个事务已经开始写数据，则另外一个事务不允许同时进行写操作，但允许其他事务读此行数据，该隔离级别可以通过“排他写锁”，但是不排斥读线程实现。这样就避免了更新丢失，却可能出现脏读，也就是说事务B读取到了事务A未提交的数据</p><p>解决了更新丢失，但还是可能会出现脏读</p><p>第二种隔离级别：Read committed(读提交)<br>如果是一个读事务(线程)，则允许其他事务读写，如果是写事务将会禁止其他事务访问该行数据，该隔离级别避免了脏读，但是可能出现不可重复读。事务A事先读取了数据，事务B紧接着更新了数据，并提交了事务，而事务A再次读取该数据时，数据已经发生了改变。</p><p>解决了更新丢失和脏读问题</p><p>第三种隔离级别：Repeatable read(可重复读取)<br>可重复读取是指在一个事务内，多次读同一个数据，在这个事务还没结束时，其他事务不能访问该数据(包括了读写)，这样就可以在同一个事务内两次读到的数据是一样的，因此称为是可重复读隔离级别，读取数据的事务将会禁止写事务(但允许读事务)，写事务则禁止任何其他事务(包括了读写)，这样避免了不可重复读和脏读，但是有时可能会出现幻读。(读取数据的事务)可以通过“共享读镜”和“排他写锁”实现。</p><p>解决了更新丢失、脏读、不可重复读、但是还会出现幻读</p><p>第四种隔离级别：Serializable(可序化)<br>提供严格的事务隔离，它要求事务序列化执行，事务只能一个接着一个地执行，但不能并发执行，如果仅仅通过“行级锁”是无法实现序列化的，必须通过其他机制保证新插入的数据不会被执行查询操作的事务访问到。序列化是最高的事务隔离级别，同时代价也是最高的，性能很低，一般很少使用，在该级别下，事务顺序执行，不仅可以避免脏读、不可重复读，还避免了幻读</p><p>解决了更新丢失、脏读、不可重复读、幻读(虚读)</p><p>以上四种隔离级别最高的是Serializable级别，最低的是Read uncommitted级别，当然级别越高，执行效率就越低，像Serializeble这样的级别，就是以锁表的方式(类似于Java多线程中的锁)使得其他线程只能在锁外等待，所以平时选用何种隔离级别应该根据实际情况来，在MYSQL数据库中默认的隔离级别是Repeatable read（可重复读）。</p><p>在MYSQL数据库中，支持上面四种隔离级别，默认的为Repeatable read(可重复读)；而在Oracle数据库中，只支持Serializeble(串行化)级别和Read committed(读已提交)这两种级别，其中默认的为Read committed级别</p><h5 id="②-事务传播行为"><a href="#②-事务传播行为" class="headerlink" title="② 事务传播行为"></a>② 事务传播行为</h5><p>例如：a业务调用b业务（理解）</p><ul><li>REQUIRED：(required)如果当前没有事务，就新建一个事务，如果已经存在一个事务，就加入到这个事务中，一般的选择（默认值）</li><li>SUPPORTS：(supports)支持当前事务，如果当前没有事务，就以非事务方式执行（没有事务）</li><li>MANDATORY：(mandatory)使用当前的事务，如果当前没有事务，就抛出异常</li><li>REQUERS_NEW：(requers_new)新建事务，如果当前在事务中，把当前事务挂起</li><li>NOT_SUPPORTED：(not_supported)以非事务方式执行操作，如果当前存在事务，就把当前事务挂起</li><li>NEVER：(never)以非事务方式运行，如果当前存在事务，抛出异常</li><li>NESTED：(nested：嵌套)如果当前存在事务，则在嵌套事务内执行，如果当前没有事务，则执行REQUIRED类似的操作</li><li>超时时间：默认值是-1，没有超时限制。如果有，以秒为单位进行设置</li><li>是否只读：建议查询时设置为只读</li></ul><p><img src="/../../images/%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E7%BA%A7%E5%88%AB.png" alt="事务传播级别"></p><h4 id="3-TransactionStatus"><a href="#3-TransactionStatus" class="headerlink" title="3) TransactionStatus"></a>3) TransactionStatus</h4><p>TransactionStatus接口提供的是事务具体的运行状态，方法介绍如下。</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>boolean hasSavepoint();</td><td>是否存储回滚点</td></tr><tr><td>boolean isCompleted();</td><td>事务是否完成</td></tr><tr><td>boolean isNewTransaction();</td><td>是否是新事务</td></tr><tr><td>boolean isRollbackOnly();</td><td>事务是否回滚</td></tr></tbody></table><h4 id="4-知识要点-2"><a href="#4-知识要点-2" class="headerlink" title="4) 知识要点"></a>4) 知识要点</h4><p>编程式事务控制三大对象</p><ul><li><p>PlatformTransactionManager</p></li><li><p>TransactionDefinition</p></li><li><p>TransactionStatus</p></li></ul><h3 id="2-基于XML的声明式事务控制"><a href="#2-基于XML的声明式事务控制" class="headerlink" title="2. 基于XML的声明式事务控制"></a>2. 基于XML的声明式事务控制</h3><h4 id="1-什么是声明式事务控制"><a href="#1-什么是声明式事务控制" class="headerlink" title="1)  什么是声明式事务控制"></a>1)  什么是声明式事务控制</h4><p>Spring的声明式事务顾名思义就是采用声明的方式来处理事务。这里所说的声明，就是指在配置文件中声明，用在Spring配置文件中声明式的处理事务来代替代码式的处理事务。</p><p>声明式事务处理的作用</p><ul><li><p>事务管理不侵入开发的组件。具体来说，业务逻辑对象就不会意识到正在事务管理之中，事实上也应该如此，因为事务管理是属于系统层面的服务，而不是业务逻辑的一部分，如果想要改变事务管理策划的话，也只需要在定义文件中重新配置即可。</p></li><li><p>在不需要事务管理的时候，只要在设定文件上修改一下，即可移去事务管理事务，无需改变代码重新编译，这样维护起来极其方便。</p></li></ul><p>注意：Spring声明式事务控制底层就是AOP。</p><h4 id="2-声明式事务控制的实现"><a href="#2-声明式事务控制的实现" class="headerlink" title="2) 声明式事务控制的实现"></a>2) 声明式事务控制的实现</h4><p>声明式事务控制明确事项：</p><ul><li><p>谁是切点？</p></li><li><p>谁是通知？</p></li><li><p>配置切面</p></li></ul><h4 id="3-切点方法的事务参数的配置"><a href="#3-切点方法的事务参数的配置" class="headerlink" title="3) 切点方法的事务参数的配置"></a>3) 切点方法的事务参数的配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  2.配置数据源bean  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  通知 事务的增强  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;transfer&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;save&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;find&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;tx:method name=&quot;*&quot; /&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置事务的aop的织入  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.shubao.service.impl.*.*(..))&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><p>其中，&lt;tx:method name&#x3D;”*” &#x2F;&gt;代表切点方法的事务参数的配置，例如：</p><p>&lt;tx:method name&#x3D;”transfer” isolation&#x3D;”REPEATABLE_READ” propagation&#x3D;”REQUIRED” read-only&#x3D;”false” &#x2F;&gt;</p><ul><li><p>name：切点方法名称</p></li><li><p>isolation：事务的隔离级别</p></li><li><p>propagation：事务的传播行为</p></li><li><p>timeout：超时时间</p></li><li><p>read-only：是否只读</p></li></ul><h4 id="4-知识要点-3"><a href="#4-知识要点-3" class="headerlink" title="4) 知识要点"></a>4) 知识要点</h4><p>声明式事务控制的配置要点</p><ul><li><p>平台事务管理器配置</p></li><li><p>事务通知的配置</p></li><li><p>事务AOP织入的配置</p></li></ul><h3 id="3-基于注解的声明式事务控制"><a href="#3-基于注解的声明式事务控制" class="headerlink" title="3. 基于注解的声明式事务控制"></a>3. 基于注解的声明式事务控制</h3><h4 id="1-注解配置声明式事务控制解析"><a href="#1-注解配置声明式事务控制解析" class="headerlink" title="1) 注解配置声明式事务控制解析"></a>1) 注解配置声明式事务控制解析</h4><p>① 使用@Transactional在需要进行事务控制的类或是方法上修饰，注解可用的属性同XML配置方式，例如：隔离级别(isolation)、传播行为(propagation)</p><p>② 注解使用在类上，那么该类下的所有方法都使用同一套注解参数配置</p><p>③ 使用在方法上，不同的方法可以采用不同的事务参数配置</p><p>④ XML配置文件中要开启事务的注解驱动</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  事务的注解驱动  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.service.impl;<br><br><span class="hljs-keyword">import</span> com.shubao.dao.AccountDao;<br><span class="hljs-keyword">import</span> com.shubao.service.AccountService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Isolation;<br><span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Propagation;<br><span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;<br><br><span class="hljs-meta">@Service(&quot;accountService&quot;)</span><br><span class="hljs-comment">//@Transactional(isolation = Isolation.REPEATABLE_READ)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AccountServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AccountService</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> AccountDao accountDao;<br><br><span class="hljs-comment">//    public void setAccountDao(AccountDao accountDao) &#123;</span><br><span class="hljs-comment">//        this.accountDao = accountDao;</span><br><span class="hljs-comment">//    &#125;</span><br><br>    <span class="hljs-meta">@Transactional(isolation = Isolation.READ_COMMITTED, propagation = Propagation.REQUIRED)</span> <span class="hljs-comment">//配置在方法上优先级最高</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(String outName, String inName, <span class="hljs-type">double</span> money)</span> &#123;<br>        accountDao.out(outName, money);<br><span class="hljs-comment">//        int i = 1/0;</span><br>        accountDao.in(inName, money);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-知识要点"><a href="#2-知识要点" class="headerlink" title="2) 知识要点"></a>2) 知识要点</h4><p>注解声明式事务控制的配置要点</p><ul><li><p>平台事务管理器配置（XML方式）</p></li><li><p>事务通知的配置（@Transactional注解配置）</p></li><li><p>事务注解驱动的配置&lt;tx:annotion-driven &#x2F;&gt;</p></li></ul><h2 id="十六、MyBatis"><a href="#十六、MyBatis" class="headerlink" title="十六、MyBatis"></a>十六、MyBatis</h2><ul><li>MyBatis的简介</li><li>MyBatis的快速入门</li><li>MyBatis的映射文件概述</li><li>MyBatis的增删改查操作</li><li>MyBatis的核心配置文件概述</li><li>MyBatis的相应API</li></ul><h3 id="1-MyBatis的简介"><a href="#1-MyBatis的简介" class="headerlink" title="1. MyBatis的简介"></a>1. MyBatis的简介</h3><h4 id="1-原始Jdbc操作（查询数据）"><a href="#1-原始Jdbc操作（查询数据）" class="headerlink" title="1) 原始Jdbc操作（查询数据）"></a>1) 原始Jdbc操作（查询数据）</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">省略。。。<br></code></pre></td></tr></table></figure><h4 id="2-原始Jdbc操作（插入数据）"><a href="#2-原始Jdbc操作（插入数据）" class="headerlink" title="2) 原始Jdbc操作（插入数据）"></a>2) 原始Jdbc操作（插入数据）</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">省略。。。<br></code></pre></td></tr></table></figure><h4 id="3-原始Jdbc操作的分析"><a href="#3-原始Jdbc操作的分析" class="headerlink" title="3) 原始Jdbc操作的分析"></a>3) 原始Jdbc操作的分析</h4><p>原始Jdbc开发存在的问题如下：</p><p>① 数据库的连接创建、释放频繁造成系统资源浪费从而影响系统性能</p><p>② SQL语句在代码中硬编码，造成代码不易维护，实际应用SQL变化的可能较大，SQL变动需要改变Java代码</p><p>③ 查询操作时，需要手动将结果集中的数据封装到实体中；插入操作时，需要手动将实体的数据设置到SQL语句的占位符位置</p><p>解决方案：</p><p>① 使用数据库连接池初始化连接资源</p><p>② 将SQL语句抽取到XML配置文件中</p><p>③ 使用反射、内省等底层技术，自动将实体与表进行属性与字段的自动映射</p><h4 id="4-什么是MyBatis"><a href="#4-什么是MyBatis" class="headerlink" title="4) 什么是MyBatis"></a>4) 什么是MyBatis</h4><ul><li>MyBatis是一个优秀的基于Java的持久层框架，它内部封装了Jdbc，使开发者只需要关注SQL语句本身，而不需要花费精力去处理加载驱动、创建连接、创建statement等繁杂的过程。</li><li>MyBatis通过XML或注解的方式将要执行的各种statement配置起来，并通过Java对象和statement中SQL的动态参数进行映射生成最终执行的SQL语句</li><li>MyBatis框架执行SQL并将结果映射为Java对象并返回，采用ORM思想解决了实体和数据库映射的问题，对Jdbc进行了封装，屏蔽了Jdbc API底层访问细节，使我们不用与Jdbc API打交道，就可以完成对数据库的持久化操作。</li></ul><h3 id="2-MyBatis的快速入门"><a href="#2-MyBatis的快速入门" class="headerlink" title="2. MyBatis的快速入门"></a>2. MyBatis的快速入门</h3><h4 id="MyBatis开发步骤"><a href="#MyBatis开发步骤" class="headerlink" title="MyBatis开发步骤"></a>MyBatis开发步骤</h4><h5 id="①-添加MyBatis的坐标"><a href="#①-添加MyBatis的坐标" class="headerlink" title="① 添加MyBatis的坐标"></a>① 添加MyBatis的坐标</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--   MyBatis   --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mybatis.version</span>&gt;</span>3.5.9<span class="hljs-tag">&lt;/<span class="hljs-name">mybatis.version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--   MyBatis   --&gt;</span><br><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;mybatis.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="②-创建数据表"><a href="#②-创建数据表" class="headerlink" title="② 创建数据表"></a>② 创建数据表</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- ----------------------------</span><br><span class="hljs-comment">-- Table structure for `sys_user`</span><br><span class="hljs-comment">-- ----------------------------</span><br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `sys_user`;<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_user` (<br>  `id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,<br>  `username` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `email` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `password` <span class="hljs-type">varchar</span>(<span class="hljs-number">80</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `phoneNum` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `birthday` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)<br>) ENGINE<span class="hljs-operator">=</span>InnoDB AUTO_INCREMENT<span class="hljs-operator">=</span><span class="hljs-number">5</span> <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb3;<br></code></pre></td></tr></table></figure><h5 id="③-编写实体类"><a href="#③-编写实体类" class="headerlink" title="③ 编写实体类"></a>③ 编写实体类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.domain;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Long id;<br><br>    <span class="hljs-keyword">private</span> String username;<br><br>    <span class="hljs-keyword">private</span> String email;<br><br>    <span class="hljs-keyword">private</span> String password;<br><br>    <span class="hljs-keyword">private</span> String phoneNum;<br><br>    <span class="hljs-keyword">private</span> Date birthday;<br><br>    <span class="hljs-comment">//当前用户具备哪些角色</span><br>    <span class="hljs-keyword">private</span> List&lt;Role&gt; roles;<br><br>    <span class="hljs-comment">//当前用户存在那些订单：一对多</span><br>    <span class="hljs-keyword">private</span> List&lt;Order&gt; orderList;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(Long id, String username, String email, String password, String phoneNum, Date birthday, List&lt;Role&gt; roles, List&lt;Order&gt; orderList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.email = email;<br>        <span class="hljs-built_in">this</span>.password = password;<br>        <span class="hljs-built_in">this</span>.phoneNum = phoneNum;<br>        <span class="hljs-built_in">this</span>.birthday = birthday;<br>        <span class="hljs-built_in">this</span>.roles = roles;<br>        <span class="hljs-built_in">this</span>.orderList = orderList;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getEmail</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setEmail</span><span class="hljs-params">(String email)</span> &#123;<br>        <span class="hljs-built_in">this</span>.email = email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> &#123;<br>        <span class="hljs-built_in">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPhoneNum</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> phoneNum;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPhoneNum</span><span class="hljs-params">(String phoneNum)</span> &#123;<br>        <span class="hljs-built_in">this</span>.phoneNum = phoneNum;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">getBirthday</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> birthday;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBirthday</span><span class="hljs-params">(Date birthday)</span> &#123;<br>        <span class="hljs-built_in">this</span>.birthday = birthday;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;Role&gt; <span class="hljs-title function_">getRoles</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> roles;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRoles</span><span class="hljs-params">(List&lt;Role&gt; roles)</span> &#123;<br>        <span class="hljs-built_in">this</span>.roles = roles;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">getOrderList</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> orderList;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setOrderList</span><span class="hljs-params">(List&lt;Order&gt; orderList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.orderList = orderList;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, email=&#x27;&quot;</span> + email + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, password=&#x27;&quot;</span> + password + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, phoneNum=&#x27;&quot;</span> + phoneNum + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, birthday=&quot;</span> + birthday +<br>                <span class="hljs-string">&quot;, roles=&quot;</span> + roles +<br>                <span class="hljs-string">&quot;, orderList=&quot;</span> + orderList +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="④-编写映射文件XXXMapper-xml"><a href="#④-编写映射文件XXXMapper-xml" class="headerlink" title="④ 编写映射文件XXXMapper.xml"></a>④ 编写映射文件XXXMapper.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-string">&quot; http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 配置mapper标签,namespace属性，作用：唯一的 标识一个Mapper配置文件，保护文件中的标签ID不被污染。注意值不能重复--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.shubao.mapper.UserMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--配置SQL资源：</span><br><span class="hljs-comment">     查询:select标签</span><br><span class="hljs-comment">        属性：</span><br><span class="hljs-comment">         id:唯一标识一个SQL语句参数</span><br><span class="hljs-comment">         resultType:声明使用哪个实体类存储查询的结果。一条结果一个实体类对象存储。</span><br><span class="hljs-comment">         parameterType:声明实参类型。</span><br><span class="hljs-comment">     增加:insert标签</span><br><span class="hljs-comment">     修改:update标签</span><br><span class="hljs-comment">     删除:delete标签</span><br><span class="hljs-comment">     注意：</span><br><span class="hljs-comment">        同一个文件内的标签ID不能重复。</span><br><span class="hljs-comment">    --&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  sql语句抽取  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span>&gt;</span><br>        select * from sys_user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!--  查询操作  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;select id=&quot;findAllForMybatis&quot; resultType=&quot;user&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        select * from sys_user--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/select&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  插入操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;insertForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--    #&#123;实体属性名&#125;：里面传入的是实体对象的属性名    --&gt;</span><br>        insert into sys_user values(#&#123;id&#125;, #&#123;username&#125;, #&#123;email&#125;, #&#123;password&#125;, #&#123;phoneNum&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  修改操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>        update sys_user set email = #&#123;email&#125; where username = #&#123;username&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  删除操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;java.lang.Integer&quot;</span>&gt;</span><br>        delete from sys_user where id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  根据id查询  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;select id=&quot;findOneForMybatis&quot; resultType=&quot;user&quot; parameterType=&quot;int&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        select * from sys_user where id = #&#123;id&#125;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/select&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  多条件查询  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByCondition&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        select * from sys_user<br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;id != 0&quot;</span>&gt;</span><br>                and id = #&#123;id&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;username != null&quot;</span>&gt;</span><br>                and username = #&#123;username&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;password != null&quot;</span>&gt;</span><br>                and password = #&#123;password&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByIds&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectUser&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;id in(&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span>&gt;</span><br>                #&#123;id&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--    &lt;insert id=&quot;save&quot; parameterType=&quot;user&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        insert into sys_user values(#&#123;id&#125;, #&#123;username&#125;, #&#123;email&#125;, #&#123;password&#125;, #&#123;phoneNum&#125;, #&#123;birthday&#125;)--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/insert&gt;--&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByid&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectUser&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;id != 0&quot;</span>&gt;</span><br>                and id = #&#123;id&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;birthday&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;birthday&quot;</span> /&gt;</span><br><br>        <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">            配置集合信息</span><br><span class="hljs-comment">                property: 集合名称</span><br><span class="hljs-comment">                ofType: 当前集合中的数据类型</span><br><span class="hljs-comment">         --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;orderList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;order&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 封装order的数据 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;oid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;ordertime&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;ordertime&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;total&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;total&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userMap&quot;</span>&gt;</span><br>        select *, o.id oid from sys_user u, sys_order o where u.id = o.uid<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userRoleMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- user的信息 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;userId&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;birthday&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;birthday&quot;</span> /&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- user内部的roleList的信息 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roles&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;role&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleId&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleName&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roleName&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleDesc&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roleDesc&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findUserAndRole&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userRoleMap&quot;</span>&gt;</span><br>        select * from sys_user u, sys_user_role ur, sys_role r where u.id = ur.userId and ur.roleId = r.id<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="⑤-编写核心文件mybatis-xml"><a href="#⑤-编写核心文件mybatis-xml" class="headerlink" title="⑤ 编写核心文件mybatis.xml"></a>⑤ 编写核心文件mybatis.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span> <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  通过properties标签加载外部properties文件  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;properties resource=&quot;jdbc.properties&quot; /&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  自定义别名  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.User&quot; alias=&quot;user&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Order&quot; alias=&quot;order&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Role&quot; alias=&quot;role&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Account&quot; alias=&quot;account&quot; /&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--    扫描domain下所有实体类    --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.domain&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  注册自定义类型处理器  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;typeHandlers&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;typeHandler handler=&quot;com.shubao.handler.DateTypeHandler&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/typeHandlers&gt;--&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--  配置分页插件助手  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageHelper&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 指定方言 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dialect&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mysql&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  数据源环境  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;environments default=&quot;developement&quot;&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;environment id=&quot;developement&quot;&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;transactionManager type=&quot;JDBC&quot; /&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;dataSource type=&quot;POOLED&quot;&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;/dataSource&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;/environment&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/environments&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  加载映射文件  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;mappers&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;mapper resource=&quot;com/shubao/mapper/UserMapper.xml&quot; /&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;mapper resource=&quot;com/shubao/mapper/OrderMapper.xml&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/mappers&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--加载映射关系--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--指定接口所在的包--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.mapper&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="⑥-编写测试类"><a href="#⑥-编写测试类" class="headerlink" title="⑥ 编写测试类"></a>⑥ 编写测试类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.test;<br><br><span class="hljs-keyword">import</span> com.github.pagehelper.PageHelper;<br><span class="hljs-keyword">import</span> com.github.pagehelper.PageInfo;<br><span class="hljs-keyword">import</span> com.shubao.domain.Order;<br><span class="hljs-keyword">import</span> com.shubao.domain.User;<br><span class="hljs-keyword">import</span> com.shubao.mapper.OrderMapper;<br><span class="hljs-keyword">import</span> com.shubao.mapper.UserMapper;<br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><span class="hljs-keyword">import</span> org.junit.Before;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.util.Date;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBatisTest</span> &#123;<br><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-keyword">private</span> OrderMapper orderMapper;<br><br>    <span class="hljs-meta">@Before</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession(<span class="hljs-literal">true</span>);<br>        userMapper = sqlSession.getMapper(UserMapper.class);<br>        orderMapper = sqlSession.getMapper(OrderMapper.class);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 查询操作</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        List&lt;User&gt; userList = sqlSession.selectList(<span class="hljs-string">&quot;userMapper.findAllForMybatis&quot;</span>);<br>        <span class="hljs-comment">//打印数据</span><br>        System.out.println(<span class="hljs-string">&quot;userList = &quot;</span> + userList);<br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 插入操作</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//创建User对象</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        user.setUsername(<span class="hljs-string">&quot;tom&quot;</span>);<br>        user.setEmail(<span class="hljs-string">&quot;tom@@sinosoft.com.cn&quot;</span>);<br>        user.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br>        user.setPhoneNum(<span class="hljs-string">&quot;19911001122&quot;</span>);<br><br>        <span class="hljs-comment">//打印数据</span><br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br><span class="hljs-comment">//        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession(<span class="hljs-literal">true</span>);<span class="hljs-comment">//true表示不需要手动提交事务</span><br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        sqlSession.insert(<span class="hljs-string">&quot;userMapper.insertForMybatis&quot;</span>, user);<br>        <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br><span class="hljs-comment">//        sqlSession.commit();</span><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 更新操作</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//创建User对象</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        user.setUsername(<span class="hljs-string">&quot;tom&quot;</span>);<br>        user.setEmail(<span class="hljs-string">&quot;tom@@sinosoft.com.cn&quot;</span>);<br><br>        <span class="hljs-comment">//打印数据</span><br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        sqlSession.update(<span class="hljs-string">&quot;userMapper.updateForMybatis&quot;</span>, user);<br>        <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br>        sqlSession.commit();<br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 删除操作</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        sqlSession.delete(<span class="hljs-string">&quot;userMapper.deleteForMybatis&quot;</span>, <span class="hljs-number">11</span>);<br>        <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br>        sqlSession.commit();<br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 查询一个对象</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test5</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> sqlSession.selectOne(<span class="hljs-string">&quot;userMapper.findOneForMybatis&quot;</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-comment">//打印数据</span><br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 自定义类型转换器：保存一个对象</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test6</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-comment">//创建User对象</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        user.setUsername(<span class="hljs-string">&quot;sakura&quot;</span>);<br>        user.setPassword(<span class="hljs-string">&quot;123456&quot;</span>);<br>        user.setEmail(<span class="hljs-string">&quot;sakura@gmail.com&quot;</span>);<br>        user.setPhoneNum(<span class="hljs-string">&quot;18899523266&quot;</span>);<br>        user.setBirthday(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2002/05/20&quot;</span>));<br><br>        <span class="hljs-comment">//执行保存操作</span><br>        userMapper.save(user);<br>        <span class="hljs-comment">//提交事务</span><br>        sqlSession.commit();<br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 自定义类型转换器：查询</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test7</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.findByid(<span class="hljs-number">15</span>);<br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 分页插件：PageHelper</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test8</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-comment">//设置分页的相关参数  当前页、每页显示的条数</span><br>        PageHelper.startPage(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>);<br><br>        List&lt;User&gt; userList = userMapper.findAllForMybatis();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br><br>        <span class="hljs-comment">//获得与分页相关的数据</span><br>        PageInfo&lt;User&gt; pageInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInfo</span>&lt;&gt;(userList);<br>        System.out.println(<span class="hljs-string">&quot;当前页：&quot;</span> + pageInfo.getPageNum());<br>        System.out.println(<span class="hljs-string">&quot;每页显示的条数：&quot;</span> + pageInfo.getPageSize());<br>        System.out.println(<span class="hljs-string">&quot;总条数：&quot;</span> + pageInfo.getTotal());<br>        System.out.println(<span class="hljs-string">&quot;总页数：&quot;</span> + pageInfo.getPages());<br>        System.out.println(<span class="hljs-string">&quot;上一页：&quot;</span> + pageInfo.getPrePage());<br>        System.out.println(<span class="hljs-string">&quot;下一页：&quot;</span> + pageInfo.getNextPage());<br>        System.out.println(<span class="hljs-string">&quot;是否是第一页：&quot;</span> + pageInfo.isIsFirstPage());<br>        System.out.println(<span class="hljs-string">&quot;是否是最后一页：&quot;</span> + pageInfo.isIsLastPage());<br><br><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 多表联合查询：一对一</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test9</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">OrderMapper</span> <span class="hljs-variable">orderMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(OrderMapper.class);<br><br>        List&lt;Order&gt; orderList = orderMapper.findAll();<br>        <span class="hljs-keyword">for</span> (Order order : orderList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;order = &quot;</span> + order);<br>        &#125;<br><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 多表联合查询：一对多</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test10</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        List&lt;User&gt; userList = userMapper.findAll();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 多表联合查询：多对多  三表</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test11</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//获取核心配置文件</span><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>        <span class="hljs-comment">//获得session工厂对象</span><br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>        <span class="hljs-comment">//获得session会话对象</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>        <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        List&lt;User&gt; userList = userMapper.findUserAndRole();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br><br>        <span class="hljs-comment">//释放资源</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test12</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        user.setUsername(<span class="hljs-string">&quot;wangwu&quot;</span>);<br>        user.setEmail(<span class="hljs-string">&quot;wangwu@gmail.com&quot;</span>);<br>        user.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br>        user.setPhoneNum(<span class="hljs-string">&quot;110119120&quot;</span>);<br><br>        userMapper.save(user);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test13</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        List&lt;User&gt; userList = userMapper.findAllForMybatis();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test14</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        List&lt;Order&gt; orderList = orderMapper.findAll();<br>        <span class="hljs-keyword">for</span> (Order order : orderList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;order = &quot;</span> + order);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test15</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        List&lt;User&gt; userList = userMapper.findUserAndOrderAll();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test16</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        List&lt;User&gt; userList = userMapper.findUserAndRoleAll();<br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-MyBatis的映射文件概述"><a href="#3-MyBatis的映射文件概述" class="headerlink" title="3. MyBatis的映射文件概述"></a>3. MyBatis的映射文件概述</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-comment">&lt;!-- 映射文件DTO约束头 --&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-string">&quot; http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 配置mapper标签,namespace属性，作用：唯一的 标识一个Mapper配置文件，保护文件中的标签ID不被污染。注意值不能重复 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.shubao.mapper.UserMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- select：查询操作，还有insert、update、delete --&gt;</span><br>    <span class="hljs-comment">&lt;!-- resultType：查询结果对应的实体类型 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>        select * from sys_user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-MyBatis的增删改查操作"><a href="#4-MyBatis的增删改查操作" class="headerlink" title="4. MyBatis的增删改查操作"></a>4. MyBatis的增删改查操作</h3><h4 id="1-MyBatis的插入数据操作"><a href="#1-MyBatis的插入数据操作" class="headerlink" title="1) MyBatis的插入数据操作"></a>1) MyBatis的插入数据操作</h4><h5 id="1-插入操作注意问题"><a href="#1-插入操作注意问题" class="headerlink" title="(1) 插入操作注意问题"></a>(1) 插入操作注意问题</h5><ul><li>插入语句使用insert标签</li><li>在映射文件中使用parameterType属性指定要插入的数据类型</li><li>SQL语句中使用#{实体属性名}方式引用实体中的属性值</li><li>插入操作使用的API是SqlSession.insert(“命名空间.id”, 实体对象)</li><li>插入操作涉及数据库数据的变化，所以要使用SqlSession对象显式的提交事务，即sqlSession.commit();</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;userMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  插入操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;insertForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--    #&#123;实体属性名&#125;：里面传入的是实体对象的属性名    --&gt;</span><br>        insert into sys_user values(#&#123;id&#125;, #&#123;username&#125;, #&#123;email&#125;, #&#123;password&#125;, #&#123;phoneNum&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 插入操作</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//创建User对象</span><br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>    user.setUsername(<span class="hljs-string">&quot;tom&quot;</span>);<br>    user.setEmail(<span class="hljs-string">&quot;tom@@sinosoft.com.cn&quot;</span>);<br>    user.setPassword(<span class="hljs-string">&quot;123&quot;</span>);<br>    user.setPhoneNum(<span class="hljs-string">&quot;19911001122&quot;</span>);<br><br>    <span class="hljs-comment">//打印数据</span><br>    System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-comment">//        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession(<span class="hljs-literal">true</span>);<span class="hljs-comment">//true表示不需要手动提交事务</span><br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    sqlSession.insert(<span class="hljs-string">&quot;userMapper.insertForMybatis&quot;</span>, user);<br>    <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br>    <span class="hljs-comment">//        sqlSession.commit();</span><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-MyBatis的修改数据操作"><a href="#2-MyBatis的修改数据操作" class="headerlink" title="2) MyBatis的修改数据操作"></a>2) MyBatis的修改数据操作</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;userMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  修改操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>        update sys_user set email = #&#123;email&#125; where username = #&#123;username&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 更新操作</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//创建User对象</span><br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>    user.setUsername(<span class="hljs-string">&quot;tom&quot;</span>);<br>    user.setEmail(<span class="hljs-string">&quot;tom@@sinosoft.com.cn&quot;</span>);<br><br>    <span class="hljs-comment">//打印数据</span><br>    System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    sqlSession.update(<span class="hljs-string">&quot;userMapper.updateForMybatis&quot;</span>, user);<br>    <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br>    sqlSession.commit();<br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="1-修改操作注意问题"><a href="#1-修改操作注意问题" class="headerlink" title="(1) 修改操作注意问题"></a>(1) 修改操作注意问题</h5><ul><li>修改语句使用update标签</li><li>修改操作使用的API是sqlSession.update(“命名空间.id”, 实体对象);</li></ul><h4 id="3-MyBatis的删除操作"><a href="#3-MyBatis的删除操作" class="headerlink" title="3) MyBatis的删除操作"></a>3) MyBatis的删除操作</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;userMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  删除操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteForMybatis&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;java.lang.Integer&quot;</span>&gt;</span><br>        delete from sys_user where id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 删除操作</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test4</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    sqlSession.delete(<span class="hljs-string">&quot;userMapper.deleteForMybatis&quot;</span>, <span class="hljs-number">11</span>);<br>    <span class="hljs-comment">//mybatis如果执行更新操作，需要手动提交事务</span><br>    sqlSession.commit();<br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="1-删除操作注意问题"><a href="#1-删除操作注意问题" class="headerlink" title="(1) 删除操作注意问题"></a>(1) 删除操作注意问题</h5><ul><li>删除语句使用delete标签</li><li>SQL语句中使用#{任意字符串}方式引用传递的单个参数</li><li>删除操作使用的API是sqlSession.delete(“命名空间.id”, Object);</li></ul><h4 id="4-MyBatis的查询操作"><a href="#4-MyBatis的查询操作" class="headerlink" title="4) MyBatis的查询操作"></a>4) MyBatis的查询操作</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;userMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--  查询操作  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAllForMybatis&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        select * from sys_user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 查询操作</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    List&lt;User&gt; userList = sqlSession.selectList(<span class="hljs-string">&quot;userMapper.findAllForMybatis&quot;</span>);<br>    <span class="hljs-comment">//打印数据</span><br>    System.out.println(<span class="hljs-string">&quot;userList = &quot;</span> + userList);<br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-MyBatis的核心配置文件概述"><a href="#5-MyBatis的核心配置文件概述" class="headerlink" title="5. MyBatis的核心配置文件概述"></a>5. MyBatis的核心配置文件概述</h3><h4 id="1-层级关系"><a href="#1-层级关系" class="headerlink" title="1) 层级关系"></a>1) 层级关系</h4><ul><li>configuration配置<ul><li>properties属性</li><li>setting设置</li><li>typeAliases类型别名<ul><li>typeAlias</li></ul></li><li>typeHandlers类型处理器</li><li>objectFactory对象工厂</li><li>plugins插件</li><li>environments环境<ul><li>environment环境变量<ul><li>transactionManager事务管理器</li><li>dataSource数据源</li></ul></li></ul></li><li>databaseProvider数据库厂商标识</li><li>mappers映射器</li></ul></li></ul><h4 id="2-MyBatis常用配置解析"><a href="#2-MyBatis常用配置解析" class="headerlink" title="2) MyBatis常用配置解析"></a>2) MyBatis常用配置解析</h4><h5 id="1-environments标签"><a href="#1-environments标签" class="headerlink" title="(1) environments标签"></a>(1) environments标签</h5><p>数据库环境的配置，支持多环境配置</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment"># jdbc.properties</span><br><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-comment">#jdbc.url=jdbc:mysql://localhost:3306/wollo</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/wollo?characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">1106135</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  通过properties标签加载外部properties文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;jdbc.properties&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--  数据源环境  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;developement&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- 指定默认的环境名称 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;developement&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- 指定当前的环境名称 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span> /&gt;</span><span class="hljs-comment">&lt;!-- 指定事务管理类型是JDBC --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><span class="hljs-comment">&lt;!-- 指定当前数据源类型是连接池 --&gt;</span><br>            <span class="hljs-comment">&lt;!-- 数据源配置的基本信息 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br></code></pre></td></tr></table></figure><p>其中，事务管理器(transactionManager)类型有两种：</p><ul><li>JDBC：这个配置就是直接使用了JDBC的提交和回滚设置，它依赖于从数据源得到的连接来管理事务作用域。</li><li>MANAGED：这个配置几乎没做什么。它从来不提交或回滚一个连接，而是让容器来管理事务的整个生命周期(比如JEE应用服务器的上下文)。默认情况下它会关闭连接，然而一些容器并不希望这样，因此需要将closeConnection属性设置为false来阻止它默认的关闭行为。</li></ul><blockquote><p>注：JEE服务器就是一些拦截器的整合，你的EJB存在于这些拦截器之后，容器帮你完成了很多预定义的工作，通过你的接口（2.1）或注解（3.0）来帮你拦截，帮你完成工作。</p><p><a href="https://www.cnblogs.com/yecllsl/articles/574147.html">https://www.cnblogs.com/yecllsl/articles/574147.html</a></p></blockquote><p>其中，数据源(dataSource)类型有三种：</p><ul><li>UNPOOLED：这个数据源的实现只是每次被请求时打开和关闭连接</li><li>POOLED：这种数据源的实现利用“池”的概念将JDBC连接对象组织起来</li><li>JNDI：这个数据源的实现是为了能在如EJB或应用服务器这类容器中使用，容器可以集中或在外部配置数据源，然后放置一个JNDI上下文的引用</li></ul><h5 id="2-mapper标签"><a href="#2-mapper标签" class="headerlink" title="(2) mapper标签"></a>(2) mapper标签</h5><p>该标签的作用是加载映射的，加载方式有如下几种：</p><ul><li>使用相对于类路径的资源引用，例如：<mapper resource="org/mybatis/builder/AuthorMapper.xml"/></li><li>使用完全限定资源定位符（URL），例如：<mapper url="file:///var/mappers/AuthorMapper.xml"/></li><li>使用映射器接口实现类的完全限定类名，例如：<mapper class="org.mybatis.builder.AuthorMapper"/></li><li>将包内的映射器接口实现全部注册为映射器，例如：<package name="org.mybatis.builder"/></li></ul><h5 id="3-Properties标签"><a href="#3-Properties标签" class="headerlink" title="(3) Properties标签"></a>(3) Properties标签</h5><p>将数据源的配置信息单独抽取成一个properties文件，该标签可以加载额外配置的properties文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  通过properties标签加载外部properties文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;jdbc.properties&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--  数据源环境  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;developement&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;developement&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="4-typeAliases标签"><a href="#4-typeAliases标签" class="headerlink" title="(4) typeAliases标签"></a>(4) typeAliases标签</h5><p>类型别名是为Java类型设置的一个短的名字，原来的类型名称配置如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.shubao.domain.User&quot;</span>&gt;</span><br>select * from User<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>配置typeAliases，为全限定名(com.shubao.domain.User)定义别名为：user</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  自定义别名  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;typeAlias type=&quot;com.shubao.domain.User&quot; alias=&quot;user&quot; /&gt; --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;typeAlias type=&quot;com.shubao.domain.Order&quot; alias=&quot;order&quot; /&gt; --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;typeAlias type=&quot;com.shubao.domain.Role&quot; alias=&quot;role&quot; /&gt; --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;typeAlias type=&quot;com.shubao.domain.Account&quot; alias=&quot;account&quot; /&gt; --&gt;</span><br>    <span class="hljs-comment">&lt;!-- 扫描domain下所有实体类 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.domain&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  查询操作  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAllForMybatis&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    select * from sys_user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>除了自定义的别名，mybatis框架自带的一些常用的数据类型的别名</p><table><thead><tr><th>别名</th><th>数据类型</th></tr></thead><tbody><tr><td>string</td><td>String</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>boolean</td><td>Boolean</td></tr><tr><td>…</td><td>…</td></tr></tbody></table><h3 id="6-MyBatis的相应API"><a href="#6-MyBatis的相应API" class="headerlink" title="6. MyBatis的相应API"></a>6. MyBatis的相应API</h3><h4 id="1-SqlSession工厂构建器SqlSessionFactoryBuilder"><a href="#1-SqlSession工厂构建器SqlSessionFactoryBuilder" class="headerlink" title="(1) SqlSession工厂构建器SqlSessionFactoryBuilder"></a>(1) SqlSession工厂构建器SqlSessionFactoryBuilder</h4><p>常用API：SqlSessionFactory build(InputStream inputStream)</p><p>通过加载mybatis的核心文件的输入流的形式，构建一个SQLSessionFactory对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//获取核心配置文件</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br><span class="hljs-comment">//获得session工厂对象</span><br><span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br><span class="hljs-comment">//获得session会话对象</span><br><span class="hljs-comment">//SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession(<span class="hljs-literal">true</span>);<span class="hljs-comment">//true表示不需要手动提交事务</span><br></code></pre></td></tr></table></figure><p>其中，Resources工具类，在org.apache.ibatis.io包中。Resources类可以从类路径下、文件系统或者一个web URL中加载资源文件。</p><h4 id="2-SqlSession工厂对象SqlSessionFactory"><a href="#2-SqlSession工厂对象SqlSessionFactory" class="headerlink" title="(2) SqlSession工厂对象SqlSessionFactory"></a>(2) SqlSession工厂对象SqlSessionFactory</h4><p>SqlSessionFactory有多个方法创建SQLSession实例。常用的有如下两个：</p><table><thead><tr><th>方法</th><th>解释</th></tr></thead><tbody><tr><td>SqlSession openSession()</td><td>会默认开启一个事务，但事务不会自动提交，也就意味着需要手动提交该事务，更新操作数据才会持久化到数据库中</td></tr><tr><td>SqlSession openSession(boolean autoCommit)</td><td>参数为是否自动提交，如果设置为true，那么不需要手动提交事务</td></tr></tbody></table><h4 id="3-SqlSession会话对象"><a href="#3-SqlSession会话对象" class="headerlink" title="(3) SqlSession会话对象"></a>(3) SqlSession会话对象</h4><p>SqlSession类中有执行语句、提交或回滚事务和获取映射器实例的方法。执行语句的方法主要有：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// org.apache.ibatis.session.SqlSession</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * Retrieve a single row mapped from the statement key.</span><br><span class="hljs-comment">  * <span class="hljs-doctag">@param</span> &lt;T&gt; the returned object type</span><br><span class="hljs-comment">  * <span class="hljs-doctag">@param</span> statement</span><br><span class="hljs-comment">  *          the statement</span><br><span class="hljs-comment">  * <span class="hljs-doctag">@return</span> Mapped object</span><br><span class="hljs-comment">  */</span><br>&lt;T&gt; T <span class="hljs-title function_">selectOne</span><span class="hljs-params">(String statement)</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">* Retrieve a single row mapped from the statement key and parameter.</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> &lt;T&gt; the returned object type</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to use.</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> parameter A parameter object to pass to the statement.</span><br><span class="hljs-comment">* <span class="hljs-doctag">@return</span> Mapped object</span><br><span class="hljs-comment">*/</span><br>&lt;T&gt; T <span class="hljs-title function_">selectOne</span><span class="hljs-params">(String statement, Object parameter)</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Retrieve a list of mapped objects from the statement key.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &lt;E&gt; the returned list element type</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to use.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> List of mapped object</span><br><span class="hljs-comment"> */</span><br>&lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">selectList</span><span class="hljs-params">(String statement)</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Retrieve a list of mapped objects from the statement key and parameter.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &lt;E&gt; the returned list element type</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to use.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> parameter A parameter object to pass to the statement.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> List of mapped object</span><br><span class="hljs-comment"> */</span><br>&lt;E&gt; List&lt;E&gt; <span class="hljs-title function_">selectList</span><span class="hljs-params">(String statement, Object parameter)</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Execute an insert statement with the given parameter object. Any generated</span><br><span class="hljs-comment"> * autoincrement values or selectKey entries will modify the given parameter</span><br><span class="hljs-comment"> * object properties. Only the number of rows affected will be returned.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to execute.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> parameter A parameter object to pass to the statement.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> int The number of rows affected by the insert.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(String statement, Object parameter)</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Execute an update statement. The number of rows affected will be returned.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to execute.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> parameter A parameter object to pass to the statement.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> int The number of rows affected by the update.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">update</span><span class="hljs-params">(String statement, Object parameter)</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Execute a delete statement. The number of rows affected will be returned.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> statement Unique identifier matching the statement to execute.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> parameter A parameter object to pass to the statement.</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> int The number of rows affected by the delete.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(String statement, Object parameter)</span>;<br></code></pre></td></tr></table></figure><p>操作事务的方法主要有：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Flushes batch statements and commits database connection.</span><br><span class="hljs-comment"> * Note that database connection will not be committed if no updates/deletes/inserts were called.</span><br><span class="hljs-comment"> * To force the commit call &#123;<span class="hljs-doctag">@link</span> SqlSession#commit(boolean)&#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">commit</span><span class="hljs-params">()</span>;<br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Discards pending batch statements and rolls database connection back.</span><br><span class="hljs-comment"> * Note that database connection will not be rolled back if no updates/deletes/inserts were called.</span><br><span class="hljs-comment"> * To force the rollback call &#123;<span class="hljs-doctag">@link</span> SqlSession#rollback(boolean)&#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">rollback</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><h3 id="7-MyBatis的Dao层实现"><a href="#7-MyBatis的Dao层实现" class="headerlink" title="7. MyBatis的Dao层实现"></a>7. MyBatis的Dao层实现</h3><h4 id="1-代理开发方式"><a href="#1-代理开发方式" class="headerlink" title="1) 代理开发方式"></a>1) 代理开发方式</h4><h5 id="1-代理开发方式介绍"><a href="#1-代理开发方式介绍" class="headerlink" title="(1) 代理开发方式介绍"></a>(1) 代理开发方式介绍</h5><p>采用 Mybatis 的代理开发方式实现 DAO 层的开发，这种方式是我们后面进入企业的主流。 </p><p>Mapper 接口开发方法只需要程序员编写Mapper 接口（相当于Dao 接口），由Mybatis 框架根据接口定义创建接 口的动态代理对象，代理对象的方法体同上边Dao接口实现类方法。 </p><p>Mapper 接口开发需要遵循以下规范： </p><p>1、 Mapper.xml文件中的namespace与mapper接口的全限定名相同 </p><p>2、 Mapper接口方法名和Mapper.xml中定义的每个statement的id相同 </p><p>3、 Mapper接口方法的输入参数类型和mapper.xml中定义的每个sql的parameterType的类型相同 </p><p>4、 Mapper接口方法的输出参数类型和mapper.xml中定义的每个sql的resultType的类型相同</p><h5 id="2-示例"><a href="#2-示例" class="headerlink" title="(2) 示例"></a>(2) 示例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.mapper;<br><br><span class="hljs-keyword">import</span> com.shubao.domain.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">findByid</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-string">&quot; http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 配置mapper标签,namespace属性，作用：唯一的 标识一个Mapper配置文件，保护文件中的标签ID不被污染。注意值不能重复--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.shubao.mapper.UserMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--配置SQL资源：</span><br><span class="hljs-comment">     查询:select标签</span><br><span class="hljs-comment">        属性：</span><br><span class="hljs-comment">         id:唯一标识一个SQL语句参数</span><br><span class="hljs-comment">         resultType:声明使用哪个实体类存储查询的结果。一条结果一个实体类对象存储。</span><br><span class="hljs-comment">         parameterType:声明实参类型。</span><br><span class="hljs-comment">     增加:insert标签</span><br><span class="hljs-comment">     修改:update标签</span><br><span class="hljs-comment">     删除:delete标签</span><br><span class="hljs-comment">     注意：</span><br><span class="hljs-comment">        同一个文件内的标签ID不能重复。</span><br><span class="hljs-comment">    --&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  sql语句抽取  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span>&gt;</span><br>        select * from sys_user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByid&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectUser&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;id != 0&quot;</span>&gt;</span><br>                and id = #&#123;id&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 查询</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test7</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.findByid(<span class="hljs-number">15</span>);<br>    System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-MyBatis映射文件深入"><a href="#8-MyBatis映射文件深入" class="headerlink" title="8. MyBatis映射文件深入"></a>8. MyBatis映射文件深入</h3><h4 id="1-动态sql语句"><a href="#1-动态sql语句" class="headerlink" title="1) 动态sql语句"></a>1) 动态sql语句</h4><h5 id="1-动态sql语句概述"><a href="#1-动态sql语句概述" class="headerlink" title="(1) 动态sql语句概述"></a>(1) 动态sql语句概述</h5><blockquote><p><a href="https://mybatis.org/mybatis-3/dynamic-sql.html">https://mybatis.org/mybatis-3/dynamic-sql.html</a></p><p><a href="https://mybatis.org/mybatis-3/zh/dynamic-sql.html">https://mybatis.org/mybatis-3/zh/dynamic-sql.html</a></p><h2 id="Dynamic-SQL"><a href="#Dynamic-SQL" class="headerlink" title="Dynamic SQL"></a>Dynamic SQL</h2><p>One of the most powerful features of MyBatis has always been its Dynamic SQL capabilities. If you have any experience with JDBC or any similar framework, you understand how painful it is to conditionally concatenate strings of SQL together, making sure not to forget spaces or to omit a comma at the end of a list of columns. Dynamic SQL can be downright painful to deal with.</p><p>While working with Dynamic SQL will never be a party, MyBatis certainly improves the situation with a powerful Dynamic SQL language that can be used within any mapped SQL statement.</p><p>The Dynamic SQL elements should be familiar to anyone who has used JSTL or any similar XML based text processors. In previous versions of MyBatis, there were a lot of elements to know and understand. MyBatis 3 greatly improves upon this, and now there are less than half of those elements to work with. MyBatis employs powerful OGNL based expressions to eliminate most of the other elements:</p><ul><li>if</li><li>choose (when, otherwise)</li><li>trim (where, set)</li><li>foreach</li></ul></blockquote><h5 id="2-动态sql之-lt-if-gt"><a href="#2-动态sql之-lt-if-gt" class="headerlink" title="(2) 动态sql之&lt;if&gt;"></a>(2) 动态sql之&lt;if&gt;</h5><p>我们根据实体类的不同取值，使用不同的sql语句来进行查询。比如在id如果不为空时可以根据id查询，如果username不为空时还要加入用户名作为调节。常见于多条件组合查询中。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  多条件查询  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByCondition&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    select * from sys_user<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;id != 0&quot;</span>&gt;</span><br>            and id = #&#123;id&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;username != null&quot;</span>&gt;</span><br>            and username = #&#123;username&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;password != null&quot;</span>&gt;</span><br>            and password = #&#123;password&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="3-动态sql之-lt-foreach-gt"><a href="#3-动态sql之-lt-foreach-gt" class="headerlink" title="(3) 动态sql之&lt;foreach&gt;"></a>(3) 动态sql之&lt;foreach&gt;</h5><p>循环执行sql的拼接操作，例如：select * from sys_user where id in (1,2,3);</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByIds&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectUser&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;id in(&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span>&gt;</span><br>            #&#123;id&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-sql片段抽取"><a href="#2-sql片段抽取" class="headerlink" title="2) sql片段抽取"></a>2) sql片段抽取</h4><p>sql中可将重复的sql提取出来，使用时用include引用。达到sql重用的目的。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  sql语句抽取  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span>&gt;</span><br>    select * from sys_user<br><span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findByid&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;selectUser&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;id != 0&quot;</span>&gt;</span><br>            and id = #&#123;id&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-typeHandlers标签"><a href="#3-typeHandlers标签" class="headerlink" title="3) typeHandlers标签"></a>3) typeHandlers标签</h4><p>无论是mybatis在预处理语句(PreparedStatement)中设置一个参数时，还是从结果集中取出一个值时，都会用类型处理器将获取的值以合适的方式转换成Java类型。下面是一些默认的类型处理器。</p><table><thead><tr><th>类型处理器</th><th>Java类型</th><th>JDBC类型</th></tr></thead><tbody><tr><td>org.apache.ibatis.type.BooleanTypeHandler</td><td>java.lang.Boolean, boolean</td><td>数据库兼容的BOOLEAN</td></tr><tr><td>org.apache.ibatis.type.ByteTypeHandler</td><td>java.lang.Byte, byte</td><td>数据库兼容的NUMERIC或BYTE</td></tr><tr><td>org.apache.ibatis.type.ShortTypeHandler</td><td>java.lang.Short, short</td><td>数据库兼容的NUMERIC或SHORT INTEGER</td></tr><tr><td>org.apache.ibatis.type.IntegerTypeHandler</td><td>java.lang.Integer, int</td><td>数据库兼容的NUMERIC或INTEGER</td></tr><tr><td>org.apache.ibatis.type.LongTypeHandler</td><td>java.lang.Long, long</td><td>数据库兼容的NUMERIC或LONG INTEGER</td></tr></tbody></table><p>可以重新类型处理器或者创建自己的类型处理器来处理不支持的或非标准的类型。具体做法为：实现org.apache.ibatis.type.TypeHandler接口，或者继承org.apache.ibatis.type.BaseTypeHandler，然后可以选择性的将它映射到一个JDBC类型。例如：一个Java中的Date数据类型，将之存储数据库的时候转换成一个时间戳(1970年至今的毫秒数)，取出来时转换成Java的Date类型，即Java的Date类型与数据库的varchar毫秒值之间的转换。</p><p>开发步骤：</p><p>① 定义一个转换类继承类BaseTypeHandler&lt;T&gt;</p><p>② 覆盖4个未实现的方法，其中setNonNullParameter为Java程序设置数据到数据库的回调方法，getNullableResult为查询时MySQL的字符串类型转换成Java的Type类型中的方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNonNullParameter</span><span class="hljs-params">(PreparedStatement ps, <span class="hljs-type">int</span> i, T parameter, JdbcType jdbcType)</span> <span class="hljs-keyword">throws</span> SQLException;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Gets the nullable result.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> rs</span><br><span class="hljs-comment"> *          the rs</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> columnName</span><br><span class="hljs-comment"> *          Column name, when configuration &lt;code&gt;useColumnLabel&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt;</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> the nullable result</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> SQLException</span><br><span class="hljs-comment"> *           the SQL exception</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> T <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, String columnName)</span> <span class="hljs-keyword">throws</span> SQLException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> T <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, <span class="hljs-type">int</span> columnIndex)</span> <span class="hljs-keyword">throws</span> SQLException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> T <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(CallableStatement cs, <span class="hljs-type">int</span> columnIndex)</span> <span class="hljs-keyword">throws</span> SQLException;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.shubao.handler;<br><br><span class="hljs-keyword">import</span> org.apache.commons.logging.Log;<br><span class="hljs-keyword">import</span> org.apache.commons.logging.LogFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.type.BaseTypeHandler;<br><span class="hljs-keyword">import</span> org.apache.ibatis.type.JdbcType;<br><br><span class="hljs-keyword">import</span> java.sql.CallableStatement;<br><span class="hljs-keyword">import</span> java.sql.PreparedStatement;<br><span class="hljs-keyword">import</span> java.sql.ResultSet;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DateTypeHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseTypeHandler</span>&lt;Date&gt; &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * log.debug(&quot;debug&quot;); //调试</span><br><span class="hljs-comment">     * log.info(&quot;information&quot;); //信息</span><br><span class="hljs-comment">     * log.warn(&quot;warning&quot;); //警告</span><br><span class="hljs-comment">     * log.error(&quot;error&quot;); //错误</span><br><span class="hljs-comment">     * log.fatal(&quot;fatal&quot;); //致命错误</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Log</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LogFactory.getLog(DateTypeHandler.class);<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 将Java类型转换成数据库需要的类型</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> ps</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> i</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> parameter</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> jdbcType</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SQLException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNonNullParameter</span><span class="hljs-params">(PreparedStatement ps, <span class="hljs-type">int</span> i, Date parameter, JdbcType jdbcType)</span> <span class="hljs-keyword">throws</span> SQLException &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> parameter.getTime();<br>        ps.setLong(i, time);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 将数据中类型转换为Java类型</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> rs 查询出的结果集</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> columnName 要转换的字段名称</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SQLException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, String columnName)</span> <span class="hljs-keyword">throws</span> SQLException &#123;<br>        <span class="hljs-comment">//获得结果集中的数据，将需要转换的数据(long)转换成Date类型，返回</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">aLong</span> <span class="hljs-operator">=</span> rs.getLong(columnName);<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(aLong);<br>        <span class="hljs-keyword">return</span> date;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 将数据库中的类型，转换成Java类型</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> rs</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> columnIndex</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SQLException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, <span class="hljs-type">int</span> columnIndex)</span> <span class="hljs-keyword">throws</span> SQLException &#123;<br>        <span class="hljs-comment">//获得结果集中的数据，将需要转换的数据(long)转换成Date类型，返回</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">aLong</span> <span class="hljs-operator">=</span> rs.getLong(columnIndex);<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(aLong);<br>        <span class="hljs-keyword">return</span> date;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 将数据库中的类型，转换成Java类型</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> cs</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> columnIndex</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> SQLException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Date <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(CallableStatement cs, <span class="hljs-type">int</span> columnIndex)</span> <span class="hljs-keyword">throws</span> SQLException &#123;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">aLong</span> <span class="hljs-operator">=</span> cs.getLong(columnIndex);<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(aLong);<br>        <span class="hljs-keyword">return</span> date;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>⑤ 在mybatis核心配置文件中进行注册</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  注册自定义类型处理器  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeHandlers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeHandler</span> <span class="hljs-attr">handler</span>=<span class="hljs-string">&quot;com.shubao.handler.DateTypeHandler&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeHandlers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>⑥ 测试</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 自定义类型转换器：保存一个对象</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test6</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    <span class="hljs-comment">//创建User对象</span><br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>    user.setUsername(<span class="hljs-string">&quot;sakura&quot;</span>);<br>    user.setPassword(<span class="hljs-string">&quot;123456&quot;</span>);<br>    user.setEmail(<span class="hljs-string">&quot;sakura@gmail.com&quot;</span>);<br>    user.setPhoneNum(<span class="hljs-string">&quot;18899523266&quot;</span>);<br>    user.setBirthday(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">&quot;2002/05/20&quot;</span>));<br><br>    <span class="hljs-comment">//执行保存操作</span><br>    userMapper.save(user);<br>    <span class="hljs-comment">//提交事务</span><br>    sqlSession.commit();<br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 自定义类型转换器：查询</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test7</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.findByid(<span class="hljs-number">15</span>);<br>    System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-plugins标签"><a href="#4-plugins标签" class="headerlink" title="4) plugins标签"></a>4) plugins标签</h4><p>MyBatis可以使用第三方的插件来对功能进行扩展，分页助手PageHelper是将分页的复杂操作进行封装，使用简单的方式即可获得分页的相关数据。</p><p>开发步骤：</p><p>① 导入通用的PageHelper的坐标</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- PageHelper --&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;pagehelper.version&gt;5.3.0&lt;/pagehelper.version&gt; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">pagehelper.version</span>&gt;</span>3.7.5<span class="hljs-tag">&lt;/<span class="hljs-name">pagehelper.version</span>&gt;</span><br><span class="hljs-comment">&lt;!-- &lt;jsqlparser.version&gt;4.3&lt;/jsqlparser.version&gt; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">jsqlparser.version</span>&gt;</span>0.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">jsqlparser.version</span>&gt;</span><br><br><br><span class="hljs-comment">&lt;!--  PageHelper插件    --&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment"> https://blog.csdn.net/IPI715718/article/details/83384131</span><br><span class="hljs-comment"> 异常：</span><br><span class="hljs-comment">    org.apache.ibatis.exceptions.PersistenceException:</span><br><span class="hljs-comment">    ### Error building SqlSession.</span><br><span class="hljs-comment">    ### The error may exist in SQL Mapper Configuration</span><br><span class="hljs-comment">    ### Cause: org.apache.ibatis.builder.BuilderException: Error parsing SQL Mapper Configuration. Cause: java.lang.ClassCastException: com.github.pagehelper.PageHelper cannot be cast to org.apache.ibatis.plugin.Interceptor</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"> 解决：</span><br><span class="hljs-comment">    我使用的pagehelper的版本是5.1，5.0之后的版本使用com.github.pagehelper.PageInterceptor这个类。</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;pagehelper.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.jsqlparser<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsqlparser<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;jsqlparser.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>② 在MyBatis核心配置文件中配置PageHelper插件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  配置分页插件助手  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageHelper&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 指定方言 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dialect&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mysql&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br></code></pre></td></tr></table></figure><p>③ 测试分页</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 分页插件：PageHelper</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test8</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    <span class="hljs-comment">//设置分页的相关参数  当前页、每页显示的条数</span><br>    PageHelper.startPage(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>);<br><br>    List&lt;User&gt; userList = userMapper.findAllForMybatis();<br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>    &#125;<br><br>    <span class="hljs-comment">//获得与分页相关的数据</span><br>    PageInfo&lt;User&gt; pageInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInfo</span>&lt;&gt;(userList);<br>    System.out.println(<span class="hljs-string">&quot;当前页：&quot;</span> + pageInfo.getPageNum());<br>    System.out.println(<span class="hljs-string">&quot;每页显示的条数：&quot;</span> + pageInfo.getPageSize());<br>    System.out.println(<span class="hljs-string">&quot;总条数：&quot;</span> + pageInfo.getTotal());<br>    System.out.println(<span class="hljs-string">&quot;总页数：&quot;</span> + pageInfo.getPages());<br>    System.out.println(<span class="hljs-string">&quot;上一页：&quot;</span> + pageInfo.getPrePage());<br>    System.out.println(<span class="hljs-string">&quot;下一页：&quot;</span> + pageInfo.getNextPage());<br>    System.out.println(<span class="hljs-string">&quot;是否是第一页：&quot;</span> + pageInfo.isIsFirstPage());<br>    System.out.println(<span class="hljs-string">&quot;是否是最后一页：&quot;</span> + pageInfo.isIsLastPage());<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="9-MyBatis多表操作"><a href="#9-MyBatis多表操作" class="headerlink" title="9. MyBatis多表操作"></a>9. MyBatis多表操作</h3><h4 id="1-一对一配置：使用-lt-resultMap-gt-做配置"><a href="#1-一对一配置：使用-lt-resultMap-gt-做配置" class="headerlink" title="1) 一对一配置：使用&lt;resultMap&gt;做配置"></a>1) 一对一配置：使用&lt;resultMap&gt;做配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-string">&quot; http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 配置mapper标签,namespace属性，作用：唯一的 标识一个Mapper配置文件，保护文件中的标签ID不被污染。注意值不能重复--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.shubao.mapper.OrderMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;orderMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;order&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">            手动指定字段与实体属性的映射关系</span><br><span class="hljs-comment">                column: 数据表的字段名称</span><br><span class="hljs-comment">                property: 实体的属性名称</span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;oid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;ordertime&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;ordertime&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;total&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;total&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;uid&quot; property=&quot;user.id&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;username&quot; property=&quot;user.username&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;email&quot; property=&quot;user.email&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;password&quot; property=&quot;user.password&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;phoneNum&quot; property=&quot;user.phoneNum&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;result column=&quot;birthday&quot; property=&quot;user.birthday&quot; /&gt;--&gt;</span><br><br>        <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">            property：当前实体（order）中的属性名称（private User user）</span><br><span class="hljs-comment">            javaType：当前实体（order）中的属性的类型(User)</span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;birthday&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;birthday&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;orderMap&quot;</span>&gt;</span><br>        select *, o.id oid from sys_order o, sys_user u where o.uid = u.id<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 多表联合查询：一对一</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test9</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">OrderMapper</span> <span class="hljs-variable">orderMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(OrderMapper.class);<br><br>    List&lt;Order&gt; orderList = orderMapper.findAll();<br>    <span class="hljs-keyword">for</span> (Order order : orderList) &#123;<br>        System.out.println(<span class="hljs-string">&quot;order = &quot;</span> + order);<br>    &#125;<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-一对多：使用-lt-resultMap-gt-lt-collection-gt-做配置"><a href="#2-一对多：使用-lt-resultMap-gt-lt-collection-gt-做配置" class="headerlink" title="2) 一对多：使用&lt;resultMap&gt; + &lt;collection&gt;做配置"></a>2) 一对多：使用&lt;resultMap&gt; + &lt;collection&gt;做配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;uid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;birthday&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;birthday&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        配置集合信息</span><br><span class="hljs-comment">            property: 集合名称</span><br><span class="hljs-comment">            ofType: 当前集合中的数据类型</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;orderList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;order&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 封装order的数据 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;oid&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;ordertime&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;ordertime&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;total&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;total&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userMap&quot;</span>&gt;</span><br>    select *, o.id oid from sys_user u, sys_order o where u.id = o.uid<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 多表联合查询：一对多</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test10</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    List&lt;User&gt; userList = userMapper.findAll();<br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>    &#125;<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-多对多：使用-lt-resultMap-gt-lt-collection-gt-做配置"><a href="#3-多对多：使用-lt-resultMap-gt-lt-collection-gt-做配置" class="headerlink" title="3) 多对多：使用&lt;resultMap&gt; + &lt;collection&gt;做配置"></a>3) 多对多：使用&lt;resultMap&gt; + &lt;collection&gt;做配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userRoleMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- user的信息 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;userId&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;phoneNum&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;birthday&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;birthday&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- user内部的roleList的信息 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roles&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;role&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleId&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleName&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roleName&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;roleDesc&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;roleDesc&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findUserAndRole&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;userRoleMap&quot;</span>&gt;</span><br>    select * from sys_user u, sys_user_role ur, sys_role r where u.id = ur.userId and ur.roleId = r.id<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 多表联合查询：多对多  三表</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test11</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    List&lt;User&gt; userList = userMapper.findUserAndRole();<br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>        System.out.println(<span class="hljs-string">&quot;user = &quot;</span> + user);<br>    &#125;<br><br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="10-MyBatis的注解开发"><a href="#10-MyBatis的注解开发" class="headerlink" title="10. MyBatis的注解开发"></a>10. MyBatis的注解开发</h3><h4 id="1-常用注解"><a href="#1-常用注解" class="headerlink" title="1) 常用注解"></a>1) 常用注解</h4><ul><li>@Insert：实现新增</li><li>@Update：实现更新</li><li>@Delete：实现删除</li><li>@Select：实现查询</li><li>@Result：实现结果集封装</li><li>@Results：可以与@Result一起使用，封装多个结果集</li><li>@One：实现一对一结果集封装</li><li>@Many：实现一对多结果集封装</li></ul><h4 id="2-MyBatis的增删改查"><a href="#2-MyBatis的增删改查" class="headerlink" title="2) MyBatis的增删改查"></a>2) MyBatis的增删改查</h4><p>修改MyBatis的核心配置文件，我们使用了注解替代的映射文件，所以我们只需要加载使用了注解的Mapper接口即可</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  加载映射文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/shubao/mapper/UserMapper.xml&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/shubao/mapper/OrderMapper.xml&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>或者指定扫描包含映射关系的接口所在的包也可以</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--加载映射关系--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--指定接口所在的包--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.mapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Insert(&quot;insert into sys_user values(#&#123;id&#125;, #&#123;username&#125;, #&#123;email&#125;, #&#123;password&#125;, #&#123;phoneNum&#125;, #&#123;birthday&#125;)&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">(User user)</span>;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from sys_user&quot;)</span><br>List&lt;User&gt; <span class="hljs-title function_">findAllForMybatis</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException;<br><br><span class="hljs-meta">@Select(&quot;select * from sys_user where id = #&#123;id&#125;&quot;)</span><br>User <span class="hljs-title function_">findOneForMybatis</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> <span class="hljs-keyword">throws</span> IOException;<br><br><span class="hljs-meta">@Select(&quot;select * from sys_order where uid = #&#123;uid&#125;&quot;)</span><br><span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">findByUid</span><span class="hljs-params">(<span class="hljs-type">int</span> uid)</span>;<br></code></pre></td></tr></table></figure><h4 id="3-MyBatis的注解实现复杂映射开发"><a href="#3-MyBatis的注解实现复杂映射开发" class="headerlink" title="3) MyBatis的注解实现复杂映射开发"></a>3) MyBatis的注解实现复杂映射开发</h4><p>实现复杂关系映射之前我们可以在映射文件中通过配置&lt;resultMap&gt;来实现，使用注解开发后，可以使用@Results注解，@Result注解，@One注解，@Many注解组合完成复杂关系的配置</p><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@Results</td><td>代替的是标签<resultMap>。该注解中可以使用单个@Result注解，也可以使用@Result集合。使用格式：@Results({@Result(), @Result()})或@Results(@Result())</td></tr><tr><td>@Result</td><td>代替了<id>标签和<result>标签<br>@Result中属性介绍：<br>column：数据库的列名<br>property：需要装配的属性名<br>one：需要使用的@One注解（@Result(one&#x3D;@One())）<br>many：需要使用的@Many注解（@Result(many&#x3D;@many())）</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from sys_user&quot;)</span><br><span class="hljs-meta">@Results(&#123;</span><br><span class="hljs-meta">    @Result(id = true, column = &quot;id&quot;, property = &quot;id&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;username&quot;, property = &quot;username&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;email&quot;, property = &quot;email&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;password&quot;, property = &quot;password&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;phoneNum&quot;, property = &quot;phoneNum&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;birthday&quot;, property = &quot;birthday&quot;),</span><br><span class="hljs-meta">    @Result(</span><br><span class="hljs-meta">        property = &quot;orderList&quot;,</span><br><span class="hljs-meta">        column = &quot;id&quot;,</span><br><span class="hljs-meta">        javaType = List.class,</span><br><span class="hljs-meta">        many = @Many(select = &quot;com.shubao.mapper.OrderMapper.findByUid&quot;)</span><br><span class="hljs-meta">    )</span><br><span class="hljs-meta">&#125;)</span><br><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">findUserAndOrderAll</span><span class="hljs-params">()</span>;<br><br><br><span class="hljs-meta">@Select(&quot;SELECT * FROM sys_user&quot;)</span><br><span class="hljs-meta">@Results(&#123;</span><br><span class="hljs-meta">    @Result(id = true, column = &quot;id&quot;, property = &quot;id&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;username&quot;, property = &quot;username&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;email&quot;, property = &quot;email&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;password&quot;, property = &quot;password&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;phoneNum&quot;, property = &quot;phoneNum&quot;),</span><br><span class="hljs-meta">    @Result(column = &quot;birthday&quot;, property = &quot;birthday&quot;),</span><br><span class="hljs-meta">    @Result(</span><br><span class="hljs-meta">        property = &quot;roles&quot;,</span><br><span class="hljs-meta">        column = &quot;id&quot;,</span><br><span class="hljs-meta">        javaType = List.class,</span><br><span class="hljs-meta">        many = @Many(select = &quot;com.shubao.mapper.RoleMapper.findByUid&quot;)</span><br><span class="hljs-meta">    )</span><br><span class="hljs-meta">&#125;)</span><br><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">findUserAndRoleAll</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//    @Select(&quot;select *, o.id oid from sys_order o, sys_user u where o.uid = u.id&quot;)</span><br><span class="hljs-comment">//    @Results(&#123;</span><br><span class="hljs-comment">//            @Result(column = &quot;oid&quot;, property = &quot;id&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;ordertime&quot;, property = &quot;ordertime&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;total&quot;, property = &quot;total&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;uid&quot;, property = &quot;user.id&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;username&quot;, property = &quot;user.username&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;email&quot;, property = &quot;user.email&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;password&quot;, property = &quot;user.password&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;phoneNum&quot;, property = &quot;user.phoneNum&quot;),</span><br><span class="hljs-comment">//            @Result(column = &quot;birthday&quot;, property = &quot;user.birthday&quot;)</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    &#125;)</span><br><span class="hljs-comment">//    public List&lt;Order&gt; findAll();</span><br><br>    <span class="hljs-meta">@Select(&quot;select * from sys_order o, sys_user u where o.uid = u.id&quot;)</span><br>    <span class="hljs-meta">@Results(&#123;</span><br><span class="hljs-meta">            @Result(column = &quot;oid&quot;, property = &quot;id&quot;),</span><br><span class="hljs-meta">            @Result(column = &quot;ordertime&quot;, property = &quot;ordertime&quot;),</span><br><span class="hljs-meta">            @Result(column = &quot;total&quot;, property = &quot;total&quot;),</span><br><span class="hljs-meta">            @Result(</span><br><span class="hljs-meta">                    property = &quot;user&quot;,  //要封装的属性名</span><br><span class="hljs-meta">                    column = &quot;uid&quot;,  //根据哪个字段查询user表的数据</span><br><span class="hljs-meta">                    javaType = User.class,  //要封装的实体类型</span><br><span class="hljs-meta">                    //select属性，代表查询哪个接口的方法获得数据</span><br><span class="hljs-meta">                    one = @One(select = &quot;com.shubao.mapper.UserMapper.findOneForMybatis&quot;)</span><br><span class="hljs-meta">            )</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">    &#125;)</span><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">findAll</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td>@One(一对一)</td><td>代替了标签，是多表查询的关键，在注解中用来指定子查询返回单一对象。<br>@One注解属性介绍： <br/>select: 指定用来多表查询的 sqlmapper<br/>使用格式：@Result(column&#x3D;” “,property&#x3D;””,one&#x3D;@One(select&#x3D;””))</td></tr><tr><td>@Many(多对多)</td><td>代替了标签, 是多表查询的关键，在注解中用来指定子查询返回对象集合。 <br/>使用格式：@Result(property&#x3D;””,column&#x3D;””,many&#x3D;@Many(select&#x3D;””))</td></tr></tbody></table><h2 id="十七、SSM框架整合"><a href="#十七、SSM框架整合" class="headerlink" title="十七、SSM框架整合"></a>十七、SSM框架整合</h2><h3 id="1-整合思路"><a href="#1-整合思路" class="headerlink" title="1. 整合思路"></a>1. 整合思路</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 查询操作</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//获取核心配置文件</span><br>    <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.xml&quot;</span>);<br>    <span class="hljs-comment">//获得session工厂对象</span><br>    <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(resourceAsStream);<br>    <span class="hljs-comment">//获得session会话对象</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br>    <span class="hljs-comment">//执行操作，参数：namespace + id</span><br>    List&lt;User&gt; userList = sqlSession.selectList(<span class="hljs-string">&quot;userMapper.findAllForMybatis&quot;</span>);<br>    <span class="hljs-comment">//打印数据</span><br>    System.out.println(<span class="hljs-string">&quot;userList = &quot;</span> + userList);<br>    <span class="hljs-comment">//释放资源</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>将Session工厂交给Spring容器管理，从容器中获得执行操作的Mapper实例即可</li><li>将事务的控制权交给Spring容器进行声明式事务控制</li></ul><h4 id="1-将SqlSessionFactory配置到Spring容器中"><a href="#1-将SqlSessionFactory配置到Spring容器中" class="headerlink" title="(1) 将SqlSessionFactory配置到Spring容器中"></a>(1) 将SqlSessionFactory配置到Spring容器中</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  1.加载外部的properties文件  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--  2.配置数据源bean  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--配置MyBatis的SqlSessionFactory--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--加载MyBatis核心配置你文件--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis.xml&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-扫描Mapper，让Spring容器产生Mapper实现类-applicationContext-xml"><a href="#2-扫描Mapper，让Spring容器产生Mapper实现类-applicationContext-xml" class="headerlink" title="(2) 扫描Mapper，让Spring容器产生Mapper实现类(applicationContext.xml)"></a>(2) 扫描Mapper，让Spring容器产生Mapper实现类(applicationContext.xml)</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--扫描mapper所在的包，为mapper创建实现类--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.shubao.mapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-配置声明式事务控制"><a href="#3-配置声明式事务控制" class="headerlink" title="(3) 配置声明式事务控制"></a>(3) 配置声明式事务控制</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  Spring声明式事务管理  --&gt;</span><br>    <span class="hljs-comment">&lt;!--  目标对象、内部的方式就是切点(bean注入见applicationContext-service.xml)  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;bean id=&quot;accountService&quot; class=&quot;com.shubao.service.impl.AccountServiceImpl&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;property name=&quot;accountDao&quot; ref=&quot;accountDao&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/bean&gt;--&gt;</span><br><br><span class="hljs-comment">&lt;!--  配置平台事务管理器  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  通知 事务的增强  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;transfer&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;save&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;false&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;find&quot;</span> <span class="hljs-attr">isolation</span>=<span class="hljs-string">&quot;REPEATABLE_READ&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;tx:method name=&quot;*&quot; /&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  配置事务的aop的织入  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.shubao.service.impl.*.*(..))&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--  事务的注解驱动  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-完整配置"><a href="#2-完整配置" class="headerlink" title="2. 完整配置"></a>2. 完整配置</h3><blockquote><p><a href="https://github.com/Chris-z-su/spring">https://github.com/Chris-z-su/spring</a></p></blockquote><p>applicationContex.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/tx&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       &quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  注入方式采用注解的方式  --&gt;</span><br>    <span class="hljs-comment">&lt;!--  引入service配置文件  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;import resource=&quot;applicationContext-user-service.xml&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--  引入dao配置文件  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;import resource=&quot;applicationContext-user-dao.xml&quot; /&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  配置组件扫描  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;context:component-scan base-package=&quot;com.shubao.service,com.shubao.dao&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;context:component-scan base-package=&quot;com.shubao&quot; /&gt;--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.shubao&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 排除controller的扫描：因为controller会被SpringMVC管理，被SpringMVC扫描 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">context:exclude-filter</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;annotation&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;org.springframework.stereotype.Controller&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  1.加载外部的properties文件  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  2.配置数据源bean  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  3.jdbc模板对象  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  Spring声明式事务管理  --&gt;</span><br>    <span class="hljs-comment">&lt;!--  目标对象、内部的方式就是切点(bean注入见applicationContext-service.xml)  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;bean id=&quot;accountService&quot; class=&quot;com.shubao.service.impl.AccountServiceImpl&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;property name=&quot;accountDao&quot; ref=&quot;accountDao&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/bean&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  配置平台事务管理器  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  通知 事务的增强  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;tx:attributes&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--            &lt;tx:method name=&quot;transfer&quot; isolation=&quot;REPEATABLE_READ&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;false&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--            &lt;tx:method name=&quot;save&quot; isolation=&quot;REPEATABLE_READ&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;false&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--            &lt;tx:method name=&quot;find&quot; isolation=&quot;REPEATABLE_READ&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;true&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--            &amp;lt;!&amp;ndash;&lt;tx:method name=&quot;*&quot; /&gt;&amp;ndash;&amp;gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;/tx:attributes&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/tx:advice&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  配置事务的aop的织入  --&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;aop:config&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;aop:pointcut id=&quot;txPointcut&quot; expression=&quot;execution(* com.shubao.service.impl.*.*(..))&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPointcut&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;/aop:config&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  事务的注解驱动  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--配置sessionFactory--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--加载MyBatis核心配置你文件--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis.xml&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--扫描mapper所在的包，为mapper创建实现类--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.shubao.mapper&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>mybatis.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span> <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  通过properties标签加载外部properties文件  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;properties resource=&quot;jdbc.properties&quot; /&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  自定义别名  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.User&quot; alias=&quot;user&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Order&quot; alias=&quot;order&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Role&quot; alias=&quot;role&quot; /&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--        &lt;typeAlias type=&quot;com.shubao.domain.Account&quot; alias=&quot;account&quot; /&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--    扫描domain下所有实体类    --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.domain&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  注册自定义类型处理器  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;typeHandlers&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;typeHandler handler=&quot;com.shubao.handler.DateTypeHandler&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/typeHandlers&gt;--&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--  配置分页插件助手  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageHelper&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 指定方言 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dialect&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mysql&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  数据源环境  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;environments default=&quot;developement&quot;&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;environment id=&quot;developement&quot;&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;transactionManager type=&quot;JDBC&quot; /&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;dataSource type=&quot;POOLED&quot;&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt;--&gt;</span><br>                <span class="hljs-comment">&lt;!--&lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt;--&gt;</span><br>            <span class="hljs-comment">&lt;!--&lt;/dataSource&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;/environment&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/environments&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--  加载映射文件  --&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;mappers&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;mapper resource=&quot;com/shubao/mapper/UserMapper.xml&quot; /&gt;--&gt;</span><br>        <span class="hljs-comment">&lt;!--&lt;mapper resource=&quot;com/shubao/mapper/OrderMapper.xml&quot; /&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;/mappers&gt;--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--加载映射关系--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--指定接口所在的包--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.shubao.mapper&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd &quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.4&quot;</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>Archetype Created Web Application<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- 全局初始化参数 --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- 配置监听器 --&gt;</span><br>  <span class="hljs-comment">&lt;!-- 自定义监听器 --&gt;</span><br><span class="hljs-comment">&lt;!--  &lt;listener&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--    &lt;listener-class&gt;com.shubao.listener.ContextLoaderListener&lt;/listener-class&gt;--&gt;</span><br><span class="hljs-comment">&lt;!--  &lt;/listener&gt;--&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- 导入spring-web的监听器 --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- 配置普通的servlet --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>userServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.shubao.web.UserServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- 配置Spring MVC的前端控制器 --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--配置全局过滤器filter--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>userServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/userServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><p>jdbc.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-comment">#jdbc.url=jdbc:mysql://localhost:3306/wollo</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/wollo?characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">1106135</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Spring</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>框架</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux环境下weblogic的安装与配置</title>
    <link href="/2021/08/11/linux/Linux%E7%8E%AF%E5%A2%83%E4%B8%8Bweblogic%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/08/11/linux/Linux%E7%8E%AF%E5%A2%83%E4%B8%8Bweblogic%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong><strong>版本：</strong></strong></p><blockquote><p>Java：jdk1.8.0_291<br>weblogic：Oracle WebLogic Server 12.2.1.4(fmw_12.2.1.4.0_wls)</p></blockquote><p><strong><strong>下载地址：</strong></strong><br>jdk:</p><blockquote><p><a href="https://www.oracle.com/java/technologies/java-se-glance.htm">https://www.oracle.com/java/technologies/java-se-glance.htm</a></p></blockquote><p>weblogic:</p><blockquote><p><a href="https://www.oracle.com/middleware/technologies/weblogic-server-downloads.htm">https://www.oracle.com/middleware/technologies/weblogic-server-downloads.htm</a></p></blockquote><p>相关资料：</p><blockquote><p>「weblogic」<a href="https://www.aliyundrive.com/s/HQx6SURUaoa">https://www.aliyundrive.com/s/HQx6SURUaoa</a> 提取码: 0x8p<br>点击链接保存，或者复制本段内容，打开「阿里云盘」APP ，无需下载极速在线查看，视频原画倍速播放。</p></blockquote><h1 id="一、安装jdk"><a href="#一、安装jdk" class="headerlink" title="一、安装jdk"></a>一、安装jdk</h1><h2 id="1-上传jdk到任意目录下"><a href="#1-上传jdk到任意目录下" class="headerlink" title="1) 上传jdk到任意目录下"></a>1) 上传jdk到任意目录下</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost wollo]<span class="hljs-comment"># pwd</span><br>/usr/local/wollo<br>[root@localhost wollo]<span class="hljs-comment"># ll</span><br>-rw-r--r--. 1 root root 144935989 7月  17 09:33 jdk-8u291-linux-x64.tar.gz<br>[root@localhost wollo]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><h2 id="2-解压"><a href="#2-解压" class="headerlink" title="2) 解压"></a>2) 解压</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost wollo]<span class="hljs-comment"># tar -xzvf jdk-8u291-linux-x64.tar.gz</span><br></code></pre></td></tr></table></figure><h2 id="3-移动安装目录"><a href="#3-移动安装目录" class="headerlink" title="3) 移动安装目录"></a>3) 移动安装目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost wollo]<span class="hljs-comment"># mv jdk1.8.0_291 /usr/local/</span><br></code></pre></td></tr></table></figure><h2 id="4-配置环境变量"><a href="#4-配置环境变量" class="headerlink" title="4) 配置环境变量"></a>4) 配置环境变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost wollo]<span class="hljs-comment"># vim /etc/profile</span><br><span class="hljs-comment">#export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL</span><br><span class="hljs-built_in">export</span> JAVA_HOME=/usr/local/jdk1.8.0_291<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$PATH</span><br><span class="hljs-built_in">export</span> CLASSPATH=.:<span class="hljs-variable">$JAVA_HOME</span>/lib/dt.jar:<span class="hljs-variable">$JAVA_HOME</span>/lib/tools.jar<br>[root@localhost wollo]<span class="hljs-comment"># source /etc/profile</span><br><br></code></pre></td></tr></table></figure><h2 id="5-查看Java版本，验证是否安装成功"><a href="#5-查看Java版本，验证是否安装成功" class="headerlink" title="5) 查看Java版本，验证是否安装成功"></a>5) 查看Java版本，验证是否安装成功</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost wollo]<span class="hljs-comment"># Java -version</span><br></code></pre></td></tr></table></figure><blockquote><p>附：查看jdk<br>1.whereis java<br>2.which java （java执行路径）</p></blockquote><p>附：我安装jdk1.6、jdk1.7后，使用Java -version命令，发现报错了：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs subunit">[root@10 jdk1.6]# java -version<br><span class="hljs-keyword">Error </span>occurred during initialization of VM<br>Unable to load native library: libnsl.so.1: cannot open shared object file: No such file or directory<br></code></pre></td></tr></table></figure><p>解决：<br>执行以下命令：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> libnsl<br></code></pre></td></tr></table></figure><p>参考：<a href="https://blog.csdn.net/star_star_91/article/details/109395530">https://blog.csdn.net/star_star_91/article/details/109395530</a></p><h1 id="二、安装weblogic"><a href="#二、安装weblogic" class="headerlink" title="二、安装weblogic"></a>二、安装weblogic</h1><h2 id="1-创建及配置用户信息"><a href="#1-创建及配置用户信息" class="headerlink" title="1.创建及配置用户信息"></a>1.创建及配置用户信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">1.创建用户目录<br>[root@192 ~]<span class="hljs-comment"># mkdir -p /home/weblogic</span><br><br>2.创建用户<br>[root@192 ~]<span class="hljs-comment"># groupadd weblogic</span><br><br>3.给目录home最大权限<br>[root@192 ~]<span class="hljs-comment"># chmod 777 /home</span><br><br>4.添加组<br>[root@192 ~]<span class="hljs-comment"># useradd -g weblogic -d /home/weblogic/ weblogic</span><br><br>5.设置密码<br>[root@192 ~]<span class="hljs-comment"># passwd weblogic  </span><br>用户名：weblogic  <br>密码：5E4TmUzv<br><br>6.赋权限<br>[root@192 ~]<span class="hljs-comment"># chown -R weblogic:weblogic /home</span><br><br>7.切换用户<br>[root@192 ~]<span class="hljs-comment"># su weblogic</span><br></code></pre></td></tr></table></figure><h2 id="2-准备"><a href="#2-准备" class="headerlink" title="2.准备"></a>2.准备</h2><h3 id="1）创建oraInventory目录"><a href="#1）创建oraInventory目录" class="headerlink" title="1）创建oraInventory目录"></a>1）创建oraInventory目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 /]<span class="hljs-comment"># mkdir /home/oraInventory</span><br></code></pre></td></tr></table></figure><h3 id="2-创建weblogic安装目录"><a href="#2-创建weblogic安装目录" class="headerlink" title="2) 创建weblogic安装目录"></a>2) 创建weblogic安装目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 /]<span class="hljs-comment"># mkdir /home/weblogic12</span><br></code></pre></td></tr></table></figure><h3 id="3）配置文件目录"><a href="#3）配置文件目录" class="headerlink" title="3）配置文件目录"></a>3）配置文件目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 /]<span class="hljs-comment"># mkdir /home/install</span><br>[weblogic@dcyscxcbap01 /]<span class="hljs-comment"># cd /home/install</span><br></code></pre></td></tr></table></figure><h4 id="a-上传fmw-12-2-1-4-0-wls-jar到install目录"><a href="#a-上传fmw-12-2-1-4-0-wls-jar到install目录" class="headerlink" title="a.  上传fmw_12.2.1.4.0_wls.jar到install目录"></a>a.  上传fmw_12.2.1.4.0_wls.jar到install目录</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 install]$ ll<br>总用量 846428<br>-rwxr-xr-x. 1 weblogic weblogic 866733871 7月  17 10:13 fmw_12.2.1.4.0_wls.jar<br>[weblogic@dcyscxcbap01 install]$<br></code></pre></td></tr></table></figure><h4 id="b-新建oraInst-loc文件"><a href="#b-新建oraInst-loc文件" class="headerlink" title="b.  新建oraInst.loc文件"></a>b.  新建oraInst.loc文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 install]$ vim oraInst.loc <br>inventory_loc=/home/oraInventory<br>inst_group=weblogic<br></code></pre></td></tr></table></figure><h4 id="c-新建wls12c-resp文件"><a href="#c-新建wls12c-resp文件" class="headerlink" title="c.  新建wls12c.resp文件"></a>c.  新建wls12c.resp文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 install]$ vim wls12c.resp<br><br>[ENGINE]<br><br><span class="hljs-comment">#DO NOT CHANGE THIS.</span><br>Response File Version=1.0.0.0.0<br><br>[GENERIC]<br><br><span class="hljs-comment">#Set this to true if you wish to skip software updates</span><br>DECLINE_AUTO_UPDATES=<span class="hljs-literal">true</span><br><br><span class="hljs-comment">#My Oracle Support User Name</span><br>MOS_USERNAME=<br><br><span class="hljs-comment">#My Oracle Support Password</span><br>MOS_PASSWORD=&lt;SECURE VALUE&gt;<br><br><span class="hljs-comment">#If the Software updates are already downloaded and available on your local system, then specify the path to the directory where these patches are available and set SPECIFY_DOWNLOAD_LOCATION to true</span><br>AUTO_UPDATES_LOCATION=<br><br><span class="hljs-comment">#Proxy Server Name to connect to My Oracle Support</span><br>SOFTWARE_UPDATES_PROXY_SERVER=<br><br><span class="hljs-comment">#Proxy Server Port</span><br>SOFTWARE_UPDATES_PROXY_PORT=<br><br><span class="hljs-comment">#Proxy Server Username</span><br>SOFTWARE_UPDATES_PROXY_USER=<br><br><span class="hljs-comment">#Proxy Server Password</span><br>SOFTWARE_UPDATES_PROXY_PASSWORD=&lt;SECURE VALUE&gt;<br><br><span class="hljs-comment">#The oracle home location. This can be an existing Oracle Home or a new Oracle Home</span><br>ORACLE_HOME=/home/weblogic12/wls_12c<br><br><span class="hljs-comment">#Set this variable value to the Installation Type selected. e.g. WebLogic Server, Coherence, Complete with Examples.</span><br>INSTALL_TYPE=WebLogic Server<br><br><span class="hljs-comment">#Provide the My Oracle Support Username. If you wish to ignore Oracle Configuration Manager configuration provide empty string for user name.</span><br>MYORACLESUPPORT_USERNAME=<br><br><span class="hljs-comment">#Provide the My Oracle Support Password</span><br>MYORACLESUPPORT_PASSWORD=&lt;SECURE VALUE&gt;<br><br><span class="hljs-comment">#Set this to true if you wish to decline the security updates. Setting this to true and providing empty string for My Oracle Support username will ignore the Oracle Configuration Manager configuration</span><br>DECLINE_SECURITY_UPDATES=<span class="hljs-literal">true</span><br><br><span class="hljs-comment">#Set this to true if My Oracle Support Password is specified</span><br>SECURITY_UPDATES_VIA_MYORACLESUPPORT=<span class="hljs-literal">false</span><br><br><span class="hljs-comment">#Provide the Proxy Host</span><br>PROXY_HOST=<br><br><span class="hljs-comment">#Provide the Proxy Port</span><br>PROXY_PORT=<br><br><span class="hljs-comment">#Provide the Proxy Username</span><br>PROXY_USER=<br><br><span class="hljs-comment">#Provide the Proxy Password</span><br>PROXY_PWD=&lt;SECURE VALUE&gt;<br><br><span class="hljs-comment">#Type String (URL format) Indicates the OCM Repeater URL which should be of the format [scheme[Http/Https]]://[repeater host]:[repeater port]</span><br>COLLECTOR_SUPPORTHUB_URL=<br><br></code></pre></td></tr></table></figure><h2 id="3-安装"><a href="#3-安装" class="headerlink" title="3.安装"></a>3.安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 install]$ ll<br>总用量 846428<br>-rwxr-xr-x. 1 weblogic weblogic 866733871 7月  17 10:13 fmw_12.2.1.4.0_wls.jar<br>-rwxr-xr-x. 1 weblogic weblogic        62 7月  17 10:15 oraInst.loc<br>-rwxr-xr-x. 1 weblogic weblogic      1928 7月  17 16:24 wls12c.resp<br>[weblogic@dcyscxcbap01 install]$ java -jar fmw_12.2.1.4.0_wls.jar -silent -responseFile /home/install/wls12c.resp -invPtrLoc /home/install/oraInst.loc<br>启动程序日志文件为/tmp/OraInstall2021-07-17_04-38-00PM/launcher2021-07-17_04-38-00PM.<span class="hljs-built_in">log</span>。<br>正在提取安装程序... . . . 完成<br>检查 CPU 速度是否大于 300 MHz。   实际为 2419.200 MHz    通过<br>检查交换空间: 必须大于 512 MB。   实际为 1639 MB    通过<br>检查此平台是否需要 64 位 JVM。   实际为64    通过 (不需要 64 位)<br>检查临时空间: 必须大于 300 MB。   实际为 3437 MB    通过<br>准备从/tmp/OraInstall2021-07-17_04-38-00PM启动 Oracle Universal Installer<br>日志:/tmp/OraInstall2021-07-17_04-38-00PM/install2021-07-17_04-38-00PM.<span class="hljs-built_in">log</span><br>版权所有 (c) 1996, 2019, Oracle 和/或其关联公司。保留所有权利。<br>正在读取响应文件...<br>跳过软件更新<br>开始检查: CertifiedVersions<br>预期的结果: oracle-6, oracle-7, redhat-7, redhat-6, SuSE-11, SuSE-12, SuSE-15之一<br>实际结果: redhat-null<br>检查完成。此次检查的总体结果为: 通过<br>CertifiedVersions 检查: 成功。<br><br><br>开始检查: CheckJDKVersion<br>预期的结果: 1.8.0_191<br>实际结果: 1.8.0_291<br>检查完成。此次检查的总体结果为: 通过<br>CheckJDKVersion 检查: 成功。<br><br><br>已启用此会话的验证。<br>正在验证数据<br>复制文件<br>完成百分比: 10<br>完成百分比: 20<br>完成百分比: 30<br>完成百分比: 40<br>完成百分比: 50<br>完成百分比: 60<br>完成百分比: 70<br>完成百分比: 80<br>完成百分比: 90<br>完成百分比: 100<br><br>Oracle Fusion Middleware 12c WebLogic Server 和 Coherence 12.2.1.4.0 的 安装 已成功完成。<br>日志已成功复制到/home/oraInventory/logs。<br>[weblogic@dcyscxcbap01 install]$ <br></code></pre></td></tr></table></figure><h1 id="三、weblogic域安装与配置："><a href="#三、weblogic域安装与配置：" class="headerlink" title="三、weblogic域安装与配置："></a>三、weblogic域安装与配置：</h1><blockquote><p><a href="https://chris-z-su.github.io/2021/08/03/Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84weblogic%E5%9F%9F%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/">Linux环境下的weblogic域的创建与配置</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>weblogic</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>中间件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux环境配置PHP</title>
    <link href="/2021/08/11/linux/Linux%E9%85%8D%E7%BD%AEPHP/"/>
    <url>/2021/08/11/linux/Linux%E9%85%8D%E7%BD%AEPHP/</url>
    
    <content type="html"><![CDATA[<h1 id="Linux环境配置PHP"><a href="#Linux环境配置PHP" class="headerlink" title="Linux环境配置PHP"></a>Linux环境配置PHP</h1><blockquote><p><a href="https://gitee.com/Discuz/DiscuzX">https://gitee.com/Discuz/DiscuzX</a></p></blockquote><h2 id="一、yum方式"><a href="#一、yum方式" class="headerlink" title="一、yum方式"></a>一、yum方式</h2><blockquote><p><a href="https://blog.csdn.net/m0_67428420/article/details/124920101">https://blog.csdn.net/m0_67428420/article/details/124920101</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install -y php<br>cd /var/www/html/    # 进入目录<br>tounch index.php     # 创建一个PHP页面<br>vim index.php         # 编辑输入内容<br>&lt;?php<br>phpinfo();<br>?&gt;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">这里我们使用了 phpinfo() 函数，这个函数的主要作用是显示 PHP 的相关信息，这些信息包括 PHP 的编译信息、PHP 的版本、服务器信息和环境、PHP 的环境、操作系统信息、路径、主要的配置选项、HTTP 头信息和 PHP 的许可等。我们一般使用这个函数来测试 PHP 是否安装成功，接下来在浏览器中输入“http://服务器IP/index.php”来执行该文件，如图1 所示。</span><br><br>systemctl restart httpd  # 重启服务<br>systemctl start httpd<br>systemctl stop httpd<br><br>[root@localhost php-5.4.25]# /usr/local/apache2/bin/apachectl stop<br>[root@localhost php-5.4.25]# /usr/local/apache2/bin/apachectl start<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">这里最好不要使用 restart 参数，因为对于源码包的 apache 启动命令，restart 参数有时会不起作用。</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">访问：http://192.168.56.103/</span><br><br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220627094052870.png" alt="image-20220627094052870"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">关于Linux查找文件参考：https://blog.csdn.net/xxmonstor/article/details/80507769</span><br>[root@10 html]# find / -name php  # 根据文件名查找文件<br>find: ‘/proc/133668’: 没有那个文件或目录<br>find: ‘/proc/133712’: 没有那个文件或目录<br>find: ‘/proc/133717’: 没有那个文件或目录<br>/var/lib/php<br>/usr/bin/php<br>/usr/lib64/php<br>/usr/share/php<br><br>[root@10 html]# php -v<br>PHP 7.2.24 (cli) (built: Oct 22 2019 08:28:36) ( NTS )<br>Copyright (c) 1997-2018 The PHP Group<br>Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies<br><br><br></code></pre></td></tr></table></figure><h2 id="二、其他方式"><a href="#二、其他方式" class="headerlink" title="二、其他方式"></a>二、其他方式</h2><blockquote><p><a href="http://c.biancheng.net/view/1128.html">http://c.biancheng.net/view/1128.html</a></p></blockquote><h2 id="三、卸载PHP"><a href="#三、卸载PHP" class="headerlink" title="三、卸载PHP"></a>三、卸载PHP</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs shell">参考：https://www.php.cn/php-ask-455491.html<br><br>[root@10 ~]# rpm -qa|grep php<br>php-common-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-fpm-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-cli-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>[root@10 ~]# <br><br>[root@10 ~]# rpm -qa|grep php<br>php-xml-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-common-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-fpm-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-cli-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>php-pdo-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64<br>[root@10 ~]# <br><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">卸载命令</span><br>1. pdo是mysql的依赖项；common是gd的依赖项；<br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-pdo-5.1.6-27.el5_5.3</span><br>error: Failed dependencies:<br>php-pdo is needed by (installed) php-mysql-5.1.6-27.el5_5.3.i386<br><br>2. 正确的卸载顺序：<br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-mysql-5.1.6-27.el5_5.3</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-pdo-5.1.6-27.el5_5.3</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-xml-5.1.6-27.el5_5.3</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-cli-5.1.6-27.el5_5.3</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-gd-5.1.6-27.el5_5.3</span> <br><span class="hljs-meta prompt_"># </span><span class="language-bash">rpm -e php-common-5.1.6-27.el5_5.3</span><br><br>3. 最后查看有没有完全卸载即可<br><span class="hljs-meta prompt_"># </span><span class="language-bash">php -v</span><br><br></code></pre></td></tr></table></figure><h2 id="四、安装依赖"><a href="#四、安装依赖" class="headerlink" title="四、安装依赖"></a>四、安装依赖</h2><p><img src="/../images/image-20220627101026209.png" alt="image-20220627101026209"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs shell">参考：https://cloud.tencent.com/developer/article/1897918?from=15425<br>[root@10 ~]# yum install php-xml<br><br>[root@10 ~]# yum install php-mysql<br>上次元数据过期检查：0:34:54 前，执行于 2022年06月27日 星期一 09时37分21秒。<br>未找到匹配的参数: php-mysql<br>错误：没有任何匹配: php-mysql<br><br>[root@10 ~]# yum install php-mysqli<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">配置php-mysql依赖</span><br>参考：https://jingyan.baidu.com/article/870c6fc3304c8ab03fe4bec2.html<br>extension=php_curl.dll<br>extension=php_gd2.dll<br>extension=php_mbstring.dll<br>extension=php_exif.dll<br>extension=php_mysql.dll<br>extension=php_mysqli.dll<br>extension=php_pdo_mysql.dll<br><br><br>extension=php_curl.dll<br>extension=pdo_mysql.dll<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">https://blog.csdn.net/weixin_29818013/article/details/113900459</span><br>php.ini中，也只有extension=php_mysqli.dll，而不再有extension=php_mysql.dll这个拓展了。<br><br>extension=php_mysql.dll<br>extension=php_mysqli.dll<br><br></code></pre></td></tr></table></figure><h2 id="五、PHP安装路径"><a href="#五、PHP安装路径" class="headerlink" title="五、PHP安装路径"></a>五、PHP安装路径</h2><h2 id="php"><a href="#php" class="headerlink" title="php:"></a>php:</h2><p>如果采用RPM包安装，安装路径应在 &#x2F;etc&#x2F;目录下</p><p>php的配置文件:&#x2F;etc&#x2F;php.ini</p><p>如果采用源代码安装，一般默认安装在&#x2F;usr&#x2F;local&#x2F;lib目录下</p><p>php配置文件: &#x2F;usr&#x2F;local&#x2F;lib&#x2F;php.ini</p><p>或&#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php.ini</p><p>作者：Sugar_ping<br>链接：<a href="https://www.jianshu.com/p/929254f885ea">https://www.jianshu.com/p/929254f885ea</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs shell">[root@10 ~]# yum install php-mysqli<br>上次元数据过期检查：1:14:51 前，执行于 2022年06月27日 星期一 09时37分21秒。<br>依赖关系解决。<br>======================================================================================================================================<br> 软件包                     架构                  版本                                                 仓库                      大小<br>======================================================================================================================================<br>安装:<br> php-mysqlnd                x86_64                7.2.24-1.module_el8.2.0+313+b04d0a66                 appstream                190 k<br>安装依赖关系:<br> php-pdo                    x86_64                7.2.24-1.module_el8.2.0+313+b04d0a66                 appstream                122 k<br><br>事务概要<br>======================================================================================================================================<br>安装  2 软件包<br><br>总下载：313 k<br>安装大小：647 k<br>确定吗？[y/N]： y<br>下载软件包：<br>(1/2): php-pdo-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64.rpm                                         22 kB/s | 122 kB     00:05    <br>(2/2): php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64.rpm                                     32 kB/s | 190 kB     00:05    <br>--------------------------------------------------------------------------------------------------------------------------------------<br>总计                                                                                                   27 kB/s | 313 kB     00:11     <br>运行事务检查<br>事务检查成功。<br>运行事务测试<br>事务测试成功。<br>运行事务<br>  准备中  :                                                                                                                       1/1 <br>  安装    : php-pdo-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64                                                                   1/2 <br>  安装    : php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64                                                               2/2 <br>  运行脚本: php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64                                                               2/2 <br>  验证    : php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64                                                               1/2 <br>  验证    : php-pdo-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64                                                                   2/2 <br><br>已安装:<br>  php-mysqlnd-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64             php-pdo-7.2.24-1.module_el8.2.0+313+b04d0a66.x86_64            <br><br>完毕！<br>[root@10 ~]# <br></code></pre></td></tr></table></figure><h3 id="memcached安装"><a href="#memcached安装" class="headerlink" title="memcached安装"></a>memcached安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install memcached<br>yum install php-memcached<br>yum apachectl graceful<br>    <br>yum install php7.2-memcache<br>yum install php7.2-memcached<br>    <br></code></pre></td></tr></table></figure><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><blockquote><p><a href="https://blog.csdn.net/weixin_33797791/article/details/85894991">https://blog.csdn.net/weixin_33797791/article/details/85894991</a></p></blockquote><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs stylus">故障现象：linux 安装discuz 错误提示:<span class="hljs-built_in">mysql_connect</span>() 不支持请检查mysql模块是否正确载入.<br><br>　　解决的方法：查看/usr/lib/php/modules/ (<span class="hljs-number">64</span>位的看/usr/lib64/php/modules/)里面根本没有mysql<span class="hljs-selector-class">.so</span><br><br>　　找到centos5.<span class="hljs-number">4</span>安装盘，放入光驱，然后找到CentOS文件夹下的<br><br>　　php-mysql-<span class="hljs-number">5.1</span>.<span class="hljs-number">6</span>-<span class="hljs-number">20</span><span class="hljs-selector-class">.el5</span><span class="hljs-selector-class">.i386</span><span class="hljs-selector-class">.rpm</span><br><br>　　php-pdo-<span class="hljs-number">5.1</span>.<span class="hljs-number">6</span>-<span class="hljs-number">20</span><span class="hljs-selector-class">.el5</span><span class="hljs-selector-class">.i386</span><span class="hljs-selector-class">.rpm</span><br><br>　　二个文件。然后通过FTP上传到server。<br><br>　　运行安装：<br><br>　　rpm -<span class="hljs-selector-tag">i</span> php-mysql-<span class="hljs-number">5.1</span>.<span class="hljs-number">6</span>-<span class="hljs-number">20</span><span class="hljs-selector-class">.el5</span><span class="hljs-selector-class">.i386</span><span class="hljs-selector-class">.rpm</span> <span class="hljs-attr">--nodeps</span><br><br>　　pm -<span class="hljs-selector-tag">i</span> php-pdo-<span class="hljs-number">5.1</span>.<span class="hljs-number">6</span>-<span class="hljs-number">20</span><span class="hljs-selector-class">.el5</span><span class="hljs-selector-class">.i386</span><span class="hljs-selector-class">.rpm</span> <span class="hljs-attr">--nodeps</span><br><br>　　再查看so文件：<br><br>　　ls /usr/lib/php/modules/<br><br>　　dbase<span class="hljs-selector-class">.so</span> ldap<span class="hljs-selector-class">.so</span> mysqli<span class="hljs-selector-class">.so</span> mysql<span class="hljs-selector-class">.so</span> pdo_mysql<span class="hljs-selector-class">.so</span> pdo<span class="hljs-selector-class">.so</span> pdo_sqlite<span class="hljs-selector-class">.so</span> phpcups<span class="hljs-selector-class">.so</span><br><br>　　mysql.so存在了。<br><br>　　然后配置<br><br>　　vi /etc/php.ini找到extension=msql.so，然后在它下方去掉前面分号然后加入例如以下：<br><br>　　extension=mysql<span class="hljs-selector-class">.so</span><br><br>　　extension=mysqli<span class="hljs-selector-class">.so</span><br><br>　　extension=pdo_MySQL<span class="hljs-selector-class">.so</span><br><br>　　保存，重新启动httpd<br><br>　　/etc/init.d/httpd restart<br><br>　　刷新网页，mysql已经能连上了。<br></code></pre></td></tr></table></figure><p>centos 8 仓库</p><blockquote><p><a href="http://rpms.remirepo.net/enterprise/8/">http://rpms.remirepo.net/enterprise/8/</a></p></blockquote><p><a href="https://blog.csdn.net/qq_59536202/article/details/125053130">https://blog.csdn.net/qq_59536202/article/details/125053130</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Linux</tag>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>简历介绍</title>
    <link href="/2021/08/11/study/%E7%AE%80%E5%8E%86%E4%BB%8B%E7%BB%8D/"/>
    <url>/2021/08/11/study/%E7%AE%80%E5%8E%86%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="技术相关："><a href="#技术相关：" class="headerlink" title="技术相关："></a>技术相关：</h2><ol><li>精通、熟悉java核心，多年一线开发经验，具备良好的编码能力，并熟练使用设计模式</li></ol><p>熟练掌握java相关知识，具备良好的面向对象的编程思想，对设计模式和设计原则有深入的理解</p><p>熟悉java核心的集合框架，对HashMap、concurrentHashMap和ArrayList等都有深入研究，研究过其底层源码</p><ol start="2"><li><p>熟悉JVM，JMM，GC算法，熟悉常见的垃圾回收器，熟悉JVM调优，并且参与过线上的实际调优工作</p></li><li><p>精通、熟悉java并发编程，对java的各种锁机制、synchronized、线程池机制、AQS都有深入理解，对操作系统的并发有深入研究，并在项目中熟练使用</p></li><li><p>精通、熟悉spring，springMVc，springboot，mybatis，mybatis-plus都有深入理解，多年实战经验，可以安装需求快速构建项目，并阅读过核心源码</p></li></ol><p>对bean的生命周期、循环依赖。。。源码有深入研究</p><p>IOC、aop、生命周期、循环依赖、声明式事务、传播特性、项目中aop的扩展点、九大组件源码、源码的扩展点、自动装配的原理、springboot启动流程、内嵌Tomcat原理、代理模式的应用、如何集成和扩展</p><ol start="5"><li>精通、熟悉springcloud alibaba，（nocas，sentinel，。。。。），对分布式微服务特点，旧服务改造，服务划分，服务治理，服务分层都有深入理解，有线上项目经验</li></ol><p>dubbo eureka ribbon</p><p>跟实际的项目生产关联</p><ol start="6"><li>精通、熟悉SQL语言和MySQL调优，多年实战经验，对索引的优化及存储引擎有深入的研究，对MySQL的事务、锁有深入理解，对MySQL集群，主从复制，读写分离，分库分表都有实战经验，对MHA，MMM等高可用架构有实际的经验</li><li>精通、熟悉redis，了解底层磁盘及网络IO模型，数据持久化机制，多数据类型缓存应用，高可用机制以及分布式集群实现，主从复制、哨兵机制，分片集群</li><li>精通、熟悉kafka，看过核心源码，了解数据刷盘机制，集群分片化机制，在高吞吐量情况下消息不丢和重复消费以及消息投递一致性问题，有实际的项目经验</li></ol><p>rocketMQ，rabbitMQ，不建议写activeMQ，建议写kafka和rocketMQ</p><ol start="9"><li>精通、熟悉zookeeper底层实现原理，了解paxos，zab算法，对CAP定理有深入理解，选举机制，zookeeper实现分布式锁</li><li>熟悉大型网站高并发设计方案，对Nginx，IVS，keepalived，cdn等都有深入的理解，参与过高并发、高可用、高吞吐、高性能的架构设计方案</li></ol><h2 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h2><p><img src="/../../images/Snipaste_2022-06-23_10-33-11.png"></p><h2 id="陈述项目"><a href="#陈述项目" class="headerlink" title="陈述项目"></a>陈述项目</h2><p><img src="/../../images/Snipaste_2022-06-23_10-34-18.png"></p><h2 id="问面试官什么问题"><a href="#问面试官什么问题" class="headerlink" title="问面试官什么问题"></a>问面试官什么问题</h2><p><img src="/../../images/Snipaste_2022-06-23_10-38-18.png"></p>]]></content>
    
    
    <categories>
      
      <category>简历</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux环境下的weblogic域的创建与配置</title>
    <link href="/2021/08/03/linux/Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84weblogic%E5%9F%9F%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/08/03/linux/Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84weblogic%E5%9F%9F%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="weblogic创建新域"><a href="#weblogic创建新域" class="headerlink" title="weblogic创建新域"></a>weblogic创建新域</h2><p><strong><strong>版本：</strong></strong></p><blockquote><p>Java：jdk1.8.0_291<br>weblogic：Oracle WebLogic Server 12.2.1.4(fmw_12.2.1.4.0_wls)</p></blockquote><p><em>说明：这只是weblogic创建域的一种方式，还可以使用py脚本或者其他脚本执行去创建。这是我创建成功的示例。</em></p><p><em>关于weblogic安装参考</em>：<a href="https://chris-z-su.github.io/2021/08/11/Linux%E7%8E%AF%E5%A2%83%E4%B8%8Bweblogic%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/">Linux环境下weblogic的安装与配置</a></p><h2 id="一、查看weblogic环境变量"><a href="#一、查看weblogic环境变量" class="headerlink" title="一、查看weblogic环境变量"></a>一、查看weblogic环境变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 bin]$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$MW_HOME</span><br>/home/weblogic12/wls_12c<br></code></pre></td></tr></table></figure><p>注意：这里如果查看的是空，是可以的，因为我们还没有配置weblogic环境。配置完成后，再查看一次，如果有表示配置成功。<br>一定要确认好，我配置的时候环境上有两个版本的weblogic，导致有的时候查看的不一样。修改还是不起作用，以后再研究研究。</p><p>1.在（~）路径下设置环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 ~]$ <span class="hljs-built_in">cat</span> ~/.bashrc <br><span class="hljs-comment"># .bashrc</span><br><br><span class="hljs-comment"># Source global definitions</span><br><span class="hljs-keyword">if</span> [ -f /etc/bashrc ]; <span class="hljs-keyword">then</span><br>. /etc/bashrc<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># User specific aliases and functions</span><br>[weblogic@dcyscxcbap01 ~]$ <br></code></pre></td></tr></table></figure><p>2.设置完执行  source ~&#x2F;.bashrc<br>注意：<br>①保存的时候提示：<br>“.bashrc” E212: 无法打开并写入文件<br>解决：需要切换到root用户进行配置:<br><strong>su root</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@localhost ~]$ vim ~/.bashrc<br><span class="hljs-comment"># .bashrc</span><br><br><span class="hljs-comment"># Source global definitions</span><br><span class="hljs-keyword">if</span> [ -f /etc/bashrc ]; <span class="hljs-keyword">then</span><br>. /etc/bashrc<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># User specific aliases and functions</span><br><span class="hljs-built_in">export</span> MW_HOME=<span class="hljs-string">&quot;/home/weblogic12/wls_12c&quot;</span><br><span class="hljs-built_in">export</span> WL_HOME=<span class="hljs-string">&quot;/home/weblogic12/wls_12c/oracle_common&quot;</span><br>[weblogic@localhost ~]$ <span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p>②配置完成后，注意切回weblogic用户：su weblogic<br>查看一下是否配置成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 bin]$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$MW_HOME</span><br>/home/weblogic12/wls_12c<br></code></pre></td></tr></table></figure><h2 id="二、创建自定义domain的文件夹路径"><a href="#二、创建自定义domain的文件夹路径" class="headerlink" title="二、创建自定义domain的文件夹路径"></a>二、创建自定义domain的文件夹路径</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@localhost ~]$ <span class="hljs-built_in">mkdir</span> -p /home/weblogic12/wls_12c/user_projects/domains/base_domain/<br></code></pre></td></tr></table></figure><p>进入weblogic中的common的bin目录下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 bin]$ <span class="hljs-built_in">pwd</span><br>/home/weblogic12/wls_12c/wlserver/common/bin<br></code></pre></td></tr></table></figure><h2 id="三、运行wlst-sh开始设置域"><a href="#三、运行wlst-sh开始设置域" class="headerlink" title="三、运行wlst.sh开始设置域"></a>三、运行wlst.sh开始设置域</h2><p>下边是设置过程</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 bin]$ ./wlst.sh <br>WARNING: This is a deprecated script. Please invoke the wlst.sh script under oracle_common/common/bin.<br><br>Initializing WebLogic Scripting Tool (WLST) ...<br><br>Welcome to WebLogic Server Administration Scripting Shell<br><br>Type <span class="hljs-built_in">help</span>() <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span> on available commands<br><br>wls:/offline&gt; readTemplate(<span class="hljs-string">&#x27;/home/weblogic12/wls_12c/wlserver/common/templates/wls/wls.jar&#x27;</span>)<br>警告: readTemplate 已过时。在 selectTemplate 后请使用 loadTemplates 以取代 readTemplate。<br>wls:/offline/base_domain&gt;<span class="hljs-built_in">cd</span>(<span class="hljs-string">&#x27;Servers/AdminServer&#x27;</span>)<br>wls:/offline/base_domain/Server/AdminServer&gt;<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;ListenAddress&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>)<br>wls:/offline/base_domain/Server/AdminServer&gt;<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;ListenPort&#x27;</span>, 7201)<br>wls:/offline/base_domain/Server/AdminServer&gt;<span class="hljs-built_in">cd</span>(<span class="hljs-string">&#x27;../..&#x27;</span>)<br>wls:/offline/base_domain&gt;<span class="hljs-built_in">cd</span>(<span class="hljs-string">&#x27;Security/base_domain/User/weblogic&#x27;</span>)<br>wls:/offline/base_domain/Security/base_domain/User/weblogic&gt;cmo.setPassword(<span class="hljs-string">&#x27;weblogic123&#x27;</span>)<br>wls:/offline/base_domain/Security/base_domain/User/weblogic&gt;setOption(<span class="hljs-string">&#x27;OverwriteDomain&#x27;</span>, <span class="hljs-string">&#x27;true&#x27;</span>)<br>wls:/offline/base_domain/Security/base_domain/User/weblogic&gt;writeDomain(<span class="hljs-string">&#x27;/home/weblogic12/wls_12c/user_projects/domains/base_domain&#x27;</span>)<br>wls:/offline/cpi_domain/Security/cpi_domain/User/weblogic&gt;closeTemplate()<br>wls:/offline&gt;<span class="hljs-built_in">exit</span>()<br><br><br>Exiting WebLogic Scripting Tool.<br>[weblogic@dcyscxcbap01 bin]$ <br><br><br></code></pre></td></tr></table></figure><p>说明：<br>1.只需要输入 wls:…&gt;后边的命令就行了<br>2.set(‘ListenAddress’,’’)<br>这个我默认为空，不设置也可以<br>3.set(‘ListenPort’, 7001)<br>welogic域监听的端口号，修改成自己想要设置的<br>4.cmo.setPassword(‘weblogic123’)<br>设置域的登录密码<br>5.writeDomain(‘&#x2F;home&#x2F;weblogic12&#x2F;wls_12c&#x2F;user_projects&#x2F;domains&#x2F;base_domain’)<br>设置上边新建的目录为新建域的工作目录<br>6.其他的基本是固定</p><h2 id="四、正常设置完后，可以去base-domain目录下查看，有很多文件，应该是设置成功了"><a href="#四、正常设置完后，可以去base-domain目录下查看，有很多文件，应该是设置成功了" class="headerlink" title="四、正常设置完后，可以去base_domain目录下查看，有很多文件，应该是设置成功了"></a>四、正常设置完后，可以去base_domain目录下查看，有很多文件，应该是设置成功了</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 bin]$ <span class="hljs-built_in">cd</span> /home/weblogic/wls_12c/user_projects/domains/base_domain/<br></code></pre></td></tr></table></figure><p><strong>启动</strong><br>方式一：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ sh startWebLogic.sh <br></code></pre></td></tr></table></figure><p>这样启动后，按ctrl + c , 服务就会停止</p><p>方式二(推荐)：<br>1.将启动日志写入到nohup.out文件中<br>nohup sh startWebLogic.sh &amp;</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ <span class="hljs-built_in">pwd</span><br>/home/weblogic12/wls_12c/user_projects/domains/base_domain<br>[weblogic@dcyscxcbap01 base_domain]$ <span class="hljs-built_in">nohup</span> sh startWebLogic.sh &amp;<br><br><br></code></pre></td></tr></table></figure><p>2.ctrl + c  退出，不会停止服务<br>查看nohup.out文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ <span class="hljs-built_in">tail</span> -1000f nohup.out<br></code></pre></td></tr></table></figure><h2 id="五、查看服务"><a href="#五、查看服务" class="headerlink" title="五、查看服务"></a>五、查看服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ ps -ef|grep java<br></code></pre></td></tr></table></figure><p>或者直接根据端口号查找</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ fuser -n tcp 7201<br>7201/tcp:             1380<br>[weblogic@dcyscxcbap01 base_domain]$<br></code></pre></td></tr></table></figure><h2 id="六、停止服务"><a href="#六、停止服务" class="headerlink" title="六、停止服务"></a>六、停止服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ <span class="hljs-built_in">kill</span> -9 4975 4976<br></code></pre></td></tr></table></figure><p>或者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[weblogic@dcyscxcbap01 base_domain]$ <span class="hljs-built_in">kill</span> -9 1380<br></code></pre></td></tr></table></figure><h2 id="七、weblogic域管理控制台地址"><a href="#七、weblogic域管理控制台地址" class="headerlink" title="七、weblogic域管理控制台地址"></a>七、weblogic域管理控制台地址</h2><p><a href="http://127.0.0.1:7001/console/">http://127.0.0.1:7001/console/</a><br>输入设置的用户名 weblogic 密码 weblogic123  即可。</p><p>完结！！！有需要再补充吧。</p>]]></content>
    
    
    <categories>
      
      <category>weblogic</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>中间件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java面试总结</title>
    <link href="/2021/03/21/java/Java%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/"/>
    <url>/2021/03/21/java/Java%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th>Java面试题及答案2019版（上）</th><th><a href="https://blog.csdn.net/qq_41701956/article/details/86686492">https://blog.csdn.net/qq_41701956/article/details/86686492</a></th><th><img src="/images/clip_image002.jpg" alt="二维码"></th></tr></thead><tbody><tr><td>Java面试题及答案2019版（下）</td><td><a href="https://blog.csdn.net/qq_41701956/article/details/86699263">https://blog.csdn.net/qq_41701956/article/details/86699263</a></td><td></td></tr></tbody></table><h1 id="一、Java基础"><a href="#一、Java基础" class="headerlink" title="一、Java基础"></a>一、Java基础</h1><h2 id="1-重写与重载之间的区别"><a href="#1-重写与重载之间的区别" class="headerlink" title="1. 重写与重载之间的区别"></a>1. 重写与重载之间的区别</h2><p><a href="https://www.runoob.com/java/java-override-overload.html">https://www.runoob.com/java/java-override-overload.html</a></p><p><img src="/../../images/clip_image004.jpg" alt="img"></p><p><img src="/../../images/clip_image006.jpg" alt="img"></p><p><img src="/../../images/clip_image008.jpg" alt="img"></p><h2 id="2-String、StringBuffer、StringBuilder区别"><a href="#2-String、StringBuffer、StringBuilder区别" class="headerlink" title="2. String、StringBuffer、StringBuilder区别"></a>2. String、StringBuffer、StringBuilder区别</h2><p>1）String是final修饰的，不可变的，StringBuffer、StringBuilder是可变的</p><p>2）StringBuffer是线程安全的，每个方法都有synchronized修饰</p><p>StringBuilder是线程不安全的</p><p>3)线程不安全性能更高，在开发中，优先采用StringBuilder</p><p>优先级：StringBuilder &gt; StringBuffer &gt; String</p><h2 id="3-Java的异常体系"><a href="#3-Java的异常体系" class="headerlink" title="3. Java的异常体系"></a>3. Java的异常体系</h2><p>java中的所有异常都来自顶级父类Throwable。</p><p>Throwable下有两个子类Exception和Error。</p><p>Error是程序无法处理的错误，一旦出现这个错误，则程序将被迫停止运行。</p><p>Exception不会导致程序停止，又分为两个部分RunTimeException运行时异常和CheckedException检查异常。</p><p>RunTimeException常常发生在程序运行过程中，会导致程序当前线程执行失败。CheckedException常常发生在程序编译过程中，会导致程序编译不通过。</p><p><img src="/../../images/clip_image028.jpg" alt="img"></p><h2 id="4-equals-和-x3D-x3D"><a href="#4-equals-和-x3D-x3D" class="headerlink" title="4. equals 和 &#x3D;&#x3D;"></a>4. equals 和 &#x3D;&#x3D;</h2><p><a href="https://blog.csdn.net/qq_36522306/article/details/80550210">https://blog.csdn.net/qq_36522306/article/details/80550210</a></p><p>答案一：</p><p>i.      &#x3D;&#x3D;对比的是栈中的值，基本数据类型是变量值，引用数据类型是堆中内存对象的地址</p><p>ii.      equals:Object中默认也是采用&#x3D;&#x3D;比较，通常会重写equals()方法，比如String类</p><table><thead><tr><th>Object类</th><th>String类</th></tr></thead><tbody><tr><td>public boolean equals(Object obj) {        return (this &#x3D;&#x3D; obj);    }</td><td>public boolean equals(Object anObject) {        if (this &#x3D;&#x3D; anObject) {return true; }        if (anObject instanceof String) {          String anotherString &#x3D; (String)anObject;          int n &#x3D; value.length;          if (n &#x3D;&#x3D; anotherString.value.length) {          char v1[] &#x3D; value;          char v2[] &#x3D;  anotherString.value;          int i &#x3D; 0;          while (n– !&#x3D; 0) {            if (v1[i] !&#x3D; v2[i])              return false;            i++;          }          return true;          }        }        return false; }</td></tr></tbody></table><p>上述代码可以看出，String类中被复写的equals()方法其实是比较两个字符串的内容</p><p>答案二：初步认识equals与&#x3D;&#x3D;的区别：</p><p>a)    &#x3D;&#x3D;是判断两个变量或实例是不是指向同一个内存空间，equals是判断两个变量或实例所指向的内存空间的值是不是相同 </p><p>b)    &#x3D;&#x3D;是指对内存地址进行比较 ， equals()是对字符串的内容进行比较</p><p>c)    &#x3D;&#x3D;指引用是否相同， equals()指的是值是否相同</p><p>equals与&#x3D;&#x3D;的区别详解：</p><p>​    &#x3D;&#x3D; 比较的是变量(栈)内存中存放的对象的(堆)内存地址，用来判断两个对象的地址是否相同，即是否是指相同一个对象。比较的是真正意义上的指针操作。equals用来比较的是两个对象的内容是否相等，由于所有的类都是继承自java.lang.Object类的，所以适用于所有对象，如果没有对该方法进行覆盖的话，调用的仍然是Object类中的方法，而Object中的equals方法返回的却是&#x3D;&#x3D;的判断。String s&#x3D;”abcd”是一种非常特殊的形式,和new 有本质的区别。它是java中唯一不需要new 就可以产生对象的途径。以String s&#x3D;”abcd”;形式赋值在java中叫直接量,它是在常量池中而不是象new一样放在压缩堆中。 这种形式的字符串，在JVM内部发生字符串拘留，即当声明这样的一个字符串后，JVM会在常量池中先查找有有没有一个值为”abcd”的对象,如果有,就会把它赋给当前引用.即原来那个引用和现在这个引用指点向了同一对象, 如果没有,则在常量池中新创建一个”abcd”,下一次如果有String s1 &#x3D; “abcd”;又会将s1指向”abcd”这个对象,即以这形式声明的字符串,只要值相等,任何多个引用都指向同一对象.</p><p>　　 而String s &#x3D; new String(“abcd”);和其它任何对象一样.每调用一次就产生一个对象，只要它们调用。</p><p> 也可以这么理解: String str &#x3D; “hello”; 先在内存中找是不是有”hello”这个对象,如果有，就让str指向那个”hello”.</p><p> 如果内存里没有”hello”，就创建一个新的对象保存”hello”. String str&#x3D;new String (“hello”) 就是不管内存里是不是已经有”hello”这个对象，都新建一个对象保存”hello”。</p><h2 id="5-线程"><a href="#5-线程" class="headerlink" title="5. 线程"></a>5. 线程</h2><h3 id="1-并发和并行"><a href="#1-并发和并行" class="headerlink" title="(1) 并发和并行"></a>(1) 并发和并行</h3><p><a href="http://c.biancheng.net/view/9486.html">并发和并行的区别（图解）</a></p><ul><li>并行是指两个或者多个事件在同一时刻发生，而并发是指两个或多个事件在同一时间间隔发生。</li><li>并行是在不同实体上的多个事件，并发是在同一实体上的多个事件。</li></ul><p><strong>1. 并行和并发有什么区别？</strong></p><ul><li>并行是指两个或者多个事件在同一时刻发生；而并发是指两个或多个事件在同一时间间隔发生。</li><li>并行是在不同实体上的多个事件，并发是在同一实体上的多个事件。</li><li>在一台处理器上“同时”处理多个任务，在多台处理器上同时处理多个任务。如hadoop分布式集群。</li></ul><p>所以并发编程的目标是充分的利用处理器的每一个核，以达到最高的处理性能。</p><p><strong>2. 线程和进程的区别？</strong></p><p>简而言之，进程是程序运行和资源分配的基本单位，一个程序至少有一个进程，一个进程至少有一个线程。进程在执行过程中拥有独立的内存单元，而多个线程共享内存资源，减少切换次数，从而效率更高。线程是进程的一个实体，是cpu调度和分派的基本单位，是比程序更小的能独立运行的基本单位。同一进程中的多个线程之间可以并发执行。</p><p><strong>进程</strong>是执行程序的一次执行过程，是系统资源分配的基本单位。一个进程可以包含多个线程，多个线程可以共享数据。</p><p><strong>线程</strong>是CPU调度和执行的基本单位。同类的多个线程共享进程的<strong>堆</strong>和<strong>方法区</strong>资源，但每个线程有自己的<strong>程序计数器</strong>、<strong>虚拟机栈</strong>和<strong>本地方法栈</strong>，所以系统在产生一个线程，或是在各个线程之间作切换工作时，负担要比进程小得多，也正因为如此，线程也被称为轻量级进程。</p><p><strong>3. 守护线程是什么？</strong></p><p>守护线程（即daemon thread），是个服务线程，准确地来说就是服务其他的线程。</p><h3 id="2-runable-和-callable-有什么区别"><a href="#2-runable-和-callable-有什么区别" class="headerlink" title="(2) runable 和 callable 有什么区别"></a>(2) runable 和 callable 有什么区别</h3><p>Callable和Runnable有几点不同:</p><p>​    ①Callable规定的方法是call()，而Runnable规定的方法是run().</p><p>​    ②Callable的任务执行后可返回值，而Runnable的任务是不能返回值的</p><p>​    ③call()方法可抛出异常，而run()方法是不能抛出异常的。</p><p>​    ④运行Callable任务可拿到一个Future对象，Future表示异步计算的结果。它提供了检查计算是否完成的方法,以等待计算的完成,并检索计算的结果.通过Future对象可了解任务执行情况,可取消任务的执行,还可获取任务执行的结果</p><ul><li>Runnable接口中的run()方法的返回值是void，它做的事情只是纯粹地去执行run()方法中的代码而已；</li><li>Callable接口中的call()方法是有返回值的，是一个泛型，和Future、FutureTask配合可以用来获取异步执行的结果。</li></ul><h3 id="3-java多线程都有几种方式实现"><a href="#3-java多线程都有几种方式实现" class="headerlink" title="(3) java多线程都有几种方式实现"></a>(3) java多线程都有几种方式实现</h3><p>有三种：</p><h4 id="a-继承Thread类，重写run函数"><a href="#a-继承Thread类，重写run函数" class="headerlink" title="a)  继承Thread类，重写run函数"></a>a)  继承Thread类，重写run函数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 创建：</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">xx</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span>&#123;<br>     <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>&#123;<br>     Thread.sleep(<span class="hljs-number">1000</span>)  <span class="hljs-comment">//线程休眠1000毫秒，sleep使线程进入Block状态，并释放资源</span><br>&#125;<br>&#125;<br><br><span class="hljs-comment">// 开启线程：</span><br>对象.start()  <span class="hljs-comment">//启动线程，run函数运行</span><br></code></pre></td></tr></table></figure><h4 id="b-实现Runnable接口，重写run函数"><a href="#b-实现Runnable接口，重写run函数" class="headerlink" title="b)  实现Runnable接口，重写run函数"></a>b)  实现Runnable接口，重写run函数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 开启线程：</span><br><span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(对象)  <span class="hljs-comment">//创建线程对象</span><br>t.start()<br></code></pre></td></tr></table></figure><h4 id="c-实现Callable接口，重写call函数"><a href="#c-实现Callable接口，重写call函数" class="headerlink" title="c)   实现Callable接口，重写call函数"></a>c)   实现Callable接口，重写call函数</h4><p>​    Callable是类似于Runnable的接口，实现Callable接口的类和实现Runnable的类都是可被其它线程执行的任务。</p><h3 id="4-线程的生命周期"><a href="#4-线程的生命周期" class="headerlink" title="(4) 线程的生命周期"></a>(4) 线程的生命周期</h3><p>进程与线程一样，都具有一定的生命周期，线程的生命周期包括四个状态：创建状态、就绪状态、阻塞状态、死亡状态。</p><p>a)    新建状态(new)：新创建了一个线程对象</p><p>b)    就绪状态(Runnable)：线程对象创建后，其他线程调用了该对象的start()。该状态的线程位于可运行线程池中，变得可运行，等待获取CPU的使用权。</p><p>c)    运行状态(Running)：就绪状态的线程获取了CPU，执行程序代码。</p><p>d)    阻塞状态：等待阻塞、同步阻塞、其他阻塞</p><p>​           i.      等待阻塞：运行的线程执行wait()方法，该线程会释放占用的所有资源，JVM会把该线程放入“等待池“中。进入这个状态后，是不能自动唤醒的，必须依靠其他线程调用notify或notifyAll方法才能被唤醒，wait()是Object类的方法</p><p>​          ii.      同步阻塞：运行的线程在获取对象的同步锁时，若该同步锁被别的线程占用，则JVM会把线程放入“锁池“中。</p><p>​         iii.      其他阻塞：运行的线程执行sleep()或join()方法，或者发出了I&#x2F;O请求时，JVM会把该线程设置为阻塞状态。当sleep状态超时、join等待线程终止或者超时、或者I&#x2F;O处理完毕时，线程重新转入就绪状态。Sleep是Thread类的方法。</p><p>解释：</p><p>​              i.      Sleep：不会释放持有的对象锁</p><p>​             ii.      Join：等待另一个线程执行完成</p><p>​            iii.      Wait：会释放持有的对象锁</p><p>​            iv.      Synchronized：运行同步代码，但是没有获得指定对象的锁，于是进入指定对象的锁池等待。</p><p>e)    终止（死亡）</p><p>​              i.      不建议使用stop、destroy终止，不会释放锁</p><p>​             ii.      建议通过Boolean变量，正常终止线程运行</p><h3 id="5-什么是线程安全？"><a href="#5-什么是线程安全？" class="headerlink" title="(5) 什么是线程安全？"></a>(5) 什么是线程安全？</h3><p>a) 多线程环境下</p><p>b) 对这个对象的访问不想需要加入额外的同步控制</p><p>c) 操作的数据的结果依然是正确的</p><h3 id="6-实现线程安全"><a href="#6-实现线程安全" class="headerlink" title="(6) 实现线程安全"></a>(6) 实现线程安全</h3><p>a)    加锁——同步代码（synchronized）</p><p>同步块</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) &#123;<span class="hljs-comment">//（）中的内容 就是 ----“锁”---同步监视器</span><br>&#125;<br></code></pre></td></tr></table></figure><p>同步方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">buy</span><span class="hljs-params">()</span>&#123; <br>&#125; <br></code></pre></td></tr></table></figure><p>b)    Lock锁</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//锁住：</span><br>lock.lock();<br><br><span class="hljs-comment">//解开锁：</span><br>lock.unlock();<br></code></pre></td></tr></table></figure><h3 id="乐观锁和悲观锁"><a href="#乐观锁和悲观锁" class="headerlink" title="乐观锁和悲观锁"></a>乐观锁和悲观锁</h3><p><strong>悲观锁：</strong></p><ul><li>很悲观，认为什么时候都会出现问题，无论做什么都会加锁</li></ul><p><strong>乐观锁：</strong></p><ul><li>很乐观，认为什么时候都不会出现问题，所以不会上锁！更新数据的时候去判断一下，在此期间是否有人修改过这个数据</li><li>获取version</li><li>更新的时候比较version</li></ul><h3 id="7-线程的优先级"><a href="#7-线程的优先级" class="headerlink" title="(7) 线程的优先级"></a>(7) 线程的优先级</h3><p>a)    1-10，默认是5</p><p>b)    优先级低只是意味着调用的概率低，并不是不被调用</p><h3 id="8-线程池"><a href="#8-线程池" class="headerlink" title="(8) 线程池"></a>(8) 线程池</h3><h2 id="8-int-可以使用equals吗"><a href="#8-int-可以使用equals吗" class="headerlink" title="8. int 可以使用equals吗"></a>8. int 可以使用equals吗</h2><h2 id="9-hashCode和equals"><a href="#9-hashCode和equals" class="headerlink" title="9. hashCode和equals"></a>9. hashCode和equals</h2><p><img src="/../../images/clip_image030.jpg" alt="img"></p><p><img src="/../../images/clip_image032.jpg" alt="img"></p><h2 id="10-有了thread-为什么还要runable"><a href="#10-有了thread-为什么还要runable" class="headerlink" title="10. 有了thread 为什么还要runable"></a>10. 有了thread 为什么还要runable</h2><h2 id="11-Java中的run-方法和start-的区别"><a href="#11-Java中的run-方法和start-的区别" class="headerlink" title="11. Java中的run()方法和start()的区别"></a>11. Java中的run()方法和start()的区别</h2><h3 id="a-区别"><a href="#a-区别" class="headerlink" title="a)  区别"></a>a)  区别</h3><p>Java中启动线程有两种方法，继承Thread类和实现Runnable接口，由于Java无法实现多重继承，所以一般通过实现Runnable接口来创建线程。但是无论哪种方法都可以通过start()和run()方法来启动线程，下面就来介绍一下他们的区别。</p><h3 id="b-start方法："><a href="#b-start方法：" class="headerlink" title="b)  start方法："></a>b)  start方法：</h3><p>通过该方法启动线程的同时也创建了一个线程，真正实现了多线程。无需等待run()方法中的代码执行完毕，就可以接着执行下面的代码。此时start()的这个线程处于就绪状态，当得到CPU的时间片后就会执行其中的run()方法。这个run()方法包含了要执行的这个线程的内容，run()方法运行结束，此线程也就终止了。</p><h3 id="c-run方法："><a href="#c-run方法：" class="headerlink" title="c)   run方法："></a>c)   run方法：</h3><p>通过run方法启动线程其实就是调用一个类中的方法，当作普通的方法的方式调用。并没有创建一个线程，程序中依旧只有一个主线程，必须等到run()方法里面的代码执行完毕，才会继续执行下面的代码，这样就没有达到写线程的目的。</p><h2 id="12-抽象类和接口-Interface-的区别"><a href="#12-抽象类和接口-Interface-的区别" class="headerlink" title="12. 抽象类和接口(Interface)的区别"></a>12. 抽象类和接口(Interface)的区别</h2><h2 id="13-集合相关"><a href="#13-集合相关" class="headerlink" title="13. 集合相关"></a>13. 集合相关</h2><h3 id="1-常见的Java集合"><a href="#1-常见的Java集合" class="headerlink" title="(1) 常见的Java集合"></a>(1) 常见的Java集合</h3><p>集合的顶层接口是Collection（单列集合）和Map（双列集合），</p><p>① Collection接口包括List接口、Set接口和Queue接口，</p><p>List接口的实现类有：</p><ul><li>ArrayList（数组，排列有序，可重复，查询快、增删慢，线程不安全。使用默认构造器时，jdk7初始容量是10，jdk8初始容量为0，一个空数组，在add()的时候进行数组扩容为10，扩容大小为原来的1.5倍，newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1)  ）</li><li>LinkedList（底层使用双向链表（jdk1.6之前为循环链表，1.7取消了循环），查询慢，增删快（add()、remove()），线程不安全）</li><li>Vector（底层使用数组，排列有序，可重复，查询快，增删慢，线程安全，效率低，默认扩展一倍容量）</li></ul><p>Set接口的实现类有：</p><ul><li>HashSet（底层使用Hash表，排列无序，不可重复，存取速度快，内部是HashMap）<ul><li>子类LinkedHashSet类（采用Hash表存储，使用双向链表记录插入顺序，内部是LinkedHashMap）</li></ul></li><li>TreeSet（底层使用二叉树实现，排列无序，不可重复，内部是TreeMap的SortedSet）</li></ul><p>Queue接口：在两端出入的List，所以也可以用数组或链表来实现</p><p>② Map接口的实现类或子接口有：</p><ul><li>HashMap类（底层是Hash表（数组+链表）；线程不安全；允许KV都为null；键不可重复，值可以重复；负载因子0.75，阈值就是 table 容量乘以负载因子；扩容是直接容量变为2倍；key为null，null 的哈希值永远为 0，因此放在 table[0] 的位置）</li><li>HashTable类（底层是Hash表，使用synchronize保证线程安全，KV都不允许为null，键不可重复，值可以重复）</li><li>ConcurrentHashMap类（ConcurrentHashMap结合了HashMap和HashTable的优点，HashTable每次同步都锁住了整个结构，ConcurrentHashMap的锁是细颗粒度的）</li><li>SortedMap接口<ul><li>NavigableMap接口<ul><li>实现类TreeMap类</li></ul></li></ul></li><li>WeekHashMap类</li></ul><p>HashMap详解：<a href="https://blog.csdn.net/qq_29051413/article/details/107860264">https://blog.csdn.net/qq_29051413/article/details/107860264</a></p><h3 id="2-list-有初始长度吗"><a href="#2-list-有初始长度吗" class="headerlink" title="(2) list 有初始长度吗"></a>(2) list 有初始长度吗</h3><p>使用默认的构造器，List list &#x3D; new ArrayList();初始容量被设置为10<br>JDK8，</p><h3 id="3-list如何扩容的"><a href="#3-list如何扩容的" class="headerlink" title="(3) list如何扩容的"></a>(3) list如何扩容的</h3><p>扩容机制为：当前容量 * 1.5 + 1</p><h3 id="4-如何给list中的元素进行排序"><a href="#4-如何给list中的元素进行排序" class="headerlink" title="(4) 如何给list中的元素进行排序"></a>(4) 如何给list中的元素进行排序</h3><h3 id="5-ArrayList和LinkedList区别"><a href="#5-ArrayList和LinkedList区别" class="headerlink" title="(5) ArrayList和LinkedList区别"></a>(5) ArrayList和LinkedList区别</h3><p><img src="/../images/clip_image034.jpg" alt="img"></p><h3 id="6-list和set的区别"><a href="#6-list和set的区别" class="headerlink" title="(6) list和set的区别"></a>(6) list和set的区别</h3><p>List：有序，按对象进入的顺序保存对象，可重复，允许多个Null元素对象，可以使用Iterator取出所有元素，再逐一遍历；也可以使用get(int index)获取指定下标的元素</p><p>Set：无序，不可重复，最多允许一个null元素对象存在，取元素时，只能使用Iterator接口取得所有元素，再逐一遍历各个元素</p><h3 id="7-HashMap和HashTable区别及底层实现"><a href="#7-HashMap和HashTable区别及底层实现" class="headerlink" title="(7) HashMap和HashTable区别及底层实现"></a>(7) HashMap和HashTable区别及底层实现</h3><p><img src="/../../images/clip_image036.jpg" alt="img"></p><h2 id="14-IO流：输入输出流"><a href="#14-IO流：输入输出流" class="headerlink" title="14. IO流：输入输出流"></a>14. IO流：输入输出流</h2><p>字节流</p><p>​    字节输入流：键盘&#x2F;文件  –》  程序</p><p>​    字节输出流</p><p>字符流</p><p>a)    InputStream</p><p>​           i.      FileInputStream</p><p>​          ii.      ByteArrayInputStream</p><p>​         iii.      ObjectInputStream：对象序列化，实现空接口serilizable</p><p>​         iv.      DataInputStream</p><p>​          v.      BufferedInputStream</p><p>b)    OutputStream</p><p>​           i.      FileOutputStream</p><p>​          ii.      ByteArrayIOutputStream</p><p>​         iii.      ObjectOutputStream</p><p>​         iv.      DataOutputStream</p><p>​          v.      PrintStream</p><p>​         vi.      BufferedOutputStream</p><p>c)    Reader</p><p>​           i.      FileReader</p><p>​          ii.      InputStreamReader：转换流，将字节流转化为字符流</p><p>​         iii.      BufferedReader</p><p>d)    Writer</p><p>​           i.      FileWriter</p><p>​          ii.      OutputStreamWriter：转换流</p><p>​         iii.      BufferedWriter</p><h2 id="15-java数据类型"><a href="#15-java数据类型" class="headerlink" title="15. java数据类型"></a>15. java数据类型</h2><p>定义：Java语言是强类型语言，对于每一种数据都定义了明确的具体的数据类型，在内存中分配了不同大小的内存空间。</p><p>分类</p><ul><li>基本数据类型<ul><li>数值型<ul><li>整数类型(byte,short,int,long)</li><li>浮点类型(float,double)</li></ul></li><li>字符型(char)</li><li>布尔型(boolean)</li></ul></li><li>引用数据类型<ul><li>类(class)</li><li>接口(interface)</li><li>数组([])</li></ul></li></ul><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">基本数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型（数值型）</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr>    <tr>        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型（数值型）</td>        <td>float</td>        <td>32</td>    </tr>    <tr>        <td>double</td>        <td>64</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">字符型</td>        <td>char</td>        <td>16</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">布尔型</td>        <td>boolean</td>        <td>~</td>    </tr></table>## 16. 访问修饰符<p>访问修饰符 public,private,protected,以及不写（默认）时的区别<br>定义：Java中，可以使用访问修饰符来保护对类、变量、方法和构造方法的访问。Java 支持 4 种不同的访问权限。</p><p>分类</p><p>private : 在同一类内可见。使用对象：变量、方法。 注意：不能修饰类（外部类）<br>default (即缺省，什么也不写，不使用任何关键字）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。<br>protected : 对同一包内的类和所有子类可见。使用对象：变量、方法。 注意：不能修饰类（外部类）。<br>public : 对所有类可见。使用对象：类、接口、变量、方法</p><blockquote><p><a href="https://www.runoob.com/java/java-modifier-types.html#protected-desc">https://www.runoob.com/java/java-modifier-types.html#protected-desc</a></p></blockquote><p>访问修饰符图</p><table><thead><tr><th>修饰符</th><th>当前类</th><th>同包</th><th>子类（同包）</th><th>子类（不同包）</th><th>其他包</th></tr></thead><tbody><tr><td>private</td><td>√</td><td>×</td><td>×</td><td>×</td><td>×</td></tr><tr><td>default</td><td>√</td><td>√</td><td>√</td><td>×</td><td>×</td></tr><tr><td>protected</td><td>√</td><td>√</td><td>√</td><td>√&#x2F;×(说明)</td><td>×</td></tr><tr><td>public</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td></tr></tbody></table><p>① 私有访问修饰符-private</p><p>私有访问修饰符是最严格的访问级别，所以被声明为 <strong>private</strong> 的方法、变量和构造方法只能被所属类访问，并且类和接口不能声明为 <strong>private</strong>。</p><p>声明为私有访问类型的变量只能通过类中公共的 getter 方法被外部类访问。</p><p>Private 访问修饰符的使用主要用来隐藏类的实现细节和保护类的数据。</p><p>② 默认访问修饰符-不使用任何关键字</p><p>使用默认访问修饰符声明的变量和方法，对同一个包内的类是可见的。接口里的变量都隐式声明为 <strong>public static final</strong>,而接口里的方法默认情况下访问权限为 <strong>public</strong>。</p><p>③ 公有访问修饰符-public</p><p>被声明为 public 的类、方法、构造方法和接口能够被任何其他类访问。</p><p>如果几个相互访问的 public 类分布在不同的包中，则需要导入相应 public 类所在的包。由于类的继承性，类所有的公有方法和变量都能被其子类继承。</p><p>④ 受保护的访问修饰符-protected</p><p>protected 需要从以下两个点来分析说明：</p><ul><li><strong>子类与基类在同一包中</strong>：被声明为 protected 的变量、方法和构造器能被同一个包中的任何其他类访问；</li><li><strong>子类与基类不在同一包中</strong>：那么在子类中，子类实例可以访问其从基类继承而来的 protected 方法，而不能访问基类实例的protected方法。</li></ul><p>访问控制和继承</p><p>请注意以下方法继承的规则：</p><ul><li>父类中声明为 public 的方法在子类中也必须为 public。</li><li>父类中声明为 protected 的方法在子类中要么声明为 protected，要么声明为 public，不能声明为 private。</li><li>父类中声明为 private 的方法，不能够被子类继承。</li></ul><h2 id="17-说一个你熟悉的设计模式"><a href="#17-说一个你熟悉的设计模式" class="headerlink" title="17. 说一个你熟悉的设计模式"></a>17. 说一个你熟悉的设计模式</h2><p><a href="https://juejin.cn/post/6844904125721772039">https://juejin.cn/post/6844904125721772039</a></p><h3 id="1-设计模式的六大原则："><a href="#1-设计模式的六大原则：" class="headerlink" title="1) 设计模式的六大原则："></a>1) 设计模式的六大原则：</h3><p><img src="/../images/clip_image040.jpg" alt="img"></p><h4 id="开放封闭原则（Open-Close-Principle）"><a href="#开放封闭原则（Open-Close-Principle）" class="headerlink" title="开放封闭原则（Open Close Principle）"></a>开放封闭原则（Open Close Principle）</h4><ul><li>原则思想：尽量通过扩展软件实体来解决需求变化，而不是通过修改已有的代码来完成变化</li><li>描述：一个软件产品在生命周期内，都会发生变化，既然变化是一个既定的事实，我们就应该在设计的时候尽量适应这些变化，以提高项目的稳定性和灵活性。</li><li>优点：单一原则告诉我们，每个类都有自己负责的职责，里氏替换原则不能破坏继承关系的体系。</li></ul><h4 id="里氏代换原则（Liskov-Substitution-Principle）"><a href="#里氏代换原则（Liskov-Substitution-Principle）" class="headerlink" title="里氏代换原则（Liskov Substitution Principle）"></a>里氏代换原则（Liskov Substitution Principle）</h4><ul><li>原则思想：使用的基类可以在任何地方使用继承的子类，完美的替换基类。</li><li>大概意思是：子类可以扩展父类的功能，但不能改变父类原有的功能。子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法，子类中可以增加自己特有的方法。</li><li>优点：增加程序的健壮性，即使增加了子类，原有的子类还可以继续运行，互不影响。</li></ul><h4 id="依赖倒转原则（Dependence-Inversion-Principle）"><a href="#依赖倒转原则（Dependence-Inversion-Principle）" class="headerlink" title="依赖倒转原则（Dependence Inversion Principle）"></a>依赖倒转原则（Dependence Inversion Principle）</h4><p>·    依赖倒置原则的核心思想是面向接口编程.</p><p>·    依赖倒转原则要求我们在程序代码中传递参数时或在关联关系中，尽量引用层次高的抽象层类，</p><p>·    这个是开放封闭原则的基础，具体内容是：对接口编程，依赖于抽象而不依赖于具体。</p><h4 id="接口隔离原则（Interface-Segregation-Principle）"><a href="#接口隔离原则（Interface-Segregation-Principle）" class="headerlink" title="接口隔离原则（Interface Segregation Principle）"></a>接口隔离原则（Interface Segregation Principle）</h4><ul><li>这个原则的意思是：使用多个隔离的接口，比使用单个接口要好。还是一个降低类之间的耦合度的意思，从这儿我们看出，其实设计模式就是一个软件的设计思想，从大型软件架构出发，为了升级和维护方便。所以上文中多次出现：降低依赖，降低耦合。</li><li>例如：支付类的接口和订单类的接口，需要把这俩个类别的接口变成俩个隔离的接口</li></ul><h4 id="迪米特法则（最少知道原则）（Demeter-Principle）"><a href="#迪米特法则（最少知道原则）（Demeter-Principle）" class="headerlink" title="迪米特法则（最少知道原则）（Demeter Principle）"></a>迪米特法则（最少知道原则）（Demeter Principle）</h4><ul><li>原则思想：一个对象应当对其他对象有尽可能少地了解，简称类间解耦</li><li>大概意思就是一个类尽量减少自己对其他对象的依赖，原则是低耦合，高内聚，只有使各个模块之间的耦合尽量的低，才能提高代码的复用率。</li><li>优点：低耦合，高内聚。</li></ul><h4 id="单一职责原则（Principle-of-single-responsibility）"><a href="#单一职责原则（Principle-of-single-responsibility）" class="headerlink" title="单一职责原则（Principle of single responsibility）"></a>单一职责原则（Principle of single responsibility）</h4><ul><li>原则思想：一个方法只负责一件事情。</li><li>描述：单一职责原则很简单，一个方法 一个类只负责一个职责，各个职责的程序改动，不影响其它程序。 这是常识，几乎所有程序员都会遵循这个原则。</li><li>优点：降低类和类的耦合，提高可读性，增加可维护性和可拓展性，降低可变性的风险。</li></ul><hr><p>在面向对象的程序设计中，存在着五个基本原则，即 SOLID(单一功能、开闭原则、里氏替换、接口隔离以及依赖反转)。当这些原则被应用在一起时，可以使得开发一个易于维护和扩展的系统成为可能。</p><p>一、单一功能原则（Single Responsibility Principle）<br>单一功能原则规定每一个类都应该有一个单一的功能，并且该功能应该由这个类完全封装起来。所有它的服务都应该严密的和该功能平行（功能平行，意味着没有依赖）。</p><p>通常意义下的单一功能，就是指类只有一种功能，而不为其实现过多的功能点，从而保证实体对象只有一个引起它变化的原因。一个具体的例子就是，想象有一个用于编辑和打印报表的模块。这样的一个模块存在两个改变的原因。第一，报表的内容可以改变（编辑）。第二，报表的格式可以改变（打印）。这两方面会的改变因为完全不同的起因而发生：一个是本质的修改，一个是表面的修改。单一功能原则认为这两方面的问题事实上是两个分离的功能，因此他们应该分离在不同的类或者模块里。把有不同的改变原因的事物耦合在一起的设计是糟糕的。</p><p>保持一个类专注于单一功能点上的一个重要的原因是，它会使得类更加的健壮。继续上面的例子，如果有一个对于报表编辑流程的修改，那么将存在极大的危险性，因为假设这两个功能存在于同一个类中，修改报表的编辑流程会导致公共状态或者依赖关系的改变，打印功能的代码会因此不工作。</p><p>二、开闭原则（Open Closed Principle）<br>开闭原则规定软件中的对象（类、模块、函数等）对于扩展是开放的，但对于修改是封闭的，这意味着一个实体是允许在不改变它的源代码的前提下变更它的行为。</p><p>开放封闭原则主要体现在两个方面：1. 对扩展开放，意味着有新的需求或变化时，可以对现有代码进行扩展，以适应新的情况。2. 对修改封闭，意味着类一旦设计完成，就可以独立完成其工作，而不要对其进行任何尝试的修改。</p><p>实现开开放封闭原则的核心思想就是对抽象编程，而不对具体编程，因为抽象相对稳定。让类依赖于固定的抽象，所以修改就是封闭的；而通过面向对象的继承和多态机制，又可以实现对抽象类的继承，通过覆写其方法来改变固有行为，实现新的拓展方法，所以就是开放的</p><p>三、里氏替换原则（Liskov Substitution Principle）<br>里氏替换原则是对子类型的特别定义，它规定子类对象可以在程序中替换其父类对象。这一思想体现为对继承机制的约束规范，只有子类能够替换基类时，才能保证系统在运行期内识别子类，这是保证继承复用的基础。</p><p>在父类和子类的具体行为中，必须严格把握继承层次中的关系和特征，将基类替换为子类，程序的行为不会发生任何变化。同时，这一约束反过来则是不成立的，子类可以替换基类，但是基类不一定能替换子类。<br> 里氏替换原则，主要着眼于对抽象和多态建立在继承的基础上，因此只有遵循了里氏替换原则，才能保证继承复用是可靠的。实现的方法是面向接口编程：将公共部分抽象为基类接口或抽象类，在子类中通过覆写父类的方法实现新的功能。</p><p>里氏替换原则是关于继承机制的设计原则，违反了里氏替换原则就必然导致违反开放封闭原则。</p><p>里氏替换原则能够保证系统具有良好的拓展性，同时实现基于多态的抽象机制，能够减少代码冗余，避免运行期的类型判别。</p><p>四、接口隔离原则（Interface Segregation Principles）<br>接口隔离原则规定一个类应该不依赖于它不使用的方法。接口隔离原则(ISP)拆分非常庞大臃肿的接口成为更小的和更具体的接口，这样客户将会只需要知道他们感兴趣的方法。这种缩小的接口也被称为角色接口（role interfaces）。接口隔离原则的目的是系统解开耦合，从而容易重构，更改和重新部署。</p><p>具体而言，接口隔离原则体现在：接口应该是内聚的，应该避免“胖”接口。一个类对另外一个类的依赖应该建立在最小的接口上，不要强迫依赖不用的方法，这是一种接口污染。</p><p>接口有效地将细节和抽象隔离，体现了对抽象编程的一切好处，接口隔离强调接口的单一性。而胖接口存在明显的弊端，会导致实现的类型必须完全实现接口的所有方法、属性等；而某些时候，实现类型并非需要所有的接口定义，在设计上这是“浪费”，而且在实施上这会带来潜在的问题，对胖接口的修改将导致一连串的客户端程序需要修改，有时候这是一种灾难。在这种情况下，将胖接口分解为多个特点的定制化方法，使得客户端仅仅依赖于它们的实际调用的方法，从而解除了客户端不会依赖于它们不用的方法。</p><p>分离的手段主要有以下两种：1、委托分离，通过增加一个新的类型来委托客户的请求，隔离客户和接口的直接依赖，但是会增加系统的开销。2、多重继承分离，将胖接口分为多个不同的小接口，通过接口多继承来实现客户的需求，这种方式是较好的。</p><p>五、依赖反转原则（Dependecy Inversion Principle）<br>依赖反转原则是指一种特定的解耦（传统的依赖关系创建在高层次上，而具体的策略设置则应用在低层次的模块上）形式，使得高层次的模块不依赖于低层次的模块的实现细节，依赖关系被颠倒，从而使得低层次模块依赖于高层次模块的需求抽象。</p><p>该原则规定：1. 高层次的模块不应该依赖于低层次的模块，两者都应该依赖于抽象接口。2. 抽象接口不应该依赖于具体实现。而具体实现则应该依赖于抽象接口。该原则颠倒了一部分人对于面向对象设计的认识方式。如高层次和低层次对象都应该依赖于相同的抽象接口。</p><p>图1中，高层对象A依赖于底层对象B的实现；图2中，把高层对象A对底层对象的需求抽象为一个接口A，底层对象B实现了接口A，这就是依赖反转。</p><p>依赖一定会存在于类与类、模块与模块之间。当两个模块之间存在紧密的耦合关系时，最好的方法就是分离接口和实现：在依赖之间定义一个抽象的接口使得高层模块调用接口，而底层模块实现接口的定义，以此来有效控制耦合关系，达到依赖于抽象的设计目标。抽象的稳定性决定了系统的稳定性，因为抽象是不变的，依赖于抽象是面向对象设计的精髓，也是依赖反转原则的核心。</p><p>依赖于抽象是一个通用的原则，而某些时候依赖于细节则是在所难免的，必须权衡在抽象和具体之间的取舍，方法不是一层不变的。依赖于抽象，就是对接口编程，不要对实现编程。</p><p>总结：</p><p>以上就是5个基本的面向对象设计原则，它们就像面向对象程序设计中的金科玉律，遵守它们可以使我们的代码更加鲜活，易于复用，易于拓展，灵活优雅。不同的设计模式对应不同的需求，而设计原则则代表永恒的灵魂，需要在实践中时时刻刻地遵守。</p><hr><h3 id="2-单例模式"><a href="#2-单例模式" class="headerlink" title="2) 单例模式"></a>2) 单例模式</h3><h4 id="1-什么是单例模式、"><a href="#1-什么是单例模式、" class="headerlink" title="(1) 什么是单例模式、"></a>(1) 什么是单例模式、</h4><ul><li>保证一个类只有一个实例，并且提供一个访问该全局访问点</li></ul><h4 id="2-那些地方用到了单例模式"><a href="#2-那些地方用到了单例模式" class="headerlink" title="(2) 那些地方用到了单例模式"></a>(2) 那些地方用到了单例模式</h4><ol><li>网站的计数器，一般也是采用单例模式实现，否则难以同步。</li><li>应用程序的日志应用，一般都是单例模式实现，只有一个实例去操作才好，否则内容不好追加显示。</li><li>多线程的线程池的设计一般也是采用单例模式，因为线程池要方便对池中的线程进行控制</li><li>Windows的（任务管理器）就是很典型的单例模式，他不能打开俩个</li><li>windows的（回收站）也是典型的单例应用。在整个系统运行过程中，回收站只维护一个实例。</li></ol><h4 id="3-单例优缺点"><a href="#3-单例优缺点" class="headerlink" title="(3) 单例优缺点"></a>(3) 单例优缺点</h4><p><strong>优点：</strong></p><ol><li>在单例模式中，活动的单例只有一个实例，对单例类的所有实例化得到的都是相同的一个实例。这样就防止其它对象对自己的实例化，确保所有的对象都访问一个实例</li><li>单例模式具有一定的伸缩性，类自己来控制实例化进程，类就在改变实例化进程上有相应的伸缩性。</li><li>提供了对唯一实例的受控访问。</li><li>由于在系统内存中只存在一个对象，因此可以节约系统资源，当需要频繁创建和销毁的对象时单例模式无疑可以提高系统的性能。</li><li>允许可变数目的实例。</li><li>避免对共享资源的多重占用。</li></ol><p><strong>缺点：</strong></p><ol><li>不适用于变化的对象，如果同一类型的对象总是要在不同的用例场景发生变化，单例就会引起数据的错误，不能保存彼此的状态。</li><li>由于单利模式中没有抽象层，因此单例类的扩展有很大的困难。</li><li>单例类的职责过重，在一定程度上违背了“单一职责原则”。</li><li>滥用单例将带来一些负面问题，如为了节省资源将数据库连接池对象设计为的单例类，可能会导致共享连接池对象的程序过多而出现连接池溢出；如果实例化的对象长时间不被利用，系统会认为是垃圾而被回收，这将导致对象状态的丢失。</li></ol><h4 id="4-单例模式使用注意事项："><a href="#4-单例模式使用注意事项：" class="headerlink" title="(4) 单例模式使用注意事项："></a>(4) 单例模式使用注意事项：</h4><ol><li>使用时不能用反射模式创建单例，否则会实例化一个新的对象</li><li>使用懒单例模式时注意线程安全问题</li><li>饿单例模式和懒单例模式构造方法都是私有的，因而是不能被继承的，有些单例模式可以被继承（如登记式模式）</li></ol><h4 id="5-单例创建方式"><a href="#5-单例创建方式" class="headerlink" title="(5)单例创建方式"></a>(5)单例创建方式</h4><p><strong>（主要使用懒汉和懒汉式）</strong></p><ol><li>饿汉式:类初始化时,会立即加载该对象，线程天生安全,调用效率高。</li><li>懒汉式: 类初始化时,不会初始化该对象,真正需要使用的时候才会创建该对象,具备懒加载功能。</li><li>静态内部方式:结合了懒汉式和饿汉式各自的优点，真正需要对象的时候才会加载，加载类是线程安全的。</li><li>枚举单例: 使用枚举实现单例模式 优点:实现简单、调用效率高，枚举本身就是单例，由jvm从根本上提供保障!避免通过反射和反序列化的漏洞， 缺点没有延迟加载。</li><li>双重检测锁方式 (因为JVM本质重排序的原因，可能会初始化多次，不推荐使用)</li></ol><h5 id="①-饿汉式"><a href="#①-饿汉式" class="headerlink" title="① 饿汉式"></a>① 饿汉式</h5><p>饿汉式:类初始化时,会立即加载该对象，线程天生安全,调用效率高。</p><h5 id="②-懒汉式"><a href="#②-懒汉式" class="headerlink" title="② 懒汉式"></a>② 懒汉式</h5><p>懒汉式: 类初始化时,不会初始化该对象,真正需要使用的时候才会创建该对象,具备懒加载功能。</p><h5 id="③-静态内部类"><a href="#③-静态内部类" class="headerlink" title="③ 静态内部类"></a>③ 静态内部类</h5><p>静态内部方式:结合了懒汉式和饿汉式各自的优点，真正需要对象的时候才会加载，加载类是线程安全的。</p><h5 id="④-枚举单例式"><a href="#④-枚举单例式" class="headerlink" title="④ 枚举单例式"></a>④ 枚举单例式</h5><p>枚举单例: 使用枚举实现单例模式 优点:实现简单、调用效率高，枚举本身就是单例，由jvm从根本上提供保障!避免通过反射和反序列化的漏洞， 缺点没有延迟加载。</p><h5 id="⑤-检测锁方式"><a href="#⑤-检测锁方式" class="headerlink" title="⑤ 检测锁方式"></a>⑤ 检测锁方式</h5><p>双重检测锁方式 (因为JVM本质重排序的原因，可能会初始化多次，不推荐使用)</p><h3 id="3-简单工厂模式"><a href="#3-简单工厂模式" class="headerlink" title="3) 简单工厂模式"></a>3) 简单工厂模式</h3><p>略。</p><h2 id="18-注解和反射"><a href="#18-注解和反射" class="headerlink" title="18. 注解和反射"></a>18. 注解和反射</h2><h3 id="1-注解"><a href="#1-注解" class="headerlink" title="1) 注解"></a>1) 注解</h3><h4 id="什么是注解"><a href="#什么是注解" class="headerlink" title="什么是注解"></a>什么是注解</h4><p>​    i.      Annotation是从JDK5.0开始引入的新技术</p><p>   ii.      不是程序本身，可以对程序做出解释。（这一点和注释(comment)没什么区别）</p><p>  iii.       可以被其他程序(比如：编译器等)读取。</p><p>  iv.      格式：@注解名</p><p>   v.      使用：可以附加在package、class、method、field等上面，相当于给他们添加了额外辅助信息，我们可以通过反射机制编程实现对这些元数据的访问。</p><h4 id="内置注解"><a href="#内置注解" class="headerlink" title="内置注解"></a>内置注解</h4><p>@Override</p><p>@Deprecated</p><p>@SuppressWarnings</p><p><img src="/../images/clip_image042.jpg" alt="img"></p><h4 id="元注解"><a href="#元注解" class="headerlink" title="元注解"></a>元注解</h4><p>元注解的作用就是负责注解其他注解。Java定义了4个标准的meta-annotation类型，他们被用来提供对其他annotation类型作说明。</p><p>这些类型都从属于java,lang.annotation包</p><p>a)   @Target：用于描述注解的使用范围（即：被描述的注解可以用在什么地方）</p><p>@Target(ElementType.TYPE)  &#x2F;&#x2F;接口、类、枚举</p><p>@Target(ElementType.FIELD) &#x2F;&#x2F;字段、枚举的常量</p><p>@Target(ElementType.METHOD) &#x2F;&#x2F;方法</p><p>@Target(ElementType.PARAMETER) &#x2F;&#x2F;方法参数</p><p>@Target(ElementType.CONSTRUCTOR) &#x2F;&#x2F;构造函数</p><p>@Target(ElementType.LOCAL_VARIABLE)&#x2F;&#x2F;局部变量</p><p>@Target(ElementType.ANNOTATION_TYPE)&#x2F;&#x2F;注解</p><p>@Target(ElementType.PACKAGE) &#x2F;&#x2F;&#x2F;包 </p><p>b)   @Retention：表示需要在什么级别保存该注解信息，用描述注解的生命周期。</p><p>RetentionPoicy</p><p>(SOURCE&lt;CLASS&lt;RUNTIME)</p><p>c)   @Document：表示是否将注解生成在Javadoc中</p><p>d)   @Inherited：说明子类可以继承父类中的该注解</p><p><img src="/../images/clip_image044.jpg" alt="img"></p><h3 id="2-反射机制"><a href="#2-反射机制" class="headerlink" title="2) 反射机制"></a>2) 反射机制</h3><p>Java.Reflection</p><h4 id="Java的反射机制概述"><a href="#Java的反射机制概述" class="headerlink" title="Java的反射机制概述"></a>Java的反射机制概述</h4><p><img src="/../images/clip_image046.jpg" alt="img"></p><h4 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h4><p><img src="/../images/clip_image048.jpg" alt="img"></p><p><img src="/../images/clip_image050.jpg" alt="img"></p><h4 id="获取class类的三种方式"><a href="#获取class类的三种方式" class="headerlink" title="获取class类的三种方式"></a>获取class类的三种方式</h4><p><img src="/../images/clip_image052.jpg" alt="img"></p><h4 id="Java内存分析"><a href="#Java内存分析" class="headerlink" title="Java内存分析"></a>Java内存分析</h4><p><img src="/../images/clip_image054.jpg" alt="img"></p><h4 id="类加载过程"><a href="#类加载过程" class="headerlink" title="类加载过程"></a>类加载过程</h4><p><img src="/../images/clip_image056.jpg" alt="img"></p><h2 id="19-Java有哪些数据类型"><a href="#19-Java有哪些数据类型" class="headerlink" title="19. Java有哪些数据类型"></a>19. Java有哪些数据类型</h2><p>定义：Java语言是强类型语言，对于每一种数据都定义了明确的具体的数据类型，在内存中分配了不同大小的内存空间。</p><p>分类</p><ul><li>基本数据类型<ul><li>数值型<ul><li>整数类型(byte,short,int,long)</li><li>浮点类型(float,double)</li></ul></li><li>字符型(char)</li><li>布尔型(boolean)</li></ul></li><li>引用数据类型<ul><li>类(class)</li><li>接口(interface)</li><li>数组([])</li></ul></li></ul><table>    <tr>        <td colspan="2" style="text-align: center;vertical-align:middle;">基本数据类型</td>        <td>长度(位)</td>    </tr>    <tr>        <td rowspan="4" style="text-align: center;vertical-align:middle;">整数类型（数值型）</td>        <td>byte</td>        <td>8</td>    </tr>    <tr>        <td>short</td>        <td>16</td>    </tr>    <tr>        <td>int</td>        <td>32</td>    </tr>    <tr>        <td>long</td>        <td>64</td>    </tr>    <tr>        <td rowspan="2" style="text-align: center;vertical-align:middle;">浮点类型（数值型）</td>        <td>float</td>        <td>32</td>    </tr>    <tr>        <td>double</td>        <td>64</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">字符型</td>        <td>char</td>        <td>16</td>    </tr>    <tr>        <td style="text-align: center;vertical-align:middle;">布尔型</td>        <td>boolean</td>        <td>~</td>    </tr></table><h2 id="20、Java访问修饰符"><a href="#20、Java访问修饰符" class="headerlink" title="20、Java访问修饰符"></a>20、Java访问修饰符</h2><ol><li>访问修饰符 public,private,protected,以及不写（默认）时的区别<br>定义：Java中，可以使用访问修饰符来保护对类、变量、方法和构造方法的访问。Java 支持 4 种不同的访问权限。</li></ol><p>分类</p><p>private : 在同一类内可见。使用对象：变量、方法。 注意：不能修饰类（外部类）<br>default (即缺省，什么也不写，不使用任何关键字）: 在同一包内可见，不使用任何修饰符。使用对象：类、接口、变量、方法。<br>protected : 对同一包内的类和所有子类可见。使用对象：变量、方法。 注意：不能修饰类（外部类）。<br>public : 对所有类可见。使用对象：类、接口、变量、方法</p><blockquote><p><a href="https://www.runoob.com/java/java-modifier-types.html#protected-desc">https://www.runoob.com/java/java-modifier-types.html#protected-desc</a></p></blockquote><p>访问修饰符图</p><table><thead><tr><th>修饰符</th><th>当前类</th><th>同包</th><th>子类（同包）</th><th>子类（不同包）</th><th>其他包</th></tr></thead><tbody><tr><td>private</td><td>√</td><td>×</td><td>×</td><td>×</td><td>×</td></tr><tr><td>default</td><td>√</td><td>√</td><td>√</td><td>×</td><td>×</td></tr><tr><td>protected</td><td>√</td><td>√</td><td>√</td><td>√&#x2F;×(说明)</td><td>×</td></tr><tr><td>public</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td></tr></tbody></table><p>① 私有访问修饰符-private</p><p>私有访问修饰符是最严格的访问级别，所以被声明为 <strong>private</strong> 的方法、变量和构造方法只能被所属类访问，并且类和接口不能声明为 <strong>private</strong>。</p><p>声明为私有访问类型的变量只能通过类中公共的 getter 方法被外部类访问。</p><p>Private 访问修饰符的使用主要用来隐藏类的实现细节和保护类的数据。</p><p>② 默认访问修饰符-不使用任何关键字</p><p>使用默认访问修饰符声明的变量和方法，对同一个包内的类是可见的。接口里的变量都隐式声明为 <strong>public static final</strong>,而接口里的方法默认情况下访问权限为 <strong>public</strong>。</p><p>③ 公有访问修饰符-public</p><p>被声明为 public 的类、方法、构造方法和接口能够被任何其他类访问。</p><p>如果几个相互访问的 public 类分布在不同的包中，则需要导入相应 public 类所在的包。由于类的继承性，类所有的公有方法和变量都能被其子类继承。</p><p>④ 受保护的访问修饰符-protected</p><p>protected 需要从以下两个点来分析说明：</p><ul><li><strong>子类与基类在同一包中</strong>：被声明为 protected 的变量、方法和构造器能被同一个包中的任何其他类访问；</li><li><strong>子类与基类不在同一包中</strong>：那么在子类中，子类实例可以访问其从基类继承而来的 protected 方法，而不能访问基类实例的protected方法。</li></ul><h3 id="访问控制和继承"><a href="#访问控制和继承" class="headerlink" title="访问控制和继承"></a>访问控制和继承</h3><p>请注意以下方法继承的规则：</p><ul><li>父类中声明为 public 的方法在子类中也必须为 public。</li><li>父类中声明为 protected 的方法在子类中要么声明为 protected，要么声明为 public，不能声明为 private。</li><li>父类中声明为 private 的方法，不能够被子类继承。</li></ul><h1 id="二、框架"><a href="#二、框架" class="headerlink" title="二、框架"></a>二、框架</h1><h2 id="1-Redis"><a href="#1-Redis" class="headerlink" title="1. Redis"></a>1. Redis</h2><h3 id="1-什么是redis"><a href="#1-什么是redis" class="headerlink" title="1) 什么是redis"></a>1) 什么是redis</h3><p><a href="https://www.toutiao.com/i6740616409446875659/">https://www.toutiao.com/i6740616409446875659/</a></p><h3 id="2-redis的持久化策略"><a href="#2-redis的持久化策略" class="headerlink" title="2) redis的持久化策略"></a>2) redis的持久化策略</h3><p>视频：<a href="https://www.bilibili.com/video/BV1qF41157D1">https://www.bilibili.com/video/BV1qF41157D1</a></p><p>概述</p><p>Redis是基于内存的非关系型K-V数据库，既然它是基于内存的，如果Redis服务器挂了，数据就会丢失，为了避免数据丢失，Redis提供了持久化，即把数据保存到磁盘。</p><p>持久化机制：</p><p>RDB</p><p>RDB（Redis database）持久化，是指在指定的时间间隔内将内存中的数据集快照写入磁盘，也就是Snapshot快照，它是Redis默认的持久化方式，执行完操作后，在指定目录下生成一个dump.rdb，Redis重启的时候，通过加载dump.rdb文件来恢复数据。</p><p>配置（redis.conf）</p><p>Redis默认提供了三种会触发rdb持久化的条件</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># 关闭rdb持久化功能</span><br><span class="hljs-attribute">save</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-comment"># 900秒之内至少有一个key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">900</span> <span class="hljs-number">1</span><br><span class="hljs-comment"># 300秒之内至少有十个key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">300</span> <span class="hljs-number">10</span><br><span class="hljs-comment"># 60秒之内有一万次key被改变</span><br><span class="hljs-attribute">save</span> <span class="hljs-number">60</span> <span class="hljs-number">10000</span><br><br><span class="hljs-comment"># rdb默认配置文件名称</span><br><span class="hljs-attribute">dbfilename</span> dump.rdb<br></code></pre></td></tr></table></figure><p>触发机制</p><p>手动触发</p><p>save：（同步）save时只管保存，其他不管，save是一个阻塞式命令，即当服务器接收了一条save命令之后就会开始拍摄快照，在此期间不会再去处理其他的请求，其他请求会被挂起直到备份结束，应该避免使用。</p><p>bgsave：（异步）Redis会在后台进行快照操作，快照操作同时还可以响应客户端请求，与save命令区别就在于bgsave不会阻塞主进程处理的操作。Redis会单独创建（Fork）一个子进程来进行持久化，先将数据写入到一个临时文件中，待持久化过程都结束了，再用这个临时文件替换上次持久化好的文件。</p><p>自动触发</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs excel"># m秒内数据集存在<span class="hljs-built_in">n</span>次修改时，自动触发bgsave（异步）<br>save m <span class="hljs-built_in">n</span><br></code></pre></td></tr></table></figure><p>优点</p><p>① 如果需要进行大规模的数据恢复，且对于数据恢复的完整性不是非常敏感，那么RDB方式要比AOF方式更加的高效</p><p>② 与AOF相比，在恢复大的数据集的时候，RDB方式会更快一些</p><p>③ RDB很适用于灾备，单文件很方便就能传输到远程的服务器上</p><p>④ 可以定期备份RDB文件，直接写个脚本就可以，很方便</p><p>缺点</p><p>① 没有办法做到实时持久化&#x2F;秒级持久化</p><p>② 最后一次持久化后的数据可能丢失</p><p>③ RDB需要经常fork子进程来保存数据集到硬盘上，当数据集比较大的时候，fork的进程是非常耗时的，可能导致Redis在一些毫秒级不能响应客户端请求</p><p>AOF</p><p>全称“append only file”，AOF是以日志的形式来记录每个写操作，将Redis执行过的所有写指令记录下来（读操作不记录），只许追加文件但不可以改写文件，Redis启动之初会读取该文件重新构建数据，Redis重启的话根据日志文件的内容将写指令从头到尾执行一次以完成数据的恢复。AOF方式持久化默认保存的是appendonly.aof文件，它主要解决数据持久化的实时性问题，默认是不开启的。</p><p>配置（redis.conf）</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># AOF持久化开关，默认是关闭的</span><br><span class="hljs-attribute">appendonly</span> no<br><br><span class="hljs-comment"># AOF备份文件的名称</span><br><span class="hljs-attribute">appendfilename</span> <span class="hljs-string">&quot;appendonly.aof&quot;</span><br><br><span class="hljs-comment"># AOF持久化策略</span><br><span class="hljs-comment"># Always：同步持久化，每次发生数据变更会立即记录到磁盘，性能较差但数据完整性较好</span><br><span class="hljs-comment"># appendfsync always</span><br><span class="hljs-comment"># Everysec：默认配置，异步操作，每秒记录，如果一秒内宕机，有数据丢失</span><br><span class="hljs-attribute">appendfsync</span> everysec<br><br><span class="hljs-comment"># 默认配置是当AOF文件大小是上次rewrite后大小的一倍且文件大于64M时触发重写</span><br><span class="hljs-attribute">auto</span>-aof-rewrite-percentage <span class="hljs-number">100</span><br><span class="hljs-attribute">auto</span>-aof-rewrite-min-size <span class="hljs-number">64</span>mb<br></code></pre></td></tr></table></figure><p>原理</p><p>AOF方式持久化通过保存Redis执行时候的所有写操作命令，注意，读操作命令不追加，将写命令追加到appendonly.aof文件中，理论上只要保存了所有写操作命令，那么恢复时将这些命令从头到尾再执行一次就可以从正常恢复数据。</p><p>AOF持久化策略</p><ul><li>appendfsync always：always（同步持久化），每次发生数据变更会立即记录到磁盘，性能较差但数据完整性较好，always会严重影响服务器的性能</li><li>appendfsync everysec：everysec，默认方式，异步操作，每秒记录，如果一秒内宕机，有数据丢失</li><li>appendfsync no：从不同步</li></ul><p>重写机制</p><p>AOF采用文件追加方式，文件会越来越大，为避免出现此种情况，Redis新增了重写机制，当AOF文件的大小超过所设定的阈值时，Redis就会启动AOF文件的内容压缩，只保留可以恢复数据的最小指令集。当然我们也可以使用命令bgrewriteaof手动告诉Redis进行AOF文件的重写，这样可以有效减少AOF文件的体积。</p><p>重写原理</p><ul><li><p>Redis会fork出一个子进程来对AOF文件进行重写，原理跟快照持久化命令bgsave的工作原理类似，值得注意的是，进行AOF文件重写时，如果原来的AOF文件体积已经非常大，那么重写AOF并删除旧的AOF文件的过程将会对Redis的性能造成较大的影响。</p></li><li><p>auto-aof-rewrite-percentage：配置当AOF文件需要比旧AOF文件增大多少时才进行重写</p></li><li><p>auto-aof-rewrite-min-size：配置当AOF文件需要达到多大体积时才进行重写</p></li><li><p>只有这两个配置的条件都达到时，才会进行重写。</p></li></ul><p>优点</p><p>① 数据的一致性和完整性更高</p><p>② 使用默认的持久化策略：每秒同步一次，Redis数据最多只会丢失1秒的数据</p><p>③ AOF文件的格式可读性较强，同时还可以检查AOF文件中的错误并进行修复</p><p>缺点</p><p>① 对相同的数据集来说，AOF文件的体积通常要大于RDB文件的体积，恢复速度慢于RDB</p><p>加载流程</p><p><img src="/../../images/redis%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B.png" alt="redis加载流程"></p><p>如果存在dump.rdb文件和aof文件的话，会优先加载aof文件</p><p>总结</p><ul><li>Redis允许同时存在rdb和aof两种持久化方式，但是重启时会优先加载aof文件</li><li>如果在项目中只是将redis作为缓存服务器的话，我们可以不用进行持久化，因为缓存对数据敏感性没那么强</li><li>aof持久化方式最多只会丢失一秒的数据，但是这带来了很多额外的IO操作，其次就是重写造成的阻塞不可避免，所以应该尽量减少aof重写的频率，建议将参数auto-aof-rewrite-min-size修改为5G或者更大</li></ul><h3 id="3-redis如何保证缓存和数据库一致性"><a href="#3-redis如何保证缓存和数据库一致性" class="headerlink" title="3) redis如何保证缓存和数据库一致性"></a>3) redis如何保证缓存和数据库一致性</h3><p><a href="https://blog.csdn.net/weixin_43709538/article/details/123998052">https://blog.csdn.net/weixin_43709538/article/details/123998052</a></p><p>想要保证缓存与数据库的双写一致，一共有4种方式，即4种同步策略：<br>先更新缓存，再更新数据库；<br>先更新数据库，再更新缓存；<br>先删除缓存，再更新数据库；<br>先更新数据库，再删除缓存。</p><p>那么我们需要做的就是根据不同的场景来使用合理的方式来解决数据问题。</p><p><strong>第一种：先删除缓存，再更新数据库</strong></p><p>在出现失败时可能出现的问题：</p><p>1：线程A删除缓存成功，线程A更新数据库失败；</p><p>2 ：线程B从缓存中读取数据；由于缓存被删，进程B无法从缓存中得到数据，进而从数据库读取数据；此时数据库中的数据更新失败，线程B从数据库成功获取旧的数据，然后将数据更新到了缓存。<br>最终，缓存和数据库的数据是一致的，但仍然是旧的数据。</p><p><strong>第二种：先更新数据库，再删除缓存</strong></p><p>假设这会有两个请求，一个请求A做查询操作，一个请求B做更新操作，那么会有如下情形产生</p><p>（1）缓存刚好失效<br>（2）请求A查询数据库，得一个旧值<br>（3）请求B将新值写入数据库<br>（4）请求B删除缓存<br>（5）请求A将查到的旧值写入缓存<br>如果发生上述情况，确实是会发生脏数据。<br>然而，发生这种情况的概率又有多少呢？<br>发生上述情况有一个先天性条件，就是步骤（3）的写数据库操作比步骤（2）的读数据库操作耗时更短，才有可能使得步骤（4）先于步骤（5）。<br>数据库的读操作的速度远快于写操作的（不然做读写分离干嘛，做读写分离的意义就是因为读操作比较快，耗资源少），因此步骤（3）耗时比步骤（2）更短，这一情形很难出现。<br>先更新数据库，再删缓存依然会有问题，不过，问题出现的可能性会因为上面说的原因，变得比较低。</p><p><strong>第三种：给所有的缓存一个失效期</strong></p><p>第三种方案可以说是一个大杀器，任何不一致，都可以靠失效期解决，失效期越短，数据一致性越高。但是失效期越短，查数据库就会越频繁。因此失效期应该根据业务来定。<br>1.并发不高的情况：<br>读: 读redis-&gt;没有，读mysql-&gt;把mysql数据写回redis，有的话直接从redis中取；<br>写: 写mysql-&gt;成功，再写redis；<br>2.并发高的情况：<br>读: 读redis-&gt;没有，读mysql-&gt;把mysql数据写回redis，有的话直接从redis中取；<br>写：异步话，先写入redis的缓存，就直接返回；定期或特定动作将数据保存到mysql，可以做到多次更新，一次保存；</p><p><strong>第四种：加锁，使线程顺序执行</strong></p><p>如果一个服务部署到了多个机器，就变成了分布式锁，或者是分布式队列按顺序去操作数据库或者 Redis，带来的副作用就是：数据库本来是并发的，现在变成串行的了，加锁或者排队执行的方案降低了系统性能，所以这个方案看起来不太可行。</p><p><strong>第五种：采用双删</strong></p><p>先删除缓存，再更新数据库，当更新数据后休眠一段时间再删除一次缓存。</p><p>方案推荐两种：</p><p>1：项目整合quartz等定时任务框架，去实现延时3–5s再去执行最后一步任务 。（推荐使用）<br>2：创建线程池，线程池中拿一个线程，线程体中延时3-5s再去执行最后一步任务（不能忘了启动线程）</p><p><strong>第六种：异步更新缓存(基于订阅binlog的同步机制)</strong></p><p>MySQL binlog增量订阅消费+消息队列+增量数据更新到redis读Redis</p><p>热数据基本都在Redis写</p><p>MySQL:增删改都是操作MySQL</p><p>更新Redis数据：MySQ的数据操作binlog，来更新到Redis：</p><p>1)数据操作主要分为两大块：一个是全量(将全部数据一次写入到redis)一个是增量(实时更新)。</p><p>这里说的是增量,指的是mysql的update、insert、delate变更数据。</p><p>2)读取binlog后分析 ，利用消息队列,推送更新各台的redis缓存数据。<br>这样一旦MySQL中产生了新的写入、更新、删除等操作，就可以把binlog相关的消息推送至Redis，Redis再根据binlog中的记录，对Redis进行更新。<br>其实这种机制，很类似MySQL的主从备份机制，因为MySQL的主备也是通过binlog来实现的数据一致性。<br>这里可以结合使用canal(阿里的一款开源框架)，通过该框架可以对MySQL的binlog进行订阅，而canal正是模仿了mysql的slave数据库的备份请求，使得Redis的数据更新达到了相同的效果。<br>当然，这里的消息推送工具你也可以采用别的第三方：kafka、rabbitMQ等来实现推送更新Redis。</p><p>以上就是redis和数据库数据保持一致的方案。</p><h3 id="4-redis的淘汰机制"><a href="#4-redis的淘汰机制" class="headerlink" title="4) redis的淘汰机制"></a>4) redis的淘汰机制</h3><h2 id="2-MVC编程模式"><a href="#2-MVC编程模式" class="headerlink" title="2. MVC编程模式"></a>2. MVC编程模式</h2><p><img src="/../../images/clip_image010.jpg" alt="img"></p><h2 id="3-SSM框架"><a href="#3-SSM框架" class="headerlink" title="3. SSM框架"></a>3. SSM框架</h2><p>1.1、Spring是一个开源框架， 简单来说，Spring是一个轻量级的控制反转（IoC）和面向切面（AOP）的容器框架。</p><p>1.2、Spring MVC属于SpringFrameWork的后续产品，已经融合在Spring Web Flow里面。Spring MVC 分离了控制器、模型对象、分派器以及处理程序对象的角色，这种分离让它们更容易进行定制。</p><p>1.3、MyBatis是一个基于Java的持久层框架。MyBatis 使用简单的 XML或注解用于配置和原始映射，将接口和 Java 的POJOs（Plain Old Java Objects，普通的 Java对象）映射成数据库中的记录。</p><h3 id="1-Spring-MVC执行流程"><a href="#1-Spring-MVC执行流程" class="headerlink" title="(1) Spring MVC执行流程"></a>(1) Spring MVC执行流程</h3><p>Spring源码：<a href="https://www.bilibili.com/video/BV16Y411M7c8">https://www.bilibili.com/video/BV16Y411M7c8</a></p><p><a href="https://blog.csdn.net/qq_39543984/article/details/111132789">https://blog.csdn.net/qq_39543984/article/details/111132789</a></p><p><img src="/../../images/20201213171946419.png"></p><p>第一步：发起请求到前端控制器</p><p>第二步：前端控制器请求HandlerMapping查找 Handler，可以根据xml配置、注解进行查找</p><p>第三步：处理器映射器HandlerMapping向前端控制器返回Handler</p><p>第四步：前端控制器调用处理器适配器去执行Handler</p><p>第五步：处理器适配器去执行Handler</p><p>第六步：Handler执行完成给适配器返回ModelAndView</p><p>第七步：处理器适配器向前端控制器返回ModelAndView，ModelAndView是springmvc框架的一个底层对象，包括Model和view</p><p>第八步：前端控制器请求视图解析器去进行视图解析，根据逻辑视图名解析成真正的视图(jsp)</p><p>第九步：视图解析器向前端控制器返回View</p><p>第十步：前端控制器进行视图渲染，视图渲染将模型数据(在ModelAndView对象中)填充到request域</p><p>第十一步：前端控制器向用户响应结果</p><h3 id="2-springmvc组件详细介绍"><a href="#2-springmvc组件详细介绍" class="headerlink" title="(2) springmvc组件详细介绍"></a>(2) springmvc组件详细介绍</h3><p><a href="https://m.itshutong.com/articles/669/common-mvc-spring-components">https://m.itshutong.com/articles/669/common-mvc-spring-components</a></p><p>DispatcherServlet、HandlerMapping、Handler、HandlerAdapter、View Resolver</p><p>1、前端控制器DispatcherServlet（不需要程序员开发）</p><p><a href="https://www.jianshu.com/p/9b7883c6a1a0">DispatcherServlet详解</a></p><p>用户请求到达前端控制器，它就相当于 mvc 模式中的 c，dispatcherServlet 是整个流程控制的中心，由它调用其它组件处理用户的请求，dispatcherServlet 的存在降低了组件之间的耦合性。</p><p>作用：接收请求，响应结果，相当于转发器，中央处理器。</p><p>2、处理器映射器HandlerMapping(不需要程序员开发)</p><p>负责根据用户请求找到 Handler 处理器，SpringMVC 提供了不同的映射器实现不同的映射方式，例如: 配置文件方式，实现接口方式，注解方式等。</p><p>作用：根据请求的url查找Handler</p><p>3、处理器适配器HandlerAdapter</p><p>通过 HandlerAdapter 对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理器进行执行。</p><p><img src="/../../images/clip_image012.gif" alt="img"></p><p>作用：按照特定规则（HandlerAdapter要求的规则）去执行Handler</p><p>4、处理器Handler(需要程序员开发)</p><p>它就是我们开发中要编写的具体业务控制器。由 DispatcherServlet 把用户请求转发到 Handler。由 Handler 对具体的用户请求进行处理。</p><p>注意：编写Handler时按照HandlerAdapter的要求去做，这样适配器才可以去正确执行Handler</p><p>5、视图解析器View resolver(不需要程序员开发)</p><p>负责将处理结果生成 View 视图，View Resolver 首先根据逻辑视图名解析成物理视图名，即具体的页面地址，再生成 View 视图对象，最后对 View 进行渲染将处理结果通过页面展示给用户。</p><p>作用：进行视图解析，根据逻辑视图名解析成真正的视图（view）</p><p>6、视图View(需要程序员开发jsp)</p><p>View是一个接口，实现类支持不同的View类型（jsp、freemarker、pdf…）</p><p>7、组件加载</p><p>在 SpringMVC 的各个组件中，处理器映射器、处理器适配器、视图解析器称为 SpringMVC 的三大组件。</p><p>使用 <code>&lt;mvc:annotation-driven&gt;</code> 自动加载 RequestMappingHandlerMapping(处理映射器)和 RequestMappingHandlerAdapter (处理适配器) ， 可替代注解处理器和适配器的配置</p><h3 id="3-什么是依赖注入（DI）"><a href="#3-什么是依赖注入（DI）" class="headerlink" title="(3) 什么是依赖注入（DI）"></a>(3) 什么是依赖注入（DI）</h3><p>视频：<a href="https://www.bilibili.com/video/av508902066">https://www.bilibili.com/video/av508902066</a></p><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>DI 英文全称为 Dependency Injection，即 <strong>依赖注入</strong>，指的是应用程序在运行时依赖IOC容器来动态注入组件所需要的某个依赖对象，Spring的DI具体就是通过反射实现注入的，反射允许程序在运行的时候动态的生成对象、执行对象的方法、改变对象的属性等。</p><h4 id="理解DI的关键"><a href="#理解DI的关键" class="headerlink" title="理解DI的关键"></a>理解DI的关键</h4><p>”谁依赖谁，为什么需要依赖，谁注入谁，注入了什么“</p><ul><li>谁依赖谁：应用程序依赖于IOC容器</li><li>为什么需要依赖：应用程序需要IOC容器来提供组件需要的外部资源</li><li>谁注入谁：IOC容器注入应用程序某个对象，即应用程序依赖的对象</li><li>注入了什么：注入某个对象所需要的外部资源（包括对象、资源、常量数据）</li></ul><h4 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h4><p>通过依赖注入，我们只需要通过简单的配置，而无需任何代码就可指定目标需要的资源，完成自身的业务逻辑，而不需要关心具体的资源来自何处，由谁实现。</p><hr><p>依赖注入是控制反转最常见的一种应用方式，即通过控制反转，在对象创建的时候，自动注入一些依赖对象。</p><p>依赖注入就是参数传递。</p><p>依赖注入是在一个类中以参数传递的形式引入另外的类，它本身是参数传递的一种形式。但是，反过来就不成立，参数传递不一定是依赖注入，可能是普通的参数，而非某个类。</p><hr><h3 id="4-什么是控制反转（IoC）"><a href="#4-什么是控制反转（IoC）" class="headerlink" title="(4) 什么是控制反转（IoC）"></a>(4) 什么是控制反转（IoC）</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><p>IoC 英文全称为 Inversion of Control，即 <strong>控制反转</strong>，是一种设计思想，指的是将原本在程序中由我们手动创建对象的控制权，在使用Spring之后，将这个控制权交给Spring框架来管理，由Spring来负责控制对象的生命周期（比如创建、销毁）和对象间的依赖关系。</p><p>IOC由专门的容器来帮忙创建对象，将所有的类都放在Spring容器中，当我们需要某个对象的时候，不再需要自己主动去new了，只需告诉Spring容器，然后Spring就会把对应的对象返回给你。</p><h4 id="好处："><a href="#好处：" class="headerlink" title="好处："></a>好处：</h4><ul><li>传统应用程序都是由我们在类内部主动创建依赖对象，从而导致类与类之间高度耦合；有了Spring IOC容器之后，把创建和查找依赖对象的控制权交给了容器，由容器进行依赖对象的注入，所以对象与对象之间是松散耦合，有利于功能复用，更重要的是使得程序的整个体系结构变得非常灵活。</li><li>IOC容器就像是一个工厂，当我们需要创建一个对象的时候，只需要配置好配置文件&#x2F;注解即可，完全不用考虑对象是如何被创建出来的。例如，在实例项目中，一个Service接口可能依赖了很多其他接口，如果采用手动new依赖对象的话，我们需要搞清楚所有依赖对象的构造方法，使用了Spring框架之后，我们只需要配置好，然后在需要的地方引用就行，大大增加了项目的可维护性，而且降低了开发难度。</li></ul><hr><p>控制反转是面向对象编程中的一种原则，用于降低代码之间的耦合度。传统应用程序都是在类的内部主动创建依赖对象，这样将导致类与类之间耦合度非常高，并且不容易测试。有了 IoC 容器之后，可以将创建和查找依赖对象的控制权交给了容器，这样对象与对象之间就是松散耦合了，方便测试与功能复用，整个程序的架构体系也会变得非常灵活。</p><ul><li>高等级的代码不能依赖低等级的代码；</li><li>抽象接口不能依赖具体实现；</li></ul><p>所谓高等级的代码，可以理解为抽象类、接口、装饰类等等；所谓低等级的代码，可以理解为抽象类的具体实现，定义具体功能的类。</p><hr><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><h5 id="①-制反转是目标，依赖注入是我们实现控制反转的一种手段"><a href="#①-制反转是目标，依赖注入是我们实现控制反转的一种手段" class="headerlink" title="① 制反转是目标，依赖注入是我们实现控制反转的一种手段"></a>① 制反转是目标，依赖注入是我们实现控制反转的一种手段</h5><h5 id="②-控制反转"><a href="#②-控制反转" class="headerlink" title="② 控制反转"></a>② 控制反转</h5><ul><li>控制未反转：由开发者来控制对象的创建。</li><li>控制反转：我们将创建对象的控制权交给了Spring，由Spring来控制对象的创建。</li></ul><h5 id="③-依赖注入：对象"><a href="#③-依赖注入：对象" class="headerlink" title="③ 依赖注入：对象"></a>③ 依赖注入：对象</h5><h2 id="5-Mybatis中的-和-区别与用法"><a href="#5-Mybatis中的-和-区别与用法" class="headerlink" title="5. Mybatis中的 ${} 和 #{}区别与用法"></a>5. Mybatis中的 ${} 和 #{}区别与用法</h2><ol><li>#{}将传入的数据都当成一个字符串，会对自动传入的数据加一个引号（单引号？双引号？加了引号就对了）如：</li></ol><p>&#x2F;&#x2F;传入的值是sex</p><p>order by #{column}</p><p>解析后为</p><p>order by “sex” &#x2F;&#x2F;将会出错</p><ol start="2"><li>${}将传入的数据直接显示生成在sql中，如：</li></ol><p>&#x2F;&#x2F;传入的值是sex</p><p>order by ${column}</p><p>解析后为</p><p>order by sex &#x2F;&#x2F;正确的</p><ol start="3"><li><p>#{}可以在很大程度上防止sql注入，${}无法防止sql注入</p></li><li><p>${}一般用于传入数据库对象，例如传入表名（mybatis动态查询）</p></li><li><p>能用#就别用$</p></li><li><p>#使用了PreparedStatement来进行预处理，然后用set的方式对占位符进行设置；</p></li></ol><p>$则是通过Statement直接进行查询，当有参数时直接进行拼接进行查询。（具体大家可以去看jdbc里面的PreparedStatement和Statement的处理方式不同）</p><ol start="8"><li><p>但是#{}在动态解析的时候，会把参数部分解析成一个占位符？代替</p></li><li><p>而${}则是简单的字符替换，在动态解析阶段，该sql会被解析成</p></li></ol><h2 id="6-微服务如何调用的"><a href="#6-微服务如何调用的" class="headerlink" title="6. 微服务如何调用的"></a>6. 微服务如何调用的</h2><p><a href="https://blog.csdn.net/rfidgroup/article/details/89519577">https://blog.csdn.net/rfidgroup/article/details/89519577</a></p><h2 id="7-springmvc-传参-传对象类型-后台需要怎么处理"><a href="#7-springmvc-传参-传对象类型-后台需要怎么处理" class="headerlink" title="7. springmvc 传参 传对象类型 后台需要怎么处理"></a>7. springmvc 传参 传对象类型 后台需要怎么处理</h2><h2 id="8-如何实现一个IOC容器"><a href="#8-如何实现一个IOC容器" class="headerlink" title="8. 如何实现一个IOC容器"></a>8. 如何实现一个IOC容器</h2><p><img src="/../images/clip_image038.jpg" alt="img"></p><h2 id="9-springboot常用注解"><a href="#9-springboot常用注解" class="headerlink" title="9. springboot常用注解"></a>9. springboot常用注解</h2><h3 id="1-SpringBootApplication"><a href="#1-SpringBootApplication" class="headerlink" title="1) @SpringBootApplication"></a>1) @SpringBootApplication</h3><p>包含@Configuration、@EnableAutoConfiguration、@ComponentScan<br>通常用在主类上。</p><p>@SpringBootApplication包含的三个注解及其含义</p><p>第一个：@SpringBootConfiguration（在这个类的源码中又有一个Configuration的注解）</p><p>@Configuration这个注解的作用就是声明当前类是一个配置类，然后Spring会自动扫描到添加了@Configuration的类，读取其中的配置信息，而@SpringBootConfiguration是来声明当前类是SpringBoot应用的配置类，项目中只能有一个。所以一般我们无需自己添加。</p><p>第二个：@EnableAutoConfiguration</p><p>开启自动配置，告诉SpringBoot基于所添加的依赖，去“猜测”你想要如何配置Spring。比如我们引入了spring-boot-starter-web，而这个启动器中帮我们添加了tomcat、SpringMVC的依赖，此时自动配置就知道你是要开发一个web应用，所以就帮你完成了web及SpringMVC的默认配置了！我们使用SpringBoot构建一个项目，只需要引入所需框架的依赖，配置就可以交给SpringBoot处理了。</p><p>第三个：@ComponentScan</p><p>配置组件扫描的指令</p><p>提供了类似与<a href="context:component-scan">context:component-scan</a>标签的作用</p><p>通过basePackageClasses或者basePackages属性来指定要扫描的包。</p><p>如果没有指定这些属性，那么将从声明这个注解的类所在的包开始，扫描包及子包</p><p>而我们的@SpringBootApplication注解声明的类就是main函数所在的启动类，</p><p>因此扫描的包是该类所在包及其子包。因此，一般启动类会放在一个比较前的包目录中。</p><h3 id="2-Repository"><a href="#2-Repository" class="headerlink" title="2) @Repository"></a>2) @Repository</h3><p>用于标注数据访问组件，即DAO组件。</p><h3 id="3-Service"><a href="#3-Service" class="headerlink" title="3) @Service"></a>3) @Service</h3><p>用于标注业务层组件。</p><h3 id="4-RestController"><a href="#4-RestController" class="headerlink" title="4)  @RestController"></a>4)  @RestController</h3><p>用于标注控制层组件(如struts中的action)，包含@Controller和@ResponseBody</p><h3 id="5-ResponseBody"><a href="#5-ResponseBody" class="headerlink" title="5) @ResponseBody"></a>5) @ResponseBody</h3><p>表示该方法的返回结果直接写入HTTP response body中</p><p>一般在异步获取数据时使用，在使用@RequestMapping后，返回值通常解析为跳转路径，加上@responsebody后返回结果不会被解析</p><p>为跳转路径，而是直接写入HTTP response body中。比如异步获取json数据，加上@responsebody后，会直接返回json数据。</p><h3 id="6-Component"><a href="#6-Component" class="headerlink" title="6) @Component"></a>6) @Component</h3><p>泛指组件，当组件不好归类的时候，我们可以使用这个注解进行标注。</p><h3 id="7-ComponentScan"><a href="#7-ComponentScan" class="headerlink" title="7) @ComponentScan"></a>7) @ComponentScan</h3><p>组件扫描。相当于，如果扫描到有@Component @Controller @Service等这些注解的类，则把</p><p>这些类注册为bean。</p><h3 id="8-Configuration"><a href="#8-Configuration" class="headerlink" title="8) @Configuration"></a>8) @Configuration</h3><p>指出该类是 Bean 配置的信息源，相当于XML中的，一般加在主类上。</p><h3 id="9-Bean"><a href="#9-Bean" class="headerlink" title="9) @Bean"></a>9) @Bean</h3><p>相当于XML中的,放在方法的上面，而不是类，意思是产生一个bean,并交给spring管理。</p><h3 id="10-EnableAutoConfiguration"><a href="#10-EnableAutoConfiguration" class="headerlink" title="10) @EnableAutoConfiguration"></a>10) @EnableAutoConfiguration</h3><p>让 Spring Boot 根据应用所声明的依赖来对 Spring 框架进行自动配置，一般加在主类上。</p><h3 id="11-AutoWired"><a href="#11-AutoWired" class="headerlink" title="11) @AutoWired"></a>11) @AutoWired</h3><p>byType方式。把配置好的Bean拿来用，完成属性、方法的组装，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作。</p><p>当加上（required&#x3D;false）时，就算找不到bean也不报错。</p><h3 id="12-Qualifier"><a href="#12-Qualifier" class="headerlink" title="12) @Qualifier"></a>12) @Qualifier</h3><p>当有多个同一类型的Bean时，可以用@Qualifier(“name”)来指定。与@Autowired配合使用</p><h3 id="13-Resource-name-x3D-”name”-type-x3D-”type”"><a href="#13-Resource-name-x3D-”name”-type-x3D-”type”" class="headerlink" title="13) @Resource(name&#x3D;”name”,type&#x3D;”type”)"></a>13) @Resource(name&#x3D;”name”,type&#x3D;”type”)</h3><p>没有括号内内容的话，默认byName。与@Autowired干类似的事。</p><h3 id="14-RequestMapping"><a href="#14-RequestMapping" class="headerlink" title="14) @RequestMapping"></a>14) @RequestMapping</h3><p>RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。</p><p>该注解有六个属性：</p><p>params:指定request中必须包含某些参数值是，才让该方法处理。</p><p>headers:指定request中必须包含某些指定的header值，才能让该方法处理请求。</p><p>value:指定请求的实际地址，指定的地址可以是URI Template 模式</p><p>method:指定请求的method类型， RequestMethod.GET、POST、PUT、DELETE等</p><p>consumes:指定处理请求的提交内容类型（Content-Type），如application&#x2F;json,text&#x2F;html;</p><p>produces:指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回</p><h3 id="15-RequestParam"><a href="#15-RequestParam" class="headerlink" title="15) @RequestParam"></a>15) @RequestParam</h3><p>用在方法的参数前面。</p><p>@RequestParam String a &#x3D;request.getParameter(“a”)。</p><h3 id="16-PathVariable"><a href="#16-PathVariable" class="headerlink" title="16) @PathVariable"></a>16) @PathVariable</h3><p>路径变量。参数与大括号里的名字一样要相同。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">RequestMapping(<span class="hljs-string">&quot;user/get/mac/&#123;macAddress&#125;&quot;</span>)<br><br> <br><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">getByMacAddress</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String macAddress)</span>&#123;<br><br> <br><br>　　<span class="hljs-comment">//do something;</span><br><br> <br><br>　　&#125;<br></code></pre></td></tr></table></figure><h3 id="17-Profiles"><a href="#17-Profiles" class="headerlink" title="17) @Profiles"></a>17) @Profiles</h3><p>Spring Profiles提供了一种隔离应用程序配置的方式，并让这些配置只能在特定的环境下生效。</p><p>任何@Component或@Configuration都能被@Profile标记，从而限制加载它的时机。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><br><span class="hljs-meta">@Profile(&quot;prod&quot;)</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductionConfiguration</span> &#123;  <span class="hljs-comment">// ...&#125;</span><br></code></pre></td></tr></table></figure><h3 id="18-ConfigurationProperties"><a href="#18-ConfigurationProperties" class="headerlink" title="18)  @ConfigurationProperties"></a>18)  @ConfigurationProperties</h3><p>Spring Boot将尝试校验外部的配置，默认使用JSR-303（如果在classpath路径中）。</p><p>你可以轻松的为你的@ConfigurationProperties类添加JSR-303 javax.validation约束注解：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><br><span class="hljs-meta">@ConfigurationProperties(prefix=&quot;connection&quot;)</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionSettings</span> &#123;<br><br><span class="hljs-meta">@NotNullprivate</span> InetAddress remoteAddress;<br><br><br><span class="hljs-comment">// ... getters and setters</span><br><br>&#125;<br></code></pre></td></tr></table></figure><p>全局异常处理</p><h3 id="19-ControllerAdvice"><a href="#19-ControllerAdvice" class="headerlink" title="19) @ControllerAdvice"></a>19) @ControllerAdvice</h3><p>包含@Component。可以被扫描到。</p><p>统一处理异常</p><h3 id="20-ExceptionHandler（Exception-class）："><a href="#20-ExceptionHandler（Exception-class）：" class="headerlink" title="20) @ExceptionHandler（Exception.class）："></a>20) @ExceptionHandler（Exception.class）：</h3><p>用在方法上面表示遇到这个异常就执行以下方法</p><p>总结：以上就是本篇文章的全部内容了，希望对大家有所帮助。</p><p>以上就是springboot常用注解有哪些的详细内容，更多请关注php中文网其它相关文章！</p><h2 id="10-过滤器和拦截器"><a href="#10-过滤器和拦截器" class="headerlink" title="10. 过滤器和拦截器"></a>10. 过滤器和拦截器</h2><h3 id="过滤器（filter）"><a href="#过滤器（filter）" class="headerlink" title="过滤器（filter）"></a>过滤器（filter）</h3><p>web.xml中设置字符编码</p><p>对请求进行过滤，比如过滤一些敏感文字</p><p>过滤器是基于函数回调</p><p>filter可以负责拦截多个请求或响应，一个请求或响应也可以被多个filter拦截</p><p>作用：过滤没用的参数、安全校验（是否登录）</p><h3 id="拦截器（interceptor）"><a href="#拦截器（interceptor）" class="headerlink" title="拦截器（interceptor）"></a>拦截器（interceptor）</h3><p>配置在springmvc里面，使用interceptors标签</p><p>依赖于springmvc框架，基于Java的反射机制，属于面向切面编程（AOP），可以同过spring的依赖注入（DI）进行一些业务操作，只能对controller请求拦截</p><h3 id="拦截器和过滤器的区别"><a href="#拦截器和过滤器的区别" class="headerlink" title="拦截器和过滤器的区别"></a>拦截器和过滤器的区别</h3><table><thead><tr><th>区别</th><th>过滤器(Filter)</th><th>拦截器(Interceptor)</th></tr></thead><tbody><tr><td>使用范围</td><td>是Servlet规范中的一部分，任何Java Web工程都可以使用</td><td>是SpringMVC框架自己的，只有使用了SpringMVC框架的工程才可以用</td></tr><tr><td>拦截范围</td><td>在url-pattern中配置了&#x2F;*之后，可以对所有要访问的资源拦截</td><td>在&lt;mvc:mapping path&#x3D;”” &#x2F;&gt;中配置了&#x2F;**之后，也可以对所有资源进行拦截，但是可以通过&lt;mvc:exclude-mapping path&#x3D;”” &#x2F;&gt;标签排除不需要拦截的资源</td></tr></tbody></table><h2 id="11-solr的运行原理："><a href="#11-solr的运行原理：" class="headerlink" title="11. solr的运行原理："></a>11. solr的运行原理：</h2><p>概念：<br>顺序扫描:<br>对数据挨个的进行比较，直到找出所有符合要求的数据。效率极地。<br>全文检索:<br>给数据创建一个索引目录，通过目录对符合要求的数据快速检索的方式。<br>反向索引：<br>保存了关键字和文档之间的对应关系的索引表，我们成为反向索引<br>倒排表：<br>保存了关键字对应的文档的ID数据的表<br>词频：<br>在词条化检索字段的数据后，词汇在文档中出现的频率。<br>运行流程： </p><h3 id="1-数据在solr库中的存储流程"><a href="#1-数据在solr库中的存储流程" class="headerlink" title="1) 数据在solr库中的存储流程"></a>1) 数据在solr库中的存储流程</h3><p>将文档数据存储到solr库中(josn数据)<br>—–&gt;使用词条化工具将检字段的值词条化：将数据分词，分成关键字<br>—–&gt;将分词结果给语言组件：将分词结果转化为词根形式<br>—-&gt;给检索字段创建索引目录（倒排索引）<br>—&gt;存储到索引库中(字段索引目录，文档数据 ) </p><h3 id="2-检索流程"><a href="#2-检索流程" class="headerlink" title="2) 检索流程"></a>2) 检索流程</h3><p>检索语句<br>–&gt;词条化工具分词<br>–&gt;根据分词后词汇信息，按照每个词汇检索索引目录<br>–&gt;返回所有的符合要求的文档数据<br>注意：<br>solr索引库的索引创建是基于字段创建的。<br>Lucene和solr的区别：<br>Lucene：Lucene是solr的底层<br>solr：solr是对lucene的封装<br>参照博客：<a href="http://www.importnew.com/12707.html">http://www.importnew.com/12707.html</a> </p><h2 id="12-Mybatis中-和-的区别是什么"><a href="#12-Mybatis中-和-的区别是什么" class="headerlink" title="12. Mybatis中#{}和${}的区别是什么"></a>12. Mybatis中#{}和${}的区别是什么</h2><p>① #{}是预编译处理、是占位符，${}是字符串替换、是拼接符</p><p>② Mybatis在处理#{}时，会将sql中#{}替换为?，调用PreparedStatement来赋值</p><p>③ Mybatis在处理${}时，就是把${}替换为变量的值，调用Statement来赋值</p><p>④ 使用#{}可以有效的防止sql注入，提高系统安全性</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 假设</span><br><span class="hljs-comment">-- name=&quot;zhangsan&quot;</span><br><span class="hljs-comment">-- passsword=&quot;1 or 1=1&quot;</span><br><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> #&#123;name&#125; <span class="hljs-keyword">and</span> password <span class="hljs-operator">=</span> #&#123;password&#125; 将转为<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;zhouyu&#x27;</span> <span class="hljs-keyword">and</span> password <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;1 or 1=1&#x27;</span><br><br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> $&#123;name&#125; <span class="hljs-keyword">and</span> password <span class="hljs-operator">=</span> $&#123;password&#125; 将转为<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> name <span class="hljs-operator">=</span> zhouyu <span class="hljs-keyword">and</span> password <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="13-返回一个json格式-数据怎么做"><a href="#13-返回一个json格式-数据怎么做" class="headerlink" title="13. 返回一个json格式 数据怎么做"></a>13. 返回一个json格式 数据怎么做</h2><h2 id="14-说说你最熟悉的项目-你做了什么"><a href="#14-说说你最熟悉的项目-你做了什么" class="headerlink" title="14. 说说你最熟悉的项目 你做了什么"></a>14. 说说你最熟悉的项目 你做了什么</h2><h2 id="15-solr的运行原理："><a href="#15-solr的运行原理：" class="headerlink" title="15. solr的运行原理："></a>15. solr的运行原理：</h2><p>概念： </p><p>顺序扫描: </p><p>对数据挨个的进行比较，直到找出所有符合要求的数据。效率极地。 </p><p>全文检索: </p><p>给数据创建一个索引目录，通过目录对符合要求的数据快速检索的方式。 </p><p>反向索引： </p><p>保存了关键字和文档之间的对应关系的索引表，我们成为反向索引 </p><p>倒排表： </p><p>保存了关键字对应的文档的ID数据的表 </p><p>词频： </p><p>在词条化检索字段的数据后，词汇在文档中出现的频率。 </p><p>运行流程： </p><p>1、数据在solr库中的存储流程 </p><p>将文档数据存储到solr库中(josn数据) </p><p>—–&gt;使用词条化工具将检字段的值词条化：将数据分词，分成关键字 </p><p>—–&gt;将分词结果给语言组件：将分词结果转化为词根形式 </p><p>—-&gt;给检索字段创建索引目录（倒排索引） </p><p>—&gt;存储到索引库中(字段索引目录，文档数据 ) </p><p>2、检索流程 </p><p>检索语句 </p><p>–&gt;词条化工具分词 </p><p>–&gt;根据分词后词汇信息，按照每个词汇检索索引目录 </p><p>–&gt;返回所有的符合要求的文档数据 </p><p>注意： </p><p>solr索引库的索引创建是基于字段创建的。 </p><p>Lucene和solr的区别： </p><p>Lucene：Lucene是solr的底层 </p><p>solr：solr是对lucene的封装 </p><p>参照博客：<a href="http://www.importnew.com/12707.html">http://www.importnew.com/12707.html</a> </p><h2 id="16-SpringCloud"><a href="#16-SpringCloud" class="headerlink" title="16. SpringCloud"></a>16. SpringCloud</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1) 概念"></a>1) 概念</h3><p>微服务是一种经过良好架构设计的分布式架构方案，微服务架构特征：单一职责、面向服务、自治和隔离性强。</p><p>单体架构：简单方便、耦合度高、可扩展性差</p><p>分布式架构：松耦合、扩展性好，但是架构复杂、难度大</p><p>微服务拆分粒度更小，服务与服务之间独立，耦合度低</p><h1 id="四-数据库"><a href="#四-数据库" class="headerlink" title="四. 数据库"></a>四. 数据库</h1><p>底层架构原理：<a href="https://blog.csdn.net/m0_38075425/article/details/82256315">https://blog.csdn.net/m0_38075425/article/details/82256315</a></p><h2 id="MySQL索引"><a href="#MySQL索引" class="headerlink" title="MySQL索引"></a>MySQL索引</h2><p>概念：索引是帮助MySQL高效获取数据的排好序的数据结构</p><p><img src="/../images/clip_image014.jpg" alt="img"></p><h2 id="MySQL存储引擎"><a href="#MySQL存储引擎" class="headerlink" title="MySQL存储引擎"></a>MySQL存储引擎</h2><p>a)    MySQL在5.1版本之前默认存储引擎为MyISAM，在此版本之后为InnoDB</p><p>b)    MyISAM存储引擎</p><p>MyIsam 的存储文件有三个，后缀名分别是 .frm、.MYD、MYI，其中 .frm 是表的定义文件，.MYD 是数据文件，.MYI 是索引文件。MyIsam 只支持表锁，不支持事务。MyIsam 由于有单独的索引文件，在读取数据方面的性能很高。Myisam是以堆结构进行组织数据，其表容易损坏。</p><p>c)    InnoDB</p><p>InnoDB 的存储文件有两个，后缀名分别是 .frm 和 .idb，其中 .frm 是表的定义文件，而 idb 是数据文件。InnoDB 中存在表锁和行锁，不过行锁是在命中索引的情况下才会起作用。InnoDB 支持事务，且支持四种隔离级别（读未提交、读已提交、可重复读、串行化），默认的为可重复读。</p><p><img src="/../../images/clip_image016.jpg" alt="img"></p><p><img src="/../../images/clip_image018.jpg" alt="img"></p><h2 id="MyISAM与InnoDB的区别（9个不同点）"><a href="#MyISAM与InnoDB的区别（9个不同点）" class="headerlink" title="MyISAM与InnoDB的区别（9个不同点）"></a>MyISAM与InnoDB的区别（9个不同点）</h2><p>MyISAM与InnoDB 的区别（9个不同点）：</p><p><a href="https://blog.csdn.net/qq_35642036/article/details/82820178">https://blog.csdn.net/qq_35642036/article/details/82820178</a></p><p>Mysql 中 MyISAM 和 InnoDB 的区别有哪些？：</p><p><a href="https://www.zhihu.com/question/20596402">https://www.zhihu.com/question/20596402</a></p><p>mysql 创建表_MySql 数据库文件介绍和存放位置，以及如何修改默认存放位置？：</p><p>​    <a href="https://blog.csdn.net/weixin_39714565/article/details/110863839">https://blog.csdn.net/weixin_39714565/article/details/110863839</a></p><ol><li><p>InnoDB支持事务，MyISAM不支持，对于InnoDB每一条SQL语言都默认封装成事务，自动提交，这样会影响速度，所以最好把多条SQL语言放在begin和commit之间，组成一个事务； </p></li><li><p>InnoDB支持外键，而MyISAM不支持。对一个包含外键的InnoDB表转为MYISAM会失败； </p></li><li><p>InnoDB是聚集索引，使用B+Tree作为索引结构，数据文件是和（主键）索引绑在一起的（表数据文件本身就是按B+Tree组织的一个索引结构），必须要有主键，通过主键索引效率很高。但是辅助索引需要两次查询，先查询到主键，然后再通过主键查询到数据。因此，主键不应该过大，因为主键太大，其他索引也都会很大。</p></li></ol><p>​    MyISAM是非聚集索引，也是使用B+Tree作为索引结构，索引和数据文件是分离的，索引保存的是数据文件的指针。主键索引和辅助索引是独立的。</p><p>​    也就是说：InnoDB的B+树主键索引的叶子节点就是数据文件，辅助索引的叶子节点是主键的值；而MyISAM的B+树主键索引和辅助索引的叶子节点都是数据文件的地址指针。</p><p><img src="/../images/clip_image020.jpg" alt="img"></p><p><img src="/../images/clip_image022.jpg" alt="img"></p><p><img src="/../images/clip_image024.jpg" alt="img"></p><p>\4. InnoDB不保存表的具体行数，执行select count(*) from table时需要全表扫描。而MyISAM用一个变量保存了整个表的行数，执行上述语句时只需要读出该变量即可，速度很快（注意不能加有任何WHERE条件）；</p><p>那么为什么InnoDB没有了这个变量呢？</p><p>  因为InnoDB的事务特性，在同一时刻表中的行数对于不同的事务而言是不一样的，因此count统计会计算对于当前事务而言可以统计到的行数，而不是将总行数储存起来方便快速查询。InnoDB会尝试遍历一个尽可能小的索引除非优化器提示使用别的索引。如果二级索引不存在，InnoDB还会尝试去遍历其他聚簇索引。</p><p>  如果索引并没有完全处于InnoDB维护的缓冲区（Buffer Pool）中，count操作会比较费时。可以建立一个记录总行数的表并让你的程序在INSERT&#x2F;DELETE时更新对应的数据。和上面提到的问题一样，如果此时存在多个事务的话这种方案也不太好用。如果得到大致的行数值已经足够满足需求可以尝试SHOW TABLE STATUS</p><ol start="5"><li><p>Innodb不支持全文索引，而MyISAM支持全文索引，在涉及全文索引领域的查询效率上MyISAM速度更快高；PS：5.7以后的InnoDB支持全文索引了</p></li><li><p>MyISAM表格可以被压缩后进行查询操作</p></li><li><p>InnoDB支持表、行(默认)级锁，而MyISAM支持表级锁</p><p>InnoDB的行锁是实现在索引上的，而不是锁在物理行记录上。潜台词是，如果访问没有命中索引，也无法使用行锁，将要退化为表锁。</p></li></ol><p>8、InnoDB表必须有唯一索引（如主键）（用户没有指定的话会自己找&#x2F;生产一个隐藏列Row_id来充当默认主键），而Myisam可以没有</p><p>9、Innodb存储文件有frm、ibd，而Myisam是frm、MYD、MYI</p><p>​    Innodb：frm是表定义文件，ibd是数据文件</p><p>​    Myisam：frm是表定义文件，myd是数据文件，myi是索引文件</p><h2 id="MySQL去重"><a href="#MySQL去重" class="headerlink" title="MySQL去重"></a>MySQL去重</h2><p>关键字：distinct</p><h2 id="MySQL的事务"><a href="#MySQL的事务" class="headerlink" title="MySQL的事务"></a>MySQL的事务</h2><p><a href="https://www.cnblogs.com/limuzi1994/p/9684083.html">https://www.cnblogs.com/limuzi1994/p/9684083.html</a></p><h3 id="事务的四个特性"><a href="#事务的四个特性" class="headerlink" title="事务的四个特性"></a>事务的四个特性</h3><p>原子性、一致性、隔离性、持久性</p><h4 id="1、原子性（Atomicity）"><a href="#1、原子性（Atomicity）" class="headerlink" title="1、原子性（Atomicity）"></a>1、原子性（Atomicity）</h4><p>原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。</p><h4 id="2、一致性（Consistency）"><a href="#2、一致性（Consistency）" class="headerlink" title="2、一致性（Consistency）"></a>2、一致性（Consistency）</h4><p>一致性是指事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行之前和执行之后都必须处于一致性状态。举例来说，假设用户A和用户B两者的钱加起来一共是1000，那么不管A和B之间如何转账、转几次账，事务结束后两个用户的钱相加起来应该还得是1000，这就是事务的一致性。</p><h4 id="3、隔离性（Isolation）"><a href="#3、隔离性（Isolation）" class="headerlink" title="3、隔离性（Isolation）"></a>3、隔离性（Isolation）</h4><p>隔离性是当多个用户并发访问数据库时，比如同时操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。关于事务的隔离性数据库提供了多种隔离级别，稍后会介绍到。</p><h4 id="4、持久性（Durability）"><a href="#4、持久性（Durability）" class="headerlink" title="4、持久性（Durability）"></a>4、持久性（Durability）</h4><p>持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作。例如我们在使用JDBC操作数据库时，在提交事务方法后，提示用户事务操作完成，当我们程序执行完成直到看到提示后，就可以认定事务已经正确提交，即使这时候数据库出现了问题，也必须要将我们的事务完全执行完成。否则的话就会造成我们虽然看到提示事务处理完毕，但是数据库因为故障而没有执行事务的重大错误。这是不允许的。</p><h3 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h3><p>数据库事务的隔离级别有4个，由低到高依次为Read uncommitted(未授权读取、读未提交)、Read committed（授权读取、读提交）、Repeatable read（可重复读取）、Serializable（序列化），这四个级别可以逐个解决脏读、不可重复读、幻象读这几类问题。</p><p> 第一种隔离级别：Read uncommitted(读未提交)<br>如果一个事务已经开始写数据，则另外一个事务不允许同时进行写操作，但允许其他事务读此行数据，该隔离级别可以通过“排他写锁”，但是不排斥读线程实现。这样就避免了更新丢失，却可能出现脏读，也就是说事务B读取到了事务A未提交的数据</p><p>解决了更新丢失，但还是可能会出现脏读</p><p>第二种隔离级别：Read committed(读提交)<br>如果是一个读事务(线程)，则允许其他事务读写，如果是写事务将会禁止其他事务访问该行数据，该隔离级别避免了脏读，但是可能出现不可重复读。事务A事先读取了数据，事务B紧接着更新了数据，并提交了事务，而事务A再次读取该数据时，数据已经发生了改变。</p><p>解决了更新丢失和脏读问题</p><p>第三种隔离级别：Repeatable read(可重复读取)<br>可重复读取是指在一个事务内，多次读同一个数据，在这个事务还没结束时，其他事务不能访问该数据(包括了读写)，这样就可以在同一个事务内两次读到的数据是一样的，因此称为是可重复读隔离级别，读取数据的事务将会禁止写事务(但允许读事务)，写事务则禁止任何其他事务(包括了读写)，这样避免了不可重复读和脏读，但是有时可能会出现幻读。(读取数据的事务)可以通过“共享读镜”和“排他写锁”实现。</p><p>解决了更新丢失、脏读、不可重复读、但是还会出现幻读</p><p>第四种隔离级别：Serializable(可序化)<br>提供严格的事务隔离，它要求事务序列化执行，事务只能一个接着一个地执行，但不能并发执行，如果仅仅通过“行级锁”是无法实现序列化的，必须通过其他机制保证新插入的数据不会被执行查询操作的事务访问到。序列化是最高的事务隔离级别，同时代价也是最高的，性能很低，一般很少使用，在该级别下，事务顺序执行，不仅可以避免脏读、不可重复读，还避免了幻读</p><p>解决了更新丢失、脏读、不可重复读、幻读(虚读)</p><p>以上四种隔离级别最高的是Serializable级别，最低的是Read uncommitted级别，当然级别越高，执行效率就越低，像Serializeble这样的级别，就是以锁表的方式(类似于Java多线程中的锁)使得其他线程只能在锁外等待，所以平时选用何种隔离级别应该根据实际情况来，在MYSQL数据库中默认的隔离级别是Repeatable read（可重复读）。</p><p>在MYSQL数据库中，支持上面四种隔离级别，默认的为Repeatable read(可重复读)；而在Oracle数据库中，只支持Serializeble(串行化)级别和Read committed(读已提交)这两种级别，其中默认的为Read committed级别</p><h2 id="聚集索引、辅助索引、覆盖索引、联合索引"><a href="#聚集索引、辅助索引、覆盖索引、联合索引" class="headerlink" title="聚集索引、辅助索引、覆盖索引、联合索引"></a>聚集索引、辅助索引、覆盖索引、联合索引</h2><p><em>参考书籍：<strong>《</strong>MySQL**技术内幕</em> <em>InnoDB**存储引擎》</em></p><p>a)    聚集索引</p><p>聚集索引就是按照每张表的主键构造一棵B+树，同时叶子节点中存放的即为整张表的行记录数据。</p><p><img src="/../../images/clip_image026.jpg" alt="img"></p><p>聚集索引的叶子节点称为数据页，每个数据页通过一个双向链表来进行链接，而且数据页按照主键的顺序进行排列。</p><p>每个数据页上存放的是完整的行记录，而在非数据页的索引页中，存放的仅仅是键值及指向数据页的偏移量，而不是一个完整的行记录。</p><p>如果定义了主键，InnoDB会自动使用主键来创建聚集索引。如果没有定义主键，InnoDB会选择一个唯一的非空索引代替主键。如果没有唯一的非空索引，InnoDB会隐式定义一个主键来作为聚集索引。</p><p>b)    辅助索引</p><p>辅助索引，也叫非聚集索引。和聚集索引相比，叶子节点中并不包含行记录的全部数据。叶子节点除了包含键值以外，每个叶子节点的索引行还包含了一个书签（bookmark），该书签用来告诉InnoDB哪里可以找到与索引相对应的行数据。</p><p>c)    覆盖索引</p><p>d)    联合索引</p><p>联合索引是指对表上的多个列进行索引。</p><h2 id="什么是读写分离，主从复制的原理"><a href="#什么是读写分离，主从复制的原理" class="headerlink" title="什么是读写分离，主从复制的原理"></a>什么是读写分离，主从复制的原理</h2><p><a href="https://baijiahao.baidu.com/s?id=1668934778797715196">https://baijiahao.baidu.com/s?id=1668934778797715196</a></p><p><strong>1、MySQL的读写分离</strong></p><p>说到读写分离，我们先了解下什么是主从复制。</p><p>主从复制，是用来建立一个和主数据库完全一样的数据库环境，称为从数据库，主数据库一般是准实时的业务数据库。一台服务器充当主服务器，而另外一台服务器充当从服务器。</p><p>此时主服务器会将更新信息写入到一个特定的二进制文件中，并会维护文件的一个索引用来跟踪日志循环，这个日志可以记录并发送到从服务器的更新中去。</p><p>一台从服务器连接到主服务器时，从服务器会通知主服务器从服务器的日志文件中读取最后一次成功更新的位置。然后从服务器会接收从哪个时刻起发生的任何更新，然后锁住并等到主服务器通知新的更新。</p><p>读写分离简单俩说就是基于主从复制架构，一个主库，有多个从库，主库主要负责写，写完后主库会自动把数据给同步给从库。</p><p><strong>2、MySQL主从复制的原理</strong></p><p><img src="https://pics7.baidu.com/feed/908fa0ec08fa513d164b929b50889cfdb0fbd9fa.jpeg?token=fbd31ddde4a27c833a62fca0c97d5f9f" alt="img"></p><p>主库将变更写入binlog日志，然后从库连接到主库之后，从库有一个 IO 线程，将主库的 binlog 日志拷贝到自己本地，写入一个 relay中继日志(relay log)中。接着从库中有一个SQL线程会从中继日志读取binlog，然后执行binlog日志中的内容，也就是在自己本地再次执行一遍SQL语句，从而使从服务器和主服务器的数据保持一致。</p><p>主从配置就是围绕这个原理配置，也就是说：从库会生成两个线程,一个I&#x2F;O线程,一个SQL线程;I&#x2F;O线程会去请求主库的binlog,并将得到的binlog写到本地的relay-log(中继日志)文件中;主库会生成一个log dump线程,用来给从库I&#x2F;O线程传binlog;SQL线程,会读取relay log文件中的日志,并解析成sql语句逐一执行;。</p><p>有一点需要注意的是，就是从库同步主库数据的过程是串行化的，也就是说主库上并行的操作，在从库上会串行执行。</p><p>由于从库从主库拷贝日志以及串行执行 SQL 的特点，在高并发场景下，从库的数据是有延时的。</p><p>在实际运用中，时常会出现这样的情况，主库的数据已经有了，可从库还是读取不到，可能要过几十毫秒，甚至几百毫秒才能读取到。</p><ul><li>一个是半同步复制，用来解决主库数据丢失问题；</li><li>一个是并行复制，用来解决从库复制延迟的问题。</li></ul><p>半同步复制，也叫 semi-sync 复制，指的就是主库写入 binlog 日志之后，就会将强制此时立即将数据同步到从库，从库将日志写入自己本地的 relay log 之后，接着会返回一个 ack 给主库，主库接收到至少一个从库的 ack 之后才会认为写操作完成了。</p><p>并行复制，指的是从库开启多个线程，并行读取 relay log 中不同库的日志，然后并行重放不同库的日志，这是库级别的并行。</p><p><strong>3、MySQL 主从同步延时问题</strong></p><p>譬如用户升级条件达到了，主库也成功更新了用户状态，可在生产环境高峰期，这个时候，主从复制延时了，从库在高峰期时候却没更新。导致用户在手机app界面上显示的等级还是原来的。</p><p>主从延时排查方法</p><p>MySQL 有主从同步的状态信息，可以通过MySQL命令 show slave status获取，除了获知当前是否主从同步正常工作，另外一个重要指标就是 Seconds_Behind_Master，根据输出的Seconds_Behind_Master参数的值来判断：NULL，表示io_thread或是sql_thread有任何一个发生故障；0，该值为零，表示主从复制良好；正值，表示主从已经出现延时，数字越大表示从库延迟越严重。</p><p><strong>4、主从延迟解决方案</strong></p><ul><li>分库，将一个主库拆分为多个主库，（可以是多主一从）这样每个主库的写并发会减少。</li><li>单个库读写分离，一主多从，主写从读，分散压力。这样从库压力比主库高，保护主库。</li><li>MySQL 支持的并行复制，多个库并行复制。但要是单库写入并发太高，并行复制并没有意义。</li><li>升级Slave硬件配置</li></ul><p>不知你有没有其他解决方案，欢迎交流！</p><h1 id="五、前端基础"><a href="#五、前端基础" class="headerlink" title="五、前端基础"></a>五、前端基础</h1><h2 id="1-三次握手和四次挥手"><a href="#1-三次握手和四次挥手" class="headerlink" title="1. 三次握手和四次挥手"></a>1. 三次握手和四次挥手</h2><p><a href="https://baijiahao.baidu.com/s?id=1693383134922615393">https://baijiahao.baidu.com/s?id=1693383134922615393</a></p><p><strong>0. 前言</strong></p><p>在面试中，计算机网络的 TCP 三次握手和四次挥手是很常见的问题，但是在实际面试中，面试官会更愿意听到怎样的回答呢？详细程度是怎样的？</p><p><strong>越简单常见的问题越不可小觑，万丈高楼平地起，把简单的问题深入化，才更能拉开与竞争者的距离</strong>。掌握了本文讲的全部知识点，关于 TCP 三次握手和四次挥手基本就 OK 了</p><p><strong>1. TCP 和 UDP</strong></p><p>讲解 TCP 三次握手和四次握手之前，我们先了解一下 TCP 和 UDP 这两个重量级的传输层协议。</p><p><strong>用户数据报协议 UDP</strong>（User Datagram Protocol）：</p><p><strong>UDP 在传送数据之前不需要先建立连接</strong>，远程主机在收到 UDP 报文后，不需要给出任何确认。虽然 UDP <strong>不提供可靠交付</strong>，但在某些情况下 UDP 确是一种最有效的工作方式（一般用于即时通信），比如：QQ 语音、 QQ 视频 、直播等等<strong>传输控制协议 TCP</strong>（Transmission Control Protocol）：</p><p>TCP 提供 <strong>面向连接</strong>的服务。在传送数据之前必须先建立连接，数据传送结束后要释放连接。TCP 不提供广播或多播服务。由于 TCP 要提供 <strong>可靠</strong>的，面向连接的传输服务（TCP的可靠体现在TCP在传递数据之前，会有三次握手来建立连接，而且在数据传递时，有确认、窗口、重传、流量控制、拥塞控制机制，在数据传完后，还会四次挥手断开连接用来节约系统资源），这不仅使协议数据单元的首部增大很多，还要占用许多处理机资源。TCP <strong>一般用于文件传输、发送和接收邮件、远程登录等场景</strong>。<strong>2. TCP 报文段首部格式</strong></p><p>TCP 报文段的具体格式大家可以不必都记住，但是其中的几个<strong>控制位</strong>与我们接下来要讲的三次握手和四次挥手息息相关，大家一定要牢记。</p><p><img src="https://pics5.baidu.com/feed/838ba61ea8d3fd1fe5bf7195341a001794ca5f43.jpeg?token=a1ba6bb03045f8d2263c817d71219b2f&s=3B96ED0683E8450B16F27E790200D07F" alt="img"></p><p>首部固定部分各字段意义如下：</p><p>1 - <strong>源端口和目的端口</strong>：各占 2 个字节，分别写入源端口和目的端口。IP 地址 + 端口号就可以确定一个进程地址2 - <strong>序号&#x2F;序列号</strong>（Sequense Number，SN）：在一个 TCP 连接中传送的字节流中的每一个字节都按顺序编号。该字段表示本报文段所发送的数据的第一个字节的序号。<strong>初始序号称为 Init Sequense Number, ISN</strong>（序号&#x2F;序列号这个字段很重要，大家留个印象，下文会详细讲解）例如，一报文段的序号是 101，共有 100 字节的数据。这就表明：本报文段的数据的第一个字节的序号是 101，最后一个字节的序号是 200。显然，下一个报文段的数据序号应当从 201 开始，即下一个报文段的序号字段值应为 201。3 - <strong>确认号 ack</strong>：期望收到对方下一个报文段的第一个数据字节的序号。若确认号为 N，则表明：到序号 N-1 为止的所有数据都已正确收到。4 - <strong>数据偏移</strong>（首部长度）：它指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。这个字段实际上是指出TCP报文段的首部长度。5 - <strong>保留</strong>：占 6 位，应置为 0，保留为今后使用。大家看上图，保留位的右边还有 6 个控制位（重要），这是TCP 用来说明该报文段性质的：</p><p><strong>紧急位 URG</strong>：当 URG &#x3D; 1 时，表明此报文段中有紧急数据，是高优先级的数据，应尽快发送，不用在缓存中排队。该控制位需配合紧急指针使用（紧急指针指出本报文段中紧急数据的字节数）举个例子：我们需要取消一个已经发送了很长程序的运行，因此用户从键盘发出中断命令。如果不使用紧急数据，那么这个指令将存储在接收 TCP 的缓存末尾，只有在所有的数据被处理完毕后这两个字符才被交付接收方的应用进程，这样做就无法实现立即中断。<strong>确认 ACK</strong>：仅当 ACK &#x3D; 1 时确认号字段才有效，当 ACK &#x3D; 0 时确认号无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置为 1。<strong>推送 PSH</strong>：当两个应用进程进行交互式的通信时，有时在一端的应用进程希望在键入一个命令后立即就能收到对方的响应。在这种情况下，TCP 就可以使用推送（push）操作。这时，发送方 TCP 把 PSH 置为 1，并立即创建一个报文段发送出去。接收方 TCP 收到 PSH &#x3D; 1 的报文段，就尽快地交付接收应用进程。而不用等到整个缓存都填满了后再向上交付。<strong>复位 RST</strong>：当 RST &#x3D; 1 时，表明 TCP 连接中出现了严重错误（如由于主机崩溃或其他原因），必须释放连接，然后再重新建立传输连接。<strong>同步 SYN</strong>：SYN &#x3D; 1 表示这是一个连接请求或连接接受报文。当 SYN &#x3D; 1 而 ACK &#x3D; 0 时，表明这是一个连接请求报文段。对方若同意建立连接，则应在响应的报文段中使 SYN &#x3D; 1 且 ACK &#x3D; 1。<strong>终止 FIN</strong>：用来释放一个连接。当 FIN &#x3D; 1时，表明此报文段的发送发的数据已发送完毕，并要求释放运输连接。</p><p><strong>3. TCP 三次握手建立连接</strong></p><p><strong>① 三次握手过程详解</strong></p><p>三次握手的原文是 three-way handshake，整个名词的可以翻译为：<strong>需要三个步骤才能建立握手&#x2F;连接的机制</strong>。当然，三次握手也可以叫 three-message handshake，通过三条消息来建立的握手&#x2F;连接。</p><p>进行三次握手的主要作用就是为了确认双方的接收能力和发送能力是否正常、指定自己的 <strong>初始化序列号(Init Sequense Number,</strong> <strong>ISN</strong>**)**为后面的可靠性传输做准备。</p><p>三次握手过程如下图：</p><p><img src="https://pics6.baidu.com/feed/908fa0ec08fa513d3380aa7a393970f3b3fbd9cc.jpeg?token=6dfd67a4a0927fca26d5e7a1abae7f4a&s=7AAE3462315B41CE48D554CA0000E0B1" alt="img"></p><p>回顾一下图中字符的含义：</p><p>SYN：连接请求&#x2F;接收 报文段seq：发送的第一个字节的序号ACK：确认报文段ack：确认号。希望收到的下一个数据的第一个字节的序号<strong>刚开始客户端处于</strong> <strong>Closed</strong> <strong>的状态，而服务端处于</strong> Listen <strong>状态</strong>：</p><p>CLOSED：没有任何连接状态LISTEN：侦听来自远方 TCP 端口的连接请求</p><p><strong>1）第一次握手</strong>：客户端向服务端发送一个 SYN 报文（SYN &#x3D; 1），并指明客户端的初始化序列号 ISN(x)，即图中的 seq &#x3D; x，表示本报文段所发送的数据的第一个字节的序号。此时客户端处于 SYN_Send 状态。</p><p>SYN-SENT：在发送连接请求后等待匹配的连接请求</p><p><strong>2）第二次握手</strong>：服务器收到客户端的 SYN 报文之后，会发送 SYN 报文作为应答（SYN &#x3D; 1），并且指定自己的初始化序列号 ISN(y)，即图中的 seq &#x3D; y。同时会把客户端的 ISN + 1 作为确认号 ack 的值，表示已经收到了客户端发来的的 SYN 报文，希望收到的下一个数据的第一个字节的序号是 x + 1，此时服务器处于 SYN_REVD 的状态。</p><p>SYN-RECEIVED：在收到和发送一个连接请求后等待对连接请求的确认</p><p><strong>3）第三次握手</strong>：客户端收到服务器端响应的 SYN 报文之后，会发送一个 ACK 报文，也是一样把服务器的 ISN + 1 作为 ack 的值，表示已经收到了服务端发来的的 SYN 报文，希望收到的下一个数据的第一个字节的序号是 y + 1，并指明此时客户端的序列号 seq &#x3D; x + 1（初始为 seq &#x3D; x，所以第二个报文段要 +1），此时客户端处于 Establised 状态。服务器收到 ACK 报文之后，也处于 Establised 状态，至此，双方建立起了 TCP 连接。</p><p>ESTABLISHED：代表一个打开的连接，数据可以传送给用户</p><p><strong>② 为什么要三次握手</strong></p><p>三次握手的目的是建立可靠的通信信道，说到通讯，简单来说就是数据的发送与接收，而三次握手最主要的目的就是<strong>双方确认自己与对方的发送与接收是正常的</strong>。</p><p>只有经过三次握手才能确认双发的收发功能都正常，缺一不可：</p><p>第一次握手（客户端发送 SYN 报文给服务器，服务器接收该报文）：客户端什么都不能确认；服务器确认了对方发送正常，自己接收正常第二次握手（服务器响应 SYN 报文给客户端，客户端接收该报文）：客户端确认了：自己发送、接收正常，对方发送、接收正常；服务器确认了：对方发送正常，自己接收正常第三次握手（客户端发送 ACK 报文给服务器）：客户端确认了：自己发送、接收正常，对方发送、接收正常； 服务器确认了：自己发送、接收正常，对方发送、接收正常<strong>③ ISN (Initial Sequence Number) 是固定的吗</strong></p><p><strong>三次握手的其中一个重要功能是客户端和服务端交换 ISN(Initial Sequence Number)，以便让对方知道接下来接收数据的时候如何按序列号组装数据</strong>。</p><p>当一端为建立连接而发送它的 SYN 时，它会为连接选择一个初始序号。ISN 随时间而变化，因此每个连接都将具有不同的 ISN。<strong>如果 ISN 是固定的，攻击者很容易猜出后续的确认号，因此 ISN 是动态生成的</strong>。</p><p><strong>④ 三次握手过程中可以携带数据吗</strong></p><p>第三次握手的时候，是可以携带数据的。但是，<strong>第一次、第二次握手绝对不可以携带数据</strong>假如第一次握手可以携带数据的话，如果有人要恶意攻击服务器，那他每次都在第一次握手中的 SYN 报文中放入大量的数据，然后疯狂重复发 SYN 报文的话（因为攻击者根本就不用管服务器的接收、发送能力是否正常，它就是要攻击你），这会让服务器花费很多时间、内存空间来接收这些报文。</p><p><strong>简单的记忆就是，请求连接&#x2F;接收 即</strong> <strong>SYN &#x3D; 1****的时候不能携带数据</strong></p><p>而对于第三次的话，此时客户端已经处于 ESTABLISHED 状态。对于客户端来说，他已经建立起连接了，并且也已经知道服务器的接收、发送能力是正常的了，所以当然能正常发送&#x2F;携带数据了。</p><p><strong>⑤ 半连接队列</strong></p><p>服务器第一次收到客户端的 SYN 之后，就会处于 SYN_RCVD 状态，此时双方还没有完全建立其连接，服务器会把这种状态下的请求连接放在一个队列里，我们把这种队列称之为<strong>半连接队列</strong>。</p><p>当然还有一个<strong>全连接队列</strong>，完成三次握手后建立起的连接就会放在全连接队列中。如果队列满了就有可能会出现丢包现象。</p><p><strong>⑥ SYN 洪泛攻击</strong></p><p>SYN 攻击就是 <strong>Client 在短时间内伪造大量不存在的 IP 地址，并向 Server 不断地发送 SYN 包</strong>，Server 则回复确认包，并等待 Client 确认，由于源地址不存在，因此 Server 需要不断重发直至超时，这些伪造的 SYN 包将长时间占用半连接队列，导致正常的 SYN 请求因为队列满而被丢弃，从而引起网络拥塞甚至系统瘫痪。</p><p><strong>⑦ 如果第三次握手丢失了，客户端服务端会如何处理</strong></p><p>服务器发送完 SYN-ACK 包，如果未收到客户端响应的确认包，也即第三次握手丢失。那么服务器就会进行首次重传，若等待一段时间仍未收到客户确认包，就进行第二次重传。如果重传次数超过系统规定的最大重传次数，则系统将该连接信息从半连接队列中删除。</p><p>注意，每次重传等待的时间不一定相同，一般会是指数增长，例如间隔时间为 1s，2s，4s，8s…</p><p><strong>4. TCP 四次挥手释放连接</strong></p><p><strong>① 四次挥手过程详解</strong></p><p>建立一个 TCP 连接需要三次握手，而终止一个 TCP 连接要经过四次挥手（也有将四次挥手叫做四次握手的）。这是由于 TCP 的<strong>半关闭</strong>（half-close）特性造成的，TCP 提供了连接的一端在结束它的发送后还能接收来自另一端数据的能力。</p><p>TCP 连接的释放需要发送四个包（执行四个步骤），因此称为四次挥手(Four-way handshake)，<strong>客户端或服务端均可主动发起挥手动作</strong>。</p><p><img src="https://pics7.baidu.com/feed/8435e5dde71190ef08c7447eca4fb81efdfa602b.jpeg?token=74e81457ce3c2f49b48814839e548194&s=5EA83C6229C6E0CA5A7454CA0000E0B1" alt="img"></p><p>回顾一下上图中符号的意思：</p><p>FIN ：连接终止位seq：发送的第一个字节的序号ACK：确认报文段ack：确认号。希望收到的下一个数据的第一个字节的序号刚开始双方都处于ESTABLISHED 状态，假设是客户端先发起关闭请求。四次挥手的过程如下：</p><p><strong>1）第一次挥手</strong>：客户端发送一个 FIN 报文（请求连接终止：FIN &#x3D; 1），报文中会指定一个序列号 seq &#x3D; u。并<strong>停止再发送数据，主动关闭 TCP 连接</strong>。此时客户端处于 FIN_WAIT1 状态，等待服务端的确认。</p><p>FIN-WAIT-1 - 等待远程TCP的连接中断请求，或先前的连接中断请求的确认；</p><p><strong>2）第二次挥手</strong>：服务端收到 FIN 之后，会发送 ACK 报文，且把客户端的序号值 +1 作为 ACK 报文的序列号值，表明已经收到客户端的报文了，此时服务端处于 CLOSE_WAIT状态。</p><p>CLOSE-WAIT - 等待从本地用户发来的连接中断请求；</p><p><strong>此时的 TCP 处于半关闭状态，客户端到服务端的连接释放</strong>。客户端收到服务端的确认后，进入FIN_WAIT2（终止等待 2）状态，等待服务端发出的连接释放报文段。</p><p>FIN-WAIT-2 - 从远程TCP等待连接中断请求；</p><p><strong>3）第三次挥手</strong>：如果服务端也想断开连接了（没有要向客户端发出的数据），和客户端的第一次挥手一样，发送 FIN 报文，且指定一个序列号。此时服务端处于 LAST_ACK 的状态，等待客户端的确认。</p><p>LAST-ACK - 等待原来发向远程TCP的连接中断请求的确认；</p><p><strong>4）第四次挥手</strong>：客户端收到 FIN 之后，一样发送一个 ACK 报文作为应答（ack &#x3D; w+1），且把服务端的序列值 +1 作为自己 ACK 报文的序号值（seq&#x3D;u+1），此时客户端处于 <strong>TIME_WAIT****（时间等待）状态</strong>。</p><p>TIME-WAIT - 等待足够的时间以确保远程TCP接收到连接中断请求的确认；</p><p>注意 ！！！这个时候由服务端到客户端的 TCP 连接并未释放掉，<strong>需要经过时间等待计时器设置的时间 2MSL（一个报文的来回时间） 后才会进入</strong> <strong>CLOSED****状态</strong>（这样做的目的是确保服务端收到自己的 ACK 报文。如果服务端在规定时间内没有收到客户端发来的 ACK 报文的话，服务端会重新发送 FIN 报文给客户端，客户端再次收到 FIN 报文之后，就知道之前的 ACK 报文丢失了，然后再次发送 ACK 报文给服务端）。服务端收到 ACK 报文之后，就关闭连接了，处于 CLOSED 状态。</p><p><strong>② 为什么要四次挥手</strong></p><p>由于 TCP 的<strong>半关闭</strong>（half-close）特性，TCP 提供了连接的一端在结束它的发送后还能接收来自另一端数据的能力。</p><p>任何一方都可以在数据传送结束后发出连接释放的通知，待对方确认后进入<strong>半关闭状态</strong>。当另一方也没有数据再发送的时候，则发出连接释放通知，对方确认后就<strong>完全关闭</strong>了TCP连接。</p><p><strong>通俗的来说，两次握手就可以释放一端到另一端的 TCP 连接，完全释放连接一共需要四次握手</strong>。</p><p>举个例子：A 和 B 打电话，通话即将结束后，A 说 “我没啥要说的了”，B 回答 “我知道了”，于是 A 向 B 的连接释放了。但是 B 可能还会有要说的话，于是 B 可能又巴拉巴拉说了一通，最后 B 说“我说完了”，A 回答“知道了”，于是 B 向 A 的连接释放了，这样整个通话就结束了。</p><h1 id="九十九、面试题-网址"><a href="#九十九、面试题-网址" class="headerlink" title="九十九、面试题(网址)"></a>九十九、面试题(网址)</h1><h2 id="Java面试题-锁定"><a href="#Java面试题-锁定" class="headerlink" title="Java面试题 | 锁定"></a>Java面试题 | 锁定</h2><p><a href="https://blog.csdn.net/qq_41701956/article/details/86686492">https://blog.csdn.net/qq_41701956/article/details/86686492</a> | (1条消息) Java面试题及答案2019版（上）_Java笔记-CSDN博客_java面试题</p><p><a href="https://blog.csdn.net/qq_41701956/article/details/86699263">https://blog.csdn.net/qq_41701956/article/details/86699263</a> | (1条消息) Java面试题及答案2019版（下）_Java笔记-CSDN博客_java面试题</p><p><a href="https://www.bilibili.com/video/BV1er4y1A739?p=19&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1er4y1A739?p=19&amp;spm_id_from=pageDriver</a> | 2021年JAVA面试必考篇，我肝了100道Java面试题直接给了30K，免费分享给大家！_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://www.bilibili.com/video/BV1uE411g77R?p=1">https://www.bilibili.com/video/BV1uE411g77R?p=1</a> | 【面试必备】2020最新黑马Java就业班知识梳理_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://www.bilibili.com/video/BV11A411K7LE?p=17">https://www.bilibili.com/video/BV11A411K7LE?p=17</a> | 九天Java面试突击集训，涨薪50%必备的JVM、多线程、Spring、MySQL、IO、分布式、微服务优质教程_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://www.bilibili.com/video/BV1oV411v71F">https://www.bilibili.com/video/BV1oV411v71F</a> | 马士兵Java大厂面试题全集（双清华主讲）-大厂高频面试题核心知识点（网络IO、TCP&#x2F;IP、JVM、多线程、高性能）_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://github.com/Snailclimb/JavaGuide">https://github.com/Snailclimb/JavaGuide</a> | Snailclimb&#x2F;JavaGuide: 「Java学习+面试指南」一份涵盖大部分 Java 程序员所需要掌握的核心知识。准备 Java 面试，首选 JavaGuide！</p><p><a href="https://leetcode-cn.com/leetbook/read/top-interview-questions/xm0u83/">https://leetcode-cn.com/leetbook/read/top-interview-questions/xm0u83/</a> | 算法面试题汇总 - LeetBook - 力扣（LeetCode）全球极客挚爱的技术成长平台</p><p><a href="https://www.bilibili.com/video/BV1k74118721?p=6&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1k74118721?p=6&amp;spm_id_from=pageDriver</a> | Java面试题突击100道！_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://www.bilibili.com/video/BV1oy4y1H7R6">https://www.bilibili.com/video/BV1oy4y1H7R6</a> | 【尚学堂】Java300集零基础适合初学者视频教程_Java300集零基础教程_Java初学入门视频基础巩固教程_Java语言入门到精通_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><h2 id="Spring框架学习-锁定"><a href="#Spring框架学习-锁定" class="headerlink" title="Spring框架学习 | 锁定"></a>Spring框架学习 | 锁定</h2><p><a href="https://blog.csdn.net/ThinkWon/article/details/104397516">https://blog.csdn.net/ThinkWon/article/details/104397516</a> | Spring面试题（2020最新版）_ThinkWon的博客-CSDN博客_spring面试题2020</p><p><a href="https://zhuanlan.zhihu.com/p/96901647">https://zhuanlan.zhihu.com/p/96901647</a> | Java面试题|105道框架面试题合集 - 知乎</p><p><a href="https://zhuanlan.zhihu.com/p/40098726">https://zhuanlan.zhihu.com/p/40098726</a> | 最新JAVA面试题总结之框架（4） - 知乎</p><p><a href="https://blog.csdn.net/qq_42914528/article/details/83684321">https://blog.csdn.net/qq_42914528/article/details/83684321</a> | (1条消息) 什么是spring，它能够做什么?_良月柒-CSDN博客_spring是什么</p><p><a href="https://zhuanlan.zhihu.com/p/95504478">https://zhuanlan.zhihu.com/p/95504478</a> | 框架系列|Spring10道常见面试题！ - 知乎</p><p><a href="https://www.jianshu.com/p/c89a3550588a">https://www.jianshu.com/p/c89a3550588a</a> | Spring @RestController、@Controller区别 - 简书</p><p><a href="https://www.cnblogs.com/lixinjie/p/spring-tx-key-point-in-a-interview.html">https://www.cnblogs.com/lixinjie/p/spring-tx-key-point-in-a-interview.html</a> | 【面试】Spring事务面试考点吐血整理（建议珍藏） - 编程新说(李新杰) - 博客园</p><p><a href="https://www.cnblogs.com/jasonZh/p/8953274.html">https://www.cnblogs.com/jasonZh/p/8953274.html</a> | SSM框架中IoC、DI与AOP的理解 - Margaery - 博客园</p><p><a href="https://www.jianshu.com/p/78ba8bafb90a">https://www.jianshu.com/p/78ba8bafb90a</a> | 理解Spring的AOP和IOC实现原理 - 简书</p><p><a href="https://zhuanlan.zhihu.com/p/95507409">https://zhuanlan.zhihu.com/p/95507409</a> | 框架系列|SpringMVC 4道必看面试题！ - 知乎</p><p><a href="https://blog.csdn.net/xwq911/article/details/51373258">https://blog.csdn.net/xwq911/article/details/51373258</a> | Spring MVC工作流程图_xwq911的专栏-CSDN博客</p><p><a href="https://blog.csdn.net/qq_32671287/article/details/70212800">https://blog.csdn.net/qq_32671287/article/details/70212800</a> | Spring MVC ModelAndView详解_小小程序员-CSDN博客</p><p><a href="https://blog.csdn.net/qq_33439525/article/details/78193190">https://blog.csdn.net/qq_33439525/article/details/78193190</a> | (1条消息) springmvc@RequestMapping-params参数规则_凉凉思语的博客-CSDN博客</p><p><a href="https://zhuanlan.zhihu.com/p/96109192">https://zhuanlan.zhihu.com/p/96109192</a> | 框架系列|MyBatis 10道必看面试题 - 知乎</p><p><a href="https://blog.csdn.net/PostersXu/article/details/79058365">https://blog.csdn.net/PostersXu/article/details/79058365</a> | MyBatis学习——foreach标签的使用_t1heluosh1的博客-CSDN博客</p><p><a href="https://www.php.cn/faq/417146.html">https://www.php.cn/faq/417146.html</a> | springboot常用注解有哪些-常见问题-PHP中文网</p><p><a href="https://www.jianshu.com/p/39ee4f98575c">https://www.jianshu.com/p/39ee4f98575c</a> | 简单讲讲@SpringBootApplication - 简书</p><p><a href="https://zhuanlan.zhihu.com/p/95548893">https://zhuanlan.zhihu.com/p/95548893</a> | 框架系列|SpringBoot 6道必看面试题！ - 知乎</p><p><a href="https://blog.csdn.net/rfidgroup/article/details/89519577">https://blog.csdn.net/rfidgroup/article/details/89519577</a> | (1条消息) SpringCloud底层服务之间是怎么相互调用的-微服务流程介绍_spring cloud 微服务技术开发-CSDN博客</p><p><a href="https://juejin.cn/post/6844904125784653837">https://juejin.cn/post/6844904125784653837</a> | Nginx面试题（总结最全面的面试题！！！）</p><p><a href="https://blog.csdn.net/ThinkWon/article/details/103522351">https://blog.csdn.net/ThinkWon/article/details/103522351</a> | Redis面试题（2020最新版）_ThinkWon的博客-CSDN博客_redis面试题</p><p><a href="https://www.toutiao.com/i6740616409446875659/">https://www.toutiao.com/i6740616409446875659/</a> | Redis 21问，你接得住不？</p><h2 id="java多线程-解锁"><a href="#java多线程-解锁" class="headerlink" title="java多线程 | 解锁"></a>java多线程 | 解锁</h2><p><a href="https://segmentfault.com/a/1190000022648047">https://segmentfault.com/a/1190000022648047</a> | 最近常问的99道Java多线程面试题 ！ - SegmentFault 思否</p><p><a href="https://www.cnblogs.com/dolphin0520/p/3958019.html">https://www.cnblogs.com/dolphin0520/p/3958019.html</a> | Java线程面试题 Top 50 （转载） - Matrix海子 - 博客园</p><p><a href="https://blog.csdn.net/Mypromise_TFS/article/details/81096007">https://blog.csdn.net/Mypromise_TFS/article/details/81096007</a> | (1条消息) Java中的run()方法和start()的区别_Mr.Yin-CSDN博客</p><p><a href="https://blog.csdn.net/grey_mouse/article/details/84193844">https://blog.csdn.net/grey_mouse/article/details/84193844</a> | (1条消息) java–进程和线程_grey_mouse的博客-CSDN博客_java 进程</p><h2 id="Java基础学习-解锁"><a href="#Java基础学习-解锁" class="headerlink" title="Java基础学习 | 解锁"></a>Java基础学习 | 解锁</h2><p><a href="https://www.cnblogs.com/zhuyeshen/p/10954275.html">https://www.cnblogs.com/zhuyeshen/p/10954275.html</a> | equal与&#x3D;&#x3D;的区别 - 那些年的代码 - 博客园</p><p><a href="https://juejin.cn/post/6844904125721772039">https://juejin.cn/post/6844904125721772039</a> | 设计模式面试题（总结最全面的面试题！！！）</p><p><a href="https://www.runoob.com/java/java-override-overload.html">https://www.runoob.com/java/java-override-overload.html</a> | Java 重写(Override)与重载(Overload) | 菜鸟教程</p><p><a href="https://www.cnblogs.com/chanshuyi/p/head_first_of_reflection.html">https://www.cnblogs.com/chanshuyi/p/head_first_of_reflection.html</a> | 大白话说Java反射：入门、使用、原理 - 陈树义 - 博客园</p><p><a href="https://www.jianshu.com/p/9be58ee20dee">https://www.jianshu.com/p/9be58ee20dee</a> | Java高级特性——反射 - 简书</p><p><a href="https://blog.csdn.net/vivian_king/article/details/79610890">https://blog.csdn.net/vivian_king/article/details/79610890</a> | (1条消息) Java的抽象类实例化_vivian的专栏-CSDN博客_java抽象类实例化</p><p><a href="https://www.cnblogs.com/yesiamhere/p/6675067.html">https://www.cnblogs.com/yesiamhere/p/6675067.html</a> | java运算符 与（&amp;）、非（~）、或（|）、异或（^） - 够硬的乙方 - 博客园</p><p><a href="https://blog.csdn.net/czh500/article/details/88202971">https://blog.csdn.net/czh500/article/details/88202971</a> | (1条消息) java中PreparedStatement和Statement详细讲解_冷囧囧-CSDN博客_preparedstatement</p><p><a href="https://www.bilibili.com/video/BV1p4411P7V3?p=9">https://www.bilibili.com/video/BV1p4411P7V3?p=9</a> | 【狂神说Java】注解和反射_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</p><p><a href="https://blog.csdn.net/m0_37116405/article/details/79421034">https://blog.csdn.net/m0_37116405/article/details/79421034</a> | [Java面试]六：常见面试题之设计模式_Louis的博客-CSDN博客_java常用的设计模式面试题</p><h2 id="MySQL面试题-解锁"><a href="#MySQL面试题-解锁" class="headerlink" title="MySQL面试题 | 解锁"></a>MySQL面试题 | 解锁</h2><p><a href="https://blog.csdn.net/w_linux/article/details/79655073">https://blog.csdn.net/w_linux/article/details/79655073</a> | (1条消息) MySQL——约束(constraint)详解_浅然的专栏-CSDN博客</p><p><a href="https://blog.csdn.net/xts5701046/article/details/81395958">https://blog.csdn.net/xts5701046/article/details/81395958</a> | (1条消息) MySQL 表锁和行锁机制_xts5701046的博客-CSDN博客_mysql 行锁</p><p><a href="https://blog.csdn.net/m0_38075425/article/details/82256315">https://blog.csdn.net/m0_38075425/article/details/82256315</a> | (1条消息) MySQL底层架构原理，工作流程和存储引擎的数据结构讲解_翻过一座座山-CSDN博客_mysql底层数据结构</p><p><a href="https://blog.csdn.net/qq_35642036/article/details/82820178">https://blog.csdn.net/qq_35642036/article/details/82820178</a> | (1条消息) MyISAM与InnoDB 的区别（9个不同点）_张花生的博客-CSDN博客_innodb和myisam的区别</p><p><a href="https://blog.csdn.net/qq_38224812/article/details/105636890">https://blog.csdn.net/qq_38224812/article/details/105636890</a> | (1条消息) mysql中drop、truncate和delete的区别_LBF的博客-CSDN博客</p><p><a href="https://blog.csdn.net/ThinkWon/article/details/104778621">https://blog.csdn.net/ThinkWon/article/details/104778621</a> | MySQL数据库面试题（2020最新版）_ThinkWon的博客-CSDN博客_mysql面试题及答案2020</p><p><a href="https://blog.csdn.net/ljinxin/article/details/78209496?utm_medium=distribute.pc_relevant.none-task-blog-OPENSEARCH-2.control&amp;dist_request_id=7d42deb3-7fdc-4a33-a1aa-5eada459f5e2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-OPENSEARCH-2.control">https://blog.csdn.net/ljinxin/article/details/78209496?utm_medium=distribute.pc_relevant.none-task-blog-OPENSEARCH-2.control&amp;dist_request_id=7d42deb3-7fdc-4a33-a1aa-5eada459f5e2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-OPENSEARCH-2.control</a> | Oracle连接查询，彻底搞懂外连接（左外连接&amp;右外连接）_ljinxin的博客-CSDN博客_oracle连接查询</p><h2 id="Java集合相关-解锁"><a href="#Java集合相关-解锁" class="headerlink" title="Java集合相关 | 解锁"></a>Java集合相关 | 解锁</h2><p><a href="https://blog.csdn.net/qq493820798/article/details/82257492">https://blog.csdn.net/qq493820798/article/details/82257492</a> | 集合常用方法合集_辰小白-CSDN博客_集合常用方法</p><p><a href="https://blog.csdn.net/jiuqiyuliang/article/details/32697903">https://blog.csdn.net/jiuqiyuliang/article/details/32697903</a> | 【java读书笔记】——Collection集合之六大接口（Collection、Set、List、Map、Iterator和Comparable）_努力+坚持，而且还很年轻-CSDN博客_collection</p><p><a href="https://blog.csdn.net/zlx312/article/details/79398557">https://blog.csdn.net/zlx312/article/details/79398557</a> | 面试常见的Linux命令及问题整理_zlx312的博客-CSDN博客_面试linux常考命令</p><p><a href="https://blog.csdn.net/ThinkWon/article/details/104588551">https://blog.csdn.net/ThinkWon/article/details/104588551</a> | Java集合容器面试题（2020最新版）_ThinkWon的博客-CSDN博客_集合面试题java</p><p><a href="https://github.com/Snailclimb/JavaGuide/blob/master/docs/java/collection/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98.md">https://github.com/Snailclimb/JavaGuide/blob/master/docs/java/collection/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98.md</a> | JavaGuide&#x2F;Java集合框架常见面试题.md at master · Snailclimb&#x2F;JavaGuide</p><h2 id="学习软件-解锁"><a href="#学习软件-解锁" class="headerlink" title="学习软件 | 解锁"></a>学习软件 | 解锁</h2><p><a href="https://www.notion.so/desktop">https://www.notion.so/desktop</a> | Mac &amp; Windows – Notion</p><p><a href="https://www.processon.com/">https://www.processon.com/</a> | ProcessOn - Create Flowcharts and Mindmaps Online for Free, Collaborate in Real-time</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Java</tag>
      
      <tag>编程语言</tag>
      
      <tag>面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git总结</title>
    <link href="/2020/07/11/git/Git%E6%80%BB%E7%BB%93/"/>
    <url>/2020/07/11/git/Git%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="Git总结"><a href="#Git总结" class="headerlink" title="Git总结"></a>Git总结</h1><blockquote><p>Git学习参考：</p><p><a href="https://git-scm.com/book/zh/v2">https://git-scm.com/book/zh/v2</a></p></blockquote><h2 id="Git分区"><a href="#Git分区" class="headerlink" title="Git分区"></a>Git分区</h2><p><img src="/images/git%E5%88%86%E5%8C%BA.png" alt="git分区"></p><h2 id="一、Git操作本地项目"><a href="#一、Git操作本地项目" class="headerlink" title="一、Git操作本地项目"></a>一、Git操作本地项目</h2><h3 id="1-初始化仓库"><a href="#1-初始化仓库" class="headerlink" title="1. 初始化仓库"></a>1. 初始化仓库</h3><p>先进入项目文件夹，通过命令 git init 把这个目录变成git可以管理的仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br></code></pre></td></tr></table></figure><h3 id="2-查看仓库状态"><a href="#2-查看仓库状态" class="headerlink" title="2. 查看仓库状态"></a>2. 查看仓库状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git status<br></code></pre></td></tr></table></figure><h3 id="3-把更新的文件添加到版本库中"><a href="#3-把更新的文件添加到版本库中" class="headerlink" title="3. 把更新的文件添加到版本库中"></a>3. 把更新的文件添加到版本库中</h3><p>使用命令 git add .添加到暂存区里面去，不要忘记后面的小数点 “.”，意为添加文件夹下的所有文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br></code></pre></td></tr></table></figure><h3 id="4-提交更新"><a href="#4-提交更新" class="headerlink" title="4. 提交更新"></a>4. 提交更新</h3><p>用命令 git commit告诉Git，把文件提交到仓库。引号内为提交说明。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -m <span class="hljs-string">&#x27;first commit&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="5-查看提交记录"><a href="#5-查看提交记录" class="headerlink" title="5. 查看提交记录"></a>5. 查看提交记录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span><br>git <span class="hljs-built_in">log</span> -p &lt;file&gt;<br>git blame &lt;file&gt;<br></code></pre></td></tr></table></figure><h3 id="6-commit之前查看更新内容，文件差异"><a href="#6-commit之前查看更新内容，文件差异" class="headerlink" title="6. commit之前查看更新内容，文件差异"></a>6. commit之前查看更新内容，文件差异</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git diff<br></code></pre></td></tr></table></figure><h2 id="二、Git分支管理"><a href="#二、Git分支管理" class="headerlink" title="二、Git分支管理"></a>二、Git分支管理</h2><h3 id="1-Git查看分支"><a href="#1-Git查看分支" class="headerlink" title="1. Git查看分支"></a>1. Git查看分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch -a<br>* main<br>  master<br>  remotes/origin/main<br></code></pre></td></tr></table></figure><h3 id="2-查看每一个分支的最后一次提交"><a href="#2-查看每一个分支的最后一次提交" class="headerlink" title="2. 查看每一个分支的最后一次提交"></a>2. 查看每一个分支的最后一次提交</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch -v<br>  iss53   93b412c fix javascript issue<br>* master  7a98805 Merge branch <span class="hljs-string">&#x27;iss53&#x27;</span><br>  testing 782fd34 add scott to the author list <span class="hljs-keyword">in</span> the readmes<br></code></pre></td></tr></table></figure><h3 id="3-Git创建切换分支"><a href="#3-Git创建切换分支" class="headerlink" title="3. Git创建切换分支"></a>3. Git创建切换分支</h3><p>创建本地分支，并切换到分支：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 原文链接：Git-分支-分支的新建与合并</span><br><span class="hljs-comment"># https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6</span><br><br><span class="hljs-comment"># 新建与合并</span><br>$ git checkout -b iss53<br>Switched to a new branch <span class="hljs-string">&quot;iss53&quot;</span><br><br><span class="hljs-comment"># 它是下面两条命令的简写：</span><br><span class="hljs-comment"># 创建分支</span><br>$ git branch iss53<br><span class="hljs-comment"># 切换分支</span><br>$ git checkout iss53<br></code></pre></td></tr></table></figure><h3 id="4-删除分支："><a href="#4-删除分支：" class="headerlink" title="4. 删除分支："></a>4. 删除分支：</h3><h4 id="1-查看所有分支"><a href="#1-查看所有分支" class="headerlink" title="(1) 查看所有分支"></a>(1) 查看所有分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git branch -a<br>* main<br>  master<br>  remotes/origin/main<br></code></pre></td></tr></table></figure><h4 id="2-删除本地分支"><a href="#2-删除本地分支" class="headerlink" title="(2) 删除本地分支"></a>(2) 删除本地分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -D BranchName<br><br>其中-D也可以是--delete，如：<br><br>git branch --delete BranchName<br></code></pre></td></tr></table></figure><h4 id="3-删除本地的远程分支-解除关联"><a href="#3-删除本地的远程分支-解除关联" class="headerlink" title="(3) 删除本地的远程分支(解除关联)"></a>(3) 删除本地的远程分支(解除关联)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 先查看查看远程库信息</span><br>$ git remote -v<br>origin  git@github.com:xxx/xxx.git (fetch)<br>origin  git@github.com:xxx/xxx.git (push)<br><span class="hljs-comment"># 然后，根据名字删除，比如删除origin：</span><br>$ git remote <span class="hljs-built_in">rm</span> origin<br></code></pre></td></tr></table></figure><h4 id="4-远程删除Git服务器上的分支"><a href="#4-远程删除Git服务器上的分支" class="headerlink" title="(4) 远程删除Git服务器上的分支"></a>(4) 远程删除Git服务器上的分支</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push origin -d BranchName<br><br>其中-d也可以是--delete，如：<br><br>git push origin --delete BranchName<br><br>注意：git命令区分大小写，例如-D和-d在不同的地方虽然都是删除的意思，并且它们的完整写法都是--delete，但简易写法用错大小写会执行失败。<br></code></pre></td></tr></table></figure><h3 id="5-修改分支名"><a href="#5-修改分支名" class="headerlink" title="5. 修改分支名"></a>5. 修改分支名</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">参考：https:<span class="hljs-regexp">//</span>blog.csdn.net<span class="hljs-regexp">/weixin_42343307/</span>article<span class="hljs-regexp">/details/</span><span class="hljs-number">125648147</span><br><span class="hljs-number">1</span>、修改本地分支名称<br>git branch -m oldBranchName newBranchName<br><br><span class="hljs-number">2</span>、将本地分支的远程分支删除<br>git push origin :oldBranchName<br><br><span class="hljs-number">3</span>、将改名后的本地分支推送到远程，并将本地分支与之关联<br>git push --set-upstream origin newBranchName<br></code></pre></td></tr></table></figure><h2 id="三、Git操作远程项目"><a href="#三、Git操作远程项目" class="headerlink" title="三、Git操作远程项目"></a>三、Git操作远程项目</h2><h3 id="1-Git关联远程项目"><a href="#1-Git关联远程项目" class="headerlink" title="1. Git关联远程项目"></a>1. Git关联远程项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add origin 你的远程库地址。<br>如：<br>git remote add origin https://github.com/xxx/xxx.git<br></code></pre></td></tr></table></figure><blockquote><p>注：“origin” 并无特殊含义</p><p>远程仓库名字 “origin” 与分支名字 “master” 一样，在 Git 中并没有任何特别的含义一样。 同时 “master” 是当你运行 <code>git init</code> 时默认的起始分支名字，原因仅仅是它的广泛使用， “origin” 是当你运行 <code>git clone</code> 时默认的远程仓库名字。 如果你运行 <code>git clone -o booyah</code>，那么你默认的远程分支名字将会是 <code>booyah/master</code>。</p></blockquote><h3 id="2-Git获取远程库与本地同步合并"><a href="#2-Git获取远程库与本地同步合并" class="headerlink" title="2. Git获取远程库与本地同步合并"></a>2. Git获取远程库与本地同步合并</h3><p>push之前先pull远程代码，如果远程库不为空必须做这一步，否则后面的提交会失败。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git pull --rebase origin develop<br></code></pre></td></tr></table></figure><p>或者：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git pull origin develop<br></code></pre></td></tr></table></figure><h3 id="3-把本地库的内容推送到远程"><a href="#3-把本地库的内容推送到远程" class="headerlink" title="3. 把本地库的内容推送到远程"></a>3. 把本地库的内容推送到远程</h3><p>使用 git push命令，实际上是把当前分支develop推送到远程。第一次推送内容使用如下命令，执行此命令后会要求输入用户名、密码，验证通过后即开始上传。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push -u origin develop<br></code></pre></td></tr></table></figure><p>以后提交可以使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push origin serverfix<br></code></pre></td></tr></table></figure><blockquote><p>这里有些工作被简化了。 Git 自动将 <code>serverfix</code> 分支名字展开为 <code>refs/heads/serverfix:refs/heads/serverfix</code>， 那意味着，“推送本地的 <code>serverfix</code> 分支来更新远程仓库上的 <code>serverfix</code> 分支。” 我们将会详细学习 <a href="https://git-scm.com/book/zh/v2/ch00/ch10-git-internals">Git 内部原理</a> 的 <code>refs/heads/</code> 部分， 但是现在可以先把它放在儿。你也可以运行 <code>git push origin serverfix:serverfix</code>， 它会做同样的事——也就是说“推送本地的 <code>serverfix</code> 分支，将其作为远程仓库的 <code>serverfix</code> 分支” 可以通过这种格式来推送本地分支到一个命名不相同的远程分支。 如果并不想让远程仓库上的分支叫做 <code>serverfix</code>，可以运行 <code>git push origin serverfix:awesomebranch</code> 来将本地的 <code>serverfix</code> 分支推送到远程仓库上的 <code>awesomebranch</code> 分支。</p></blockquote><h2 id="四、Git-Clone远程代码"><a href="#四、Git-Clone远程代码" class="headerlink" title="四、Git Clone远程代码"></a>四、Git Clone远程代码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> -b mutilrecall http://gitlab.avc.domain/ttengine/ttengine.git<br>或者：<br>git <span class="hljs-built_in">clone</span> https://github.com/xxx/xxx.git<br></code></pre></td></tr></table></figure><p>clone远程仓库到制定目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> xxx.git <span class="hljs-string">&quot;指定目录&quot;</span><br></code></pre></td></tr></table></figure><h2 id="五、Git合并分支"><a href="#五、Git合并分支" class="headerlink" title="五、Git合并分支"></a>五、Git合并分支</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看分支</span><br>$ git branch<br>* master<br>  newtest<br><span class="hljs-comment"># 合并某分支到当前分支：git merge &lt;name&gt;</span><br>$ git merge newtest<br><span class="hljs-comment"># 合并完之后就可以删除掉不需要的分支了</span><br>$ git branch -d newtest<br>Deleted branch newtest (was c1501a2).<br></code></pre></td></tr></table></figure><h3 id="1-查看分支"><a href="#1-查看分支" class="headerlink" title="1.查看分支"></a>1.查看分支</h3><p>$ git branch</p><ul><li>master<br>newtest</li></ul><h3 id="2-合并某分支到当前分支：git-merge"><a href="#2-合并某分支到当前分支：git-merge" class="headerlink" title="2.合并某分支到当前分支：git merge "></a>2.合并某分支到当前分支：git merge <name></h3><p>$ git merge newtest</p><h3 id="3-合并完之后就可以删除掉不需要的分支了"><a href="#3-合并完之后就可以删除掉不需要的分支了" class="headerlink" title="3.合并完之后就可以删除掉不需要的分支了"></a>3.合并完之后就可以删除掉不需要的分支了</h3><p>$ git branch -d newtest<br>Deleted branch newtest (was c1501a2).</p><h3 id="4-关于merge回滚操作参考："><a href="#4-关于merge回滚操作参考：" class="headerlink" title="4.关于merge回滚操作参考："></a>4.关于merge回滚操作参考：</h3><p> <a href="https://blog.csdn.net/adsl624153/article/details/81155664">https://blog.csdn.net/adsl624153/article/details/81155664</a></p><h3 id="5-执行完merge操作后，没有修改代码"><a href="#5-执行完merge操作后，没有修改代码" class="headerlink" title="5.执行完merge操作后，没有修改代码"></a>5.执行完merge操作后，没有修改代码</h3><h4 id="⑴-查看merge操作的上一个提交记录的版本号"><a href="#⑴-查看merge操作的上一个提交记录的版本号" class="headerlink" title="⑴ 查看merge操作的上一个提交记录的版本号"></a>⑴ 查看merge操作的上一个提交记录的版本号</h4><p>git reflog</p><h4 id="⑵-回滚到merge之前的状态"><a href="#⑵-回滚到merge之前的状态" class="headerlink" title="⑵ 回滚到merge之前的状态"></a>⑵ 回滚到merge之前的状态</h4><p>git reset –hard 版本号</p><blockquote><p>参考：<a href="https://blog.csdn.net/songxi_bo/article/details/123384233">https://blog.csdn.net/songxi_bo/article/details/123384233</a></p><p>回退命令：<br>$ git reset –hard HEAD^ 回退到上个版本<br>$ git reset –hard HEAD~3 回退到前3次提交之前，以此类推，回退到n次提交之前<br>$ git reset –hard commit_id 退到&#x2F;进到 指定commit的sha码</p><p>强推到远程：</p><p>$ git push origin HEAD –force</p></blockquote><h2 id="六、Git-回滚操作"><a href="#六、Git-回滚操作" class="headerlink" title="六、Git 回滚操作"></a>六、Git 回滚操作</h2><blockquote><p>参考：<a href="https://www.jianshu.com/p/c55958563f5a">https://www.jianshu.com/p/c55958563f5a</a></p></blockquote><p>Git撤销&amp;回滚操作(git reset 和 get revert)<br>Git 的工作流<br>工作区：在 git add xx 之前，在自己当前分支所修改的代码内容！<br>暂存区：已经 git add xxx 进去，且没有执行 git commit xxx 的。<br>本地分支：已经 git commit -m xxx 提交到本地分支的。<br>远程分支：git push origin HEAD:refs&#x2F;for&#x2F;master HEAD 是本地，master是远程分支</p><p>代码回滚<br>在上传代码到远程仓库的时候，不免会出现问题，任何过程都有可能要回滚代码：</p><p>1、在工作区的代码（checkout ~ 修改工作区文件）<br>git checkout – a.txt # 丢弃某个文件，或者<br>git checkout – . # 丢弃全部</p><p>注意：git checkout – . 丢弃全部，也包括：新增的文件会被删除、删除的文件会恢复回来、修改的文件会回去。这几个前提都说的是，回到暂存区之前的样子。对之前保存在暂存区里的代码不会有任何影响。对commit提交到本地分支的代码就更没影响了。当然，如果你之前压根都没有暂存或commit，那就是回到你上次pull下来的样子了。</p><p>2、代码 git add 到缓存区，并未 git commit 提交（reset ~ 修改暂存区文件）<br>git reset HEAD .<br>git reset HEAD a.txt</p><p>注意：这个命令仅改变暂存区，并不改变工作区，这意味着在无任何其他操作的情况下，<br>工作区中的实际文件同该命令运行之前 无任何变化</p><p>3、代码 git commit 到本地分支，但没有 git push 到远程 （git reset –hard ~ commit 之后）<br>git log # 得到你需要回退一次提交的commit id<br>git reset –hard <commit_id> # 回到其中你想要的某个版本<br>git reset –hard HEAD^ # 回到最新的一次提交<br>git reset HEAD^ # 此时代码保留，回到 git add 之前</p><p>4、代码 git push 把修改提交到远程仓库 (git reset || git revert)<br>（1）通过git reset是直接删除指定的commit<br>git log # 得到你需要回退一次提交的commit id<br>git reset –hard <commit_id><br>git push origin HEAD –force # 强制提交一次，之前错误的提交就从远程仓库删除</p><p>(2) 通过git revert是用一次新的commit来回滚之前的commit<br>git log # 得到你需要回退一次提交的commit id<br>git revert <commit_id> # 撤销指定的版本，撤销也会作为一次提交进行保存</p><p>（3） git revert 和 git reset的区别<br>(a). git revert是用一次新的commit来回滚之前的commit，此次提交之前的commit都会被保留( 会有 两次 commit id)；<br>(b). git reset是回到某次提交，提交及之前的commit都会被保留，但是此commit id之后的修改都会被删除 ( 只有一次 commit id)</p><p>作者：<em>画圆</em><br>链接：<a href="https://www.jianshu.com/p/c55958563f5a">https://www.jianshu.com/p/c55958563f5a</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><h2 id="七、git回滚操作工作流"><a href="#七、git回滚操作工作流" class="headerlink" title="七、git回滚操作工作流"></a>七、git回滚操作工作流</h2><ol><li>回滚至之前的版本</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git reset --hard b23f8e17aaa24f6ae95b6c333f06d9261df2525e</span><br></code></pre></td></tr></table></figure><ol start="2"><li>回滚至之后的版本</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git reflog  <span class="hljs-comment"># 显示之前操作</span></span><br>b23f8e1 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to b23f8e17aaa24f6ae95b6c333f06d9261df2525e<br>ef26ac6 HEAD@&#123;1&#125;: reset: moving to ef26ac6324424dbb549bc6a30866312b96679558<br>4e2bb67 HEAD@&#123;2&#125;: commit: add 约吗模块<br>b23f8e1 (HEAD -&gt; master) HEAD@&#123;3&#125;: commit: add 短视频模块<br>ef26ac6 HEAD@&#123;4&#125;: commit: v2<br>7111058 HEAD@&#123;5&#125;: commit (initial): v1<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">回到某个版本</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git reset --hard 4e2bb67</span><br></code></pre></td></tr></table></figure><h2 id="八、标签"><a href="#八、标签" class="headerlink" title="八、标签"></a>八、标签</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs shell">chris@DESKTOP-26G0Q2K MINGW64 /e/gitrepos/person (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git tag -a v1 -m <span class="hljs-string">&quot;第一版&quot;</span></span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/gitrepos/person (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit 744b74ad6d2c092b9de5ae15281f41090ffa1b6b (HEAD -&gt; main, tag: v1, origin/main)<br>Author: 小可爱的书包 &lt;42034225+Chris-z-su@users.noreply.github.com&gt;<br>Date:   Wed Jul 27 21:45:44 2022 +0800<br><br>    add README.md<br><br>commit 3e5286d0ef5a8f3d83a9b306f0ea38599118511c<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 27 21:34:24 2022 +0800<br><br>    init project...<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/gitrepos/person (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git push origin --tags</span><br>Enumerating objects: 1, done.<br>Counting objects: 100% (1/1), done.<br>Writing objects: 100% (1/1), 164 bytes | 164.00 KiB/s, done.<br>Total 1 (delta 0), reused 0 (delta 0), pack-reused 0<br>To github.com:gitstudy-org/person.git<br> * [new tag]         v1 -&gt; v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/gitrepos/person (main)<br><span class="hljs-meta prompt_">$</span><br></code></pre></td></tr></table></figure><h2 id="九十、Git实战"><a href="#九十、Git实战" class="headerlink" title="九十、Git实战"></a>九十、Git实战</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br></pre></td><td class="code"><pre><code class="hljs shell">chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit 4e2bb67211b05c54be839106a024ae6974439d21 (HEAD -&gt; master)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:55:29 2022 +0800<br><br>    add 约吗模块<br><br>commit b23f8e17aaa24f6ae95b6c333f06d9261df2525e<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:53:24 2022 +0800<br><br>    add 短视频模块<br><br>commit ef26ac6324424dbb549bc6a30866312b96679558<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:20:34 2022 +0800<br><br>    v2<br><br>commit 7111058e366216ad19018a09c8ac4d4438867098<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:18:53 2022 +0800<br><br>    v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch -a</span><br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建dev分支</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch dev</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch -a</span><br>  dev<br>* master<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout dev</span><br>Switched to branch &#x27;dev&#x27;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">在dev分支的正常开发</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch dev<br>Changes not staged for commit:<br>  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)<br>  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)<br>        modified:   index.html<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch dev<br>Changes to be committed:<br>  (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage)<br>        modified:   index.html<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">提交未开发完成的部分代码</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;add shangcheng 50%&quot;</span></span><br>[dev 3c134b7] add shangcheng 50%<br> 1 file changed, 1 insertion(+)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch dev<br>nothing to commit, working tree clean<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到主分支，用于修复bug</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout master</span><br>Switched to branch &#x27;master&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">新建bug001分支，紧急修复生产bug</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch bug001</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch</span><br>  bug001<br>  dev<br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到bug001分支</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout bug001</span><br>Switched to branch &#x27;bug001&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (bug001)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch bug001<br>Changes not staged for commit:<br>  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)<br>  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)<br>        modified:   index.html<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (bug001)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">修复完bug，提交代码到bug分支</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (bug001)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;修复bug&quot;</span></span><br>[bug001 23b0c49] 修复bug<br> 1 file changed, 1 insertion(+), 1 deletion(-)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (bug001)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch bug001<br>nothing to commit, working tree clean<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到主分支，进行合并bug分支的代码</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (bug001)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout master</span><br>Switched to branch &#x27;master&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch</span><br>  bug001<br>  dev<br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">合并bug001分支的代码到master（当前）主分支</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git merge bug001</span><br>Updating 4e2bb67..23b0c49<br>Fast-forward<br> index.html | 2 +-<br> 1 file changed, 1 insertion(+), 1 deletion(-)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit 23b0c49c245101dcba6b3e274b1a62239492104b (HEAD -&gt; master, bug001)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 18:55:22 2022 +0800<br><br>    修复bug<br><br>commit 4e2bb67211b05c54be839106a024ae6974439d21<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:55:29 2022 +0800<br><br>    add 约吗模块<br><br>commit b23f8e17aaa24f6ae95b6c333f06d9261df2525e<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:53:24 2022 +0800<br><br>    add 短视频模块<br><br>commit ef26ac6324424dbb549bc6a30866312b96679558<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:20:34 2022 +0800<br><br>    v2<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch</span><br>  bug001<br>  dev<br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">bug修复完成后，删除掉不再使用的分支</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch -d bug001</span><br>Deleted branch bug001 (was 23b0c49).<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch</span><br>  dev<br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到dev分支继续完成开发工作</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout dev</span><br>Switched to branch &#x27;dev&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch dev<br>Changes not staged for commit:<br>  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)<br>  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)<br>        modified:   index.html<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">dev分支的工作完成，提交代码</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;add shangcheng 100%&quot;</span></span><br>[dev f77d471] add shangcheng 100%<br> 1 file changed, 1 insertion(+), 1 deletion(-)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch dev<br>nothing to commit, working tree clean<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit f77d4710c3fb6d6618255ac24afeee5039448743 (HEAD -&gt; dev)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 19:01:44 2022 +0800<br><br>    add shangcheng 100%<br><br>commit 3c134b7b96cdce6a27cde78ffb96316a1e9d6ede<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 18:52:34 2022 +0800<br><br>    add shangcheng 50%<br><br>commit 4e2bb67211b05c54be839106a024ae6974439d21<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:55:29 2022 +0800<br><br>    add 约吗模块<br><br>commit b23f8e17aaa24f6ae95b6c333f06d9261df2525e<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Wed Jul 13 20:53:24 2022 +0800<br><br>    add 短视频模块<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">切换到master分支，进行合并dev分支的代码</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout master</span><br>Switched to branch &#x27;master&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch</span><br>  dev<br>* master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">合并dev分支的代码到master（当前）分支</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">合并出现冲突，需要手动修改文件解决冲突</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git merge dev</span><br>Auto-merging index.html<br>CONFLICT (content): Merge conflict in index.html<br>Automatic merge failed; fix conflicts and then commit the result.<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master|MERGING)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch master<br>You have unmerged paths.<br>  (fix conflicts and run &quot;git commit&quot;)<br>  (use &quot;git merge --abort&quot; to abort the merge)<br><br>Unmerged paths:<br>  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)<br>        both modified:   index.html<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master|MERGING)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">解决完冲突后，提交代码</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master|MERGING)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;解决bug和新功能合并的冲突问题&quot;</span></span><br>[master 71f0fa7] 解决bug和新功能合并的冲突问题<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch master<br>nothing to commit, working tree clean<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit 71f0fa7c950d1d8215156719f120291a64e80bba (HEAD -&gt; master)<br>Merge: 23b0c49 f77d471<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 19:07:05 2022 +0800<br><br>    解决bug和新功能合并的冲突问题<br><br>commit f77d4710c3fb6d6618255ac24afeee5039448743 (dev)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 19:01:44 2022 +0800<br><br>    add shangcheng 100%<br><br>commit 23b0c49c245101dcba6b3e274b1a62239492104b<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 18:55:22 2022 +0800<br><br>    修复bug<br><br>commit 3c134b7b96cdce6a27cde78ffb96316a1e9d6ede<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sat Jul 16 18:52:34 2022 +0800<br><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">###############################################################</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Git操作远程仓库</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将本地仓库连接到远程仓库</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">origin表示远程仓库的别名</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git remote add origin git@github.com:Chris-z-su/myblog.git</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将本地的master的分支推送到远程的main分支，这里推送失败是由于本地和远程的分支名不一致（？可能）</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">这里是简化了的命令，原始命令是：git push origin serverfix:awesomebranch，来将本地的serverfix分支推送到远程仓库上的awesomebranch分支</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">如果只是 git push -u origin main，那么就是将本地的main推送到远程仓库的main分支，但是本地没有main分支，所以会报错？</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git push -u origin main</span><br>error: src refspec main does not match any<br>error: failed to push some refs to &#x27;github.com:Chris-z-su/myblog.git&#x27;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将本地的master分支名修改为main</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git branch -M main</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">推送</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git push -u origin main</span><br>Enumerating objects: 31, done.<br>Counting objects: 100% (31/31), done.<br>Delta compression using up to 8 threads<br>Compressing objects: 100% (29/29), done.<br>Writing objects: 100% (31/31), 3.61 KiB | 923.00 KiB/s, done.<br>Total 31 (delta 8), reused 0 (delta 0), pack-reused 0<br>remote: Resolving deltas: 100% (8/8), done.<br>To github.com:Chris-z-su/myblog.git<br> * [new branch]      main -&gt; main<br>branch &#x27;main&#x27; set up to track &#x27;origin/main&#x27;.<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将本地的dev分支推送到远程仓库</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git push -u origin dev</span><br>Total 0 (delta 0), reused 0 (delta 0), pack-reused 0<br>remote:<br>remote: Create a pull request for &#x27;dev&#x27; on GitHub by visiting:<br>remote:      https://github.com/Chris-z-su/myblog/pull/new/dev<br>remote:<br>To github.com:Chris-z-su/myblog.git<br> * [new branch]      dev -&gt; dev<br>branch &#x27;dev&#x27; set up to track &#x27;origin/dev&#x27;.<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><br><br></code></pre></td></tr></table></figure><p>研发完毕，上线</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">1. 将dev分支合并到master分支，进行上线<br>git checkout master<br>git merge dev<br>git push origin master<br><br>2. 把dev分支也推送到远程dev分支<br>git checkout dev<br>git merge master<br>git push origin dev<br></code></pre></td></tr></table></figure><p>补充：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">从远程仓库拉取代码到本地</span><br>git pull origin dev<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">相当于：</span><br>git fetch origin dev   +    git merge origin/dev<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">替换为rebase：</span><br>git fetch origin dev   +    git rebase origin/dev<br></code></pre></td></tr></table></figure><h3 id="1-git-rebase第一种情形"><a href="#1-git-rebase第一种情形" class="headerlink" title="1. git rebase第一种情形"></a>1. git rebase第一种情形</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git rebase -i HEAD~3  <span class="hljs-comment"># 合并当前记录往前的三条记录</span></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git rebase -i 版本号  <span class="hljs-comment"># 合并当前记录到指定版本号的记录</span></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">执行之后，在编辑页面，修改 三条记录中的最后两个，pick --&gt; s，表示后两条记录都合并第一条记录，保存并退出。</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">进入第二个编辑页面，修改记录提交<span class="hljs-built_in">log</span>，修改为最终要输出的<span class="hljs-built_in">log</span>，保存并退出。</span><br></code></pre></td></tr></table></figure><blockquote><p>注意：不要rebase已经提交到远程仓库中的记录！！！只合并本地commit的记录，不合并已经push的记录。</p></blockquote><blockquote><p>参考：<a href="https://blog.csdn.net/small_white_123/article/details/121563248">https://blog.csdn.net/small_white_123/article/details/121563248</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/47e2a05c214d49f7bbe30c7d58bcd331.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5bCP5Z6a5bCn,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"></p><p>示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs shell">chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit 1bc5766ebe804641542df9a84785d59611e1a352 (HEAD -&gt; master)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:40:17 2022 +0800<br><br>    v4<br><br>commit a18b6bcee563ed169b180554fdb1ee56a4a78cfc<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:39:53 2022 +0800<br><br>    v3<br><br>commit 61caa11b91b00342969f3d9d0365e14b09f6eb51<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:39:22 2022 +0800<br><br>    v2<br><br>commit 10abab45ebd5e9cc54bb6a135519588c7697fbc1<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:38:49 2022 +0800<br><br>    v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git rebase -i HEAD~3</span><br>[detached HEAD b21df84] v2 &amp; v3 &amp; v4<br> Date: Sun Jul 17 18:39:22 2022 +0800<br> 3 files changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 2.py<br> create mode 100644 3.py<br> create mode 100644 4.py<br>Successfully rebased and updated refs/heads/master.<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span></span><br>commit b21df84899c1fb05d232ba9349440eb5ac14a2e2 (HEAD -&gt; master)<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:39:22 2022 +0800<br><br>    v2 &amp; v3 &amp; v4<br><br>commit 10abab45ebd5e9cc54bb6a135519588c7697fbc1<br>Author: chris &lt;chris_z_su@163.com&gt;<br>Date:   Sun Jul 17 18:38:49 2022 +0800<br><br>    v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs shell">git log --graph  # 以流程的样式显示log日志<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span> --graph</span><br>* commit b21a68988b6b78e4bfa15964b1cc6b3b1cb89769 (HEAD -&gt; main, origin/main, origin/dev, dev)<br>| Author: chris &lt;chris_z_su@163.com&gt;<br>| Date:   Sat Jul 16 21:43:39 2022 +0800<br>|<br>|     开发功能2，开发完成<br>|<br>* commit 7eea26214a82d361a17f107853833c2c0da31dc9<br>| Author: chris &lt;chris_z_su@163.com&gt;<br>| Date:   Sat Jul 16 21:42:39 2022 +0800<br>|<br>|     开发功能1<br>|<br>*   commit 989b6ebec2368c4ac1843dc54dfcfc3b09f842cc<br>|\  Merge: 71f0fa7 25166ba<br>| | Author: chris &lt;chris_z_su@163.com&gt;<br>| | Date:   Sat Jul 16 19:49:23 2022 +0800<br>| |<br>| |     Merge branch &#x27;dev&#x27;<br>| |<br>| * commit 25166bae4ce37818fd2153422acec3302f48e041<br>| | Author: chris &lt;chris_z_su@163.com&gt;<br>| | Date:   Sat Jul 16 19:48:50 2022 +0800<br>| |<br>| |     update README<br>| |<br>* | commit 71f0fa7c950d1d8215156719f120291a64e80bba<br>|\| Merge: 23b0c49 f77d471<br>| | Author: chris &lt;chris_z_su@163.com&gt;<br>| | Date:   Sat Jul 16 19:07:05 2022 +0800<br>| |<br>| |     解决bug和新功能合并的冲突问题<br>| |<br>| * commit f77d4710c3fb6d6618255ac24afeee5039448743<br>| | Author: chris &lt;chris_z_su@163.com&gt;<br>| | Date:   Sat Jul 16 19:01:44 2022 +0800<br>| |<br>| |     add shangcheng 100%<br>| |<br>| * commit 3c134b7b96cdce6a27cde78ffb96316a1e9d6ede<br>| | Author: chris &lt;chris_z_su@163.com&gt;<br>| | Date:   Sat Jul 16 18:52:34 2022 +0800<br>| |<br>| |     add shangcheng 50%<br>| |<br>* | commit 23b0c49c245101dcba6b3e274b1a62239492104b<br>|/  Author: chris &lt;chris_z_su@163.com&gt;<br>|   Date:   Sat Jul 16 18:55:22 2022 +0800<br>|<br>|       修复bug<br>|<br>* commit 4e2bb67211b05c54be839106a024ae6974439d21<br>| Author: chris &lt;chris_z_su@163.com&gt;<br>| Date:   Wed Jul 13 20:55:29 2022 +0800<br>|<br>|     add 约吗模块<br>|<br>* commit b23f8e17aaa24f6ae95b6c333f06d9261df2525e<br>| Author: chris &lt;chris_z_su@163.com&gt;<br>| Date:   Wed Jul 13 20:53:24 2022 +0800<br>|<br>|     add 短视频模块<br>|<br>* commit ef26ac6324424dbb549bc6a30866312b96679558<br>| Author: chris &lt;chris_z_su@163.com&gt;<br>| Date:   Wed Jul 13 20:20:34 2022 +0800<br>|<br>|     v2<br>|<br>* commit 7111058e366216ad19018a09c8ac4d4438867098<br>  Author: chris &lt;chris_z_su@163.com&gt;<br>  Date:   Wed Jul 13 20:18:53 2022 +0800<br><br>      v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">格式化简洁显示</span><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">&quot;%h %s&quot;</span></span><br>* b21a689 开发功能2，开发完成<br>* 7eea262 开发功能1<br>*   989b6eb Merge branch &#x27;dev&#x27;<br>|\<br>| * 25166ba update README<br>* | 71f0fa7 解决bug和新功能合并的冲突问题<br>|\|<br>| * f77d471 add shangcheng 100%<br>| * 3c134b7 add shangcheng 50%<br>* | 23b0c49 修复bug<br>|/<br>* 4e2bb67 add 约吗模块<br>* b23f8e1 add 短视频模块<br>* ef26ac6 v2<br>* 7111058 v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/myblog (main)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><br></code></pre></td></tr></table></figure><p><img src="/../images/image-20220717190615276.png" alt="image-20220717190615276"></p><h3 id="2-git-rebase第二种情形"><a href="#2-git-rebase第二种情形" class="headerlink" title="2. git rebase第二种情形"></a>2. git rebase第二种情形</h3><p>先git rebase master，后git merge dev</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs shell">chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">touch</span> dev1.py</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;dev branch commit 1&quot;</span></span><br>[dev 4415ff1] dev branch commit 1<br> 1 file changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 dev1.py<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout master</span><br>Switched to branch &#x27;master&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">touch</span> master1.py</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git add .</span><br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git commit -m <span class="hljs-string">&quot;master 1&quot;</span></span><br>[master ae53d98] master 1<br> 1 file changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 master1.py<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout dev</span><br>Switched to branch &#x27;dev&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git rebase master</span><br>Successfully rebased and updated refs/heads/dev.<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (dev)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout master</span><br>Switched to branch &#x27;master&#x27;<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git merge dev</span><br>Updating ae53d98..a3ed5bf<br>Fast-forward<br> dev1.py | 0<br> 1 file changed, 0 insertions(+), 0 deletions(-)<br> create mode 100644 dev1.py<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">&quot;%h %s&quot;</span></span><br>* a3ed5bf dev branch commit 1<br>* ae53d98 master 1<br>*   a3ddbf3 Merge branch &#x27;dev&#x27;<br>|\<br>| * 0873af3 dev branch<br>* | e3c346c master function<br>|/<br>* b21df84 v2 &amp; v3 &amp; v4<br>* 10abab4 v1<br><br>chris@DESKTOP-26G0Q2K MINGW64 /e/study/Git/pro_rebase (master)<br><span class="hljs-meta prompt_">$</span><span class="language-bash"></span><br><span class="language-bash"></span><br></code></pre></td></tr></table></figure><h3 id="3-git-rebase第三种情形"><a href="#3-git-rebase第三种情形" class="headerlink" title="3. git rebase第三种情形"></a>3. git rebase第三种情形</h3><p><img src="/images/image-20220717214824576.png" alt="image-20220717214824576"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">从远程仓库拉取代码到本地</span><br>git pull origin dev<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">替换为rebase：</span><br>git fetch origin dev   +    git rebase origin/dev<br></code></pre></td></tr></table></figure><h3 id="4-git-rebase时发生冲突"><a href="#4-git-rebase时发生冲突" class="headerlink" title="4. git rebase时发生冲突"></a>4. git rebase时发生冲突</h3><p>git rebase时发生冲突：</p><p>① 解决冲突，手动修改冲突的文件内容</p><p>② git add .</p><p>③ git rebase –continue</p><h3 id="5-git配置beyond-compare4作为比较工具"><a href="#5-git配置beyond-compare4作为比较工具" class="headerlink" title="5. git配置beyond compare4作为比较工具"></a>5. git配置beyond compare4作为比较工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">配置</span><br>git config --local merge.tool bc3<br>git config --local mergetool.path &quot;/usr/local/bin/bcomp&quot;<br>git config --local mergetool.keepBackup false<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">使用</span><br>git mergetool<br><br></code></pre></td></tr></table></figure><p><strong>Windows手动修改</strong></p><blockquote><p><a href="https://blog.csdn.net/sanyecao502/article/details/83352169">https://blog.csdn.net/sanyecao502/article/details/83352169</a></p></blockquote><p>1.配置“.gitconfig”文件<br>首先我们找到Git的配置文件“.gitconfig”，我的文件在路径“Administrator&#x2F;.gitconfig”下。使用使用文本编辑工具打开后添加下图文本，其中的cmd一栏写的是你电脑上“beyond compare4”所在的路径。这样我们就配置成功啦！</p><p><img src="/images/image-20220717222616729.png" alt="image-20220717222616729"></p><p>2.命令调用<br>配置好后我们迫不及待的想要验证一下成果，我们切到Git仓库下，更改一下文件然后先使用Git默认的文本差异工具看看效果，下图，我们输入命令“git diff”后，git默认的比较工具显示出差异信息（很强大，但不够直观）：</p><p><img src="/images/image-20220717222628531.png" alt="image-20220717222628531"></p><p>我们再来看看调用“beyond compare4”进行文本差异比较的结果，我们首先输入命令“git difftool readme.txt”是比较工作区和暂存区中“readme.txt”的差异，然后他会询问你是否打开‘bc4’，输入y就好。（若是输入这一命令后没有任何反应，有可能是工作区和暂存区的内容是一致的，毕竟UNIX的哲学是没有消息就是最好的消息，所以你可以尝试修改一下文件，再尝试）</p><p><img src="/images/image-20220717222641345.png" alt="image-20220717222641345"></p><p><img src="/images/image-20220717222703789.png" alt="image-20220717222703789"></p><h2 id="九十九、错误解决："><a href="#九十九、错误解决：" class="headerlink" title="九十九、错误解决："></a>九十九、错误解决：</h2><h3 id="1、执行git命令时出现fatal-‘origin’-does-not-appear-to-be-a-git-repository错误"><a href="#1、执行git命令时出现fatal-‘origin’-does-not-appear-to-be-a-git-repository错误" class="headerlink" title="1、执行git命令时出现fatal: ‘origin’ does not appear to be a git repository错误"></a>1、执行git命令时出现fatal: ‘origin’ does not appear to be a git repository错误</h3><p>在执行git pull origin master时出现：<br>　　fatal: ‘origin’ does not appear to be a git repository<br>　　fatal: Could not read from remote repository.<br>　　Please make sure you have the correct access rights and the repository exists</p><p>解决方案：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs elixir">git remote add origin git<span class="hljs-variable">@github</span><span class="hljs-symbol">:bx_reader/bx-reader-api</span>.git<br><br>将关联远程仓库为origin<br></code></pre></td></tr></table></figure><h3 id="2、Reinitialized-existing-Git-repository"><a href="#2、Reinitialized-existing-Git-repository" class="headerlink" title="2、Reinitialized existing Git repository"></a>2、Reinitialized existing Git repository</h3><p>“git init” 的时候出现：Reinitialized existing Git repository<br>解决方法：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">可以使用 rm -rf <span class="hljs-string">.git</span>，删除<span class="hljs-string">.git</span>，然后在 git init 即可<br></code></pre></td></tr></table></figure><h3 id="3、refusing-to-merge-unrelated-histories"><a href="#3、refusing-to-merge-unrelated-histories" class="headerlink" title="3、refusing to merge unrelated histories"></a>3、refusing to merge unrelated histories</h3><p>“git pull origin master ” 的时候出现：refusing to merge unrelated histories</p><p>解决方法：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">可以在 “git pull origin <span class="hljs-literal">master</span>” 后添加 “--allow-unrelated-histories”<br>即整个命令行为：<br>    git pull origin <span class="hljs-keyword">master</span> <span class="hljs-title">--allow-unrelated-histories</span><br></code></pre></td></tr></table></figure><p>如果你是git pull或者git push报fatal: refusing to merge unrelated histories<br>同理：<br>git pull origin master –allow-unrelated-histories<br>等等，就是这样完美的解决咯！</p>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
      <tag>技术</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
